var P=Object.defineProperty,k=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var x=(e,s,a)=>s in e?P(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,j=(e,s)=>{for(var a in s||(s={}))E.call(s,a)&&x(e,a,s[a]);if(h)for(var a of h(s))L.call(s,a)&&x(e,a,s[a]);return e},b=(e,s)=>k(e,O(s));import{j as n,r as p,n as S}from"./vendor-0c8c29fe.js";import{bo as f,G as g,h as T,bk as v,bp as G,aK as w,ai as R,_ as y,P as A,bq as F,br as M,bs as V,Z as _}from"./index-179b6f61.js";const m={Основное:0,"Кадровая среда":1,"Учебная деятельность":2,Коммуникация:3,"Научная деятельность":4,"Находится в разработке":5},$=(e,s)=>e?Object.values(e).filter(({getIsVisibleForCurrentUser:r})=>r&&s?r(s):!0).reduce((r,o)=>{const c=o!=null&&o.group?f[o.group]:f.OTHER;return r[c]||(r[c]={}),r[c][o.id]=o,r},{}):{},q=({title:e,links:s,doNotShow:a,orientation:r,background:o,shadow:c=!0,mode:u})=>n.jsxs(g,{d:"column",children:[n.jsx(T,{size:4,align:"left",bottomGap:!0,children:e}),n.jsxs(g,{gap:"8px",$wrap:!0,children:[Object.values(s).map(t=>{if((t==null?void 0:t.show)!==!1&&a!==(t==null?void 0:t.id))return n.jsx(v,b(j({background:o,orientation:r,mode:u,shadow:c},t),{color:t.color.length?t.color:"blue"}),t.id)}),a!=="all"&&n.jsx(G,{})]})]}),H=()=>{const{visibleRoutes:e,allRoutes:s}=w.useMenu(),[a,r]=p.useState(null),[o,c]=p.useState(""),u=S(_.peTeacher),t=p.useMemo(()=>$(e,u),[e,u]),{data:{user:i}}=R.useUser();return e?n.jsx(y,{padding:"10px",children:n.jsxs(A,{children:[n.jsx(F,{placeholder:"Поиск разделов",whereToSearch:s!=null?s:{},searchEngine:M,setResult:r,setExternalValue:c,validationCheck:!0,loadingOnType:!0}),!a&&n.jsx(g,{d:"column",gap:"24px",children:o.length===0&&Object.keys(t).sort((l,d)=>m[l]-m[d]).map(l=>{const d=t[l];return n.jsx(q,{title:l==="Кадровая среда"&&(i==null?void 0:i.user_status)==="stud"?"Договоры и оплаты":l,doNotShow:"all",align:"left",links:d},l)})}),n.jsx(V,{pages:a})]})}):null};export{H as default};
