import{s as S,j as e,r as t}from"./vendor-08ab745b.js";import{s as C,B as L,F as M,h as E,M as A,d5 as R,S as T,aj as B,j as P,c as i}from"./index-0892b83f.js";const k=[{id:0,title:"Холост"},{id:1,title:"Женат"},{id:2,title:"В разводе"},{id:3,title:"Вдовец"}],U=[{id:0,title:"Начальный"},{id:1,title:"Базовый"},{id:2,title:"Со словарем"},{id:3,title:"Разговорный"},{id:4,title:"Свободно"}],I=[{id:0,title:"Cреднее общее"},{id:1,title:"Cреднее профессиональное"},{id:2,title:"Высшее - бакалавриат"},{id:3,title:"Высшее - специалитет, магистратура"}],W=[{id:0,title:"Мать"},{id:1,title:"Отец"},{id:2,title:"Жена"},{id:3,title:"Брат"},{id:2,title:"Сестра"}],z=[{id:0,title:"Удостоверение гражданина, подлежащего призыву на военную службу"},{id:1,title:"Военный билет"},{id:2,title:"Временное удостоверение, выданное взамен военного билета"},{id:3,title:"Справка взамен военного билета"}],G=l=>{const{surname:u,name:r,patronymic:o,email:d,phone:n,birthday:s}=l;return{title:"Персональные данные",data:[{title:"ФИО",fieldName:"fio",value:u+" "+r+" "+o,editable:!1},{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",value:n,required:!0},{title:"Email",type:"email",fieldName:"email",value:d,editable:!0,required:!0},{title:"Дата рождения",fieldName:"birth_date",type:"date",value:s,editable:!0,required:!0},{title:"Место рождения",fieldName:"birth_place",value:"",editable:!0,required:!0,hint:"Республика, край, область, район, город, населенный пункт"},{title:"Состояние в браке",value:null,fieldName:"marital_status",type:"select",items:k,width:"100%",editable:!0,required:!0}]}},H=()=>({title:"Владение иностранными языками",id:"foreign_languages",data:[],default:[[{fieldName:"lang",title:"Иностранный язык",value:"",editable:!0,width:"50%"},{fieldName:"proficiency",title:"Степень владения",value:null,type:"select",items:U,width:"50%",editable:!0}]],addNew:!0}),Y=()=>({title:"Образование и профессия",data:[{title:"Образование",fieldName:"",value:"Образование",type:"text-header",visible:!0},{title:"Уровень образования",value:null,fieldName:"education",type:"select",items:I,width:"100%",editable:!0,required:!0},{title:"Наименование образовательной организации",fieldName:"edu_name",value:"",editable:!0,required:!0},{title:"Квалификация",fieldName:"edu_qualification",value:"",editable:!0},{title:"Специальность, направление подготовки",fieldName:"edu_specialty",value:"",editable:!0},{title:"Серия и номер диплома, свидетельства",fieldName:"edu_document",value:"",editable:!0,required:!0},{title:"Год окончания",fieldName:"edu_graduation_year",value:"",type:"number",editable:!0,required:!0},{title:"Профессия",fieldName:"",value:"Профессия",type:"text-header",visible:!0},{title:"Основная",fieldName:"prof_main",value:"",editable:!0},{title:"Дополнительная",fieldName:"prof_add",value:"",editable:!0}]}),J=()=>({title:"Состав семьи",id:"family_members",data:[],default:[[{fieldName:"relation",title:"Степень родства",value:null,type:"select",items:W,width:"100%",required:!0},{fieldName:"fio",title:"ФИО",value:"",required:!0,width:"40%"},{fieldName:"birth_date",title:"Дата рождения",value:"",type:"date",required:!0,width:"30%"}]],addNew:!0,optionalCheckbox:{title:"Близкие родственники отсутствуют",fieldName:"no_family_members",value:!1}}),K=()=>({title:"Адрес места жительства",data:[{title:"Адрес места жительства в соответствии с регистрацией",fieldName:"reg_address",value:"",hint:"Область, город, улица, дом, корпус, квартира",editable:!0,required:!0},{title:"Индекс",fieldName:"reg_index",value:"",editable:!0,required:!0,width:"40%"},{fieldName:"reg_date",title:"Дата регистрации по месту жительства",value:"",editable:!0,type:"date",required:!0},{title:"Адрес места жительства фактический",fieldName:"act_address",value:"",editable:!0,required:!0},{title:"Индекс",fieldName:"act_index",value:"",hint:"Область, город, улица, дом, корпус, квартира",editable:!0,required:!0,width:"40%"},{fieldName:"act_date",title:"Дата начала проживания",value:"",editable:!0,type:"date",required:!0}],documents:{files:[],fieldName:"address_doc",required:!0,maxFiles:1,allowedTypes:["pdf"]},alert:e.jsxs("p",{children:["Загрузить сканы документов для воинского учета (все заполненные страницы):",e.jsx(y,{children:e.jsx("li",{children:"документ для временной регистрации;"})})]})}),F=()=>({title:"Водительское удостоверение",data:[{fieldName:"driver_series",title:"Серия",value:"",editable:!0,width:"40%"},{fieldName:"driver_number",title:"Номер",value:"",editable:!0,width:"40%"},{fieldName:"driver_category",title:"Категории ТС",value:"",editable:!0},{fieldName:"drivers_date_of_issue",title:"Дата выдачи",value:"",type:"date",editable:!0,width:"40%"}]}),O=()=>({title:"Паспортные данные",data:[{fieldName:"passport_series",title:"Серия",value:"",editable:!0,required:!0,width:"40%"},{fieldName:"passport_number",title:"Номер",value:"",editable:!0,required:!0,width:"40%"},{title:"Кем выдан",type:"textarea",fieldName:"passport_issued_by",value:"",editable:!0},{fieldName:"passport_date_of_issue",title:"Дата выдачи",value:"",type:"date",editable:!0,required:!0,width:"40%"},{fieldName:"passport_division_code",title:"Код подразделения",value:"",editable:!0,required:!0,width:"40%"}],documents:{files:[],fieldName:"passport_doc",required:!0,maxFiles:1,allowedTypes:["pdf"]},alert:e.jsxs("p",{children:["Загрузить сканы документов для воинского учета (все заполненные страницы):",e.jsx(y,{children:e.jsx("li",{children:"паспорт (стр. 1-2 и регистрацию);"})})]})}),Q=()=>({title:"Сведения воинского учета",data:[{fieldName:"military_enlistment_office",title:"Наименование военного комиссариата по месту жительства",value:"",required:!0,editable:!0},{fieldName:"military_document_type",title:"Вид документа",value:null,type:"select",items:z,width:"100%",required:!0,editable:!0},{fieldName:"military_series",title:"Серия",value:"",editable:!0,width:"40%"},{fieldName:"military_number",title:"Номер",value:"",required:!0,editable:!0,width:"40%"},{fieldName:"military_issued_by",title:"Кем выдан",value:"",width:"100%",required:!0,editable:!0},{fieldName:"military_date_of_issue",title:"Дата выдачи",value:"",type:"date",required:!0,editable:!0,width:"30%"}],documents:{files:[],fieldName:"military_doc",required:!0,maxFiles:1,allowedTypes:["pdf"]},alert:e.jsxs("p",{children:["Загрузить сканы документов для воинского учета (все заполненные страницы):",e.jsxs(y,{children:[e.jsx("li",{children:"удостоверение гражданина, подлежащего призыву;"}),e.jsx("li",{children:"военный билет."})]})]})}),y=S.ul.withConfig({componentId:"sc-1xd645o-0"})(["padding-left:1rem;"]),Z=()=>{const[l,u]=t.useState(null),[r,o]=t.useState(null),[d,n]=t.useState(null),[s,_]=t.useState(null),[m,h]=t.useState(null),[a,p]=t.useState(null),[c,N]=t.useState(null),[f,g]=t.useState(null),[v,x]=t.useState(!1),[q,w]=t.useState(!1),{data:{dataUserApplication:b}}=C.useApplications();t.useEffect(()=>{b&&(u(G(b)),o(H()),n(Y()),_(J()),h(K()),p(F()),N(O()),g(Q()))},[b]);const D=t.useMemo(()=>a?.data[0]?.value?.id!==0,[a?.data[0]?.value]);if(t.useEffect(()=>{a&&p(F())},[D]),!l||!r||!d||!s||!m||!a||!c||!f)return null;const j=[[{dataForm:l,setDataForm:u}],[{dataForm:r,setDataForm:o}],[{dataForm:d,setDataForm:n}],[{dataForm:s,setDataForm:_}],[{dataForm:m,setDataForm:h}],[{dataForm:a,setDataForm:p}],[{dataForm:c,setDataForm:N}],[{dataForm:f,setDataForm:g}]];return e.jsx(L,{isDone:!1,children:e.jsxs(M,{noHeader:!0,children:[e.jsx(E,{size:3,align:"left",children:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу (форма 10)"}),e.jsx(A,{type:"info",children:"Сервис предназначен для постановки на воинский учет обучающихся - граждан, пребывающих в запасе и граждан, подлежащих призыву."}),e.jsx(R,{stagesConfig:j}),e.jsx(T,{text:v?"Отправлено":"Отправить",action:()=>B(P.MILITARY_REG,[l,r,d,s,m,a,c,f],w,x),isLoading:q,completed:v,setCompleted:x,repeatable:!1,buttonSuccessText:"Отправлено",isDone:v,isActive:i(l)&&i(r)&&i(d)&&i(s)&&i(m)&&i(a)&&i(c)&&i(f),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{Z as default};
