import{j as a,r as p,n as j}from"./vendor-8312535b.js";import{bn as h,G as g,h as b,bj as f,bo as m,aJ as P,ai as k,_ as O,P as E,bp as L,bq as S,br as T,Z as v}from"./index-3ed27df5.js";const x={Основное:0,"Кадровая среда":1,"Учебная деятельность":2,Коммуникация:3,"Научная деятельность":4,"Находится в разработке":5},G=(r,n)=>r?Object.values(r).filter(({getIsVisibleForCurrentUser:e})=>e&&n?e(n):!0).reduce((e,t)=>{const o=t!=null&&t.group?h[t.group]:h.OTHER;return e[o]||(e[o]={}),e[o][t.id]=t,e},{}):{},w=({title:r,links:n,doNotShow:c,orientation:e,background:t,shadow:o=!0,mode:u})=>a.jsxs(g,{d:"column",children:[a.jsx(b,{size:4,align:"left",bottomGap:!0,children:r}),a.jsxs(g,{gap:"8px",$wrap:!0,children:[Object.values(n).map(s=>{if((s==null?void 0:s.show)!==!1&&c!==(s==null?void 0:s.id))return a.jsx(f,{background:t,orientation:e,mode:u,shadow:o,...s,color:s.color.length?s.color:"blue"},s.id)}),c!=="all"&&a.jsx(m,{})]})]}),A=()=>{const{visibleRoutes:r,allRoutes:n}=P.useMenu(),[c,e]=p.useState(null),[t,o]=p.useState(""),u=j(v.peTeacher),s=p.useMemo(()=>G(r,u),[r,u]),{data:{user:i}}=k.useUser();return r?a.jsx(O,{padding:"10px",children:a.jsxs(E,{children:[a.jsx(L,{placeholder:"Поиск разделов",whereToSearch:n!=null?n:{},searchEngine:S,setResult:e,setExternalValue:o,validationCheck:!0,loadingOnType:!0}),!c&&a.jsx(g,{d:"column",gap:"24px",children:t.length===0&&Object.keys(s).sort((l,d)=>x[l]-x[d]).map(l=>{const d=s[l];return a.jsx(w,{title:l==="Кадровая среда"&&(i==null?void 0:i.user_status)==="stud"?"Договоры и оплаты":l,doNotShow:"all",align:"left",links:d},l)})}),a.jsx(T,{pages:c})]})}):null};export{A as default};
