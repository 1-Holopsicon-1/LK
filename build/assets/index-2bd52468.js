import{r as i,j as l}from"./vendor-8312535b.js";import{s as p,ai as u,B as m,F as f,I as v,S as x,aj as b,j as A,c as F}from"./index-3ed27df5.js";const S=(t,e)=>({title:"Предоставление каникул в связи с окончанием университета",data:[{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",editable:!0,required:!0,value:t.phone},{title:"Email",type:"email",fieldName:"email",value:t.email,editable:!0,required:!0},{title:"Срок предоставления каникул c",type:"date",fieldName:"time-before",value:e.vacation_start||"",editable:!e.vacation_start,required:!0},{title:"по",type:"date",fieldName:"time-to",value:e.vacation_end||"",editable:!e.vacation_end,required:!0},{title:"Комментарий к заявке",type:"textarea",fieldName:"comment",value:"",editable:!0}],...e.vacation_end&&e.vacation_start?{}:{hint:"Точные сроки предоставления каникул уточняйте в своем отделении Центра по работе со студентами"},documents:{files:[],fieldName:"docs",maxFiles:6,required:!1}}),N=()=>{const[t,e]=i.useState(null),[a,r]=i.useState(!1),[c,d]=i.useState(!1),s=a!=null?a:!1,{data:{dataUserApplication:o}}=p.useApplications(),{data:{user:n}}=u.useUser();return i.useEffect(()=>{o&&n&&e(S(o,n))},[o]),l.jsx(m,{isDone:s,children:!!t&&!!e&&l.jsxs(f,{children:[l.jsx(v,{...t,collapsed:s,setData:e}),l.jsx(x,{text:s?"Отправлено":"Отправить",action:()=>b(A.CRS_VACATIONS,[t],d,r),isLoading:c,completed:a,setCompleted:r,repeatable:!1,buttonSuccessText:"Отправлено",isDone:s,isActive:F(t),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{N as default};
