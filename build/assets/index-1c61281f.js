import{j as t,ad as p,r as o,L as d,F as u}from"./vendor-b80865ba.js";import{E as x,aa as m,a7 as h,ab as g,M as a,o as l,J as f,s as j,u as C,ac as k,W as w,e as y,P as F,t as A}from"./index-c91d3ddf.js";const b=()=>[{title:"Запрос",field:"subject",priority:"one",search:!0,showFull:!0,render:(e,n)=>{var r;return t.jsxs(x,{jc:"space-between",children:[e,!!((r=n==null?void 0:n.files_output)!=null&&r.length)&&n.files_output.map(i=>t.jsx("div",{onClick:s=>s.stopPropagation(),children:t.jsx(m,{text:i.fname,direction:"left",children:t.jsx(h,{icon:t.jsx(p,{}),background:"transparent",href:i==null?void 0:i.url})})},i.url))]})}},...c()],c=()=>[{title:"Дата",field:"created",priority:"two",sort:!0,type:"date",align:"center",width:"120px"},{title:"Рег. номер",field:"num",priority:"five",align:"center",width:"170px"},{title:"Статус",field:"status",priority:"one",width:"165px",catalogs:[...Object.values(g).map((e,n)=>({id:n.toString(),title:e}))??[]],render:e=>t.jsx(a,{type:e==="Готово"||e==="Выдано"||e==="Получено"||e==="Выполнена"?"success":e==="Отклонено"?"failure":"alert",title:e||"—",align:"center",icon:null})},{title:"Структурное подразделение, адрес",priority:"four",field:"response_div",showFull:!1},{title:"Примечание",field:"comment",priority:"five",width:"150px"}],E=()=>[...c(),{title:"Файлы для скачивания",align:"center",field:"files_output",priority:"five",width:"150px",render:e=>!!e.length&&t.jsx(l,{onClick:()=>P(e),text:"Скачать",background:"transparent",textColor:f.green.main,width:"100%"})}],P=e=>{e.map(n=>{const r=document.createElement("a");r.href=n.url,r.download=n.name,r.target="_blank",r.click(),r.remove()})},_=({isTeachers:e})=>{const{data:{listApplication:n,dataUserApplication:r}}=j.useApplications(),{open:i}=C(),s=o.useCallback(()=>{i(t.jsx(k,{isTeachers:e,currentFormEducation:r==null?void 0:r.educationForm}),"Создать заявку")},[]);return t.jsx(w,{load:()=>y.getApplicationsFx(),loading:!n,error:null,data:n,children:t.jsxs(F,{topRightCornerElement:t.jsx(l,{onClick:s,text:"Подать заявку",background:"var(--reallyBlue)",textColor:"#fff",icon:t.jsx(d,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0}),children:[t.jsx(a,{type:"info",title:"Информация",icon:t.jsx(u,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:t.jsxs("p",{children:["Данный сервис позволяет заказать необходимую справку, подать заявление, запрос. Статус (информация о степени готовности) заказанных справок меняется согласно действиям оператора. В колонке «Структурное подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом.",e&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),"Остальные Цифровые сервисы доступны"," ",t.jsx("a",{href:"https://e.mospolytech.ru/old/index.php?p=sprav",target:"_blank",rel:"noreferrer",children:"по ссылке"}),"."]})]})}),t.jsx(A,{loading:!n,columns:b(),columnsExtended:E(),data:n,maxOnPage:7})]})})},B=o.memo(_);export{B as T};
