import{j as t,af as u,r,M as x,F as m}from"./vendor-08ab745b.js";import{G as s,aA as h,an as f,aB as g,M as a,X as j,q as l,L as b,aC as p,r as w,s as C,u as k,aD as y,W as A,e as F,P as T}from"./index-0892b83f.js";const M=()=>[{title:"Запрос",field:"subject",priority:"one",search:!0,showFull:!0,render:(e,i)=>t.jsxs(s,{jc:"space-between",children:[e,!!i?.files_output?.length&&i.files_output.map(n=>t.jsx("div",{onClick:o=>o.stopPropagation(),children:t.jsx(h,{text:n.fname,direction:"left",children:t.jsx(f,{icon:t.jsx(u,{}),background:"transparent",href:n?.url})})},n.url))]})},...c()],c=()=>[{title:"Дата",field:"created",priority:"two",sort:!0,type:"date",align:"center",width:"120px"},{title:"Рег. номер",field:"num",priority:"five",align:"center",width:"170px"},{title:"Статус",field:"status",priority:"one",width:"165px",catalogs:[...Object.values(g).map((e,i)=>({id:i.toString(),title:e}))??[]],render:e=>t.jsx(a,{type:e==="Готово"||e==="Выдано"||e==="Получено"||e==="Выполнена"?"success":e==="Отклонено"?"failure":"alert",title:e||"—",align:"center",icon:null})},{title:"Структурное подразделение, адрес",priority:"four",field:"response_div",showFull:!1},{title:"Примечание",field:"comment",priority:"five",width:"150px"}],E=()=>[...c(),{title:"Файлы для скачивания",align:"center",field:"files_output",priority:"five",width:"150px",render:e=>e.length?e.map(i=>t.jsxs(s,{jc:"space-between",children:[t.jsx(j,{children:i.fname}),t.jsx(l,{onClick:()=>B(i),text:"Скачать",background:"transparent",textColor:b.green.main,width:"100%"})]},i.url)):"-"}],B=e=>{const i=document.createElement("a");i.href=e.url,i.download=e.fname,i.target="_blank",i.click(),i.remove()},P=p(l),_=p(w),v=({isTeachers:e})=>{const{data:{listApplication:i,dataUserApplication:n}}=C.useApplications(),{open:o}=k(),d=r.useCallback(()=>{o(t.jsx(y,{isTeachers:e,currentFormEducation:n?.educationForm,currentDegreeLevel:n?.degreeLevel}),"Создать заявку")},[]);return t.jsx(A,{load:()=>F.getApplicationsFx(),loading:!i,error:null,data:i,children:t.jsxs(T,{topRightCornerElement:t.jsx(P,{onClick:d,text:"Подать заявку",background:"var(--reallyBlue)",textColor:"#fff",icon:t.jsx(x,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0,tutorialModule:{id:"applications",step:3,params:{position:"bottom"}}}),children:[t.jsx(a,{type:"info",title:"Информация",icon:t.jsx(m,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:t.jsxs("p",{children:["Данный сервис позволяет заказать необходимую справку, подать заявление, запрос. Статус (информация о степени готовности) заказанных справок меняется согласно действиям оператора. В колонке «Структурное подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом.",e&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),"Остальные Цифровые сервисы доступны"," ",t.jsx("a",{href:"https://e.mospolytech.ru/old/index.php?p=sprav",target:"_blank",rel:"noreferrer",children:"по ссылке"}),"."]})]})}),t.jsx(_,{loading:!i,columns:M(),columnsExtended:E(),data:i,maxOnPage:7,tutorialModule:{id:"applications",step:[0,1,2],params:{position:"top"}}})]})})},O=r.memo(v);export{O as T};
