import{r as o,j as l}from"./vendor-8312535b.js";import{s as d,B as m,F as f,I as x,S as b,aj as g,j,c as F}from"./index-3ed27df5.js";import{C as N}from"./error-32039ec1.js";const S=e=>{const{surname:a,name:s,patronymic:t,group:r,email:i,phone:p}=e;return{title:"Переселение внутри общежития",data:[{title:"ФИО",fieldName:"fio",value:a+" "+s+" "+t,editable:!1},{title:"Учебная группа",fieldName:"group",type:"tel",value:r,editable:!1},{title:"Электронная почта",fieldName:"email",type:"email",value:i,editable:!0,required:!0},{title:"Телефон",fieldName:"phone",type:"tel",value:p,editable:!0,required:!0},{title:"Комната",fieldName:"room",value:"",placeholder:"Укажите номер комнаты, в которую хотите переселиться",editable:!0,required:!1},{title:"Комментарий",type:"textarea",fieldName:"reason_for_relocation",value:"",placeholder:"Укажите необходимость переселения",editable:!0,required:!0}]}},C=()=>{var n,c;const[e,a]=o.useState(null),{data:{dataUserApplication:s}}=d.useApplications(),[t,r]=o.useState(!1),[i,p]=o.useState(!1),u=t!=null?t:!1;return o.useEffect(()=>{s&&a(S(s))},[s]),new Date<new Date(2024,8,15)?l.jsx(N,{}):l.jsx(m,{isDone:u,children:!!e&&!!a&&l.jsxs(f,{children:[l.jsx(x,{...e,collapsed:u,setData:a}),l.jsx(b,{text:"Отправить",action:()=>g(j.USG_RELOCATION_INNER,[e],p,r),isLoading:i,completed:t,setCompleted:r,repeatable:!1,buttonSuccessText:"Отправлено",isDone:u,isActive:F(e)&&((c=(n=e.optionalCheckbox)==null?void 0:n.value)!=null?c:!0),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{C as default};
