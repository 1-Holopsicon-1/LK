var A=Object.defineProperty,$=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var C=(e,s,i)=>s in e?A(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i,y=(e,s)=>{for(var i in s||(s={}))U.call(s,i)&&C(e,i,s[i]);if(j)for(var i of j(s))B.call(s,i)&&C(e,i,s[i]);return e},k=(e,s)=>$(e,W(s));import{s as h,R as M,j as t,n as g,r as p,cS as D,aa as P}from"./vendor-0c8c29fe.js";import{ai as m,bF as f,L as x,bG as S,bH as I,E as w,bI as H,bJ as F,bK as O,bL as Y,bM as G,bN as V,bO as X,aD as v,aI as Z,as as T,bP as q,by as K,G as u,h as N,bQ as _,q as Q,bR as b,bS as J,X as ee,aK as z,H as E,bT as te,bU as se,bV as ie,bW as ae,bX as oe,_ as ne,bv as re,bY as le,W as ce}from"./index-179b6f61.js";import{E as de}from"./index-3984d732.js";import{a as L,A as he}from"./alert-item-a14c9ac1.js";import"./is-valid-url-08a91344.js";const xe=h.div.withConfig({componentId:"sc-13zh6dc-0"})(["width:100%;height:200px;position:absolute;top:0;left:0;background:",";@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}z-index:-1;overflow:hidden;svg{position:absolute;opacity:0.05;z-index:0;}svg:nth-child(1){transform:scale(4) rotate(287deg) translate(390px,190px);}svg:nth-child(2){transform:scale(2) rotate(15deg) translate(522px,-410px);}svg:nth-child(3){transform:scale(3) rotate(30deg) translate(75.9px,179px);}svg:nth-child(4){transform:scale(2) rotate(60deg) translate(75.9px,159px);}.circle{width:100px;height:100px;position:absolute;border-radius:100%;z-index:1;background:",";}.circle.c2{transform:translate(814px,110px) scale(1.4);}.circle.c3{transform:translate(203px,-70px) scale(3);}.circle.c4{transform:translate(353px,3px) scale(01);z-index:-1;}.circle.c5{transform:translate(1236px,10px) scale(0.8);}"],({main:e,dark:s})=>`linear-gradient(119deg, ${e}, ${s})`,({light:e,dark:s})=>`linear-gradient(283deg, ${e}, ${s})`),pe=()=>{var n,l,o,r,d,c;const{data:{user:e}}=m.useUser(),s=(l=f((n=e==null?void 0:e.fullName)!=null?n:"","dark1"))!=null?l:x.blue.dark2,i=(r=f((o=e==null?void 0:e.fullName)!=null?o:"","main"))!=null?r:x.blue.main,a=(c=f((d=e==null?void 0:e.fullName)!=null?d:"","light1"))!=null?c:x.blue.light2;return t.jsxs(xe,{light:a,main:i,dark:s,children:[t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:"#fff"})}),t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:"#fff"})}),t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:a})}),t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:"#fff"})}),t.jsx("div",{className:"circle c2"}),t.jsx("div",{className:"circle c3"}),t.jsx("div",{className:"circle c4"}),t.jsx("div",{className:"circle c5"})]})},ue=M.memo(pe),ge=({onClick:e,children:s,show:i,hasBorder:a,borderPadding:n})=>i?t.jsx(me,{onClick:e,hasBorder:a,borderPadding:n,children:s}):null,me=h.button.withConfig({componentId:"sc-1sg7aqk-0"})(["border:none;display:flex;cursor:pointer;place-content:center;width:100%;display:flex;align-items:center;gap:16px;max-width:750px;border-radius:var(--brLight);background:var(--block);box-shadow:var(--very-mild-shadow);overflow-y:hidden;height:75px;background:linear-gradient( 270deg,#5f6dec 0%,#19e0b0 66%,#1bef89 100% ),linear-gradient(90deg,#34aaff 0%,#19e0b0 53%,#1bef89 100%);font-family:'Montserrat';font-style:normal;font-weight:600;font-size:16px;line-height:12px;text-align:center;color:#ffffff;"]),fe=()=>{const[e,s,i,a]=g([S.tutorialState,I.setHeroVisited,I.increasedInteractions,S.interactions]);return p.useEffect(()=>{e===null&&a<5&&i()},[]),t.jsxs(ge,{onClick:()=>{s(!1)},show:e===null&&a<5,children:["Начать обучение ",t.jsx(D,{size:25})]})},be=h.div.withConfig({componentId:"sc-d7nkj6-0"})(["--time-width:30px;position:relative;width:100%;max-width:calc(50% - 5px);height:156px;padding:6px;border-radius:14px;background:var(--theme-2);","{--time-width:35px;min-width:100%;}"],w.isMobile),we=h.div.withConfig({componentId:"sc-d7nkj6-1"})(["height:100%;width:100%;overflow-y:auto;border-radius:10px;scroll-snap-type:y mandatory;& > *:not(:last-child){margin-bottom:6px;}& > *{background-color:var(--theme);scroll-snap-align:center;color:var(--text);}","{::-webkit-scrollbar{display:none;}}"],w.isNotMobile);h.div.withConfig({componentId:"sc-d7nkj6-2"})(["position:absolute;top:22px;right:22px;color:",";"],x.red.main);const ve=()=>{const{listRef:e,noSchedule:s,loading:i,schedule:a,isEnded:n,hasNoSchedule:l,errorInData:o,handleOpenModal:r,handleErrorClick:d}=H();return l?null:t.jsxs(be,{noSchedule:s||i,children:[s&&!i&&t.jsx(F,{errorInData:!!o}),i&&t.jsx(O,{}),t.jsx(de,{visible:!!o,topRightConrer:!0,onClick:d}),!s&&!i&&t.jsxs(we,{ref:e,children:[a==null?void 0:a.map(c=>p.createElement(Y,k(y({nameInOneRow:!1,listView:!0,shift:0,scale:1.6,isNextEvent:G(a,c,!0),onClick:r,isCurrentEvent:V(c,!0),leftShift:0,quantity:1},c),{key:c.title+c.weekday+c.dateInterval}))),n&&t.jsx(X,{})]})]})},je=v(Z),Ce=()=>{const e=g(T.userSettings),s=e==null?void 0:e.homePage.hasSchedule,i=e==null?void 0:e.homePage.hasPayment;return t.jsxs(je,{direction:"horizontal",title:"Виджеты",showPages:!0,gap:10,visible:!!s||!!i,tutorialModule:{id:"home",step:4,params:{position:"top"}},children:[s&&t.jsx(ve,{}),i&&t.jsx(q,{})]})},ye=()=>{var l;const{preparedData:e,loading:s}=L.selectors.useData(),{data:{user:i}}=m.useUser(),a=(l=e==null?void 0:e[new Date().getFullYear()])==null?void 0:l.slice(0,3),{isMobile:n}=K();return p.useEffect(()=>{e||L.effects.getFx()},[]),t.jsxs(u,{d:"column",children:[t.jsxs(N,{size:4,bottomGap:!0,align:"left",children:["Последние новости",t.jsx(P,{to:_,children:t.jsx(Q,{width:"50px",height:"15px",background:x.blue.transparent3,textColor:x.blue.light1,text:"Ещё"})})]}),t.jsxs(u,{gap:"10px",d:n?"column":"row",children:[s&&t.jsxs(u,{d:"column",gap:"8px",children:[t.jsx(b,{}),t.jsx(b,{}),t.jsx(b,{})]}),a==null?void 0:a.map((o,r)=>t.jsx(he,{isNew:r===0&&(i==null?void 0:i.hasAlerts),news:o,orientation:n?"horizontal":"vertical"},o.id))]})]})},ke=h(P).withConfig({componentId:"sc-1v3jjcv-0"})(["width:100%;height:100%;max-width:",";display:flex;align-items:center;flex-direction:column;position:relative;gap:10px;.subtext{font-size:0.72rem;transition:0.2s;color:var(--text);}@media (min-width:1001px){padding-top:15px;&:hover{background-color:",";}&:hover .subtext{transform:translateX(0px) translateY(-50%);opacity:0;}&:hover .icon{transform:scale(1.1) translateY(12px);}&:hover .notification-circle{opacity:0;}}","{&:active .icon{transform:scale(1.1) translateY(6px);}&:active .subtext{transform:translateX(0px) translateY(-50%);opacity:0;}&:active{background-color:",";}min-width:calc(25% - 10px);max-width:calc(25% - 10px);height:50px;gap:3px;.icon{transform:scale(0.8);}.subtext{font-size:0.6rem;}}"],({amount:e})=>e>6&&"93.25px",({color:e})=>e,w.isTablet,({color:e})=>e),R=({item:e,amount:s})=>{const{icon:i,color:a,path:n,title:l,notifications:o,menuPath:r}=e;return t.jsxs(ke,{to:r!=null?r:n,color:x[a].transparent3,amount:s,children:[t.jsx(J,{badge:o==null?void 0:o.toString(),color:a,size:35,children:i}),t.jsx(ee,{width:"95px",maxWidth:"95px",className:"subtext",align:"center",children:l})]})},Se=h.div.withConfig({componentId:"sc-jcv4cx-0"})(["width:100%;display:flex;align-items:center;max-width:750px;border-radius:var(--brLight);background:var(--block);box-shadow:var(--very-mild-shadow);overflow-y:hidden;height:",";@media (max-width:1000px){height:",";}"],({componentHeight:e})=>e&&e>33?"120px":e&&e>10?"110px":"100px",({componentHeight:e})=>e&&e>33?"100px":e&&e>10?"90px":"75px"),Ie=({links:e,forwardedRef:s})=>{const i=Object.keys(e),{allRoutes:a}=z.useMenu(),[n,l]=p.useState(0);if(!a)return null;p.useEffect(()=>{const r=i.reduce((d,c)=>e[d].title.length>e[c].title.length?d:c);l(e[r].title.length)},[i]);const o=Object.keys(e).length;return t.jsxs(Se,{ref:s,componentHeight:n,children:[i.map((r,d)=>t.jsxs(M.Fragment,{children:[t.jsx(R,{amount:o,item:e[r]}),d!==i.length-1&&t.jsx(E,{direction:"vertical",margin:"10px 0",width:"70%"})]},r)),t.jsx(E,{direction:"vertical",margin:"10px 0",width:"70%"}),t.jsx(R,{amount:o,item:a.all})]})},Ee=v(Ie),Le=h.div.withConfig({componentId:"sc-1ftunim-0"})(["width:100%;padding-top:160px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px;@media (max-width:1000px){padding-top:153px;}"]),Re=({forwardedRef:e})=>{const{data:{user:s}}=m.useUser(),{homeRoutes:i}=z.useMenu(),a=g(T.userSettings),n=a==null?void 0:a.homePage.hasNews,l=g(te.$paymentsStore),{data:{schedule:o}}=se.useSchedule();return p.useEffect(()=>{l||ie.getPayments()},[l]),p.useEffect(()=>{o||ae.getScheduleFx(s)},[o]),i?t.jsxs(Le,{children:[t.jsx(oe,{tutorialModule:{id:"home",step:1,params:{position:"bottom"}}}),t.jsx(Ee,{tutorialModule:{id:"home",step:2,params:{position:"bottom"}},links:i}),t.jsx(fe,{}),t.jsx(ne,{children:t.jsxs(re,{forwardedRef:e,noAppearanceInMobile:!0,maxWidth:"750px",minHeight:"100%",height:"100%",orientation:"vertical",gap:"20px",children:[t.jsxs(u,{children:[t.jsx(N,{size:2,align:"left",width:"100%",children:"Главная"}),t.jsx(le,{})]}),t.jsx(Ce,{}),!!n&&t.jsx(ye,{})]})})]}):null},Me=v(Re),We=()=>{const{data:{user:e},error:s}=m.useUser();return e?t.jsxs(ce,{loading:!e,load:()=>null,error:s,data:e,children:[t.jsx(ue,{}),t.jsx(Me,{tutorialModule:{id:"home",step:0,params:{position:"top"}}})]}):null};export{We as default};
