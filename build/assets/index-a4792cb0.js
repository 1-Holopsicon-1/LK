import{r as l,j as r}from"./vendor-8312535b.js";import{g as u,a as p}from"./get-default-subdivision-17957fb0.js";import{s as m,B as d,F as f,I as b,S as x,aj as S,A as g,c as h}from"./index-3ed27df5.js";const F=e=>{const{surname:a,name:t,patronymic:s,subdivisions:i}=e;return{title:"Запрос на изменение корпоративной электронной почты",data:[{title:"ФИО",fieldName:"fio",value:a+" "+t+" "+s,editable:!1},{title:"Подразделение/должность",value:u(i),fieldName:"guid_staff",editable:!0,width:"100",required:!0,type:"select",items:p(i),isSpecificSelect:!0},{fieldName:"email",title:"Корпоративная электронная почта",type:"email",value:"",required:!0},{fieldName:"show_email_inner",title:"Показывать корпоративную почту внутри Личного кабинета",type:"checkbox",value:!1},{fieldName:"show_email_outer",title:"Показывать корпоративную почту на сайте",type:"checkbox",value:!1}]}},j=()=>{const[e,a]=l.useState(null),[t,s]=l.useState(!1),[i,n]=l.useState(!1),o=t!=null?t:!1,{data:{dataUserApplication:c}}=m.useApplications();return l.useEffect(()=>{c&&a(F(c))},[c]),r.jsx(d,{isDone:o,children:!!e&&!!a&&r.jsxs(f,{noHeader:!0,children:[r.jsx(b,{...e,collapsed:o,setData:a}),r.jsx(x,{text:o?"Отправлено":"Отправить",action:()=>S(g.EDIT_PHONEBOOK_EMAIL,[e],n,s,!0),isLoading:i,completed:t,setCompleted:s,repeatable:!1,buttonSuccessText:"Отправлено",isDone:o,isActive:h(e),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{j as default};
