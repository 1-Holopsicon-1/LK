import{$ as h,g,ab as x,Q as l,b4 as c,l as d,H as m,L as p,u as v,ad as f}from"./index-5a009515.js";import{s as n,j as i,aP as u}from"./vendor-c0388033.js";import{i as w}from"./is-valid-url-08a91344.js";const b=async()=>(await h.get(`?getAlerts&token=${g()}`)).data,y=t=>t.reduce((e,o)=>{const r=new Date(o.date).getFullYear();return e[r]?e[r].push(o):e[r]=[o],e},{}),T=x({api:{get:b},prepareData:y}),j=({alert:t})=>{const{content:e,time:o,date:r}=t;return i.jsxs(I,{children:[i.jsx(l,{fontSize:"0.9rem",children:i.jsx(c,{words:[d(r),o]})}),i.jsx(m,{width:"100%",margin:"12px 0"}),i.jsx("div",{dangerouslySetInnerHTML:{__html:e}})]})},I=n.div.withConfig({componentId:"sc-1xqy1zp-0"})(["display:flex;flex-direction:column;gap:5px;max-width:600px;& > div{width:100%;p{margin-top:10px;width:100%;opacity:0.9;line-height:1.7rem;}a{text-decoration:underline;}strong{font-weight:600;}p:nth-child(1){margin:0;opacity:1;text-align:left !important;}span{font-size:1rem !important;}img{width:100% !important;height:auto !important;object-fit:cover;border-radius:var(--brLight);margin-bottom:20px;box-shadow:var(--block-content-shadow);}}"]),k=t=>{const e=t.indexOf('src="')+5;let o=0;if(e===-1)return null;for(let a=e;a<t.length;a++)if(t[a]==='"'){o=a;break}const r=t.slice(e,o);return w(r)?r:null},C=n.div.withConfig({componentId:"sc-ldtz4l-0"})(["display:",";padding:8px;border-radius:6px;background:",";color:#fff;font-weight:600;align-items:center;justify-content:center;font-size:0.7rem;"],({visible:t})=>t?"flex":"none",p.red.light1),A=n.div.withConfig({componentId:"sc-eyuv56-0"})(["width:100%;border-radius:",";background:",";box-shadow:",";position:relative;display:flex;flex-direction:",";align-items:",";height:",";overflow:hidden;padding:",";cursor:pointer;&:hover{filter:brightness(0.98);}"],({orientation:t})=>t==="vertical"?"calc(var(--brLight) - 3px)":"8px",({orientation:t})=>"var(--block-content)",({orientation:t})=>t==="vertical"?"var(--block-shadow)":"0 0 1px #707070",({orientation:t})=>t==="vertical"?"column":"row-reverse",({orientation:t})=>t==="vertical"?"flex-start":"stretch",({orientation:t})=>t==="vertical"?"150px":"fit-content",({orientation:t})=>t==="vertical"?"0":"12px"),S=n.div.withConfig({componentId:"sc-eyuv56-1"})(["height:",";width:",";min-width:",";min-height:",";overflow:hidden;background:",";border-radius:",";display:flex;align-items:center;justify-content:center;margin-left:",";margin-top:",";box-shadow:",";svg{width:40%;height:40%;}img{height:100%;width:100%;object-fit:cover;}"],({orientation:t})=>t==="vertical"?"50px":"auto",({orientation:t})=>t==="vertical"?"50px":"65px",({orientation:t})=>t==="vertical"?"50px":"65px",({orientation:t})=>t==="vertical"?"50px":"65px",p.purple.transparent2,({orientation:t})=>t==="vertical"?"calc(var(--brLight) - 3px)":"7px",({orientation:t})=>t==="vertical"?"12px":"0",({orientation:t})=>t==="vertical"?"12px":"0",({orientation:t})=>t==="vertical"?"0 0 30px rgba(0, 0, 0, 0.101)":"none"),z=n.div.withConfig({componentId:"sc-eyuv56-2"})(["min-height:60px;width:100%;padding:",";display:flex;gap:4px;flex-direction:column;justify-content:space-between;"],({orientation:t})=>t==="vertical"?"12px":"0"),L=n.div.withConfig({componentId:"sc-eyuv56-3"})(["font-weight:500;width:",";hyphens:auto;"],({orientation:t})=>t==="vertical"?"100%":"85%");n.div.withConfig({componentId:"sc-eyuv56-4"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:0.86rem;margin-bottom:6px;height:20px;opacity:0.8;p{text-align:left;}strong{font-weight:400;}img{display:none;}"]);const D=n(C).withConfig({componentId:"sc-eyuv56-5"})(["position:absolute;top:6px;right:-4px;"]),$=({news:t,orientation:e="vertical",isNew:o=!1})=>{const r=k(t.content),{open:a}=v(),s=()=>a(i.jsx(j,{alert:t}),t.title);return i.jsxs(A,{onClick:s,orientation:e,children:[i.jsx(S,{orientation:e,children:r?i.jsx("img",{src:r,alt:""}):i.jsx(u,{})}),i.jsxs(z,{orientation:e,children:[i.jsx(L,{orientation:e,children:e==="vertical"?f(t.title,38):t.title}),i.jsx(l,{children:i.jsx(c,{words:[d(t.date),t.time]})})]}),i.jsx(D,{visible:o,children:"New"})]})};export{$ as A,T as a};
