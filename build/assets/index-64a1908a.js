import{p as I,s as u,r as c,j as t,F as _t,a as nn,b as ei,c as bs,H as vo,d as Ct,z as po,e as W,x as v,h as $,u as ge,f as Ot,o as Hi,g as Tg,i as tr,k as ir,l as nt,m as re,n as ws,v as vs,q as z,t as St,w as Eg,y as wl,I as Pg,A as Ag,B as Ng,C as Dg,D as Wo,E as ys,G as O,J as Og,S as Ni,K as Oe,L as ji,R as de,M as ti,N as jn,O as xt,P as uo,Q as Lg,T as Zn,U as Rg,V as zg,W as vl,X as yl,Y as Go,Z as bt,_ as nr,$ as Fg,a0 as Mg,a1 as $g,a2 as Bg,a3 as js,a4 as pt,a5 as Mt,a6 as jl,a7 as es,a8 as Hg,a9 as te,aa as Ug,ab as zt,ac as kl,ad as _l,ae as Vo,af as Wg,ag as tt,ah as Gg,ai as ks,aj as Cl,ak as Vg,al as qg,am as Yg,an as Qg,ao as Xg,ap as Kg,aq as Jg,ar as Sl,as as $t,at as Il,au as Tl,av as Zg,aw as El,ax as Pl,ay as Al,az as Nl,aA as Dl,aB as ef,aC as tf,aD as nf,aE as sf,aF as of,aG as af,aH as rf,aI as lf,aJ as cf,aK as df,aL as pf,aM as uf,aN as li,aO as hf,aP as qo,aQ as kn,aR as Ol,aS as ts,aT as Bt,aU as Yo,aV as is,aW as jt,aX as ki,aY as gf,aZ as ff,a_ as mf,a$ as xf,b0 as bf,b1 as wf,b2 as ne,b3 as vf,b4 as Ll,b5 as Rl,b6 as yf,b7 as jf,b8 as sn,b9 as kf,ba as _f,bb as ci,bc as zl,bd as sr,be as Cf,bf as Sf,bg as If,bh as Yi,bi as Tf,bj as Ef,bk as Pf,bl as Fl,bm as Ml,bn as Af,bo as _s,bp as $l,bq as Qo,br as Bl,bs as Cs,bt as le,bu as or,bv as Hl,bw as Yn,bx as Nf,by as Df,bz as Of,bA as Lf,bB as Rf,bC as zf,bD as Ff,bE as Mf,bF as $f,bG as Bf,bH as Hf,bI as Uf,bJ as Wf,bK as Gf,bL as Vf,bM as qf,bN as Yf,bO as Qf,bP as Xf,bQ as Kf,bR as Jf,bS as Zf,bT as em,bU as tm,bV as im,bW as nm,bX as Ul,bY as sm,bZ as om,b_ as Xo,b$ as Wl,c0 as am,c1 as rm,c2 as lm,c3 as cm,c4 as dm,c5 as pm,c6 as um,c7 as hm,c8 as Gl,c9 as Ko,ca as gm,cb as Jo,cc as yo,cd as fm,ce as mm,cf as on,cg as xm,ch as bm,ci as wm,cj as Vl,ck as vm,cl as ql,cm as ym,cn as jm,co as Ss,cp as an,cq as km,cr as Yl,cs as Ql,ct as _m,cu as ho,cv as Cm,cw as Sm,cx as Im,cy as Tm,cz as Em,cA as Pm,cB as Am,cC as Nm,cD as Xl,cE as ar,cF as Dm,cG as Om,cH as Lm,cI as Rm,cJ as zm,cK as Fm,cL as Mm}from"./vendor-fa46c825.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Kl=I({name:"appStarted",sid:"-buvb0l"}),$m=u.div.withConfig({componentId:"sc-1iflyta-0"})(["display:grid;grid-template-rows:",";overflow:hidden;transition:0.2s;width:100%;margin-bottom:",";"],({isOpen:e})=>e?"1fr":"0fr",({bottomMargin:e,isOpen:i})=>e&&i?"12px":"0"),Bm=u.div.withConfig({componentId:"sc-1iflyta-1"})([""]),Hm=u.div.withConfig({componentId:"sc-1iflyta-2"})(["min-height:0;min-width:0;transform:scale(",");transition:0.2s transform;opacity:",";"],({isOpen:e})=>e?"1":"0.98",({isOpen:e})=>e?"1":"0"),Jl=({title:e,children:i,bottomMargin:n,forceState:s=!1})=>{const[o,a]=c.useState(s);c.useEffect(()=>{a(s)},[s]);const r=()=>a(l=>!l);return t.jsxs($m,{isOpen:o,bottomMargin:n,onClick:r,children:[e&&t.jsx(Bm,{children:e}),t.jsx(Hm,{isOpen:o,children:i})]})},be=u.div.withConfig({componentId:"sc-w7ek6q-0"})(["width:",";height:",";min-height:",";background:var(--almostTransparentOpposite);margin:",";"],({direction:e="horizontal",width:i})=>e==="horizontal"?i??"90%":"0.5px",({direction:e="horizontal",width:i})=>e==="horizontal"?"0.5px":i??"90%",({direction:e="horizontal",width:i})=>e==="horizontal"?"0.5px":i??"90%",({margin:e})=>e??"5px auto"),Um="/assets/sad-emoji-0c60bf90.gif",se=u.span.withConfig({componentId:"sc-7972u0-0"})(["width:",";min-width:",";max-width:",";font-size:",";font-weight:500;opacity:0.7;text-align:",";display:",";line-height:",";word-wrap:break-word;overflow-wrap:normal;"],({width:e})=>e??"fit-content",({width:e})=>e??"fit-content",({maxWidth:e})=>e??"fit-content",({fontSize:e})=>e??"0.8em",({align:e})=>e??"left",({visible:e})=>!(e??!0)&&"none",({lineHeight:e})=>e),Wm=u.div.withConfig({componentId:"sc-m2dj25-0"})(["width:100%;height:100%;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--text);line-height:1.7rem;span{font-weight:500;}.image{margin-bottom:10px;img,& > svg{min-width:",";height:",";}& > svg{margin:20px 0;opacity:0.6;}}.error-content{margin-top:20px;}"],({size:e})=>e??"100px",({size:e})=>e??"100px");function je({text:e,image:i,size:n,children:s}){return t.jsxs(Wm,{size:n,children:[t.jsx("div",{className:"image",children:typeof i=="string"||!i?t.jsx("img",{src:i||Um,alt:"груфтим("}):i}),t.jsx(se,{fontSize:"1rem",align:"center",maxWidth:"500px",width:"auto",children:e}),s&&t.jsx("div",{className:"error-content",children:s})]})}const E=u.div.withConfig({componentId:"sc-sw1tlu-0"})(["width:",";max-width:",";height:",";max-height:",";gap:",";display:flex;align-items:",";justify-content:",";flex-direction:",";flex-wrap:",";padding:",";margin:",";"],({w:e})=>e??"100%",({mw:e})=>e,({h:e})=>e??"fit-content",({mh:e})=>e,({gap:e})=>e??"0",({ai:e})=>e??"center",({jc:e})=>e??"flex-start",({d:e})=>e??"row",({$wrap:e})=>e&&"wrap",({p:e})=>e,({m:e})=>e);var Ie=(e=>(e.Dark="dark",e.Light="light",e))(Ie||{});const Gm="Не удалось загрузить информацию. Проверьте соединение и попробуйте ещё раз",Zl=8,Zo=["home","settings","all"],ec=["all"],ea=["home","settings","all"],tc="https://lk.eseur.ru/signup",Vm="https://mospolytech.ru/obuchauschimsya/izmenenie-uslovij-obucheniya-i-vosstanovlenie",y={green:{dark3:"#106c3f",dark2:"#188851",dark1:"#27b56e",main:"#3cd288",light1:"#49e698",light2:"#58f3a6",light3:"#a1ffd1",transparent1:"#a7ffd38a",transparent2:"#a7ffd35c",transparent3:"#4ad18e1f"},lightGreen:{dark3:"#166363",dark2:"#207878",dark1:"#2e9b9b",main:"#40c5c5",light1:"#66dfdf",light2:"#8bf1f1",light3:"#a3fbfb",transparent1:"#98e8e899",transparent2:"#a3fbfb59",transparent3:"#a3fbfb29"},blue:{dark3:"#3d4695",dark2:"#3742b1",dark1:"#4552c9",main:"#5f6dec",light1:"#7c88f5",light2:"#99a3ff",light3:"#bac0ff",transparent1:"#bac0ffa3",transparent2:"#bac0ff42",transparent3:"#bac0ff17"},lightBlue:{dark3:"#5278cd",dark2:"#668de4",dark1:"#789ff6",main:"#9cbbff",light1:"#b9cfff",light2:"#ceddff",light3:"#e0e9ff",transparent1:"#e0e9ffba",transparent2:"#e0e9ff6b",transparent3:"#e0e9ff29"},darkBlue:{dark3:"#211d69",dark2:"#272279",dark1:"#2e2891",main:"#3831a5",light1:"#443cc5",light2:"#5850d4",light3:"#beb9ff",transparent1:"#7f77ff78",transparent2:"#7f77ff78",transparent3:"#7f77ff12"},purple:{dark3:"#5c3381",dark2:"#7434af",dark1:"#8b4ac7",main:"#a85fec",light1:"#bd7cfa",light2:"#ce99ff",light3:"#dcb7ff",transparent1:"#dcb7ff99",transparent2:"#dcb7ff5c",transparent3:"#dcb7ff2b"},pink:{dark3:"#8d4370",dark2:"#a62b77",dark1:"#c34191",main:"#ec5fb6",light1:"#fd84cf",light2:"#ffa8de",light3:"#ffbce5",transparent1:"#ffbce59e",transparent2:"#ffbce561",transparent3:"#ffbce530"},red:{dark3:"#8f454b",dark2:"#bf3641",dark1:"#cf4b56",main:"#ec5f6b",light1:"#ff7b86",light2:"#ff98a1",light3:"#ffbbc1",transparent1:"#ffbbc194",transparent2:"#ffbbc159",transparent3:"#ffbbc133"},orange:{dark3:"#815b32",dark2:"#a76821",dark1:"#ca8231",main:"#ee9e44",light1:"#fcb566",light2:"#ffc686",light3:"#ffd7ab",transparent1:"#ffd7ab99",transparent2:"#ffd7ab54",transparent3:"#ffd7ab4a"},grey:{dark3:"#353535",dark2:"#484848",dark1:"#646464",main:"#797979",light1:"#979797",light2:"#bdbdbd",light3:"#d5d5d5",transparent1:"#d5d5d5a3",transparent2:"#d5d5d559",transparent3:"#d5d5d521"},white:{dark3:"",dark2:"",dark1:"",main:"#fff",light1:"",light2:"",light3:"",transparent1:"",transparent2:"#80808014",transparent3:"#ffffff17"}},wi={monday:{full:"Понедельник",short:"Пн"},tuesday:{full:"Вторник",short:"Вт"},wednesday:{full:"Среда",short:"Ср"},thursday:{full:"Четверг",short:"Чт"},friday:{full:"Пятница",short:"Пт"},saturday:{full:"Суббота",short:"Сб"}},NA={Зачтено:y.green,"Не зачтено":y.red,Отлично:y.green,Хорошо:y.blue,Удовлетворительно:y.orange,Неудовлетворительно:y.red,"Не явился":y.red,default:y.red},DA={Зачтено:5,"Не зачтено":2,Отлично:5,Хорошо:4,Удовлетворительно:3,"Не явился":2,Неудовлетворительно:2},M="https://e.mospolytech.ru/old",qm="2023-10-03T10:43:43",ii={info:{icon:_t,color:"blue",title:"Информация"},alert:{icon:nn,color:"orange",title:"Внимание!"},failure:{icon:ei,color:"red",title:"Ошибка"},success:{icon:bs,color:"green",title:"Успешно"},tip:{icon:vo,color:"grey",title:"Подсказка"},hint:{icon:vo,color:"white",title:"Подсказка"},hrFailure:{icon:ei,color:"red",title:"Ошибка"}},Ym={"-":"red",А:"lightGreen",Б:"purple",В:"green",Г:"pink",Д:"blue",Е:"blue",Ё:"red",Ж:"blue",З:"lightGreen",И:"pink",Й:"lightBlue",К:"lightGreen",Л:"green",М:"red",Н:"green",О:"purple",П:"blue",Р:"lightBlue",С:"orange",Т:"pink",У:"lightGreen",Ф:"blue",Х:"green",Ч:"purple",Ц:"green",Ш:"red",Щ:"red",Ъ:"purple",Ы:"green",Ь:"blue",Э:"red",Ю:"orange",Я:"green",A:"lightGreen",B:"purple",C:"green",D:"pink",E:"purple",F:"blue",G:"red",H:"blue",I:"lightGreen",J:"pink",K:"lightGreen",L:"green",M:"red",N:"green",O:"purple",P:"blue",Q:"lightBlue",R:"orange",S:"blue",T:"lightGreen",U:"blue",V:"green",W:"purple",X:"red",Y:"red",Z:"purple"},Qm=["image/jpeg","image/jpg","image/png","application/pdf"],Xm=10,ic="(max-width: 766px)",Km="(min-width: 767px)",nc="(max-width: 1000px)",sc="(max-width: 1380px)",oc="(min-width: 1381px)",V={isMobile:`@media ${ic}`,isNotMobile:`@media ${Km}`,isTablet:`@media ${nc}`,isSmallTesktop:`@media ${sc}`,isMiddleTesktop:`@media ${oc}`},Jm=[{query:ic,title:"isMobile",value:"mobile"},{query:nc,title:"isTablet",value:"tablet"},{query:sc,title:"isSmallDesktop",value:"smallDesktop"},{query:oc,title:"isMiddleDesktop",value:"middleDesktop"}],ta={minute:6e4,ten_seconds:1e4,thirty_seconds:3e4},N=!window.location.port||window.location.port==="80"||window.location.port==="4001"||window.location.port==="4002"||!0,ia="tHash",rn="tProgressHash",_i="tProgress",Is="tProgressDate";console.log("Running on production",N);const Zm=u.button.withConfig({componentId:"sc-45v2xp-0"})(["display:flex;align-items:center;justify-content:",";border:none;color:",";background:",";padding:",";font-size:",";border-radius:10px;cursor:pointer;font-weight:600;transition:0.2s transform;width:",";min-width:",";text-decoration:none;flex-direction:",";opacity:",";height:",";",";&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:isactive{transform:scale(0.95);}&:hover{background:",";filter:brightness(0.9);color:",";}.text{margin-top:",";}.icon{margin-right:",";width:",";min-width:",";height:",";display:flex;align-items:center;justify-content:center;svg{width:100%;height:100%;max-width:18px;max-height:18px;margin-right:0 !important;}}","{font-size:12px;height:",";position:",";z-index:",";bottom:10px;right:10px;.text{margin-top:",";}.icon{width:",";min-width:",";margin-right:",";height:",";svg{max-width:23px;}}span{display:",";}}"],({align:e="center"})=>e,({textColor:e})=>e||"var(--text)",({isChosen:e,background:i})=>e?"var(--reallyBlue)":i??"var(--search)",({padding:e})=>e??"10px",({fontSize:e})=>e,({width:e})=>e||"fit-content",({minWidth:e})=>e&&e,({direction:e})=>e==="vertical"&&"column",({isActive:e})=>e?1:.5,({height:e="40px"})=>e,({flipped:e})=>e&&"transform: rotate(180deg);",({hoverBackground:e,isChosen:i,background:n})=>e??(i?"var(--blue)":n??"var(--search)"),({hoverTextColor:e})=>e,({direction:e,text:i})=>e==="vertical"&&i&&"6px",({text:e,direction:i})=>e&&i==="horizontal"?"7px":"0",({direction:e,text:i})=>e==="vertical"||!i?"20px":"fit-content",({direction:e,text:i})=>e==="vertical"||!i?"20px":"fit-content",({direction:e,text:i})=>e==="vertical"||!i?"20px":"15px",V.isTablet,({height:e="36px"})=>e,({fixedInMobile:e})=>e&&"absolute",({fixedInMobile:e})=>e&&"5",({direction:e,shrinkTextInMobile:i})=>e==="vertical"&&!i?"4px":"0px",({direction:e})=>e==="vertical"?"30px":"15px",({direction:e})=>e==="vertical"?"30px":"15px",({shrinkTextInMobile:e,text:i,direction:n})=>e||n==="vertical"||!i?"0px":"7px",({direction:e})=>e==="vertical"?"30px":"15px",({shrinkTextInMobile:e})=>e?"none":"flex");var q=(e=>(e.OldSettings="NewSettings",e.Settings="SettingsV2",e.HomeRoutes="HomeRoutes",e.Token="Token",e.JWT="JWT",e.JWTRefresh="JWTRefresh",e.Version="Version",e.SavePassword="SavePassword",e.SearchHistory="SearchHistory",e))(q||{});const It=()=>localStorage.getItem(q.JWT)||sessionStorage.getItem(q.JWT),Di=e=>{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(n).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)},ex=()=>JSON.parse(localStorage.getItem(q.SavePassword)??"true"),Ci=e=>async i=>{const n=(i==null?void 0:i.config)??{};if(i.request.status===401)if(n._retry)ce.logout();else{n._retry=!0;const s=localStorage.getItem(q.JWTRefresh);try{const{accessToken:o,refreshToken:a}=await px(s??"");return ex()?(localStorage.setItem(q.JWT,o),localStorage.setItem(q.JWTRefresh,a)):(sessionStorage.setItem(q.JWT,o),sessionStorage.setItem(q.JWTRefresh,a)),e(n)}catch{ce.logout()}}return Promise.reject(i)},Ts=e=>(e.headers||(e.headers={}),e.headers.Authorization=`Bearer ${It()}`,e),tx=`${M}/lk_api.php`,ix="https://api.mospolytech.ru/serviceforfrontpersonnelorders",ee=Ct.create({baseURL:tx,withCredentials:!0}),Te=Ct.create({baseURL:ix});Te.interceptors.request.use(Ts);!N&&Te.interceptors.response.use(e=>e,Ci(Te));function na(e){return e.isAxiosError}function ie(){return localStorage.getItem(q.Token)??sessionStorage.getItem(q.Token)??""}const nx=({login:e,password:i})=>ee.post("",`ulogin=${encodeURIComponent(e)}&upassword=${encodeURIComponent(i)}`),sx=e=>ee.get(`?getUser&token=${e}`),ox=e=>ee.get(`?getADName&fio=${e.fio}&pn=${e.pn}`),rr=async e=>{const i=new FormData;return i.set("avatar",e??""),i.set("token",ie()),ee.post("?changeAvatar=1",i,{headers:{"Content-Type":"multipart/form-data"}})},ax=async(e,i)=>{const n=new FormData;return n.set("old_pass",e),n.set("new_pass",i),ee.post(`?changeADPass=1&token=${ie()}`,n,{headers:{"Content-Type":"multipart/form-data"}})},rx=async e=>{const i=new FormData;return i.set("email",e),i.set("token",ie()),ee.post("?changeEmail=1",i,{headers:{"Content-Type":"multipart/form-data"}})},lx=async e=>{const i=new FormData;return i.set("phone",e),i.set("token",ie()),ee.post("?changePhone=1",i,{headers:{"Content-Type":"multipart/form-data"}})},cx=async e=>{var n,s;const i=new FormData;return i.set("token",ie()),i.set("phone",e.phone_staff||""),i.set("allow_mobphone_in",((n=e.allow_mobphone_in)==null?void 0:n.toString())??"false"),i.set("allow_mobphone_out",((s=e.allow_mobphone_out)==null?void 0:s.toString())??"false"),ee.post("?changeStaffPhone=1",i,{headers:{"Content-Type":"multipart/form-data"}})},dx=async e=>{const i=new FormData;return i.set("token",ie()),i.set("guid",e.guid_staff),i.set("room",e.room),i.set("address",e.address),ee.post("?changeStaffAddress=1",i,{headers:{"Content-Type":"multipart/form-data"}})},px=async e=>{const{data:i}=await Ct.post("https://api.mospolytech.ru/frontendtokenservice/Token/Refresh",{refreshToken:e});return i},ux=e=>ee.get(`?getSchedule&group=${e}&token=${ie()}`),hx=e=>ee.get(`?getScheduleTeacher&fio=${e}&token=${ie()}`),gx=()=>ee.get(`?getSchedule&session=1&token=${ie()}`),fx=e=>ee.get(`?getScheduleTeacher&fio=${e}&session=1&token=${ie()}`),mx=()=>ee.get(`?getPayments&token=${ie()}`),xx=e=>ee.get(`?signAgreement=${e}&token=${ie()}`),bx=e=>ee.get(`?signContract=${e}&token=${ie()}`),wx=async()=>(await ee.get(`?getPEPStatus&token=${ie()}`)).data,vx=async()=>(await ee.get(`?setPEPAccept&token=${ie()}`)).data,yx=()=>ee.get(`?getAppRequests&token=${ie()}`),ac=()=>ee.get(`?getAppData&token=${ie()}`),jx=async()=>await Te.get(`/Dismissal.GetAllHistory?employeeGuid=${Di(It()??"").IndividualGuid}`),kx=async()=>{const{data:e}=await Te.get("/AnotherPlaceWork.GetDivisions");return e.divisions},_x=async e=>{const{formId:i,args:n}=e,s=new FormData;s.set("token",ie()),s.set("saveAppData",i);for(const[a,r]of Object.entries(n))s.set(a,r);const{data:o}=await ee.post(`?saveAppData=${i}`,s,{headers:{"Content-Type":"multipart/form-data"}});return o},Cx=()=>Te.get(`?getAppRequests&token=${ie()}`),Sx=()=>Te.get(`?getAppData&token=${ie()}`),Ix=e=>Te.post("Dismissal.Post",e),Tx=async()=>(await ee.get(`?getAdminLinks&token=${ie()}`)).data,Ex=async e=>(await ee.get(`?PDinfo&token=${ie()}`)).data,Px=()=>ee.get(`?getPhoneBookDivisions&token=${ie()}`),rc=(e,i,n,s)=>ee.get(`?getStaff&search=${e}&division=${i}&page=${n}&perpage=${s}&token=${ie()}`),Es=e=>ee.get(`?getDivs=${e}&page=1&token=${ie()}`),lc=(e,i,n,s)=>ee.get(`?getStudents&search=${e}&group=${i}&page=${n}&perpage=${s}&token=${ie()}`),jo=async e=>await ee.get(`?getGroups=${e}&perpage=30&page=1&token=${ie()}`),Ax=()=>ee.get(`?getNotifications&token=${ie()}`),Nx=e=>ee.get(`?clearNotificationById=${e}&token=${ie()}`),Dx=()=>ee.get(`?clearAllNotifications&token=${ie()}`),Ox=po.object({type:po.string(),detail:po.string()}),Lx=N?"https://api.mospolytech.ru/physedjournal/":"http://docker.mospolytech.ru:5200/",Ee=Ct.create({baseURL:Lx});Ee.interceptors.request.use(Ts);Ee.interceptors.response.use(e=>e,Ci(Ee));Ee.interceptors.response.use(e=>e,e=>{var n;const i=Ox.safeParse((n=e.response)==null?void 0:n.data);return i.success?Promise.reject(new cc(i.data.type,i.data.detail)):Promise.reject(e)});class cc extends Error{constructor(i,n){super("Во время запроса произошла ошибка"),this.type=i,this.detail=n}}const OA=(e,i)=>e instanceof cc&&e.type!="unknown-error"?e.detail:i,Rx=40,zx=e=>{const i={};return e["group.groupName"]&&(i.groupNumber=e["group.groupName"].value),e.group&&(i.groupNumber=e.group.value),e.fullName&&(i.fullName=e.fullName.value),e.course&&(i.course=e.course.value),i},LA=(e,i,n=Rx)=>Ee.get("/student",{params:{page:e+1,pageSize:n,...zx(i)}}),RA=e=>Ee.get(`/student/${e}`),zA=e=>Ee.post("/points/visit",e),FA=e=>Ee.delete(`/points/visit/${e}`),MA=e=>Ee.post("/points/other",e),$A=e=>Ee.delete(`/points/other/${e}`),BA=e=>Ee.post("/points/standard",e),HA=e=>Ee.delete(`/points/standard/${e}`),UA=e=>Ee.post("/competition",{competitionName:e}),WA=e=>Ee.delete("/competition",{params:{competitionName:e}}),GA=()=>Ee.get("/competition"),Fx=e=>Ee.get(`/teacher/${e}`),VA=e=>Ee.get("/group",{params:{curatorGuid:e}}),qA=e=>Ee.post("/student/archive",{studentGuid:e});function Mx({name:e,surname:i,patronymic:n}){return`${i} ${e} ${n}`}const $x=()=>{localStorage.removeItem(q.Token),localStorage.removeItem(q.JWT),localStorage.removeItem(q.JWTRefresh),sessionStorage.removeItem(q.Token),sessionStorage.removeItem(q.JWT),localStorage.removeItem(q.JWTRefresh)},Lt=localStorage.getItem(q.Token)??"",Rt=()=>JSON.parse(localStorage.getItem(q.SavePassword)??"true"),Ps=W(async e=>{try{const{data:i}=await nx(e),n=new FormData;n.set("ulogin",e.login),n.set("upassword",e.password),n.set("auth_action","userlogin");try{await Ct.post("/old",n)}catch{}return $x(),Rt()?(localStorage.setItem(q.Token,i.token),localStorage.setItem(q.JWT,(i==null?void 0:i.jwt)??""),localStorage.setItem(q.JWTRefresh,i.jwt_refresh??"")):(sessionStorage.setItem(q.Token,i.token),sessionStorage.setItem(q.JWT,(i==null?void 0:i.jwt)??""),localStorage.setItem(q.JWTRefresh,i.jwt_refresh??"")),i}catch{throw new Error(navigator.onLine?"Неверный логин или пароль":"Потеряно соединение с интернетом")}},{name:"getUserTokenFx",sid:"-e169qm"}),Xt=W(async e=>{try{const[i,n]=await Promise.all([sx(e.token),ac()]),s=i.data.user,{name:o,surname:a,patronymic:r}=s;return{currentUser:{...s,guid:n.data.guid_person,fullName:Mx({name:o,surname:a,patronymic:r})},isAuthenticated:!!e,error:null,savePassword:Rt()}}catch(i){throw console.log(i),new Error(`Возникла какая-то ошибка: ${i.message}`)}},{name:"getUserFx",sid:"-jwv5r7"}),ko=W(async e=>{try{return(await ox(e)).data}catch(i){throw console.log(i),new Error("Возникла какая-то ошибка")}},{name:"getLoginEuzFx",sid:"bigpzn"}),dc=W(()=>{Rt()?(localStorage.removeItem(q.Token),localStorage.removeItem(q.JWT),localStorage.removeItem(q.JWTRefresh)):(sessionStorage.removeItem(q.Token),sessionStorage.removeItem(q.JWT),sessionStorage.removeItem(q.JWTRefresh)),localStorage.removeItem(ia),localStorage.removeItem(_i),localStorage.removeItem(Is),localStorage.removeItem(rn)},{name:"logoutFx",sid:"4h4324"}),pc=e=>{const i=localStorage.getItem(q.SavePassword),n=e??JSON.parse(i??"true");return localStorage.setItem(q.SavePassword,n.toString()),n},uc=I({name:"login",sid:"4ue10z"}),sa=I({name:"logout",sid:"zef25s"}),hc=I({name:"clear",sid:"v39e31"}),gc=I({name:"update",sid:"davw09"}),fc=I({name:"updateBulk",sid:"-coga5m"}),mc=I({name:"changeSavePassword",sid:"-h8i797"});v({and:[{clock:uc,target:Ps}],or:{sid:"hxtekp"}});v({and:[{clock:Ps.doneData,target:Xt}],or:{sid:"i00ky5"}});v({and:[{clock:sa,target:dc}],or:{sid:"idrfs6"}});Lt&&Rt()?Xt({token:Lt,jwt:localStorage.getItem(q.JWT)}):dc();const Bx={currentUser:null,error:null,isAuthenticated:!!(Lt!=null&&Lt.length),savePassword:Rt(),loginEuz:""};pc();const oa=$(Bx,{name:"$userStore",sid:"-5zr6k7"}).on(Xt,e=>({...e,error:null})).on(Xt.doneData,(e,i)=>i).on(Xt.failData,(e,i)=>({error:i.message,currentUser:null,isAuthenticated:!!(Lt!=null&&Lt.length),savePassword:Rt()})).on(Ps.failData,(e,i)=>({error:i.message,isAuthenticated:null,currentUser:null,savePassword:Rt()})).on(sa,()=>({error:"",isAuthenticated:null,currentUser:null,savePassword:Rt()})).on(mc,(e,{savePassword:i})=>({...e,savePassword:pc(i)})).on(ko,e=>({...e,error:null})).on(ko.doneData,(e,i)=>({...e,loginEuz:i})).on(Xt.failData,(e,i)=>({...e,error:i.message})).on(gc,(e,{key:i,value:n})=>({...e,currentUser:e.currentUser?{...e.currentUser,[i]:n}:null})).on(fc,(e,i)=>({...e,currentUser:e.currentUser?{...e.currentUser,...i}:null})).on(hc,e=>({...e,currentUser:null})),Hx=oa.map(({currentUser:e})=>(e==null?void 0:e.guid)??null),ke={useUser:()=>{const{currentUser:e,error:i,isAuthenticated:n,savePassword:s,loginEuz:o}=ge(oa);return{data:{user:e,isAuthenticated:n,savePassword:s,loginEuz:o},loading:ge(Ps.pending),error:i}}},ce={login:uc,logout:sa,changeSavePassword:mc,clear:hc,update:gc,updateBulk:fc},Ux={getUserFx:Xt,getLoginEuzFx:ko},K={user:oa,userGuid:Hx},lr={message:"",type:"success",isOpen:!1,time:2e3},Wx=()=>Ot(Gx),xc=I({name:"evokePopUpMessage",sid:"x5m2"}),bc=I({name:"openPopUpMessage",sid:"bjmva0"}),Gx=$(lr,{name:"$popUpstore",sid:"sdh220"}).on(xc,(e,{message:i,type:n,time:s=2e3,onClick:o})=>({isOpen:!0,message:i,type:n,time:s,onClick:o})).on(bc,(e,{isOpen:i})=>({...e,isOpen:i})).on(K.userGuid,()=>({...lr})),Vx={usePopUpMessage:Wx},G={evokePopUpMessage:xc,openPopUpMessage:bc},wc="/assets/loading-c8041cd3.gif",qx=()=>t.jsx(Yx,{src:wc,alt:"loading",className:"loading-circle"}),Yx=u.img.withConfig({componentId:"sc-1vou73h-0"})(["position:relative;transform:none;left:auto;top:auto;width:30px;height:30px;"]);function j(e){const{icon:i,text:n,onClick:s,width:o,minWidth:a,background:r,textColor:l,hoverBackground:p,align:d,isChosen:h,padding:f,shrinkTextInMobile:g,fixedInMobile:m,direction:b="horizontal",isActive:x=!0,height:w,notActiveClickMessage:_,flipped:S,forwardedRef:k,loading:P,...T}=e,F=R=>{x?s==null||s(R):_&&G.evokePopUpMessage({type:"failure",message:_,time:1e4})};return t.jsx(Zm,{text:!!n,onClick:F,isChosen:h,width:o,minWidth:a,background:r,padding:f,textColor:l,shrinkTextInMobile:g,hoverBackground:p,align:d,direction:b,isActive:P?!1:x,fixedInMobile:m,height:w,flipped:S,ref:k,...T,children:P?t.jsx(qx,{}):t.jsxs(t.Fragment,{children:[!!i&&t.jsx("div",{className:"icon",children:i}),t.jsx("span",{className:"text",children:n})]})})}const _o=e=>{switch(e){case"center":return"center";case"right":return"flex-end";case"evenly":return"space-evenly"}return"flex-start"},cr=e=>{switch(e){case"center":return"center";case"bottom":return"flex-end";case"space-between":return"space-between"}return"flex-start"},Qx=u.div.withConfig({componentId:"sc-1g0azvr-0"})(["padding:",";position:",";width:",";height:",";min-width:",";.bottom-wrapper{margin-top:5px;display:flex;align-items:center;justify-content:center;gap:10px;}"],({padding:e})=>e??"0",({position:e})=>e??"relative",({width:e})=>e??"100%",({height:e})=>e??"fit-content",({minWidth:e})=>e),Xx=["wrap","horizontalAlign","verticalAlign","innerPadding","scroll","wrapOnMobile"],As=u.div.withConfig({shouldForwardProp:e=>!Xx.includes(e)}).withConfig({componentId:"sc-1g0azvr-1"})(["display:flex;flex-direction:",";max-height:100%;align-items:center;height:",";justify-content:",";align-items:",";gap:",";width:",";min-width:",";color:var(--text);font-size:",";overflow-x:",";flex-wrap:",";padding:",";scroll-behavior:smooth;::-webkit-scrollbar{display:",";}@media (max-width:1000px){flex-wrap:",";overflow-x:auto;}"],({direction:e})=>(e??"vertical")==="vertical"&&"column",({height:e})=>e??"fit-content",({direction:e,horizontalAlign:i,verticalAlign:n})=>(e??"vertical")==="vertical"?cr(n):_o(i),({direction:e,horizontalAlign:i,verticalAlign:n})=>(e??"vertical")==="vertical"?_o(i):cr(n),({gap:e})=>(e??5)+"px",({width:e})=>e??"100%",({minWidth:e,width:i})=>e??i,({fontSize:e})=>e??"1em",({scroll:e})=>e&&"auto",({wrap:e})=>e&&"wrap",({innerPadding:e})=>e??"0",({direction:e})=>e==="horizontal"&&"none",({wrapOnMobile:e})=>e?"wrap":"nowrap"),Kx=u.div.withConfig({componentId:"sc-1xqpwpa-0"})(["width:",";min-width:",";height:",";border-radius:",";background:var(--almostTransparent);margin:",";animation:",";@keyframes skeleton{0%{opacity:1;}50%{opacity:0.6;}100%{opacity:1;}}"],({size:e})=>e?e.width:"100px",({size:e})=>e?e.width:"100px",({size:e,shape:i})=>e?i==="circle"?e.width:e.height:"20px",({shape:e})=>e==="circle"?"100%":"10px",({margin:e})=>e,({pulse:e})=>e&&"skeleton 1s infinite");function X({shape:e,size:i,margin:n="10px 0",pulse:s=!0}){return t.jsx(Kx,{pulse:s,size:i,shape:e,margin:n})}const Jx=u(As).withConfig({componentId:"sc-j33f83-0"})(["height:100%;"]),Zx=({direction:e,shapes:i,horizontalAlign:n,verticalAlign:s})=>t.jsx(Jx,{direction:e,horizontalAlign:n,verticalAlign:s,children:i.map((o,a)=>c.createElement(X,{...o,key:a}))}),Vt=e=>({display:"flex",alignItems:"center",justifyContent:"center",width:e});function e0({size:e,children:i,width:n}){switch(e){case 1:return t.jsx("h1",{className:"title",style:Vt(n),children:i});case 2:return t.jsx("h2",{className:"title",style:Vt(n),children:i});case 3:return t.jsx("h3",{className:"title",style:Vt(n),children:i});case 4:return t.jsx("h4",{className:"title",style:Vt(n),children:i});case 5:return t.jsx("h5",{className:"title",style:Vt(n),children:i});case 6:return t.jsx("h6",{className:"title",style:Vt(n),children:i});default:return t.jsx("h1",{className:"title",style:Vt(n),children:i})}}const t0=u.div.withConfig({componentId:"sc-15eib47-0"})(["width:100%;text-align:",";margin-bottom:",";display:inline-flex;align-items:center;justify-content:",";svg{min-width:",";height:",";margin-right:8px;color:",";}"],({align:e})=>e,({bottomGap:e})=>typeof e=="string"?e:e?"10px":"0",({align:e})=>e?e==="left"?"flex-start":e==="right"?"flex-end":e:"center",({size:e})=>`${58-e*10}px`,({size:e})=>`${58-e*10}px`,({iconColor:e})=>e),i0=u.span.withConfig({componentId:"sc-15eib47-1"})(["color:var(--red);margin-right:5px;"]),n0=u.div.withConfig({componentId:"sc-15eib47-2"})(["display:flex;align-items:center;justify-content:space-between;column-gap:10px;width:",";"],({width:e})=>e);function L(e){const{icon:i,iconColor:n,children:s,size:o=1,required:a,width:r,style:l,align:p="center",bottomGap:d=!1,visible:h=!0}=e;return h?t.jsxs(t0,{style:l,size:o,className:"title-wrapper",align:p,bottomGap:d,iconColor:n,children:[i,t.jsxs(e0,{size:o,width:r,children:[a&&t.jsx(i0,{children:"*"}),t.jsx(n0,{width:r,children:s})]})]}):null}const s0=(e,i,n)=>n?"#fff":e?y[ii[i].color].dark3:y[ii[i].color].light3,o0=u.div.withConfig({componentId:"sc-7u4k5f-0"})(["width:",";max-width:",";color:",";background:",";width:",";max-width:",";font-size:",";padding:",";border-radius:var(--brLight);position:relative;display:flex;flex-direction:column;gap:10px;font-weight:500;justify-content:flex-end;line-height:",";align-items:",";.close-button{position:absolute;top:5px;right:5px;border-radius:100%;width:30px;height:30px;}.info-text{display:flex;flex-direction:column;gap:",";}a{text-decoration:underline;color:",";}"],({width:e})=>e??"100%",({maxWidth:e})=>e??"none",({type:e,isLightTheme:i,solidBackground:n})=>s0(i,e,n),({type:e,solidBackground:i})=>y[ii[e].color][i?"main":"transparent3"],({width:e})=>e??"100%",({maxWidth:e})=>e??"none",({fontSize:e})=>e??"0.8em",({padding:e})=>e??"10px",({lineHeight:e})=>e,({align:e})=>e==="left"?"flex-start":e==="center"?"center":"flex-end",({gap:e})=>e??0,({type:e,isLightTheme:i})=>y[ii[e].color][i?"main":"light2"]),a0=e=>({appearance:{theme:window.matchMedia("(prefers-color-scheme: dark)").matches?Ie.Dark:Ie.Light},customizeMenu:{pages:e?ea:Zo},homePage:{pages:["settings","profile","chat","schedule","payments","project-activity","all-students"],hasSchedule:!0,hasPayment:!0,hasNews:!0},notifications:{all:!0,messages:!0,applications:!0,doclist:!0,newVersion:!0,news:!0,schedule:!0},syncAcrossAllDevices:!1}),vc=e=>`${q.Settings}-${e}`,r0="https://api.mospolytech.ru/config/",vi=Ct.create({baseURL:r0});vi.interceptors.request.use(Ts);vi.interceptors.response.use(async e=>{var i,n,s,o;return((o=(s=(n=(i=e==null?void 0:e.data)==null?void 0:i.errors)==null?void 0:n[0])==null?void 0:s.extensions)==null?void 0:o.code)==="AUTH_NOT_AUTHENTICATED"?await Ci(vi)(e):e},Ci(vi));const l0=Hi({appearance:Hi({theme:Tg([Ie.Light,Ie.Dark])}),customizeMenu:Hi({pages:tr(ir())}),homePage:Hi({pages:tr(ir()),hasSchedule:nt(),hasPayment:nt(),hasNews:nt()}),notifications:Hi({all:nt(),messages:nt(),newVersion:nt(),schedule:nt(),news:nt(),applications:nt(),doclist:nt()}),syncAcrossAllDevices:nt()}),c0=async()=>{const{data:e}=await vi.get("",{signal:AbortSignal.timeout(5e3)});return l0.parse(e)},d0=async e=>{const{data:i}=await vi.post("",e);return i},Ns=re({sid:"-ijhf03",fn:()=>ws({handler:c0}),name:"serverSettingsQuery",method:"createQuery"});v({and:[{clock:K.user,filter:({currentUser:e})=>!!e,target:Ns.start}],or:{sid:"u6xq0w"}});const aa=I({name:"update",sid:"-hcq4dy"}),p0=W(({settings:e,userId:i})=>{localStorage.setItem(vc(i),JSON.stringify(e))},{name:"saveUsersSettingsLocalFx",sid:"-by3t4p"}),yc=W(e=>d0(e),{name:"saveSettingsGlobalFx",sid:"e26uy5"}),jc=vs({and:{source:{userStore:K.user,serverSettingsQueryData:Ns.$data},effect:({userStore:{currentUser:e},serverSettingsQueryData:i})=>{var r;const n=e==null?void 0:e.guid,s=localStorage.getItem(vc(n??"")),o=a0((e==null?void 0:e.user_status)==="staff");if(i!=null&&i.syncAcrossAllDevices)return i;if(!s){const l=localStorage.getItem(q.OldSettings);if(!l)return o;const d=JSON.parse(l)[(e==null?void 0:e.id)??""];return d?{homePage:{pages:(d==null?void 0:d["settings-home-page"].property.pages)??o.homePage.pages,hasNews:(d==null?void 0:d["settings-home-page"].property.news)??o.homePage.hasNews,hasSchedule:(d==null?void 0:d["settings-home-page"].property.widgetSchedule)??o.homePage.hasPayment,hasPayment:(d==null?void 0:d["settings-home-page"].property.widgetPayment)??o.homePage.hasPayment},appearance:((r=d==null?void 0:d["settings-appearance"])==null?void 0:r.property)??o.appearance,customizeMenu:(d==null?void 0:d["settings-customize-menu"].property)??o.customizeMenu,notifications:(d==null?void 0:d["settings-notifications"].property)??o.notifications,syncAcrossAllDevices:o.syncAcrossAllDevices}:o}return{...JSON.parse(s),syncAcrossAllDevices:!1}}},or:{name:"getSettingsFx",sid:"zfc407"}});v({and:[{source:{userStore:K.user,isServerSettingsLoaded:Ns.$finished},filter:({userStore:e,isServerSettingsLoaded:i})=>!!(e.currentUser&&i),fn:({userStore:e})=>e,target:jc}],or:{sid:"-i0288q"}});const ni=$(null,{name:"$userSettings",sid:"djovoc"}).on(jc.doneData,(e,i)=>i).reset(K.userGuid),kc=ni.map(e=>e==null?void 0:e.appearance.theme),u0=W(e=>{document.documentElement.setAttribute("data-theme",e)},{name:"setThemeToDocument",sid:"d36ila"});v({and:[{clock:kc,filter:Boolean,target:u0}],or:{sid:"-h0blo9"}});v({and:[{source:{settings:ni,userStore:K.user},filter:({userStore:e,settings:i})=>!!e.currentUser&&!!i,fn:({settings:e,userStore:i})=>{var n;return{settings:e,userId:((n=i.currentUser)==null?void 0:n.guid)??""}},target:p0}],or:{sid:"-gm0y8v"}});v({and:[{source:{settings:ni,userStore:K.user,isSettingsLoadedFromServer:Ns.$succeeded},filter:({userStore:e,settings:i,isSettingsLoadedFromServer:n})=>!!(e.currentUser&&(i!=null&&i.syncAcrossAllDevices)&&n),fn:({settings:e})=>e,target:yc}],or:{sid:"61zcpa"}});v({and:[{clock:aa,source:ni,filter:Boolean,fn:(e,i)=>({...e,...i}),target:ni}],or:{sid:"6yz0ay"}});v({and:[{clock:aa,source:ni,filter:(e,i)=>"syncAcrossAllDevices"in i&&!!e,fn:(e,i)=>({...e,...i}),target:yc}],or:{sid:"7h47vv"}});const ue={userSettings:ni,theme:kc},Fe={update:aa},h0=()=>t.jsx(Zx,{shapes:[{shape:"rect",size:{width:"200px",height:"13px"},margin:"0"},{shape:"rect",size:{width:"100px",height:"12px"},margin:"5px 0"},{shape:"rect",size:{width:"120px",height:"12px"},margin:"0"}],direction:"vertical",horizontalAlign:"left"});function Z({type:e,children:i,icon:n,width:s,maxWidth:o,title:a,onClose:r,padding:l,fontSize:p,gap:d,lineHeight:h,solidBackground:f=!1,align:g="left",visible:m=!0,loading:b=!1}){if(!m)return null;const x=z(ue.userSettings);return t.jsxs(o0,{isLightTheme:(x==null?void 0:x.appearance.theme)===Ie.Light,className:"message",closable:!!r,type:e,align:g,width:s,maxWidth:o,padding:l,fontSize:p,gap:d,lineHeight:h,solidBackground:f,children:[t.jsx(L,{size:4,align:g,icon:n===null?null:n??ii[e].icon({}),children:a??ii[e].title}),r&&t.jsx(j,{onClick:r,icon:t.jsx(St,{}),className:"close-button"}),i&&t.jsx("div",{className:"info-text",children:i}),b&&t.jsx(h0,{})]})}const g0=u.div.withConfig({componentId:"sc-12bwuta-0"})(["max-height:400px;overflow-y:auto;"]),f0=({error:e})=>t.jsx(t.Fragment,{children:t.jsx(je,{text:e.message,image:t.jsx(Eg,{}),children:t.jsxs(E,{mw:"500px",d:"column",gap:"16px",children:[t.jsx(be,{}),t.jsx(Jl,{title:t.jsx(Z,{type:"failure",fontSize:"0.95rem",title:t.jsxs(E,{children:[t.jsx("span",{children:"Суть ошибки"}),t.jsx(wl,{})]})}),children:t.jsx(Z,{type:"failure",fontSize:"0.95rem",title:"",icon:"",children:t.jsx(g0,{children:e.stack})})})]})})}),m0=/Cannot access 'get' before initialization/,x0=/Failed to fetch dynamically imported module/,b0=2,dr="reloadCount";class _c extends c.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,n){console.error("Uncaught error:",i,n);const s=Number(sessionStorage.getItem("reloadCount"))??0;s<b0&&(i!=null&&i.message)&&(x0.test(i.message)||m0.test(i.message))&&(sessionStorage.setItem(dr,`${s+1}`),window.location.reload())}render(){return this.state.hasError?t.jsx(f0,{error:this.state.error}):(sessionStorage.setItem(dr,"0"),this.props.children)}}const Cc=I({name:"close",sid:"jt4tnx"}),Sc=I({name:"open",sid:"gxr3sv"}),w0=$(!1,{name:"$isModalOpen",sid:"-2d2og0"}).on(Sc,()=>!0).on(Cc,()=>!1),pr={close:Cc,open:Sc},v0={$isModalOpen:w0},ra=c.createContext({isOpen:!1,component:void 0,back:()=>{},close:()=>{},open:()=>{},title:void 0,canBack:!1}),y0=({children:e})=>{const[i,n]=c.useState(!1),[s,o]=c.useState([]),[a,r]=c.useState([]),l=z(v0.$isModalOpen),p=a.length>1,d=c.useCallback(()=>{p&&(a.pop(),s.pop(),r([...a]),o([...s]))},[a,r]),h=c.useCallback((x,w)=>{x&&(i?(r(()=>[...a,x]),o(()=>[...s,w??""])):(r(()=>[x]),o(w?[w]:[])),n(()=>!0),pr.open())},[r,n,a,i]),f=c.useCallback(()=>{n(()=>!1),pr.close()},[r,n]),g=c.useMemo(()=>a[a.length-1],[a]),m=c.useMemo(()=>s[s.length-1],[s]),b=c.useCallback(x=>{x&&r([...a,x])},[]);return c.useEffect(()=>{l!==i&&n(l)},[l]),t.jsx(ra.Provider,{value:{back:d,open:h,close:f,isOpen:i,canBack:p,component:g,title:m,setComponent:b},children:e})},H=()=>{const{open:e,isOpen:i,...n}=c.useContext(ra);return{open:e,isOpen:i,...n}},Tt=u.div.withConfig({componentId:"sc-1d238v1-0"})(["display:flex;align-items:",";justify-content:",";background:",";line-height:",";border-radius:var(--brLight);flex-direction:",";box-shadow:",";padding:",";height:",";max-width:",";width:",";color:var(--text);gap:",";max-height:",";min-height:",";.list{width:100%;display:flex;height:100%;flex-direction:column;overflow-y:auto;padding-right:5px;}","{flex-direction:column;box-shadow:",";border-radius:",";padding:",";background:",";}"],({alignItems:e})=>e??"center",({justifyContent:e})=>e??"space-between",({background:e})=>e??"var(--block)",({lineHeight:e})=>e,({orientation:e})=>e==="vertical"?"column":"row",({shadow:e})=>(e??!0)&&"var(--very-mild-shadow)",({padding:e})=>e??"20px",({height:e})=>e??"330px",({maxWidth:e})=>e??"800px",({width:e})=>e??"100%",({gap:e})=>e??"0",({maxHeight:e})=>e,({minHeight:e})=>e,V.isMobile,({noAppearanceInMobile:e})=>e&&"none",({noAppearanceInMobile:e})=>e&&"none",({noAppearanceInMobile:e})=>e&&"6px",({noAppearanceInMobile:e})=>e&&"transparent"),j0=u.img.withConfig({componentId:"sc-1x2uh6l-0"})(["width:40px;"]);function ut(e){return t.jsx(j0,{...e,src:wc,alt:"loading",className:"loading-circle"})}const k0="/assets/logo-4d9aa449.png",_0="/assets/mospolytech-logo-white-b1e4f630.png",C0=u.div.withConfig({componentId:"sc-1bbepw4-0"})(["width:",";height:fit-content;display:flex;justify-content:center;img{filter:invert(var(--invert));width:100%;}"],({width:e})=>e??"100%");function Ds({width:e,className:i,short:n=!1}){return t.jsx(C0,{width:e,className:i??"logo",children:t.jsx("img",{src:n?_0:k0,alt:"Logo"})})}const S0=u.img.withConfig({componentId:"sc-1j5d4xx-0"})([""]);function la({loading:e,src:i,height:n,width:s,alt:o=""}){return e?t.jsx(X,{shape:"rect",size:{width:s,height:n},margin:"0"}):t.jsx(S0,{src:i,alt:o,height:n,width:s})}const I0=u.div.withConfig({componentId:"sc-saptpr-0"})([".wrapper{position:relative;width:",";height:",";}.circle-blue{position:absolute;width:",";height:",";border-radius:50%;background:",";animation:expand 0.4s cubic-bezier(0.77,0,0.175,1) forwards;}.circle-blue-shadow{position:absolute;width:",";height:",";border-radius:50%;opacity:1;}.circle-white{position:absolute;top:3px;left:3px;width:",";height:",";transform:scale(0);border-radius:50%;background:var(--block);animation:expand 0.4s 0.5s cubic-bezier(0.77,0,0.175,1) forwards;}@keyframes expand{0%{transform:scale(0);}100%{transform:scale(1);}}.check-svg{position:absolute;width:",";height:",";top:-18px;left:-20px;width:50px;height:50px;top:-13px;left:-14px;transform-origin:center;animation:0.4s cubic-bezier(0.77,0,0.175,1) 0.4s 1 both scaleCheck;}.check-poly{fill:transparent;stroke-width:3;stroke-dasharray:36px 36px;stroke:",";animation:1s cubic-bezier(0.77,0,0.175,1) 0.4s 1 both drawCheck;}@keyframes scaleCheck{0%{opacity:0;}1%{opacity:1;}100%{transform:scale(0.8);}}@keyframes drawCheck{0%{stroke-dashoffset:36px;}100%{stroke-dashoffset:0;}}"],({size:e})=>e,({size:e})=>e,({size:e})=>e,({size:e})=>e,({color:e})=>e??"var(--blue)",({size:e})=>e,({size:e})=>e,({size:e})=>`calc(${e} - 6px)`,({size:e})=>`calc(${e} - 6px)`,({size:e})=>`calc(${e} + 10px)`,({size:e})=>`calc(${e} + 10px)`,({color:e})=>e??"var(--blue)");function ca({size:e,color:i,forwardedRef:n}){return t.jsx(I0,{ref:n,size:e,color:i?y[i].main:void 0,children:t.jsxs("div",{className:"wrapper",children:[t.jsx("div",{className:"circle-blue",children:t.jsx("div",{className:"circle-white"})}),t.jsx("div",{className:"circle-blue-shadow"}),t.jsx("svg",{className:"check-svg",width:e,height:e,viewBox:`0 0 ${e} ${e}`,children:t.jsx("polyline",{className:"check-poly",points:"26 37 34 43 47 27",strokeLinecap:"round"})})]})})}const T0=u.div.withConfig({componentId:"sc-k8mqiv-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}textarea{border:none;color:var(--text);outline:none;background:",";height:100%;width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:35px;min-height:36px;height:fit-content;max-height:120px;overflow-x:hidden;resize:none;&::placeholder{font-weight:500;}&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e??"100%",({width:e})=>e,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({textAreaAppearance:e})=>e?"var(--search)":"transparent",({textAreaAppearance:e})=>e?"10px":"0");function E0(e){const{value:i,setValue:n,width:s,placeholder:o,required:a,title:r,textAreaAppearance:l=!0,isActive:p=!0}=e;return t.jsxs(T0,{isActive:p,width:s,textAreaAppearance:l,children:[t.jsx(L,{size:5,required:a,align:"left",bottomGap:"5px",visible:!!r,children:r}),t.jsx("textarea",{onChange:d=>n(d.target.value),placeholder:o,required:a,value:i})]})}const P0=u.button.withConfig({componentId:"sc-r09aw-0"})(["position:relative;width:",";padding:10px;box-sizing:border-box;opacity:",";color:#fff;font-weight:600;display:flex;align-items:center;justify-content:center;height:",";min-height:",";border-radius:10px;position:relative;overflow:hidden;border:none;cursor:pointer;background:",";animation:",";@keyframes pulsing{0%{outline:0px solid var(--blue);}100%{outline:10px solid transparent;}}&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}@keyframes button-animation-in{0%{opacity:0;transform:scale(0.95);}50%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(0.95);}}@keyframes short-button-animation-in{0%{opacity:0;transform:scale(0.95);}100%{opacity:1;transform:scale(1);}}@keyframes button-animation-out{0%{opacity:0;transform:scale(0.95);}100%{opacity:1;transform:scale(1);}}.inner-button{z-index:1;.inner-button-success{animation:",";}.inner-button-text{animation:button-animation-out 0.5s forwards;}}&::before{content:'';position:absolute;display:block;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--green);width:",";height:",";border-radius:100%;transition:0.6s;z-index:0;}.loading-circle{position:relative;transform:none;left:auto;top:auto;width:30px;height:30px;}@media (max-width:1000px){font-size:0.8em;height:36px;}"],({width:e})=>e??"100%",e=>e.isLoading?.5:1,({height:e})=>e??"40px",({height:e})=>e??"40px",({isDone:e,background:i,isActive:n})=>e?n?"var(--green)":"var(--greenTransparent)":i??(n?"var(--blue)":"var(--blueTransparent)"),({pulsing:e})=>e&&"1s pulsing infinite",({repeatable:e})=>e?"button-animation-in 2s forwards":"short-button-animation-in 2s forwards",e=>e.completed?"2000px":"0",e=>e.completed?"2000px":"0"),Ze=({text:e,action:i,width:n,height:s,setCompleted:o,background:a,buttonSuccessText:r="Готово",popUpSuccessMessage:l="Успешно",popUpFailureMessage:p="Nope",pulsing:d,isDone:h=!1,isActive:f=!0,isLoading:g=!1,completed:m=!1,repeatable:b=!0,alerts:x=!0})=>{c.useEffect(()=>{m&&x&&(G.evokePopUpMessage({message:l,type:"success"}),b&&setTimeout(()=>{o(!1)},2e3))},[m,o]);const w=()=>{if(f&&!h&&!g)return i();x&&G.evokePopUpMessage({message:p,type:"failure"})};return t.jsx(P0,{isLoading:g,background:a,className:"submit-button",completed:m,isActive:f&&!h&&!m,onClick:w,isDone:h,width:n,height:s,repeatable:b,tabIndex:f&&!h?0:-1,pulsing:d&&!h,children:t.jsx("div",{className:"inner-button",children:m?t.jsxs("div",{className:"inner-button-success",children:[t.jsx(Pg,{})," ",r]}):g?t.jsx(ut,{}):t.jsx("div",{className:"inner-button-text",children:e})})})},ns={small:"32px",middle:"36px",big:"44px"},mt=e=>({size:i})=>e[i],Qn=(e,i)=>(i==null?void 0:i.length)===0?null:e.find(n=>n.title===i)??null,A0=[{id:"0",title:"ул. Большая Семёновская, 38"},{id:"1",title:"ул. Прянишникова, 2А"},{id:"2",title:"ул. Автозаводская, 16"},{id:"3",title:"ул. Павла Корчагина, 22"},{id:"4",title:"ул. Михалковская, 7"},{id:"5",title:"ул. Садовая-Спасская, 6"},{id:"6",title:"ул. Малая Семеновская, 12"},{id:"7",title:"ул. Лефортовский вал, 26"},{id:"8",title:"ул. 1-я Дубровская, 16а"},{id:"9",title:"ул. 7-я Парковая, 9/26"},{id:"10",title:"ул. 800-летия Москвы, 28 корп. 1"},{id:"11",title:"ул. Михалковская, 7, корп. 3"},{id:"12",title:"ул. Бориса Галушкина, 9"},{id:"13",title:"ул. Павла Корчагина, 20А, корп. 3"},{id:"14",title:"Рижский проезд, 15, корп. 1"},{id:"15",title:"Рижский проезд, 15, корп. 2"},{id:"16",title:"1-й Балтийский переулок, 6/21, корп. 3"}],me=[...A0],YA=(e,i)=>({title:"Актуализируйте контактные данные",data:[{fieldName:"guid_staff",title:"Подразделение/должность",value:i.guid_staff,width:"100",required:!0,type:"text",visible:!1},{fieldName:"",title:`${i.subdivision} (${i.post})`,value:`${i.subdivision} (${i.post})`,width:"100",required:!0,type:"text-header",visible:!0},{fieldName:"site",title:"Адрес рабочего места",type:"select",value:Qn(me,e.site),items:me,width:"100",editable:!0,required:!0},{fieldName:"aud_number",title:"Номер кабинета",type:"cabinet",mask:!0,value:e.aud_number,editable:!0,required:!0},{fieldName:"email_staff",title:"Корпоративная электронная почта",type:"email",value:e.email_staff,required:!0},{title:"Показывать рабочий email внутри Личного кабинета",fieldName:"show_email_inner",type:"checkbox",value:e.show_email_inner??!0},{title:"Показывать рабочий email на сайте",fieldName:"show_email_outer",type:"checkbox",value:e.show_email_outer??!0},{title:"Служебный мобильный телефон",type:"tel",value:e==null?void 0:e.tel_mob_staff,fieldName:"tel_mob_staff",mask:!0},{title:"Показывать служебный мобильный телефон внутри Личного кабинета",fieldName:"show_tel_mob_staff_inner",type:"checkbox",value:e.show_tel_mob_staff_inner??!0},{title:"Показывать служебный мобильный телефон на сайте",fieldName:"show_tel_mob_staff_outer",type:"checkbox",value:e.show_tel_mob_staff_outer??!0},{title:"Внутренний телефон",type:"innerPhone",value:e==null?void 0:e.tel_staff,mask:!0,fieldName:"tel_staff",minValueLength:4},{title:"Показывать внутренний телефон внутри Личного кабинета",fieldName:"show_tel_staff_inner",type:"checkbox",value:e.show_tel_staff_inner??!0},{title:"Показывать внутренний телефон на сайте",fieldName:"show_tel_staff_outer",type:"checkbox",value:e.show_tel_staff_outer??!0}]}),N0={БС:"БС",ПР:"ПР",АВ:"АВ",ПК:"ПК",МИХ:"МИХ",СС:"СС",РП:"РП",БАЛТ:"БАЛТ",Д:"Д",ПАРК:"ПАРК",ВЛМ:"ВЛМ",БГ:"БГ",МС:"МС","":""},Co=e=>{const i=()=>e===me[0].title,n=()=>e===me[1].title,s=()=>e===me[2].title,o=()=>e===me[3].title||e===me[13].title,a=()=>e===me[4].title,r=()=>e===me[5].title,l=()=>e===me[16].title,p=()=>e===me[14].title||e===me[15].title,d=()=>e===me[8].title,h=()=>e===me[9].title,f=()=>e===me[10].title,g=()=>e===me[12].title,m=()=>e===me[6].title;return i()?"БС":n()?"ПР":s()?"АВ":o()?"ПК":a()?"МИХ":r()?"СС":p()?"РП":l()?"БАЛТ":d()?"Д":h()?"ПАРК":f()?"ВЛМ":g()?"БГ":m()?"МС":""},QA=e=>{const i=Co(e);return i?i+" ":""},D0=(e,i)=>e.length>8?e.substring(0,8):e.length===3&&(i==null?void 0:i.length)===2?e+"-":e.length===3&&(i==null?void 0:i.length)===4?e.substring(0,2):e,O0=e=>{const i=e.target.selectionStart;let n=e.target.value.replace(/\D/g,""),s="";return n.length?e.target.value.length!==i?/\D/g.test(e.nativeEvent.data??"")?n:e.target.value:(n[0]!=="7"&&(n="7"+n),s="+7"+" ",n.length&&(s+="("+n.substring(1,4)),n.length>=5&&(s+=") "+n.substring(4,7)),n.length>=8&&(s+="-"+n.substring(7,9)),n.length>=10&&(s+="-"+n.substring(9,11)),s):""},ur=(e,i,n,s,o,a=4)=>{var r,l;return i+=n.substring(0,a),!s||!((l=(r=s[0])==null?void 0:r.toLowerCase())!=null&&l.match(/[а-я]/))?i:(i+=s[0].toLowerCase(),i.substring(0,o.length+a+2))},L0=(e,i)=>{var a,r,l,p;const n=e.replace(/\D/g,""),s=e.match(new RegExp("(?<=\\d)[а-яА-Я]"));let o=i+" ";switch(i){case"БС":const d=e.substring(3).match(/^[а-яА-Я]{1,2}/);return!d||!((r=(a=d[0])==null?void 0:a.toUpperCase())!=null&&r.match(/^(А|Б|В|НД?D?)$/))?o:(o+=d[0].toUpperCase(),(d[0].length===1?e[3]&&!e[5]&&e[4]===" ":e[4]&&!e[6]&&e[5]===" ")?o+" ":(n.length>0&&(o+=" "),o+=n.substring(0,3),!s||!((p=(l=s[0])==null?void 0:l.toLowerCase())!=null&&p.match(/[а-я]/))?o:(o+=s[0].toLowerCase(),o.substring(0,10))));case"ПК":return ur(e,o,n,s,i,3);case"АВ":case"ПР":case"СС":case"МИХ":return ur(e,o,n,s,i);case"":return e;default:return o+e.substring(i.length+1)}},R0=e=>e.replace(/\D/g,"").substring(0,4),Kt={groupMask:D0,phoneMask:O0,cabinetMask:L0,innerPhoneMask:R0},z0=(e,i,n,s,o,a,r,l)=>{const[p,d]=c.useState(n),[h,f]=c.useState(s??!1);c.useEffect(()=>{d(n)},[n]);const g=c.useCallback(w=>w.replace(/@\.*/,"@mospolytech.ru").replace(/mospolytech.ru?/,""),[n]);return{inputType:p,danger:h,phoneMaskKeyDown:w=>{w.key==="Backspace"&&(e[1]==="7"&&e.length<=4||e[0]==="8"&&e.length<=3)&&i("")},buttonOnClick:()=>d(w=>w==="password"?"text":"password"),handleOnChange:w=>{if(l)if(r)i(r(w.target.value,e));else if(n==="tel")i(Kt.phoneMask(w));else if(n==="email")i(g(w.target.value));else if(n==="cabinet"){const S=Object.keys(N0).find(k=>w.target.value.startsWith(k));i(Kt.cabinetMask(w.target.value,S||""))}else i(n==="innerPhone"?Kt.innerPhoneMask(w.target.value):w.target.value);else i(w.target.value);if(n==="date"&&(o||a)){const _=new Date(w.target.value);let S=!1;if(o){const k=new Date(o);S=_<k}if(a&&!S){const k=new Date(a);S=_>k}f(S)}}}},F0=u.div.withConfig({componentId:"sc-lq59rg-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.left-icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}.message{margin-bottom:5px;}input{border:none;color:var(--text);outline:none;background:",";width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:",";height:",";max-height:",";border:",";&::placeholder{font-weight:500;}&:focus-visible{outline:",";}&:focus:not(:focus-visible){outline:none;}}.loading-circle{position:absolute;bottom:5px;right:5px;width:25px;height:25px;}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e??"100%",({minWidth:e,width:i})=>e??i,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({inputAppearance:e})=>e?"var(--theme-1)":"transparent",({leftIcon:e,inputAppearance:i})=>e?"30px":i?"10px":"0",({inputAppearance:e})=>e?"35px":"0",mt(ns),mt(ns),({danger:e})=>e&&`2px solid ${y.red.main}`,({inputAppearance:e})=>e&&"4px solid var(--almostTransparentOpposite)"),We=c.forwardRef(function(i,n){const{value:s,setValue:o,leftIcon:a,title:r,required:l,width:p,minWidth:d,customMask:h,placeholder:f="Введите сюда",type:g="text",danger:m,alertMessage:b,loading:x=!1,isActive:w=!0,inputAppearance:_=!0,mask:S=!1,autocomplete:k=!1,minValue:P=void 0,maxValue:T=void 0,minLength:F=void 0,maxLength:R=void 0,hideCross:B=!1,stepSize:ae=.1,size:U="middle"}=i,{inputType:Y,buttonOnClick:Le,danger:_e,handleOnChange:Ve,phoneMaskKeyDown:Ke}=z0(s,o,g,m,P,T,h,S),fe=s&&g==="date"?Ag(new Date(s),"yyyy-MM-dd"):s??"";return t.jsxs(F0,{leftIcon:!!a,isActive:w,inputAppearance:_,width:p,danger:_e,minWidth:d,size:U,children:[t.jsx(L,{size:5,align:"left",visible:!!r,bottomGap:"5px",required:l,children:r}),t.jsx(Z,{type:"alert",visible:!!b,icon:t.jsx(Ng,{}),title:b??""}),a&&t.jsx("span",{className:"left-icon",children:a}),t.jsx("input",{id:f,min:P,max:T,minLength:F,maxLength:R,step:ae??void 0,type:Y,placeholder:f,value:fe,autoComplete:k?"on":"off",onKeyDown:ve=>g==="tel"&&Ke(ve),onChange:Ve,required:l,readOnly:!w,ref:n}),g!=="password"?!!(s!=null&&s.length)&&_&&(x?t.jsx(ut,{}):!B&&t.jsx(j,{icon:t.jsx(St,{}),onClick:()=>o(""),tabIndex:-1})):t.jsx(j,{icon:Y==="password"?t.jsx(Dg,{}):t.jsx(Wo,{}),tabIndex:-1,onClick:Le})]})}),M0=u.div.withConfig({componentId:"sc-1e8ovcm-0"})(["user-select:none;min-width:56px;height:30px;.checkbox{display:none;}.toggle-body{width:100%;height:100%;display:block;position:relative;background:var(--theme-2);cursor:pointer;border-radius:50px;padding:4px;transition:0.2s background;}.toggle-circle{height:100%;background:#fff;width:22px;display:block;border-radius:100%;transition:0.2s;}.checkbox:checked + .toggle-body .toggle-circle{margin-left:calc(100% - 22px);}.checkbox:checked + .toggle-body{background:#6290e4;}.checkbox:active + .toggle-body .toggle-circle{transform:scale(0.9);}"]),$0="/assets/thinking-emoji-f3c10f79.gif",B0=["loading"],H0=u.div.withConfig({shouldForwardProp:e=>!B0.includes(e)}).withConfig({componentId:"sc-1c80rzu-0"})(["position:relative;width:100%;padding:10px;height:100%;.loading{width:100%;height:100%;position:absolute;top:0;left:0;transition:0.2s;opacity:",";visibility:",";transform:scale(",");display:flex;align-items:center;justify-content:center;z-index:5;img{width:40px;}}.content{transition:0.2s;opacity:",";visibility:",";height:100%;}.reload{display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text);& > * + *{margin-top:10px;}}@media (max-width:550px){padding:10px;}"],({loading:e})=>e?1:0,({loading:e})=>e?"visible":"hidden",({loading:e})=>e?"1":"0.98",({loading:e})=>e?0:1,({loading:e})=>e?"hidden":"visible"),Qe=({children:e,load:i,error:n,data:s,deps:o=[],noDataCheck:a=!1,loadEveryVisit:r=!1})=>(c.useEffect(()=>{(!s||r)&&i()},o),t.jsxs(H0,{loading:!!n||!s,children:[t.jsx("span",{className:"loading",children:n?t.jsx("div",{className:"reload",children:t.jsx(je,{text:n,image:a&&$0,children:!a&&t.jsx(j,{onClick:()=>i(),text:"Загрузить снова",icon:t.jsx(ys,{})})})}):t.jsx(ut,{})}),t.jsx("div",{className:"content",children:e})]})),U0=u.a.withConfig({componentId:"sc-jdcjy5-0"})(["display:flex;align-items:center;justify-content:",";border:none;color:",";background:",";padding:",";border-radius:10px;cursor:pointer;font-weight:600;transition:0.2s transform;width:",";text-decoration:none;font-size:0.8em;height:",";min-height:",";opacity:",";pointer-events:",";button{outline:none;}&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:active{transform:scale(0.95);}svg{margin-right:",";width:15px;height:15px;}@media (max-width:1000px){font-size:12px;height:36px;svg{width:14px;height:14px;}}"],({align:e})=>e??"center",({textColor:e})=>e||"var(--text)",({isChosen:e,background:i})=>e?"var(--blue)":i??"var(--search)",({padding:e})=>e??"10px",({width:e})=>e||"fit-content",({height:e="40px"})=>e,({minHeight:e="40px"})=>e,({isActive:e})=>e?1:.5,({isActive:e})=>!e&&"none",({text:e})=>e?"7px":"0"),W0=({icon:e,text:i,onClick:n,width:s,background:o,textColor:a,align:r,href:l,height:p,minHeight:d,padding:h,isActive:f=!0,isChosen:g=!1})=>t.jsxs(U0,{text:!!i,onClick:m=>f&&n&&n(m),isChosen:g,width:s,background:o,textColor:a,href:l,align:r,isActive:f,height:p,padding:h,minHeight:d,children:[!!e&&e,i&&t.jsx("span",{children:i})]}),_n=c.memo(W0),Os=u.div.withConfig({componentId:"sc-1ur01ep-0"})(["width:100%;height:fit-content;max-width:",";padding:20px;border-radius:var(--brLight);background:var(--block);box-shadow:var(--block-shadow);display:flex;flex-direction:column;row-gap:20px;padding-top:",";@media (max-width:1000px){box-shadow:none;padding:10px 0px;background:transparent;}"],({maxWidth:e})=>e??"700px",({noHeader:e})=>e?"20px":"80px"),G0=u.a.withConfig({componentId:"sc-1lxo6dx-0"})(["display:flex;align-items:center;justify-content:flex-start;column-gap:5px;text-decoration:none;color:var(--text);padding:5px;border-radius:var(--brLight);.title{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold;font-size:0.8em;}.icon{display:flex;align-items:center;justify-content:center;min-width:28px;width:28px;height:28px;svg{width:21px;height:21px;}}"]),V0=({title:e,link:i,type:n})=>t.jsxs(G0,{href:i,target:"_blank",children:[t.jsx("div",{className:"icon",children:n==="document"?t.jsx(O,{}):t.jsx(Og,{})}),t.jsx("div",{className:"title",children:e})]}),q0=u.label.withConfig({componentId:"sc-1b034ry-0"})(["transition:0.1s;opacity:",";transform:scale(",");display:flex;align-items:center;opacity:",";cursor:pointer;input[type='checkbox']{display:none;}.checkbox-text{user-select:none;white-space:pre-wrap;font-size:",";margin-left:8px;}&:hover > .checkbox-square{box-shadow:0 0 1px 5px var(--theme-3);}"],({invisibleOnFalse:e,checked:i})=>e?i?1:0:1,({invisibleOnFalse:e,checked:i})=>e?i?1:.8:1,({isActive:e})=>!e&&.7,({fontSize:e})=>e??"1rem"),Y0=u.div.withConfig({componentId:"sc-1b034ry-1"})(["min-width:16px;width:16px;height:16px;border:2px solid var(--grey);border-radius:6px;display:flex;align-items:center;justify-content:center;transition:0.1s box-shadow;.checkbox:checked + &{background:var(--reallyBlue);border:2px solid var(--reallyBlue);}svg{color:#fff;width:13px;height:13px;}&:focus-visible{outline:4px solid var(--theme-4);}&:focus:not(:focus-visible){outline:none;}"]),et=({text:e,checked:i,setChecked:n,fontSize:s,visible:o=!0,isActive:a=!0,invisibleOnFalse:r=!1})=>{if(!o)return null;const l=()=>{a&&n(!i)};return t.jsxs(q0,{checked:i,invisibleOnFalse:r,fontSize:s,isActive:a,className:"checkbox",children:[t.jsx("input",{className:"checkbox",type:"checkbox",checked:i,onChange:l}),t.jsx(Y0,{tabIndex:0,className:"checkbox-square",children:i&&t.jsx(bs,{})}),e&&t.jsx("div",{className:"checkbox-text",children:e})]})},si=u.span.withConfig({componentId:"sc-1qnplef-0"})(["color:#fff;background:",";position:",";box-shadow:",";top:",";left:",";right:",";outline:",";font-size:0.6em;border-radius:10px;display:flex;justify-content:center;align-items:center;transform:translate(-50%,-50%);width:fit-content;padding:0 5px;min-width:16px;font-weight:bold;height:16px;display:",";&::before{content:'';background:",";display:block;width:100%;height:16px;border-radius:10px;position:absolute;inset:0;top:0px;z-index:-1;animation:",";}@keyframes pulse-animation{0%{transform:scale(1);opacity:1;}90%{transform:scale(2);opacity:0;}100%{transform:scale(1);opacity:0;}}"],({color:e})=>y[e??"red"].light1,({position:e})=>e??"absolute",({color:e,shadow:i})=>i&&`0 0 35px ${y[e??"red"].main}`,({top:e})=>e??"50%",({left:e})=>e??"auto",({right:e})=>e??"50%",({outline:e})=>e,({visible:e})=>!e&&"none",({color:e})=>y[e??"red"].light1,({pulsing:e})=>e?"pulse-animation 1s infinite linear":"none"),So=e=>e.split(" ").map(i=>i[0]),ot=(e,i)=>{const n=So(e),s=y[Ym[n[0]]];return s==null?void 0:s[i??"main"]},Q0=(e,i=265,n=200)=>(e.preventDefault(),{x:e.clientX<window.innerWidth/2?e.clientX:e.clientX-i,y:e.clientY<window.innerHeight/2?e.clientY:e.clientY-n}),X0={open:!1,content:null,type:"left-click",position:{x:0,y:0}},K0=()=>ge(J0),Ic=I({name:"open",sid:"-wfpi1u"}),Tc=I({name:"close",sid:"-wdkoya"}),Ec=I({name:"changePosition",sid:"-o97fsi"}),J0=$(X0,{name:"$contextMenuStore",sid:"8g6rv0"}).on(Ic,(e,{content:i,e:n,height:s,type:o="left-click"})=>({position:Q0(n,220,s),open:!0,content:i,type:o})).on(Tc,e=>({...e,open:!1})).on(Ec,(e,{position:i})=>({...e,position:i})),$e={open:Ic,close:Tc,changePosition:Ec},Z0={useContextMenu:K0},hr={isOpen:!1,message:null,onConfirm:()=>null,onReject:()=>null},eb=()=>Ot(tb),Pc=I({name:"evokeConfirm",sid:"-pu33lb"}),Ac=I({name:"closeConfirm",sid:"pyvl9s"}),tb=$(hr,{name:"$confirm",sid:"-3b3bt0"}).on(Pc,(e,{message:i,onReject:n,onConfirm:s,isSubmitSuccess:o})=>({isOpen:!0,message:i,onConfirm:s,onReject:n,isSubmitSuccess:o})).on(Ac,e=>({...e,isOpen:!1})).on(K.userGuid,()=>({...hr})),ib={useConfirm:eb},Ge={evokeConfirm:Pc,closeConfirm:Ac},nb="Jun 26 2024 12:00:00 GMT+0300",Nc="Jun 28 2024 12:00:00 GMT+0300",sb="Подача заявок открыта с 12:00 26 июня до 12:00 28 июня!",XA=e=>{const i=new Date;return i<new Date(nb)?sb:i>new Date(Nc)?"Подача заявок закрыта":""},gr={message:"",type:"success",isOpen:!1,time:2e3},Dc=I({name:"evokePopUpMessage",sid:"-w0lm76"}),Oc=I({name:"openPopUpMessage",sid:"-zezpg0"}),Lc=I({name:"clearStore",sid:"-j3lgvb"});$(gr,{name:"$popUpstore",sid:"7lm213"}).on(Dc,(e,{message:i,type:n,time:s=2e3,onClick:o})=>({isOpen:!0,message:i,type:n,time:s,onClick:o})).on(Oc,(e,{isOpen:i})=>({...e,isOpen:i})).on(Lc,()=>({...gr}));const Ht={evokePopUpMessage:Dc,openPopUpMessage:Oc,clearStore:Lc},fr={listApplication:null,error:null,dataUserApplication:null},Qi=W(async()=>{const e=await Cx();try{return e.data.reverse()}catch{throw new Error("Не удалось загрузить заявления")}},{name:"getApplicationsFx",sid:"tybprn"}),Xn=W(async()=>{const e=await Sx();try{return e.data}catch{throw new Error("Не удалось загрузить информацию о пользователе")}},{name:"getUserDataApplicationsFx",sid:"-ny1ocy"}),Ls=W(async e=>await Ix(e),{name:"postApplicationFx",sid:"l7zpyo"});v({and:[{clock:Ls.doneData,fn:e=>{const i=e.data.dismissalResponse;return i.isError?{message:i.errorString,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:Ht.evokePopUpMessage}],or:{sid:"-ds2jr9"}});v({and:[{clock:Ls.fail,fn:()=>({message:"Не удалось отправить форму. Попробуйте позже",type:"hrFailure",time:3e5}),target:Ht.evokePopUpMessage}],or:{sid:"-cuj3k8"}});const ob=I({name:"clearStore",sid:"wrw6pq"});Ni({and:{from:Ls.doneData,to:Qi},or:{sid:"-ccdvzb"}});$(fr,{name:"$applicationsStore",sid:"-2f4djn"}).on(Xn,e=>({...e,error:null})).on(Xn.doneData,(e,i)=>({...e,dataUserApplication:i})).on(Xn.failData,(e,i)=>({...e,error:i.message})).on(Qi,e=>({...e,error:null})).on(Qi.doneData,(e,i)=>({...e,listApplication:i})).on(Qi.failData,(e,i)=>({...e,error:i.message})).on(ob,()=>({...fr}));const ab={getApplicationsFx:Qi,getUserDataApplicationsFx:Xn,postApplicationFx:Ls},mr={listApplication:null,error:null,dataUserApplication:null,dataWorkerApplication:null},ss=W(async()=>{const e=await jx();try{return e.data}catch{throw new Error("Не удалось загрузить информацию о пользователе")}},{name:"getWorkerPostsFx",sid:"pwe8rj"}),Xi=W(async()=>{const e=await yx();try{return e.data.reverse()}catch{throw new Error("Не удалось загрузить заявления")}},{name:"getApplicationsFx",sid:"-nmy8wp"}),Ki=W(async()=>{const e=await ac();try{return e.data}catch{throw new Error("Не удалось загрузить информацию о пользователе")}},{name:"getUserDataApplicationsFx",sid:"-meik6r"}),da=W(async e=>{const i=await _x(e);if(i.result==="ok")return"ok";throw new Error(i.error_text)},{name:"postApplicationFx",sid:"tvfs23"}),rb=()=>{const{listApplication:e,dataUserApplication:i,dataWorkerApplication:n,error:s}=Ot(lb);return{data:{listApplication:e,dataUserApplication:i,dataWorkerApplication:n},loading:Ot(Ki.pending),workerLoading:Ot(Oe({and:[ss.pending,ab.postApplicationFx.pending,(o,a)=>o||a],or:{name:"workerLoading",sid:"-qy8hlf"}})),error:s}};Ni({and:{from:da.doneData,to:Xi},or:{sid:"-tk9r3i"}});v({and:[{clock:da.failData,fn:e=>({message:`Не удалось отправить форму. Ошибка: ${e.message}`,type:"failure",time:3e4}),target:G.evokePopUpMessage}],or:{sid:"-ti2kq2"}});const lb=$(mr,{name:"$applicationsStore",sid:"dx8185"}).on(Ki,e=>({...e,error:null})).on(Ki.doneData,(e,i)=>({...e,dataUserApplication:i})).on(Ki.failData,(e,i)=>({...e,error:i.message})).on(Xi,e=>({...e,error:null})).on(Xi.doneData,(e,i)=>({...e,listApplication:i})).on(Xi.failData,(e,i)=>({...e,error:i.message})).on(ss,e=>({...e,error:null})).on(ss.doneData,(e,i)=>({...e,dataWorkerApplication:i})).on(K.userGuid,()=>({...mr})),Be={useApplications:rb},kt={getApplicationsFx:Xi,getUserDataApplicationsFx:Ki,postApplicationFx:da,getWorkerPosts:ss},oe=(e,i="long")=>{if(!e)return"";switch(i){case"long":return new Date(Date.parse(e)).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"});case"short":return new Date(Date.parse(e)).toLocaleDateString("ru",{month:"short",day:"numeric"});case"numeric":return new Date(Date.parse(e)).toLocaleDateString("ru",{year:"numeric",month:"2-digit",day:"2-digit"});case"weird":const n=e.getMonth()<10?`0${e.getMonth()+1}`:`${e.getMonth()+1}`;return`${e.getFullYear()}-${n}-${e.getDate()}`;case"extraWeird":const s=e.getMonth()<9?`0${e.getMonth()+1}`:`${e.getMonth()+1}`,o=e.getDate()<10?`0${e.getDate()}`:`${e.getDate()}`;return`${e.getFullYear()}-${s}-${o}`;default:return new Date(Date.parse(e)).toLocaleDateString("ru",{month:"short",day:"numeric"})}},xr=(e,i)=>{if(i){const n=new Date(Date.parse(i));return n.setDate(n.getDate()+e),oe(n,"extraWeird")}else{const n=new Date;return n.setDate(n.getDate()+e),oe(n,"extraWeird")}},Nt=({config:e})=>({title:e.title,data:[{title:"Дата выдачи",type:"date",value:"",editable:!0,fieldName:e.issueDateFieldName,required:!0,minValueInput:xr(-30*11),maxValueInput:xr(0)},{title:"Организация, выдавшая справку",type:"textarea",fieldName:e.organizationFieldName,value:"",editable:!0,required:!0}],documents:{files:[],fieldName:e.docsFieldName,required:!0,maxFiles:1,allowedTypes:["application/pdf"]}}),Bn={kvdCert:Nt({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}}),fluorographyCert:Nt({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}}),vichRwCert:Nt({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}}),graftCert:Nt({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}})},Ce=(e,i)=>{var o;const n=!((o=e.documents)!=null&&o.required)||!!e.documents.files.length,s=!e.addNew||!!e.data.length;return!e.data.find(a=>{var l,p,d;if(a.type==="date"&&(a.maxValueInput||a.minValueInput)){const h=new Date(((l=a.value)==null?void 0:l.toString())??0);if(a.minValueInput){const f=new Date(a.minValueInput);if(h<f)return!0}if(a.maxValueInput){const f=new Date(a.maxValueInput);if(h>f)return!0}}const r=(d=(p=a.value)==null?void 0:p.toString())==null?void 0:d.length;return a.minValueLength&&r&&r<a.minValueLength?!0:i&&a.specialType&&!Object.values(i).includes(a.specialType)?null:a.type!=="checkbox-docs"?!a.value&&a.required:a.required&&!a.items.find(h=>!!h.files.length)})&&n&&s};u.div.withConfig({componentId:"sc-1f20f07-0"})(["display:flex;align-items:flex-start;justify-content:center;position:relative;.message{position:absolute;right:",";left:",";top:",";bottom:",";}.circle + .message{top:",";left:",";right:",";bottom:auto;}.circle{min-width:",";min-height:",";background:",";outline:6px solid ",";margin:6px;border-radius:100%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:0.8em;font-weight:bold;cursor:pointer;}"],({direction:e})=>e==="vertical"?"calc(100% + 10px)":"auto",({direction:e})=>"auto",({direction:e})=>e==="vertical"?"0%":"auto",({direction:e})=>e==="vertical"?"auto":"calc(100% + 10px)",({direction:e})=>e==="vertical"?"0%":"calc(100% + 10px)",({direction:e})=>e==="vertical"?"calc(100% + 10px)":"auto",({direction:e})=>e==="vertical"?"100%":"auto",({type:e})=>e==="big"?"30px":"20px",({type:e})=>e==="big"?"30px":"20px",({reached:e,current:i})=>i?"var(--reallyBlue)":e?y.green.main:y.grey.main,({reached:e,current:i})=>i?y.blue.transparent3:e?y.green.transparent3:y.grey.transparent3);const cb=u.div.withConfig({componentId:"sc-1pl20gt-0"})(["min-width:",";background:var(--almostTransparentOpposite);border-radius:10px;height:",";overflow:hidden;width:100%;.inside-line{height:",";border-radius:10px;width:",";background:",";}"],({direction:e,distance:i})=>e==="vertical"?"5px":(i??100)+"px",({direction:e,distance:i})=>e==="vertical"?(i??100)+"px":"5px",({direction:e,filled:i})=>e==="vertical"?(i??100)+"%":"5px",({direction:e,filled:i})=>e==="vertical"?"100%":(i??100)+"%",({reached:e})=>e?y.green.main:"none"),db=({distance:e,filled:i,reached:n,direction:s})=>t.jsx(cb,{direction:s,distance:e,reached:n,filled:i,children:t.jsx("div",{className:"inside-line"})}),pb=300,Rs=({defaultValue:e,onDebounce:i,onClear:n,triggerOn:s,triggerDelay:o,deps:a=[],delay:r=pb})=>{const[l,p]=c.useState(e??""),[d,h]=c.useState(""),[f,g]=c.useState(!1);return c.useEffect(()=>{if(l!==null)if(l.length){g(!0);const m=setTimeout(async()=>{await i(l),h(l),g(!1)},r);return()=>clearTimeout(m)}else d.length!==0&&(n==null||n(l),p(""),g(!1))},[l]),c.useEffect(()=>{if(a.length&&((s==null?void 0:s(l))??!0)){g(!0);const m=setTimeout(async()=>{await i(l),g(!1)},o??r);return()=>clearTimeout(m)}},[...a]),[l,p,f]},Ae=(e,i)=>{if(!e.length)return"";const n=i??!0,s=e.replace(/\s/g,"").replace(/\$/g,"s").replace(/-/g,"").toLowerCase();return n?s.replace(/[,'._/]/g,""):s},Rc=e=>{const i={a:"ф",b:"и",c:"с",d:"в",e:"у",f:"а",g:"п",h:"р",i:"ш",j:"о",k:"л",l:"д",m:"ь",n:"т",o:"щ",p:"з",q:"й",r:"к",s:"ы",t:"е",u:"г",v:"м",w:"ц",x:"ч",y:"н",z:"я","[":"х","{":"Х","]":"ъ","}":"Ъ","'":"э",";":"ж",",":"б",".":"ю","<":"Б",">":"Ю",":":"Ж",'"':"Э"};let n="";for(let s=0;s<e.length;s++){const o=Ae(e.charAt(s),!1),a=i[o]?s===0?i[o].toUpperCase():i[o]:o;n+=a}return n},zc=e=>/[A-Za-z]/.test(e),ub=u.span.withConfig({componentId:"sc-fcxzak-0"})(["color:var(--blue);font-weight:500;border-radius:2px;cursor:pointer;&:hover{background:",";}&:focus-visible{background:",";outline:none;}&:focus:not(:focus-visible){outline:none;}"],y.blue.transparent2,y.blue.transparent2),Fc=({value:e,setValue:i,visible:n=!0})=>{if(e.length===0||!n||!zc(e))return null;const s=Rc(e),o=()=>i(s);return t.jsxs(se,{width:"100%",maxWidth:"100%",onClick:o,children:["Возможно, вы имели в виду ",t.jsx(ub,{tabIndex:10,children:s})]})};function Oi(e,i){c.useEffect(()=>{const n=s=>{const o=e==null?void 0:e.current;!o||o.contains(s.target)||i(s)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,i])}function Ft(e,i,n=0){return e>i?n:e<n?i:e}const hb=u.div.withConfig({componentId:"sc-19hjk36-0"})(["display:flex;flex-direction:column;row-gap:8px;width:",";position:relative;"],({width:e})=>e??"100%"),gb=u(Tt).withConfig({componentId:"sc-19hjk36-1"})(["position:absolute;top:45px;z-index:10;height:auto;width:100%;left:0;overflow-y:auto;"]),fb=u.div.withConfig({componentId:"sc-19hjk36-2"})(["padding:8px 12px;width:100%;display:flex;align-items:center;gap:8px;font-weight:",";color:",";background:",";font-size:0.85rem;.icon{display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;}}&:hover{background:",";}"],({selected:e})=>e?"600":"500",({selected:e})=>e?"#fff":"var(--text)",({selected:e})=>e?y.blue.main:"transparent",({selected:e})=>e?y.blue.main:"var(--theme-1)"),Li=({value:e,width:i,placeholder:n,inputAppearance:s,loading:o,hints:a,leftIcon:r,focusOn:l,setValue:p,customMask:d,onHintClick:h,validationCheck:f=!1,size:g="middle"})=>{const[m,b]=c.useState(0),[x,w]=c.useState(!1),_=c.useRef(null),S=c.useRef(null),k=c.useRef(null);Oi(_,()=>w(!1)),c.useEffect(()=>{l&&setTimeout(()=>{var R;return(R=k.current)==null?void 0:R.focus()},50)},[l]);const P=R=>{var B,ae;(((a==null?void 0:a.length)??0)>0||o)&&w(!0),R.key==="ArrowDown"?((B=S.current)==null||B.scrollIntoView({block:"start",behavior:"smooth"}),typeof m=="number"&&b(Ft(m+1,((a==null?void 0:a.length)??1)-1,0))):R.key==="ArrowUp"?((ae=S.current)==null||ae.scrollIntoView({block:"end",behavior:"smooth"}),typeof m=="number"&&b(Ft(m-1,((a==null?void 0:a.length)??1)-1,0))):R.key==="Enter"?(a!=null&&a[m??0].title&&p(a==null?void 0:a[m??0].title),w(!1),h==null||h(a==null?void 0:a[m??0])):b(0)},T=R=>()=>{b(R),p((a==null?void 0:a[R].title)??""),w(!1),h==null||h(a==null?void 0:a[R])},F=()=>{a!=null&&a.length&&w(!0)};return t.jsxs(hb,{width:i,onKeyDown:P,onMouseDown:F,ref:_,children:[t.jsx(We,{size:g,value:e,placeholder:n,leftIcon:r??t.jsx(ji,{}),inputAppearance:s,setValue:p,loading:o,width:i,mask:!0,customMask:d,ref:k}),t.jsx(Fc,{setValue:p,value:e,visible:f}),x&&t.jsx(gb,{height:"fit-content",maxWidth:"100%",maxHeight:"250px",width:"100%",onKeyDown:P,padding:"0",orientation:"vertical",children:a==null?void 0:a.map(({title:R,icon:B},ae)=>{const U=m===ae;return t.jsxs(fb,{onClick:T(ae),ref:U?S:null,selected:U,children:[B&&t.jsx("div",{className:"icon",children:B}),t.jsx("span",{children:R})]},R+ae)})})]})},pa=({whereToSearch:e,searchEngine:i,setResult:n,inputAppearance:s,setExternalValue:o,hints:a,width:r,loadingOnType:l=!1,placeholder:p="Поиск по меню",validationCheck:d=!1})=>{const h=w=>{n(i(w,e))},f=()=>{n(null)},[g,m,b]=Rs({onDebounce:h,onClear:f}),x=w=>{m(w),o&&o(w)};return t.jsx(Li,{value:g??"",setValue:x,inputAppearance:s,placeholder:p,validationCheck:d,loading:l?b:!1,hints:a,width:r})},mb=({id:e,isToggled:i,setIsToggled:n})=>t.jsxs(M0,{children:[t.jsx("input",{type:"checkbox",name:e,id:e,className:"checkbox",checked:i,onChange:n}),t.jsx("label",{className:"toggle-body",htmlFor:e,children:t.jsx("span",{className:"toggle-circle"})})]}),Mc=u.div.withConfig({componentId:"sc-54ypew-0"})(["width:8px;height:8px;border-radius:100%;margin:3px;"]),xb=u(Mc).withConfig({componentId:"sc-54ypew-1"})(["background:var(--almostTransparentOpposite);"]),bb=u(Mc).withConfig({componentId:"sc-54ypew-2"})(["transition:0.2s;left:0;position:absolute;background:",";transform:",";"],({color:e})=>y[e??"blue"].main,({current:e})=>`translateX(${e*16}px)`),$c=({amount:e,current:i,color:n,direction:s="horizontal"})=>e<=1?null:t.jsxs(Ne,{direction:s,gap:2,width:"fit-content",minWidth:"fit-content",verticalAlign:"center",horizontalAlign:"center",children:[Array(e).fill(0).map((o,a)=>t.jsx(xb,{},a)),t.jsx(bb,{color:n,current:i})]}),wb=u.div.withConfig({componentId:"sc-18zd6l5-0"})(["display:flex;flex-direction:column;justify-content:center;"]),vb=({checkbox:e,loadfile:i,docVisible:n})=>t.jsxs(wb,{children:[t.jsx(et,{...e}),n&&t.jsx(ha,{...i})]}),yb=u.div.withConfig({componentId:"sc-1ml0vvo-0"})(["width:100%;display:flex;align-items:center;gap:5px;flex-direction:column;.date-interval-inputs{width:100%;display:flex;align-items:center;gap:10px;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),Bc=({title:e,required:i,dates:n,setDates:s,valid:o,setValid:a,diff:r,minValue:l})=>{if(c.useEffect(()=>{a(new Date(n[0])<=new Date(n[1])||!n[0].length||!n[1].length)},[n]),r!=null){const p=new Date(n[0]),d=new Date(p);d.setDate(p.getDate()+r),n[1]=oe(d,"extraWeird")}return t.jsxs(yb,{children:[t.jsx(L,{size:5,align:"left",visible:!!e,required:i,children:e}),t.jsx(Z,{title:"Внимание",type:"alert",icon:t.jsx(nn,{}),visible:!o,children:"Дата начала не может быть больше даты конца"}),t.jsxs("div",{className:"date-interval-inputs",children:[t.jsx(We,{value:n[0],danger:!o,setValue:p=>s([p,n[1]]),type:"date",minValue:l}),t.jsx(We,{value:n[1],setValue:p=>s([n[0],p]),type:"date",danger:!o})]})]})},Cn=()=>{const[e,i]=c.useState({width:0,height:0}),n=()=>{i({width:window.innerWidth,height:window.innerHeight})};return c.useEffect(()=>(n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),e},jb=(e,i)=>{var x,w,_;const{width:n}=Cn(),s=c.useRef(null),[o,a]=c.useState(!1),[r,l]=c.useState(!1),[p,d]=c.useState(0),[h,f]=c.useState(0),g=((x=s.current)==null?void 0:x.clientWidth)??1,m=Math.ceil((((w=s.current)==null?void 0:w.scrollWidth)??0)/(g+(e??0)));return c.useEffect(()=>{s.current&&(s.current.scrollLeft=p,s.current.clientWidth<s.current.scrollWidth?(a(!0),l(!0)):(l(!1),a(!1)))},[p,(_=s.current)==null?void 0:_.clientWidth,n,i]),{listRef:s,leftArrow:o,rightArrow:r,setScrollLeft:d,pageOffset:g,amountOfPages:m,currentPage:h,setCurrentPage:f,handleScroll:S=>{f(Math.ceil(S.currentTarget.scrollLeft/(g+(e??0))))}}},kb=e=>{const{title:i,children:n,gap:s,width:o,height:a,padding:r,fontSize:l,wrap:p,onAdd:d,onWatchMore:h,onDelete:f,showPages:g,innerPadding:m,minWidth:b,wrapOnMobile:x,position:w,direction:_="vertical",verticalAlign:S="top",horizontalAlign:k="left",scroll:P=!0,visible:T=!0,forwardedRef:F,...R}=e;if(!T)return null;const{listRef:B,leftArrow:ae,rightArrow:U,handleScroll:Y,setScrollLeft:Le,pageOffset:_e,amountOfPages:Ve,currentPage:Ke}=jb(s,n);return t.jsxs(Qx,{ref:F,padding:r,position:w,width:o,minWidth:b,height:a,children:[t.jsxs(L,{size:4,align:"left",bottomGap:!0,visible:!!i,width:"calc(fit-content + 50px)",children:[i,d&&t.jsx(j,{icon:t.jsx(ti,{}),width:"35px",height:"15px",background:y.grey.transparent3,textColor:"var(--reallyBlue)",onClick:d}),h&&t.jsx(j,{width:"50px",height:"15px",background:y.blue.transparent3,textColor:y.blue.light1,onClick:h,text:"Ещё"}),f&&t.jsx(j,{width:"fit-content",height:"15px",background:y.grey.transparent3,textColor:"var(--reallyBlue)",onClick:f,text:"Удалить"})]}),t.jsx(As,{verticalAlign:S,horizontalAlign:k,direction:_,ref:B,gap:s,width:o,height:a,fontSize:l,wrap:p,innerPadding:m,scroll:P,wrapOnMobile:x,onScroll:Y,...R,children:n}),(U||ae)&&t.jsxs("div",{className:"bottom-wrapper",children:[ae&&t.jsx(j,{background:"transparent",minWidth:"40px",height:"25px",icon:t.jsx(jn,{}),className:"left-button",textColor:y.grey.main,onClick:()=>{Le(fe=>{var ve;return Ft(fe-_e-(s??0),((ve=B.current)==null?void 0:ve.scrollWidth)??0)})}}),g&&t.jsx($c,{direction:"horizontal",current:Ke,amount:Ve}),U&&t.jsx(j,{background:"transparent",minWidth:"40px",height:"25px",icon:t.jsx(xt,{}),className:"right-button",textColor:y.grey.main,onClick:()=>{Le(fe=>{var ve;return Ft(fe+_e+(s??0),((ve=B.current)==null?void 0:ve.scrollWidth)??0)})}})]})]})},Ne=de.memo(kb),Hc=e=>e.split("/")[1],_b=e=>e*1024*1024,Cb=(e,i)=>(i??Qm).indexOf(e.type)!==-1,br=(e,i,n,s,o=Xm)=>{if(n&&i.length+e.length>n)return G.evokePopUpMessage({message:`Нельзя загрузить больше ${n} файлов`,type:"failure"}),i;for(let a=0;a<e.length;a++)return Cb(e[a],s)?e[a].size>_b(o)?(G.evokePopUpMessage({message:`Размер файла слишком большой. Максимальный размер файла: ${o} MB`,type:"failure",time:1e4}),i):[...i,e[a]]:(console.log(e[a]),G.evokePopUpMessage({message:`Неверный формат файла. Доступные форматы: ${s==null?void 0:s.map(r=>Hc(r))}`,type:"failure",time:5e3}),i)},Sb=u.label.withConfig({componentId:"sc-1j2y5lo-0"})(["width:100%;min-height:150px;border-radius:var(--brLight);transition:0.2s border;border:",";background:",";display:flex;justify-content:center;align-items:center;flex-direction:column;cursor:",";pointer-events:",";opacity:",";position:relative;.info{display:flex;flex-wrap:wrap;gap:5px;padding:4px;border-radius:var(--brLight);background:red;pointer-events:none;width:calc(100% + 6px);.info-item{padding:5px 10px;background:var(--block);border-radius:5px;display:flex;align-items:center;justify-content:center;font-size:0.7em;font-weight:600;pointer-events:none;}}input[type='file']{display:none;}.message{display:flex;justify-content:center;align-items:center;flex-direction:column;opacity:0.7;color:var(--text);pointer-events:none;b{font-weight:600;margin-bottom:4px;}.front-icon{z-index:2;}.icons-behind{z-index:1;position:absolute;filter:grayscale(1);opacity:0.7;transform:scale(0.8);& .icon-1{opacity:0;animation:",";}& .icon-2{opacity:0;animation:",";}@keyframes behind-1{0%{opacity:0;transform:translate(10px,-15px) rotate(0deg);}100%{opacity:1;transform:translate(-3px,-15px) rotate(-10deg);}}@keyframes behind-2{0%{opacity:0;transform:translate(-10px,-15px) rotate(0deg);}100%{opacity:1;transform:translate(3px,-15px) rotate(10deg);}}}svg{width:40px;height:40px;margin-bottom:10px;transition:0.2s;animation:",";@keyframes jumping{0%{transform:translateY(0%);}100%{transform:translateY(-5%) scale(1.1);}}}}"],({showPulse:e})=>e?`2px dashed ${y.blue.main}`:`2px dashed ${y.grey.main}`,({showPulse:e})=>e?y.blue.transparent3:"",({isActive:e})=>e&&"pointer",({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.4,({showPulse:e})=>e?"behind-1 0.5s forwards":"",({showPulse:e})=>e?"behind-2 0.5s forwards":"",({showPulse:e})=>e?"jumping 1s forwards":""),at=({words:e})=>{if(!e.length)return null;const i=e.filter(n=>n.length!==0);return t.jsx(t.Fragment,{children:i.map((n,s)=>n+(s===i.length-1?"":" • "))})},Ib=({files:e,maxFiles:i,setFiles:n,isActive:s,formats:o,maxFileSizeInMegaBytes:a})=>{const r=c.useRef(null),[l,p]=c.useState(!1),d=b=>{const x=b.target.files;x!=null&&x.length&&n(br(x,e,i,o,a))},h=b=>{b.preventDefault()},f=b=>{b.preventDefault(),p(!1);const x=b.dataTransfer.files;x.length&&n(br(x,e,i,o,a))},g=b=>{b.preventDefault(),p(!0)},m=b=>{b.preventDefault(),p(!1)};return t.jsxs(Sb,{isActive:s,showPulse:l,onDragOver:b=>s&&h(b),onDragEnter:b=>s&&g(b),onDragLeave:b=>s&&m(b),onDrop:b=>s&&f(b),topPadding:!!i,children:[t.jsx("input",{type:"file",name:"",id:"",ref:r,onChange:d}),t.jsxs("div",{className:"message",children:[t.jsx(uo,{className:"front-icon"}),t.jsxs("div",{className:"icons-behind",children:[t.jsx(uo,{className:"icon-1"}),t.jsx(uo,{className:"icon-2"})]}),t.jsx("b",{children:"Нажмите сюда или перетащите файл"}),t.jsx(se,{align:"center",children:t.jsx(at,{words:[`Форматы: ${o?o.map(b=>Hc(b)).join(", "):"jpg, png, pdf"}`,i?`Макс. файлов: ${i}`:""]})})]})]})},Tb=e=>{if(e===0)return"0 Bytes";const i=1024,n=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(i));return parseFloat((e/Math.pow(i,s)).toFixed(2))+" "+n[s]},Eb=(e,i,n)=>(e.preventDefault(),e.stopPropagation(),[...n.filter(o=>o.name!==i)]),Pb=u.div.withConfig({componentId:"sc-pc8war-0"})(["width:100%;padding:6px;display:flex;justify-content:space-between;align-items:center;background:",";border-radius:var(--brLight);.file-body{display:flex;gap:8px;align-items:center;.name-and-size{display:flex;flex-direction:column;.file-name{font-size:0.8em;word-break:break-all;}}.image-container{padding:8px;display:flex;align-items:center;justify-content:center;background:var(--theme);border-radius:var(--brLight);svg{width:20px;height:20px;}}}"],y.grey.transparent3),Ab=({file:e,files:i,setFiles:n})=>{const{open:s}=H(),o=(r,l)=>{r.preventDefault(),r.stopPropagation();const p=new FileReader;p.onloadend=()=>{s(t.jsx(la,{src:p.result,loading:!1,width:"500px",height:""}))},l&&p.readAsDataURL(l)},a=r=>Ge.evokeConfirm({message:"Вы уверены, что хотите удалить файл?",onConfirm:()=>n(Eb(r,e.name,i))});return t.jsxs(Pb,{onClick:r=>r.preventDefault(),children:[t.jsxs("div",{className:"file-body",onClick:r=>e.type.includes("image")&&o(r,e),children:[t.jsx("div",{className:"image-container",children:e.type.includes("image")?t.jsx(Lg,{}):t.jsx(Zn,{})}),t.jsxs("div",{className:"name-and-size",children:[t.jsx("b",{className:"file-name",children:e.name}),t.jsx(se,{fontSize:"0.7em",children:Tb(e.size)})]})]}),t.jsx(j,{icon:t.jsx(St,{}),height:"30px",width:"30px",background:"transparent",onClick:a})]})},ua=({files:e,setFiles:i,hideHeader:n,className:s})=>{const o=n?{}:{title:"Список файлов",visible:!!e.length,onDelete:()=>{Ge.evokeConfirm({message:"Вы уверены, что хотите удалить все файлы?",onConfirm:()=>i([])})}};return t.jsx(Ne,{...o,className:s,children:e.map(a=>t.jsx(Ab,{file:a,files:e,setFiles:i},a.name))})},ha=e=>t.jsxs(Ne,{gap:12,children:[t.jsx(Ib,{...e}),t.jsx(ua,{files:e.files,setFiles:e.setFiles})]}),Nb=({documents:e,optionalCheckbox:i,data:n,setData:s,optional:o,collapsed:a,confirmed:r,defaultOpenArea:l})=>{const[p,d]=c.useState(r===void 0),[h,f]=c.useState(!a),[g,m]=c.useState(!1),b=()=>{if(n[0]===void 0&&!(i!=null&&i.value)&&(i!=null&&i.required))return G.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3});Array.isArray(n[0])?e?i!=null&&i.required?e.files.length&&e.required||i.value?(s(k=>(k.confirmed=!0,{...k})),d(!1),f(!1)):G.evokePopUpMessage({message:"Необходимо загрузить файл. Если у вас нет соответствующего документа, отметье это галочкой",type:"failure",time:5e3}):!p&&!n.find(k=>!!k.find(P=>!P.value&&P.required))||i!=null&&i.value&&!e.required||e.files.length||!e.required?(s(k=>(k.confirmed=!0,{...k})),d(!1),f(!1)):G.evokePopUpMessage({message:"Необходимо загрузить файл",type:"failure",time:5e3}):i!=null&&i.value&&i.required||!n.length||!n.find(k=>!!k.find(P=>!P.value&&P.required))&&!n.find(k=>!!k.find(P=>{var T;return P.value.id==="not-chosen"&&!!((T=P.items)!=null&&T.length)}))?(s(k=>(k.confirmed=!0,{...k})),d(!1),f(!1)):G.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3}):e?i!=null&&i.required?e.files.length&&e.required||i.value?(s(k=>(k.confirmed=!0,{...k})),d(!1),f(!1)):G.evokePopUpMessage({message:"Необходимо загрузить файл. Если у вас нет соответствующего документа, отметьте это галочкой",type:"failure",time:5e3}):!p&&!n.find(k=>!k.value&&k.required)||i!=null&&i.value&&!e.required||e.files.length||!e.required?(s(k=>(k.confirmed=!0,{...k})),d(!1),f(!1)):G.evokePopUpMessage({message:"Необходимо загрузить файл",type:"failure",time:5e3}):i!=null&&i.value&&i.required||!n.find(k=>!k.value&&k.required)&&!n.find(k=>{var P;return k.value===null&&!!((P=k.items)!=null&&P.length)})?(s(k=>(k.confirmed=!0,{...k})),d(!1),f(!1)):G.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3})},x=()=>{s(k=>{const P=k.default[0].map(T=>({fieldName:T.fieldName??"",title:T.title,value:T.type==="select"&&(T!=null&&T.items)?null:"",type:T.type,items:T.items,width:T.width,required:T.required}));return{...k,data:[...k.data,P]}})},w=k=>{s(P=>{const T=P.data.filter((F,R)=>k!==R);return{...P,data:T}})},_=k=>{s(P=>(P.documents&&(P.documents.files=[...k]),{...P}))},S=()=>{i&&(i.value=!i.value),s(k=>({...k,optionalCheckbox:i}))};return c.useEffect(()=>{f(!g&&o?!1:a?!a:!!l)},[g,a]),{openArea:h,changeInputArea:p,included:g,setOpenArea:f,setIncluded:m,setChangeInputArea:d,handleRemove:w,handleAddNew:x,handleLoadFiles:_,handleConfirm:b,handleCheckbox:S}},Db=u.div.withConfig({componentId:"sc-mwppph-0"})(["width:100%;display:flex;flex-direction:column;transition:0.2s row-gap;row-gap:",";.inputs{display:flex;flex-direction:column;row-gap:15px;transition:0.2s height,0.2s opacity,0.2s visibility;height:",";opacity:",";visibility:",";.data-line{display:flex;align-items:flex-end;column-gap:5px;}}"],({openArea:e})=>e?"15px":"0",({openArea:e})=>e?"auto":"0",({openArea:e})=>e?"1":"0",({openArea:e})=>e?"visible":"hidden"),Io=(e,i)=>{const n=e.find(s=>s.id.toString()===i[0]);return i.length&&(n!=null&&n.children)?(i.shift(),Io(n.children,i)):n?n.children:e},Ob=e=>{const{items:i,setSelected:n,onClick:s,selected:o,appearance:a=!0,multiple:r=!1}=e,[l,p]=c.useState(!1),d=c.useRef(null),h=c.useRef(null),[f,g]=c.useState([]),[m,b]=c.useState(i),[x,w]=c.useState("");c.useEffect(()=>{b(i)});const _=c.useCallback(()=>{p(P=>!P)},[p]),S=c.useCallback(P=>{if(P.children)f.push(P.id.toString()),b(Io(i,[...f])??[]),g([...f]);else{if(r)if(o)if(o.find(T=>T.id===P.id)){const T=o.filter(F=>F.id!==P.id);T.length?n(T):n(null)}else n([...o,P]);else n([P]);else n(P);!r&&_(),w(f.join("/"))}s==null||s(P)},[n,f]),k=c.useCallback(()=>{f.pop(),g([...f]),f.length===0?b(i):b(Io(i,f)??[])},[f,b]);return Oi(d,()=>{l&&_()}),{handleOpen:_,refElement:d,isOpen:l,multiple:r,handleSelect:S,selectedRoute:x,currentItems:m,route:f,goBack:k,refItems:h,appearance:a}},Lb=u.div.withConfig({componentId:"sc-1fwtyz-0"})(["display:flex;justify-content:space-between;align-items:center;min-height:",";padding:",";box-shadow:",";position:relative;background:var(--block-content);border-radius:6px;overflow:hidden;&:hover{filter:brightness(0.98);}"],mt(ns),({multiple:e})=>e?"5px 10px 5px 5px":"5px 10px",({appearance:e})=>e&&"var(--block-content-shadow)"),Rb=u.div.withConfig({componentId:"sc-ij5vqu-0"})(["max-width:",";width:100%;min-width:50px;min-height:",";position:relative;user-select:none;font-weight:599;white-space:nowrap;font-size:",";z-index:",";opacity:",";pointer-events:",";color:var(--text);cursor:pointer;transition:0.3s;&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:active{transform:translateY(3px);}"],({width:e})=>e??"155px",mt(ns),({appearance:e})=>e&&"0.9em",({isOpen:e})=>e?5:2,({isActive:e})=>!e&&.7,({isActive:e})=>!e&&"none"),zb=u.header.withConfig({componentId:"sc-lxnhqo-0"})(["display:flex;align-items:center;width:calc(100% - 15px);column-gap:5px;overflow-x:auto;&::-webkit-scrollbar{display:none;}.single-header,.header-item{display:flex;align-items:center;}.header-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;}.not-chosen{font-size:",";opacity:",";&.multi{margin-left:5px;}}.header-item{background:",";color:",";border-radius:6px;padding:5px 10px;font-size:0.85em;min-width:fit-content;}.icon{float:left;display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}"],({appearance:e})=>e&&"0.9em",({appearance:e})=>e&&"0.6",y.blue.transparent2,y.blue.main),Fb=u.ul.withConfig({componentId:"sc-qv0atr-0"})(["max-width:",";width:100%;min-width:50px;min-height:60px;position:absolute;top:",";box-shadow:var(--very-mild-shadow);border-radius:6px;background:var(--block-content);user-select:none;max-height:250px;overflow-y:auto;overflow-x:hidden;opacity:0;transition:0.2s opacity,0.2s visibility,0.2s top,height 0.3s;&.open{opacity:1;visibility:visible;top:",";}&.close{opacity:0;visibility:hidden;display:none;top:36px;}"],({width:e})=>e??"155px",({title:e})=>e?"80px":"46px",({title:e})=>e?"60px":"46px"),wr=u.li.withConfig({componentId:"sc-8p0565-0"})(["list-style-type:none;background:var(",");color:",";min-height:30px;padding:5px 10px;display:flex;align-items:center;justify-content:space-between;.icon{display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}.select-item-title{overflow:hidden;white-space:pre-line;width:100%;text-overflow:ellipsis;}animation:fadeIn 0.4s forwards;&::before{content:'';display:block;position:absolute;margin-top:auto;margin-bottom:auto;margin-left:-7px;min-width:",";height:5px;border-radius:10px;background:var(--reallyBlue);}.back-button{display:flex;align-items:center;justify-content:flex-start;color:var(--blue);transition:0.2s transform;&:active{transform:translateX(-20px);}}@keyframes fadeIn{0%{opacity:0;transform:scale(1.04);}100%{opacity:1;transform:scale(1);}}"],({isSelected:e})=>e?"--reallyBlue":"",({isSelected:e})=>e?"#fff":"",({leadingToSelected:e})=>e?"5px":"0px"),Mb=["isOpen"],$b=u(Rg).withConfig({shouldForwardProp:e=>!Mb.includes(e)}).withConfig({componentId:"sc-4j7s4z-0"})(["transition:0.3s;min-width:15px;transform:rotateZ(",");"],({isOpen:e})=>e?"0deg":"180deg"),Bb=e=>{const{handleOpen:i,refElement:n,isOpen:s,multiple:o,handleSelect:a,selectedRoute:r,currentItems:l,route:p,goBack:d,refItems:h,appearance:f}=Ob(e),{isActive:g,width:m,title:b,required:x,selected:w,placeholder:_,size:S="middle"}=e;return t.jsxs(Rb,{onClick:i,appearance:f,ref:n,isOpen:s,isActive:g??!0,width:m,size:S,children:[t.jsx(L,{size:4,align:"left",bottomGap:"5px",visible:!!b,required:x,children:b}),t.jsxs(Lb,{multiple:o,appearance:f,size:S,children:[t.jsx(zb,{appearance:f,children:o?w?w.map(k=>t.jsxs("div",{className:"header-item",children:[!!k.icon&&t.jsx("span",{className:"icon",children:k.icon}),t.jsx("span",{className:"header-title",children:k.title})]},k.id)):t.jsx("span",{className:"not-chosen multi",children:_??"Не выбрано"}):t.jsx("div",{className:"single-header",children:w?t.jsxs(t.Fragment,{children:[!!w.icon&&t.jsx("span",{className:"icon",children:w.icon}),t.jsx("span",{className:"header-title",children:w.title})]}):t.jsx("span",{className:"not-chosen",children:_??"Не выбрано"})})}),t.jsx($b,{isOpen:s})]}),t.jsxs(Fb,{width:m,ref:h,isOpen:s,className:s?"open":"close",itemsAmount:l.length+(p.length?1:0),title:b,children:[!!p.length&&t.jsx(wr,{isSelected:!1,onClick:k=>{k.stopPropagation(),d()},children:t.jsxs("span",{className:"back-button",children:[t.jsx(jn,{}),"Назад"]})},-1),l.map(({id:k,icon:P,title:T,children:F,data:R})=>t.jsxs(wr,{onClick:B=>{B.stopPropagation(),a({id:k,icon:P,title:T,children:F,data:R})},isSelected:!o&&!!w&&w.title.includes(T),leadingToSelected:r.includes(k.toString()),children:[!!P&&t.jsx("span",{className:"icon",children:P}),t.jsx("span",{className:"select-item-title",children:T}),!!F&&t.jsx("span",{className:"right-icon",children:t.jsx(xt,{})}),o&&!!w&&!!w.find(B=>B.title.includes(T))&&t.jsx("span",{className:"right-icon",children:t.jsx(bs,{})})]},T))]})]})},ga=c.memo(Bb),Hb=u.div.withConfig({componentId:"sc-1p4newz-0"})(["padding:0px 12px;height:45px;width:100%;min-width:fit-content;display:flex;align-items:center;border-radius:var(--brLight);opacity:",";pointer-events:",";.icon{width:22px;height:22px;margin-right:10px;display:flex;justify-content:center;align-items:center;svg{width:22px;height:22px;opacity:0.4;}}& > label{display:flex;align-items:center;justify-content:space-between;width:100%;user-select:none;cursor:pointer;min-width:fit-content;gap:8px;b{color:var(--text);opacity:0.7;font-weight:500;font-size:0.85rem;}}&:hover{background:var(--theme-1);}"],({disabled:e})=>e?"0.5":"1",({disabled:e})=>e?"none":"all"),Pe=({title:e,state:i,action:n,icon:s,disabled:o})=>{const a=()=>{n(!i)};return t.jsxs(Hb,{disabled:o,children:[s&&t.jsx("div",{className:"icon",children:s}),t.jsxs("label",{children:[t.jsx("b",{children:e}),t.jsx(mb,{id:e,isToggled:i,setIsToggled:a},e)]})]},e)};u.div.withConfig({componentId:"sc-teqowe-0"})(["width:100%;h2{margin-top:10px;}"]);const Ub=u.div.withConfig({componentId:"sc-51ymr4-0"})([""]),Wb=({title:e,items:i,setChecked:n,setFiles:s})=>t.jsxs(Ub,{children:[t.jsx(L,{size:5,align:"left",bottomGap:!0,children:e}),i.map(({value:o,title:a,files:r,maxFiles:l,checkboxCondition:p,maxFileSizeInMegaBytes:d},h)=>t.jsx(vb,{checkbox:{checked:o,setChecked:()=>n(o,h),text:a},loadfile:{files:r,maxFiles:l,maxFileSizeInMegaBytes:d,isActive:!0,setFiles:f=>s(f,h)},docVisible:p==="straight"?o:!o},a))]}),Gb=({title:e,buttons:i,required:n=!1,current:s,setCurrent:o,isSpecificRadio:a=!1})=>t.jsxs("div",{children:[t.jsx(L,{visible:!!e,size:5,align:"left",bottomGap:!0,required:n,children:e}),t.jsxs(Ne,{children:[!a&&t.jsx(et,{text:"Не выбрано",checked:s===null,setChecked:()=>o(null)},-1),i.map(r=>{const{id:l,title:p}=r;return t.jsx(et,{text:p,checked:l===(s==null?void 0:s.id),setChecked:()=>o({id:l,title:a?l.toString():p})},l)})]})]}),Vb=u.div.withConfig({componentId:"sc-1ywubg9-0"})(["width:100%;text-align:start;margin-top:-10px;margin-bottom:10px;.title{font-size:0.83em;font-weight:bold;}.value{font-size:0.83em;padding-left:10px;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),qb=({title:e,value:i,visible:n})=>n?t.jsxs(Vb,{children:[t.jsxs("span",{className:"title",children:[e,":"]})," ",t.jsx("span",{className:"value",children:i})]}):null,Yb=u.div.withConfig({componentId:"sc-n6paow-0"})(["transition:0.1s;opacity:",";transform:scale(",");display:flex;align-items:center;opacity:",";.hr-checkbox-text{user-select:none;white-space:pre-wrap;font-size:0.75em;}svg{color:var(--reallyBlue);background:var(--theme);border-radius:100%;padding:2px;}"],({invisibleOnFalse:e,checked:i})=>e?i?1:0:1,({invisibleOnFalse:e,checked:i})=>e?i?1:.8:1,({isActive:e})=>!e&&.7),Qb=({text:e,checked:i,setChecked:n,visible:s=!0,isActive:o=!0,invisibleOnFalse:a=!1})=>s?t.jsxs(Yb,{checked:i,invisibleOnFalse:a,onClick:()=>{o&&n(!i)},isActive:o,className:"checkbox",children:[t.jsx(j,{width:"25px",height:"25px",onClick:()=>null,icon:i||a?t.jsx(zg,{style:{maxWidth:"20px",width:"20px",height:"20px",maxHeight:"20px"}}):t.jsx(vl,{style:{maxWidth:"20px",width:"20px",height:"20px",maxHeight:"20px"}}),background:"transparent"}),e&&t.jsx("div",{className:"hr-checkbox-text",children:e})]}):null,Xb=u.div.withConfig({componentId:"sc-12u5ru-0"})(["width:100%;text-align:start;margin-top:5px;margin-bottom:15px;.title{font-size:1em;font-weight:bold;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),Kb=({title:e,visible:i})=>i?t.jsx(Xb,{children:t.jsx("span",{className:"title",children:e})}):null,Jb=u.div.withConfig({componentId:"sc-fko9m3-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.left-icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}.message{margin-bottom:5px;}input{border:none;color:var(--text);outline:none;background:",";height:100%;width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:",";max-height:36px;border:",";&::placeholder{font-weight:500;}&:focus-visible{outline:",";}&:focus:not(:focus-visible){outline:none;}}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e??"100%",({minWidth:e,width:i})=>e??i,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({inputAppearance:e})=>e?"var(--search)":"transparent",({leftIcon:e,inputAppearance:i})=>e?"30px":i?"10px":"0",({inputAppearance:e})=>e?"35px":"0",({danger:e})=>e&&`2px solid ${y.red.main}`,({inputAppearance:e})=>e&&"4px solid var(--almostTransparentOpposite)"),Zb=u.ul.withConfig({componentId:"sc-fko9m3-1"})(["max-width:",";width:100%;min-width:50px;z-index:5;cursor:pointer;min-height:60px;position:absolute;top:",";box-shadow:var(--light-box-shadow);border-radius:var(--brLight);background:var(--block);user-select:none;max-height:250px;overflow-y:auto;overflow-x:hidden;opacity:0;transition:0.2s opacity,0.2s visibility,0.2s top,height 0.3s;&.open{opacity:1;visibility:visible;top:",";}&.close{opacity:0;visibility:hidden;top:36px;}"],({width:e})=>e??"155px",({title:e})=>e?"80px":"46px",({title:e})=>e?"60px":"46px"),e1=u.li.withConfig({componentId:"sc-fko9m3-2"})(["list-style-type:none;background:var(",");color:",";min-height:30px;padding:5px 10px;display:flex;align-items:center;justify-content:space-between;.icon{display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}.select-item-title{overflow:hidden;white-space:pre-line;width:100%;text-overflow:ellipsis;}animation:fadeIn 0.4s forwards;&::before{content:'';display:block;position:absolute;margin-top:auto;margin-bottom:auto;margin-left:-7px;min-width:",";height:5px;border-radius:10px;background:var(--reallyBlue);}.back-button{display:flex;align-items:center;justify-content:flex-start;color:var(--blue);transition:0.2s transform;&:active{transform:translateX(-20px);}}@keyframes fadeIn{0%{opacity:0;transform:scale(1.04);}100%{opacity:1;transform:scale(1);}}"],({isSelected:e})=>e?"--reallyBlue":"",({isSelected:e})=>e?"#fff":"",({leadingToSelected:e})=>e?"5px":"0px"),t1=({value:e,setValue:i,leftIcon:n,title:s,required:o,width:a,minWidth:r,placeholder:l="Начните ввод...",danger:p,isActive:d=!0,inputAppearance:h=!0,suggestions:f})=>{const[g,m]=c.useState([]),[b,x]=c.useState(!0);return c.useEffect(()=>{if(e){const w=f.filter(_=>_.toLowerCase().includes(e.toLowerCase()));m(w)}else m([])},[e,f]),t.jsxs(Jb,{leftIcon:!!n,isActive:d,inputAppearance:h,width:a,danger:p,minWidth:r,children:[t.jsx(L,{size:5,align:"left",visible:!!s,bottomGap:"5px",required:o,children:s}),t.jsxs("div",{children:[t.jsx("input",{type:"text",value:e,onChange:w=>{i(w.target.value),x(!0)},placeholder:l}),g.length>0&&t.jsx(Zb,{width:"100%",isOpen:b,className:b?"open":"close",itemsAmount:g.length,title:s,children:g.map((w,_)=>t.jsx(e1,{isSelected:!1,onClick:()=>{i(w),m([]),x(!1)},children:w},_))})]})]})},i1=u.div.withConfig({componentId:"sc-xn9fqk-0"})(["width:100%;text-align:start;margin-top:-20px;margin-bottom:-10px;padding:10px;.title{font-size:0.83em;font-weight:bold;color:#e27992;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),n1=({title:e,visible:i})=>i?t.jsx(i1,{children:t.jsx("span",{className:"title",children:e})}):null,vr=e=>{const{value:i,required:n,width:s,indexI:o,indexJ:a,type:r,suggestions:l,items:p,title:d,documents:h,changeInputArea:f,setData:g,mask:m,customMask:b,editable:x,placeholder:w,autocomplete:_,isSpecificRadio:S,specialType:k,specialFieldsNameConfig:P,minValueInput:T,maxValueInput:F,minValueLength:R,maxValueLength:B,diff:ae,visible:U=!0,onChange:Y,onKeyPress:Le,onBlur:_e,onKeyDown:Ve,onKeyUp:Ke,onFocus:fe}=e,ve=x??(f&&!h),[Fn,Bi]=c.useState(!0),gt=(Q,ye,mi)=>{Y==null||Y(Q),g(Re=>(Array.isArray(Re.data[0])?Re.data[ye][mi??0].value=Q:Re.data[ye].type==="checkbox-docs"?(Re.data[ye].items[mi??0].value=!!Q,Re.data[ye].value=!0):Re.data[ye].value=Q,{...Re}))},er=(Q,ye,mi)=>{Y==null||Y(Q),g(Re=>(Array.isArray(Re.data[0])?Re.data[ye][mi??0].value=Q:Re.data[ye].value=Q,{...Re}))},Mn=(Q,ye,mi)=>{g(Re=>(Re.data[ye].items[mi??0].files=Q,{...Re}))},$n=Q=>{Y==null||Y(Q),g(ye=>(ye.data[o].value=Q,{...ye}))},Ig=Q=>{Y==null||Y(Q),Le==null||Le(Q),_e==null||_e(Q),Ve==null||Ve(Q),Ke==null||Ke(Q),fe==null||fe(Q),g(ye=>(ye.data[o].value=Q,{...ye}))};return P&&k&&!Object.values(P).includes(k)?null:r!=="select"&&r!=="multiselect"||!p?r==="checkbox"?t.jsx(et,{text:d,isActive:ve,checked:i,setChecked:Q=>gt(Q,o,a)}):r==="hr-checkbox"?t.jsx(Qb,{text:d,isActive:ve,checked:i,setChecked:Q=>gt(Q,o,a)}):r==="auto-complete-input"?t.jsx(t1,{title:d,suggestions:l??[],required:n,value:i,placeholder:w??d,setValue:Q=>gt(Q,o,a)}):r==="textarea"?t.jsx(E0,{value:i,title:d,setValue:Q=>gt(Q,o,a),isActive:ve,textAreaAppearance:ve,placeholder:w??d,required:n,width:s}):r==="checkbox-docs"?t.jsx(Wb,{title:d,items:p,setChecked:(Q,ye)=>gt(!Q,o,ye),setFiles:(Q,ye)=>Mn(Q,o,ye)}):r==="date-interval"?U?t.jsx(Bc,{title:d,required:n,dates:i,setDates:Q=>Ig(Q),valid:Fn,setValid:Bi,minValue:T,diff:ae}):null:r==="simple-text"?t.jsx(qb,{title:d,value:i,visible:U}):r==="text-warning"?t.jsx(n1,{title:d,visible:U}):r==="text-header"?t.jsx(Kb,{title:d,visible:U}):r==="radio"?t.jsx(Gb,{buttons:p,title:d,required:n,current:i,setCurrent:$n,isSpecificRadio:S}):U?t.jsx(We,{value:i,title:d,minValue:T,maxValue:F,minLength:R,maxLength:B,customMask:b,setValue:Q=>gt(Q,o,a),type:r,isActive:ve,inputAppearance:ve,placeholder:w??d,required:n,mask:m,width:s,autocomplete:_}):null:U?t.jsx(ga,{items:p,setSelected:Q=>er(Q,o,a),selected:i,isActive:ve,title:d,width:s,multiple:r==="multiselect",required:n}):null},s1=u.div.withConfig({componentId:"sc-52mhmj-0"})(["display:flex;align-items:center;justify-content:space-between;user-select:none;cursor:pointer;position:sticky;top:-2px;background:var(--block);z-index:3;width:100%;.title-and-icon{display:flex;align-items:center;}@media (max-width:1000px){background:transparent;position:relative;}"]),o1=({title:e,included:i,optional:n,confirmed:s,setOpenArea:o,setIncluded:a,collapsed:r,openArea:l})=>t.jsxs(s1,{onClick:()=>!r&&(i||!n)&&o(p=>!p),children:[t.jsxs("div",{className:"title-and-icon",children:[t.jsx(L,{size:3,align:"left",icon:s!==void 0?s?t.jsx(yl,{}):t.jsx(Go,{}):void 0,iconColor:s?"var(--green)":"var(--red)",children:e}),n&&t.jsx(et,{checked:i,setChecked:a})]}),t.jsx(j,{icon:t.jsx(bt,{}),onClick:()=>null,background:"transparent",flipped:l})]}),a1=({confirmed:e,changeInputArea:i,setData:n,setChangeInputArea:s,handleConfirm:o})=>e?t.jsx(j,{onClick:()=>{n(a=>(a.confirmed=!1,{...a})),s(!0)},text:"Изменить",icon:t.jsx(nr,{}),textColor:y.blue.main,hoverBackground:y.blue.transparent3,background:"transparent",width:"130px"}):i?t.jsxs(t.Fragment,{children:[t.jsx(j,{onClick:o,text:"Сохранить",icon:t.jsx(Fg,{}),textColor:y.blue.main,hoverBackground:y.blue.transparent3,background:"transparent",width:"130px"}),t.jsx(j,{onClick:()=>s(!1),text:"Отменить",icon:t.jsx(ei,{}),textColor:y.red.main,hoverBackground:y.red.transparent3,background:"transparent",width:"130px"})]}):t.jsxs(t.Fragment,{children:[t.jsx(j,{onClick:o,text:"Подтвердить",icon:t.jsx(Mg,{}),textColor:y.green.main,hoverBackground:y.green.transparent3,background:"transparent",width:"130px"}),t.jsx(j,{onClick:()=>s(!0),text:"Изменить",icon:t.jsx(nr,{}),textColor:y.blue.main,hoverBackground:y.blue.transparent3,background:"transparent",width:"130px"})]}),r1=e=>e.confirmed===void 0?null:t.jsx(Ne,{direction:"horizontal",horizontalAlign:"right",children:t.jsx(a1,{...e,confirmed:e.confirmed})}),qt=({title:e,hint:i,alert:n,data:s,optionalCheckbox:o,documents:a,setData:r,confirmed:l,optional:p=!1,addNew:d=!1,divider:h,collapsed:f,links:g,specialFieldsNameConfig:m,defaultOpenArea:b=!0})=>{const{openArea:x,changeInputArea:w,included:_,setOpenArea:S,setIncluded:k,setChangeInputArea:P,handleRemove:T,handleAddNew:F,handleLoadFiles:R,handleConfirm:B,handleCheckbox:ae}=Nb({documents:a,optionalCheckbox:o,data:s.filter(Boolean),setData:r,optional:p,collapsed:f,confirmed:l,defaultOpenArea:b});return t.jsxs(t.Fragment,{children:[t.jsxs(Db,{openArea:x,children:[t.jsx(o1,{title:e,included:_,optional:p,confirmed:l,setOpenArea:S,setIncluded:k,collapsed:f}),t.jsxs("div",{className:"inputs",children:[t.jsx(Z,{type:"alert",visible:!!n,icon:t.jsx(nn,{}),children:n}),t.jsx(Z,{type:"info",visible:!!i&&(w||l===void 0),title:"Как заполнить",icon:t.jsx(_t,{}),children:i}),Array.isArray(s[0])?s.map((U,Y)=>t.jsxs("div",{className:"data-line",children:[U.map((Le,_e)=>t.jsx(vr,{documents:a,changeInputArea:w&&!(o!=null&&o.value),setData:r,indexI:Y,indexJ:_e,specialFieldsNameConfig:m,...Le},_e)),w&&d&&t.jsx(j,{icon:t.jsx($g,{}),textColor:y.red.main,onClick:()=>T(Y),background:"transparent",isActive:!(o!=null&&o.value)})]},Y)):s.map((U,Y)=>t.jsx(vr,{documents:a,changeInputArea:w&&!(o!=null&&o.value),setData:r,indexI:Y,specialFieldsNameConfig:m,...U},Y)),d&&w&&t.jsx(j,{icon:t.jsx(Bg,{}),text:"Добавить",onClick:F,background:"transparent",isActive:!(o!=null&&o.value)}),!!a&&w&&a.visible!==!1&&t.jsx(ha,{files:a.files,setFiles:U=>R(U),maxFileSizeInMegaBytes:a.maxFileSizeInMegaBytes,maxFiles:a.maxFiles,formats:a.allowedTypes,isActive:a.checkboxCondition?a.checkboxCondition==="straight"?!!(o!=null&&o.value):!(o!=null&&o.value):!0}),(g==null?void 0:g.length)&&g.map(U=>c.createElement(V0,{...U,key:U.title})),t.jsx(et,{visible:!!o&&(o.visible??!0),text:o==null?void 0:o.title,isActive:(o==null?void 0:o.editable)||w,checked:(o==null?void 0:o.value)??!1,setChecked:ae}),t.jsx(r1,{confirmed:l,changeInputArea:w,setData:r,setChangeInputArea:P,handleConfirm:B})]})]}),h&&t.jsx(be,{})]})},l1=u.div.withConfig({componentId:"sc-1pnt9cd-0"})(["color:#fff;cursor:pointer;background:",";outline:6px solid ",";min-width:30px;min-height:30px;margin:6px;border-radius:100%;display:flex;align-items:center;justify-content:center;font-size:0.8em;font-weight:bold;"],({reached:e})=>e?y.green.main:y.grey.main,({reached:e,current:i})=>i?y.blue.transparent1:e?y.green.transparent3:y.grey.transparent3),c1=u.div.withConfig({componentId:"sc-1pnt9cd-1"})(["display:flex;margin-bottom:-20px;"]),d1=u.div.withConfig({componentId:"sc-1pnt9cd-2"})(["width:",";display:flex;align-items:center;"],({lastElement:e})=>e?"42px":"100%"),Uc=({stagesConfig:e})=>{const[i,n]=c.useState(0),[s,o]=c.useState({});c.useEffect(()=>{a(0)},[]);const a=r=>{o(l=>({...l,[i]:Ce(e[i][0].dataForm)})),n(r)};return t.jsxs(t.Fragment,{children:[t.jsx(c1,{children:e.map((r,l)=>t.jsxs(d1,{lastElement:l===e.length-1,children:[t.jsx(l1,{current:l===i,onClick:()=>a(l),reached:s[l],children:l+1}),l!==e.length-1&&t.jsx(db,{direction:"horizontal",reached:s[l],filled:100,distance:40})]},l))}),t.jsx(t.Fragment,{children:e[i].map((r,l)=>c.createElement(qt,{...r.dataForm,setData:r.setDataForm,key:l}))})]})},p1=()=>({title:"Дополнительно",data:[{title:"Комментарий",type:"textarea",fieldName:"comment",value:"",editable:!0}]}),u1=()=>({title:"Период предоставления льготы",hint:"Период предоставления льготы по плате за пользование жилым помещением соответствует дате подачи заявки и дате окончания действия документа",data:[{title:"Начало периода соответствия льготной категории",type:"date",value:"",fieldName:"beginning_of_benefit_period",editable:!0,required:!0},{title:"Окончание периода соответствия льготной категории",type:"date",value:"",fieldName:"end_of_benefit_period",editable:!0,required:!0},{title:"Отсутствует срок действия документа (бессрочный)",type:"checkbox",value:"",fieldName:"is_indefinite",editable:!0,required:!1}],documents:{files:[],required:!0,checkboxCondition:"reverse",fieldName:"invalidFiles",maxFiles:1,allowedTypes:["application/pdf"]}}),h1=()=>({title:"Адрес регистрации",data:[],hint:"Необходимо приложить скан-копию 2-3 страниц паспорта, а также страниц с регистрацией. Для иностранных студентов обязательно приложить перевод паспорта.",documents:{files:[],required:!0,fieldName:"registrationFiles",maxFiles:1,allowedTypes:["application/pdf"]}}),g1=e=>({...e.data.reduce((s,o)=>{var a;if(!o.value)return s;if(o.type==="checkbox-docs"){const r=(a=o.items)==null?void 0:a.reduce((l,p)=>{for(let d=0;d<p.files.length;d++)l[(p==null?void 0:p.fieldName)+`[${d}]`]=p.files[d];return l},{});s=Object.assign({},s,r)}else if(o.type==="select")s[o.fieldName]=o.isSpecificSelect?o.value.id:o.value.title||null;else{const r=!o.value||typeof o.value!="object";s[o.fieldName]=r?o==null?void 0:o.value:o.value.title}return s},{}),...(()=>{var o,a;const s={};if((o=e.documents)!=null&&o.fieldName)for(let r=0;r<e.documents.files.length;r++)s[((a=e.documents)==null?void 0:a.fieldName)+`[${r}]`]=e.documents.files[r];return s})()}),zs=async(e,i,n,s,o=!1)=>{n(!0);const a=i.map(d=>{if(o)return g1(d);if(Array.isArray(d.data[0])){const h=d.data.map(g=>Object.assign({},...g==null?void 0:g.map(m=>yr(m)))),f={};return f[e]=JSON.stringify(h),f}else return d.data.map(h=>yr(h))}).flat(),r=i.map(d=>{var f,g;const h={};if((f=d.documents)!=null&&f.fieldName)for(let m=0;m<d.documents.files.length;m++)h[((g=d.documents)==null?void 0:g.fieldName)+`[${m}]`]=d.documents.files[m];return h}),l=i.map(d=>{var f,g;const h={};return(f=d.optionalCheckbox)!=null&&f.fieldName&&(h[(g=d.optionalCheckbox)==null?void 0:g.fieldName]=d.optionalCheckbox.value),h}),p=Object.assign({},...a,...r,...l);try{await kt.postApplicationFx({formId:e,args:p}),n(!1),s(!0)}catch{n(!1)}},yr=e=>{var n;const i={};return i[(e==null?void 0:e.fieldName)??""]=f1(e),e.type==="multiselect"&&(i[(e==null?void 0:e.fieldName)??""]=JSON.stringify((e==null?void 0:e.value).map(s=>s.title))),e.type==="checkbox-docs"?(n=e.items)==null?void 0:n.reduce((s,o)=>{for(let a=0;a<o.files.length;a++)s[(o==null?void 0:o.fieldName)+`[${a}]`]=o.files[a];return s},{}):i},f1=e=>!e.value||typeof e.value!="object"?e==null?void 0:e.value:e.value.title,Fs=u.div.withConfig({componentId:"sc-1ewdcum-0"})(["display:flex;align-items:",";justify-content:center;width:100%;max-height:",";padding:10px;color:var(--text);@media (max-width:1000px){margin-top:35px;}"],({isDone:e})=>e?"center":"flex-start",({isDone:e})=>e&&"100%");var Sn=(e=>(e.USG_GETHOSTEL_O="usg_gethostel_o",e.USG_GETHOSTEL_OOZ="usg_gethostel_ooz",e.USG_GETHOSTEL_Z="usg_gethostel_z",e.USG_GETHOSTEL_AO="usg_gethostel_ao",e.USG_GETHOSTEL_BENEFIT="usg_gethostel_benefit",e.USG_GETHOSTEL_FAMILY="usg_gethostel_family",e.USG_CONTR_TERMINATION="usg_contr_termination",e.USG_RELOCATION_INNER="usg_relocation_inner",e.USG_RELOCATION="usg_relocation",e.ACCOMMODATION_FOR_GRADUATES="accommodation_for_graduates",e.OBUCH="obuch",e.STATUS_SOBES="status_sobes",e.SPRVIZOV="sprvizov",e.PERS_DATA="pers_data",e.PROPUSK_RESTORE="propusk_restore",e.PASSPORT_DATA="passport_data",e.DIPL_OTL="dipl_otl",e.STATUS_REGULAR="status_regular",e.OKID_LICAKKRED="okid_licakkred",e.MILDOCS="mildocs",e.MIL_REG="mil_reg",e.VOEN_UCH="voen_uch",e.PR_DONATE="pr_donate",e.PR_MATPOM="pr_matpom",e.PR_SOCSTIP="pr_socstip",e.HIGH_SCHOLARSHIP="high_scholarship",e.DOP_SOGL="dop_sogl",e.SEND_PAYMENT_EDU="send_payment_edu",e.FREE_REQUEST="free_request",e.CRS_VACATIONS="crs_vacations",e.CRS_ACADEMVAC="crs_academvac",e.CRS_EXTACADEMVAC="crs_extacademvac",e.CRS_EXPULSION="crs_expulsion",e.CRS_ATTESTAT="crs_attestat",e.MEDICAL_CERT="postRequestMedicalCertificate",e.STUD_EMPLOYMENT="stud_employment",e.WORK_TRANSFER="",e.EXTRA_HOLIDAY_COLL="",e.HOLIDAY_PLANNING="",e.HOLIDAY_WORK="",e.DISMISSAL="",e.HOLIDAY_POSTPONED="",e.PART_TIME_EMPLOYMENT="",e))(Sn||{}),m1=(e=>(e.EDIT_PHONEBOOK_SUBDIVISION="edit-phonebook-subdivision",e.EDIT_PHONEBOOK_INNER_PHONE="edit-phonebook-inner-phone",e.EDIT_PHONEBOOK_EMAIL="edit-phonebook-email",e.CONTACT_INFO_ACTUALIZATION="contact-info-actualization",e.DATA_VERIFICATION_ROUTE="data-verification",e.ISSUANCE_OF_LICENSES="issuance-of-licenses",e.GETTING_COMPUTER_EQUIPMENT="getting-computer-equipment",e.CONNECTING_COMPUTER="connecting-computer",e.PRINTER_MAINTENANCE="printer-maintenance",e.QUESTION_SED="question-sed",e.QUESTION_PERSONAL_ACCOUNT="question-personal-account",e.OTHER_IT_SERVICES="other-it-services",e.CERTIFICATE_FROM_PLACE_OF_WORK="certificate-from-the-place-of-work",e.VISA_CERTIFICATE="visa-certificate",e.CERTIFICATE_OF_WORK_EXPERIENCE="certificate-of-work-experience",e.NUMBER_OF_UNUSED_VACATION_DAYS="number-of-unused-vacation-days",e.INCREASE_ANTIPLAGIAT_LIMITS="increase-antiplagiat-limits",e.COPY_OF_EMPLOYMENT_RECORD="copy-of-the-employment-record",e.COPIES_OF_DOCUMENTS_FROM_PERSONAL_FILE="copies-of-documents-from-the-personal-file",e.WORK_ON_TERMS_OF_EXTERNAL_CONCURRENCY="work-on-the-terms-of-external-concurrency",e.CERTIFICATE_TIME_PARENTAL_LEAVE="certificate-time-parental-leave",e.COURIER="courier",e.PERSONA_INCOME_TAX_REFERENCE="persona-income-tax-reference",e.PAYMENT_OF_CHILD_BIRTH_ALLOWANCE="payment-of-child-birth-allowance",e.PAYMENT_FOR_CHILD_CARE="payment-for-child-care",e.LIVING_IN_RESIDENTIAL_PREMISES="living-in-residential-premises",e.GUESTS_ACCOMODATION_ON_CAMPUS="guests-accomodation-on-campus",e.GUESTS_PASSAGE_TO_CAMPUS="guests-passage-to-campus",e.RELOCATION="relocation",e.TERMINATION_OF_AGREEMENT="termination-of-agreement",e.ISSUANCE_OF_PASS="issuance-of-pass",e.GUEST_PASS="guest-pass",e.CERTIFICATION_AND_ISSUANCE_OF_DOCS="certification-and-issuance-of-documents",e.DEFERMENT_FROM_CONSCRIPTION="deferment-from-conscription",e.CERTIFIED_COPIES_OF_MILITARY_DOCS="certified-copies-of-military-docs",e))(m1||{});const x1=[{id:0,title:"1 общежитие"},{id:1,title:"2 общежитие"},{id:2,title:"3 общежитие"},{id:3,title:"4 общежитие"},{id:4,title:"5 общежитие"},{id:5,title:"6 общежитие"},{id:6,title:"7 общежитие"},{id:7,title:"8 общежитие"},{id:8,title:"9 общежитие"},{id:9,title:"10 общежитие"}],b1=[{id:0,title:"имею постоянную регистрацию за пределами А-107 или не имею постоянную регистрацию"},{id:1,title:"имею постоянную регистрацию в пределах А-107"}],w1=e=>{const{surname:i,name:n,patronymic:s,group:o,email:a,phone:r}=e;return{title:"Контактная информация",data:[{title:"ФИО",fieldName:"fio",value:i+" "+n+" "+s,editable:!1},{title:"Учебная группа",fieldName:"group",type:"tel",value:o,editable:!1},{title:"Электронная почта",fieldName:"email",type:"email",value:a,editable:!0,required:!0},{title:"Телефон",fieldName:"phone",type:"tel",value:r,editable:!0,required:!0},{title:"Причина предоставления (в связи с)",type:"select",width:"100%",value:null,fieldName:"reason",placeholder:"укажите причину",editable:!0,required:!0,items:b1},{title:"Приоритетное общежитие",fieldName:"priority_hostel",value:null,type:"select",width:"100%",editable:!0,required:!0,items:x1}]}},v1=()=>{var ae;const[e,i]=c.useState(null),[n,s]=c.useState(Bn.kvdCert),[o,a]=c.useState(Bn.fluorographyCert),[r,l]=c.useState(Bn.vichRwCert),[p,d]=c.useState(Bn.graftCert),{data:{dataUserApplication:h}}=Be.useApplications(),{data:{user:f}}=ke.useUser(),[g,m]=c.useState(!1),[b,x]=c.useState(!1),[w,_]=c.useState(null),[S,k]=c.useState(null),[P,T]=c.useState(null),F=g??!1;if((f==null?void 0:f.educationForm)!=="Недоступен")return t.jsx(je,{text:"Сервис временно недоступен в связи с отсутствием свободных мест"});const R=!!e&&!!S&&!!w&&!!P;if(c.useEffect(()=>{h&&(i(w1(h)),_(u1()),k(h1()),T(p1()))},[h]),!R)return null;const B=[[{dataForm:e,setDataForm:i}],[{dataForm:S,setDataForm:k}],[{dataForm:n,setDataForm:s}],[{dataForm:o,setDataForm:a}],[{dataForm:r,setDataForm:l}],[{dataForm:p,setDataForm:d}]];return t.jsx(Fs,{isDone:F,children:t.jsxs(Os,{children:[t.jsx(L,{size:4,align:"left",children:"Предоставление права проживания (очно-заочная форма)"}),t.jsx(Uc,{stagesConfig:B}),t.jsx(Ze,{text:"Отправить",action:()=>zs(Sn.USG_GETHOSTEL_OOZ,[e,S,w,P,n,o,r,p],x,m),isLoading:b,completed:g,setCompleted:m,repeatable:!1,buttonSuccessText:"Отправлено",isDone:F,isActive:(((ae=e.optionalCheckbox)==null?void 0:ae.value)??!0)&&Ce(e)&&Ce(o)&&Ce(r)&&Ce(p)&&Ce(n),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},y1=[{id:0,title:"Холост"},{id:1,title:"Женат"},{id:2,title:"Замужем"},{id:3,title:"Не замужем"}],j1=[{id:0,title:"Мать"},{id:1,title:"Отец"},{id:2,title:"Жена"},{id:3,title:"Муж"},{id:2,title:"Ребенок"}],k1=[{id:0,title:"Военнослужащий"},{id:1,title:"Военнообязанный"},{id:2,title:"Невоеннообязанный"},{id:3,title:"Призывник"}],_1=[{id:0,title:"Адмирал"},{id:1,title:"Адмирал флота"},{id:2,title:"Вице-адмирал"},{id:3,title:"Генерал армии"},{id:4,title:"Генерал-лейтенант"},{id:5,title:"Генерал-майор"},{id:6,title:"Генерал-полковник"},{id:7,title:"Главный корабельный старшина"},{id:8,title:"Главный старшина"},{id:9,title:"Ефрейтор"},{id:10,title:"Капитан"},{id:11,title:"Капитан 1 ранга"},{id:12,title:"Капитан 2 ранга"},{id:13,title:"Капитан 3 ранга"},{id:14,title:"Капитан юстиции"},{id:15,title:"Капитан-лейтенант"},{id:16,title:"Контр-адмирал"},{id:17,title:"Лейтенант"},{id:18,title:"Майор"},{id:19,title:"Маршал Российской Федерации"},{id:20,title:"Матрос"},{id:21,title:"Мичман"},{id:22,title:"Младший лейтенант"},{id:23,title:"Младший сержант"},{id:24,title:"Подполковник"},{id:25,title:"Полковник"},{id:26,title:"Прапорщик"},{id:27,title:"Рядовой"},{id:28,title:"Сержант"},{id:29,title:"Старший лейтенант"},{id:30,title:"Старший матрос"},{id:31,title:"Старший мичман"},{id:32,title:"Старший прапорщик"},{id:33,title:"Старший сержант"},{id:34,title:"Старшина"},{id:35,title:"Старшина 1 статьи"},{id:36,title:"Старшина 2 статьи"}],C1=[{id:0,title:"Ветеринарный"},{id:1,title:"Военно-гуманитарный"},{id:2,title:"Высшие офицеры"},{id:3,title:"Инженерно-технический"},{id:4,title:"Командный"},{id:5,title:"Медицинский"},{id:6,title:"Младшие офицеры"},{id:7,title:"Педагогический"},{id:8,title:"Прапорщики и мичманы"},{id:9,title:"Сержанты"},{id:10,title:"Солдаты"},{id:11,title:"Солдаты, матросы, сержанты, старшины"},{id:12,title:"Старшие офицеры"},{id:13,title:"Юридический"}],S1=[{id:0,title:"1"},{id:1,title:"2"}],I1=[{id:0,title:"А - годен к военной службе"},{id:1,title:"Б - годен к военной службе с незначительными ограничениями"},{id:2,title:"В - ограниченно годен к военной службе"},{id:3,title:"Г - временно не годен к военной службе"},{id:4,title:"Д - не годен к военной службе"}],T1=[{id:0,title:"Военный билет офицера запаса"},{id:1,title:"Военный билет солдата (матроса, сержанта, старшины)"},{id:2,title:"Временное удостоверение, выданное взамен военного билета"},{id:3,title:"Временное удостоверение, выданное взамен военного билета офицера запасам"},{id:4,title:"Персональная электронная карта"},{id:5,title:"Справка взамен военного билета"},{id:6,title:"Удостоверение гражданина, подлежащего призыву на военную службу"},{id:7,title:"Удостоверение личности военнослужащего Российской Федерации"},{id:8,title:"Удостоверение личности офицера"}],E1=[{id:0,title:"A (мотоциклы)"},{id:1,title:"B (легковые автомобили)"},{id:2,title:"C (грузовые автомобили)"},{id:3,title:"D (автобусы)"},{id:4,title:"M (мопеды)"},{id:5,title:"Tb (троллейбусы)"},{id:6,title:"Tm (трамваи)"}],P1=e=>({title:"Персональные данные",data:[{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",value:e.phone,required:!0},{title:"Email",type:"email",fieldName:"email",value:e.email,editable:!0,required:!0},{title:"Фамилия",type:"text",fieldName:"surname",value:e.surname,editable:!0,required:!0},{title:"Имя",type:"text",fieldName:"name",value:e.name,editable:!0,required:!0},{title:"Отчество",type:"text",fieldName:"patronimyc",value:e.patronymic,editable:!0,required:!0}]}),A1=()=>({title:"Семейное положение",data:[{title:"Состояние в браке",value:null,fieldName:"maritalStatus",type:"select",items:y1,width:"100%",editable:!0,required:!0}]}),N1=()=>({title:"Состав семьи",data:[],default:[[{fieldName:"relation",title:"Степень родства",value:null,type:"select",items:j1,width:"100%"},{fieldName:"fio",title:"ФИО",value:"",required:!0,width:"40%"},{fieldName:"bdate",title:"Дата рождения",value:"",type:"date",required:!0,width:"30%"}]],addNew:!0,optionalCheckbox:{fieldName:"family_none",title:"Близкие родственники отсутствуют",value:!1,required:!0}}),D1=()=>({title:"Сведения воинского учета",data:[{fieldName:"militaryObligationCategory",title:"Отношение к воинской обязанности",value:null,type:"select",items:k1,width:"100%",required:!0},{fieldName:"military id details",title:"Данные военного билета",type:"text-header",visible:!0,value:"Данные военного билета"},{fieldName:"militaryRank",title:"Воинское звание",value:null,type:"select",items:_1,width:"100%",required:!0},{fieldName:"specialization",title:"Состав (профиль)",value:null,type:"select",items:C1,width:"100%",required:!0},{fieldName:"reserveCategory",title:"Категория запаса",value:null,type:"select",items:S1,width:"100%",required:!0},{fieldName:"moc",title:"ВУС",value:"",required:!0,width:"40%"},{fieldName:"militaryServiceFitness",title:"Годность к воинской службе",value:null,type:"select",items:I1,width:"100%",required:!0},{fieldName:"militaryEnlistmentOffice",title:"Военкомат",value:"",width:"40%",required:!0}]}),O1=()=>({title:"Документ воинского учета",data:[{fieldName:"documentType",title:"Вид документа",value:null,type:"select",items:T1,width:"100%",required:!0,editable:!0},{fieldName:"series",title:"Серия",value:"",required:!0,editable:!0,width:"40%"},{fieldName:"number",title:"Номер",value:"",required:!0,editable:!0,width:"40%"},{fieldName:"issuedBy",title:"Кем выдан",value:"",width:"100%",required:!0,editable:!0},{fieldName:"dateOfIssue",title:"Дата выдачи",value:"",type:"date",required:!0,editable:!0,width:"30%"}],documents:{files:[],fieldName:"Документ воинского учета",required:!0,maxFiles:1,allowedTypes:["application/pdf"]}}),jr=e=>{var n,s,o,a,r,l,p;const i=e&&((s=(n=e[0])==null?void 0:n.value)==null?void 0:s.id)!==0||!1;return{title:"Данные водительского удостоверения",data:[{fieldName:"driversDocumentType",title:"Вид документа",value:(e&&((o=e[0])==null?void 0:o.value))??{id:0,title:"Не выбрано"},type:"select",items:[{id:0,title:"Не выбрано"},{id:1,title:"Водительское удостоверение"}],width:"100%",required:!1,editable:!0},{fieldName:"driversSeries",title:"Серия",value:(e&&((a=e[1])==null?void 0:a.value))??"",required:i,visible:i,editable:!0,width:"40%"},{fieldName:"driversSumber",title:"Номер",value:(e&&((r=e[2])==null?void 0:r.value))??"",required:i,visible:i,editable:!0,width:"40%"},{fieldName:"vehicleCategory",title:"Категория ТС",value:(e&&((l=e[3])==null?void 0:l.value))??null,type:"select",items:E1,width:"100%",required:i,visible:i,editable:!0},{fieldName:"driversDateOfIssue",title:"Дата выдачи",value:(e&&((p=e[4])==null?void 0:p.value))??"",type:"date",required:i,visible:i,editable:!0,width:"30%"}],documents:{files:[],fieldName:"Водительское удостоверение",required:i,visible:i,maxFiles:1,allowedTypes:["application/pdf"]}}},L1=()=>{var T;const[e,i]=c.useState(null),[n,s]=c.useState(A1()),[o,a]=c.useState(N1()),[r,l]=c.useState(D1()),[p,d]=c.useState(O1()),[h,f]=c.useState(jr(null)),[g,m]=c.useState(!1),[b,x]=c.useState(!1),[w,_]=c.useState(!1),{data:{dataUserApplication:S}}=Be.useApplications();c.useEffect(()=>{S&&i(P1(S))},[S]);const k=c.useMemo(()=>{var F,R;return((R=(F=h==null?void 0:h.data[0])==null?void 0:F.value)==null?void 0:R.id)!==0},[(T=h==null?void 0:h.data[0])==null?void 0:T.value]);if(c.useEffect(()=>{h&&f(jr(h.data))},[k]),!e)return null;const P=[[{dataForm:e,setDataForm:i}],[{dataForm:n,setDataForm:s}],[{dataForm:o,setDataForm:a}],[{dataForm:r,setDataForm:l}],[{dataForm:p,setDataForm:d}],[{dataForm:h,setDataForm:f}]];return t.jsx(Fs,{isDone:!1,children:t.jsxs(Os,{children:[t.jsx(L,{size:3,align:"left",children:"Воинский учет"}),t.jsx(Uc,{stagesConfig:P}),t.jsx(et,{checked:g,setChecked:m,text:"Я подтверждаю подлинность предоставленных документов"}),t.jsx(Ze,{text:b?"Отправлено":"Отправить",action:()=>zs(Sn.MIL_REG,[e,n,o,r,p,h],_,x),isLoading:w,completed:b,setCompleted:x,repeatable:!1,buttonSuccessText:"Отправлено",isDone:b,isActive:!!g&&!!e&&!!n&&!!r&&!!p&&!!h&&!!o&&Ce(e)&&Ce(n)&&Ce(r)&&Ce(p)&&Ce(h)&&Ce(o),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},R1=[{id:0,title:"заключение врачебной комиссии медицинской организации"},{id:1,title:"копия военного билета с отметками о прохождении военной службы"}],z1=e=>({title:"Выход из академического отпуска",data:[{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",editable:!0,required:!0,value:e.phone},{title:"Email",type:"email",fieldName:"email",value:e.email,editable:!0,required:!0},{title:"Дата выхода из академического отпуска:",type:"date",fieldName:"time-exit",value:"",editable:!0,required:!0},{fieldName:"",title:"Приказ о предоставлении академического отпуска:",type:"text-header",visible:!0,value:"Данные военного билета"},{title:"от:",type:"date",fieldName:"order-time",value:"",editable:!0,required:!0},{title:"№:",fieldName:"order-number",type:"text",value:null,editable:!0,required:!0},{title:"Приложения:",type:"select",fieldName:"attachments",width:"100",value:null,required:!0,editable:!0,items:R1},{title:"от:",type:"date",fieldName:"medical-report-time",value:"",specialType:"medicalReport",editable:!0,required:!0},{title:"№:",type:"text",fieldName:"medical-report-number",value:null,specialType:"medicalReport",editable:!0,required:!0},{title:"Количество листов подтверждающих документов:",type:"text",fieldName:"num_sheets",value:null,specialType:"medicalReport",editable:!0,required:!0},{title:"Комментарий к заявке",type:"textarea",fieldName:"comment",value:"",editable:!0}],documents:{files:[],fieldName:"docs",maxFiles:6,required:!0}}),F1=e=>{const i=e.find(s=>s.fieldName==="attachments");let n=null;return i!=null&&i.value&&(i==null?void 0:i.value).title==="заключение врачебной комиссии медицинской организации"&&(n="medicalReport"),{reason_academic:n}},M1=()=>{const[e,i]=c.useState(null),[n,s]=c.useState(!1),[o,a]=c.useState(!1),[r,l]=c.useState({}),p=n??!1,{data:{dataUserApplication:d}}=Be.useApplications();return c.useEffect(()=>{d&&i(z1(d))},[d]),c.useEffect(()=>{e&&d&&l(F1(e.data))},[e]),t.jsx(Fs,{isDone:p,children:!!e&&!!i&&t.jsxs(Os,{children:[t.jsx(qt,{...e,collapsed:p,setData:i,specialFieldsNameConfig:r}),t.jsx(Ze,{text:p?"Отправлено":"Отправить",action:()=>zs(Sn.CRS_EXTACADEMVAC,[e],a,s),isLoading:o,completed:n,setCompleted:s,repeatable:!1,buttonSuccessText:"Отправлено",isDone:p,isActive:Ce(e,r),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},Ue=({oldVersionUrl:e,errorText:i="Страница еще находится в разработке. Если вам она нужна, вернитесь к старому дизайну",buttonText:n="Перейти к старому дизайну",forceForward:s=!1,isRedirectButtonVisible:o=!0})=>(c.useEffect(()=>{s&&(window.location.href=`/old/?p=${e==null?void 0:e.slice(1,e.length)}`)},[]),t.jsx(je,{text:i,children:o&&t.jsx("a",{href:`${M}/?p=${e==null?void 0:e.slice(1,e.length)}`,children:t.jsx(j,{text:n,icon:t.jsx(js,{}),width:"100%",background:"var(--reallyBlue)",textColor:"#fff",align:"left",padding:"10px"})})})),$1=(e,i,n)=>{if(!e)return null;const s=e.dormitory.map(o=>o.id===i?{...o,can_sign:n}:o);return{...e,dormitory:s}},Wc=I({name:"signAgreement",sid:"-picrav"}),Gc=I({name:"changeDone",sid:"sapikl"}),Vc=I({name:"setCompleted",sid:"-q68mvw"}),Si=W(async()=>{const e=await mx();if(!e.data.contracts.education&&!e.data.contracts.dormitory)throw new Error("У вас нет данных по оплате");try{return e.data.contracts}catch{throw new Error("Не удалось загрузить оплату")}},{name:"getPaymentsFx",sid:"4hggjv"}),fa=W(async e=>{try{return await bx(e),e}catch(i){throw new Error("Не удалось подписать конкракт. Причина: "+i)}},{name:"signContractFx",sid:"lkym3j"}),In=W(async e=>{if((await xx(e)).data[0].result!=="ok")throw new Error},{name:"signAgreementFx",sid:"y72zbs"});v({and:[{clock:In.doneData,fn:()=>({message:"Успешно подписано",type:"success"}),target:G.evokePopUpMessage}],or:{sid:"iuk223"}});v({and:[{clock:In.doneData,fn:()=>!0,target:Gc}],or:{sid:"jai39k"}});v({and:[{clock:In.failData,fn:()=>({message:"У вас нет данных по оплате",type:"failure"}),target:G.evokePopUpMessage}],or:{sid:"jd928d"}});v({and:[{clock:Wc,target:In}],or:{sid:"jt73fu"}});const qc=I({name:"getPayments",sid:"4v8b23"}),B1=Oe({and:[In.pending,Si.pending,Boolean],or:{name:"$loading",sid:"-ng2g2r"}}),H1=$(!1,{name:"$completed",sid:"khj57a"}).on(Vc,(e,i)=>i),U1=$(!1,{name:"$done",sid:"3i1mbf"}).on(Gc,(e,i)=>i),W1=$(null,{name:"$error",sid:"13y35n"}).on(Si,()=>null).on(Si.failData,(e,i)=>i.message).on(fa.failData,(e,i)=>i.message),G1=$(null,{name:"$paymentsStore",sid:"-6trbj"}).on(Si.doneData,(e,i)=>i).on(fa.doneData,(e,i)=>$1(e,i,!1)).on(K.userGuid,()=>null),Jt={$loading:B1,$completed:H1,$done:U1,$error:W1,$paymentsStore:G1};v({and:[{clock:qc,target:Si}],or:{sid:"kpmyg5"}});const ma={getPaymentsFx:Si,signContractFx:fa},kr={signAgreement:Wc,setCompleted:Vc,getPayments:qc},_r=(e,i)=>{const n=e.split("/");return i[e.slice(1,e.length)]??Object.values(i).find(s=>{var a;const o=s.path.split("/");for(let r=0;r<n.length;r++)if(o[r]!==n[r]&&((a=o[r])==null?void 0:a[0])!==":")return!1;return!0})},Yc=()=>{const e=pt(),{allRoutes:i}=dt.useMenu(),n=Mt(),s=i??{},[o,a]=c.useState(_r(e.location.pathname,s));return c.useEffect(()=>{a(_r(n.pathname,s))},[n,s]),o},V1={small:"600px",middle:"700px",big:"963px",large:"100%"},Qc=e=>V1[(e==null?void 0:e.pageSize)??"middle"],q1=u(Tt).withConfig({componentId:"sc-eq7p52-0"})(["position:relative;","{padding-top:",";}","{padding-top:",";}"],V.isNotMobile,({titleLen:e})=>e===0?"20px":e<60?"70px":"140px",V.isMobile,({hasCenterEl:e})=>e?"90px":"45px"),Y1=u.div.withConfig({componentId:"sc-eq7p52-1"})(["position:absolute;top:20px;right:20px;width:100%;display:flex;justify-content:flex-end;","{top:-4px;right:7px;}"],V.isMobile),Q1=u.div.withConfig({componentId:"sc-eq7p52-2"})(["position:absolute;top:20px;left:50%;transform:translateX(-50%);display:flex;justify-content:flex-end;","{top:40px;}"],V.isMobile),Et=c.forwardRef(({children:e,topRightCornerElement:i,topCenterElement:n,padding:s},o)=>{var l;const a=Yc(),r=Qc(a);return t.jsx(Ln,{padding:"0 0 10px 0",children:t.jsxs(q1,{hasCenterEl:!!n,titleLen:((l=a==null?void 0:a.subPageHeaderTitle)==null?void 0:l.length)??(a==null?void 0:a.title.length)??0,justifyContent:"flex-start",height:"100%",orientation:"vertical",maxWidth:r,gap:"24px",ref:o,alignItems:"flex-start",noAppearanceInMobile:!0,padding:s,children:[i&&t.jsx(Y1,{children:i}),n&&t.jsx(Q1,{children:n}),e]})})});Et.displayName="PageBlock";const X1=u.div.withConfig({componentId:"sc-uv1246-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;flex-wrap:wrap;align-items:center;flex-direction:column;gap:32px;"]),K1=u.div.withConfig({componentId:"sc-1ewi6no-0"})(["min-width:",";min-height:",";max-width:",";max-height:",";border-radius:",";display:flex;align-items:center;justify-content:center;position:relative;background:",";transition:0.2s;svg{color:#fff;width:100%;height:100%;scale:0.5;}"],({size:e})=>e+"px",({size:e})=>e+"px",({size:e})=>e+"px",({size:e})=>e+"px",({borderRadius:e})=>e??"15px",({backgroud:e})=>y[e]?y[e].main:e),wt=({children:e,color:i,borderRadius:n,badge:s,marginRight:o,size:a=38})=>{const r=s?isNaN(+s)?!0:+s>0:!1;return t.jsxs(K1,{style:{marginRight:o},borderRadius:n,backgroud:i,size:a,className:"icon",children:[t.jsx(si,{outline:"4px solid var(--block)",color:"red",top:"93%",left:"93%",visible:r,className:"notification-circle",children:s}),e]})},go={data:null,preparedData:null,loading:!1,error:null},Xc=({initialStore:e,api:i,prepareData:n,errorMessage:s=()=>Gm})=>{const o=e??go,a=()=>({data:ge(d).data,preparedData:ge(d).preparedData,loading:ge(r.pending),error:ge(d).error}),r=W(async h=>{try{const f=await i.get(h);return{data:f,preparedData:n?n(f):f}}catch(f){throw new Error(s(f))}},{name:"getFx",sid:"-b9hj4e"}),l=W(async h=>{var f;try{const g=await((f=i.post)==null?void 0:f.call(i,h));return{data:g,preparedData:n?n(g):g}}catch(g){throw new Error(s(g))}},{name:"postFx",sid:"-aimaf9"}),p=I({name:"clearStore",sid:"-vqshuk"}),d=$(o,{name:"$store",sid:"9y8x2d"}).on(r,h=>({...h,error:null})).on(l.pending,h=>({...h,loading:!0})).on(l.failData,(h,{message:f})=>({...h,error:f,loading:!1})).on(l.doneData,h=>({...h,error:null,loading:!1})).on(r.doneData,(h,{data:f,preparedData:g})=>({...h,data:f,preparedData:g})).on(r.failData,(h,f)=>({...h,error:f.message})).on(p,()=>({...go})).on(K.userGuid,()=>({...go}));return{selectors:{useData:a},effects:{getFx:r,postFx:l},events:{clearStore:p},store:d}},ht=Xc({api:{get:Tx}}),Ms=I({name:"addPageToHome",sid:"lkvuvg"}),ln=I({name:"deletePageFromHome",sid:"nxtipk"}),J1=Oe({and:[ue.userSettings,e=>Array.from(new Set([...ec,...(e==null?void 0:e.homePage.pages)??[]]))],or:{name:"$homePages",sid:"dfdpbq"}});v({and:[{clock:Ms,source:ue.userSettings,filter:e=>!!e,fn:(e,{pageId:i})=>({homePage:{...e.homePage,pages:[...e.homePage.pages,i]}}),target:Fe.update}],or:{sid:"-n44dkl"}});v({and:[{clock:ln,source:ue.userSettings,filter:e=>!!e,fn:(e,{pageId:i})=>({homePage:{...e.homePage,pages:e.homePage.pages.filter(n=>n!==i)}}),target:Fe.update}],or:{sid:"-mjrzm8"}});const $s=I({name:"addPageToSidebar",sid:"-f2thxq"}),os=I({name:"deletePageFromSidebar",sid:"-qzfx9p"}),Ii=Oe({and:[K.user,ht.store,({currentUser:e},{data:i})=>{if((e==null?void 0:e.status)==="")return Zo;const n=ea;return Object.values(i??{}).some(s=>s.length)?[...n,"download-agreements"]:n}],or:{name:"$requiredSidebarItems",sid:"-m4z2bj"}}),xa=Oe({and:[Ii,ue.userSettings,(e,i)=>Array.from(new Set([...e,...(i==null?void 0:i.customizeMenu.pages)||[]]))],or:{name:"$sidebarItems",sid:"-vjwndt"}});v({and:[{clock:$s,source:xa,filter:e=>e.length>=Zl,fn:()=>({message:"Вы достигли максимального количества страниц в боковом меню",type:"failure",time:3e3}),target:G.evokePopUpMessage}],or:{sid:"-l3jj8x"}});v({and:[{clock:$s,source:{settings:ue.userSettings,sidebarItems:xa,requiredSidebarItems:Ii},filter:({settings:e,sidebarItems:i,requiredSidebarItems:n},{pageId:s})=>!!e&&i.length<Zl&&!n.includes(s),fn:({settings:e},{pageId:i})=>({customizeMenu:{...e.customizeMenu,pages:[...e.customizeMenu.pages,i]}}),target:Fe.update}],or:{sid:"-kly49d"}});v({and:[{clock:os,source:{settings:ue.userSettings,requiredSidebarItems:Ii},filter:({settings:e,requiredSidebarItems:i},{pageId:n})=>!!e&&!i.includes(n),fn:({settings:e},{pageId:i})=>({customizeMenu:{...e.customizeMenu,pages:e.customizeMenu.pages.filter(n=>n!==i)}}),target:Fe.update}],or:{sid:"-j6t92s"}});const Z1=e=>{const{id:i,icon:n,title:s,color:o}=e,[a,r,l]=z([J1,xa,Ii]),p=a.includes(i),d=r.includes(i),h=l.includes(i),f=ec.includes(i),g=()=>{Ms({pageId:i}),$e.close()},m=()=>{$s({pageId:i}),$e.close()};return t.jsxs(ew,{children:[t.jsxs("div",{className:"top",children:[t.jsx(wt,{color:o,size:22,children:n}),t.jsx(tw,{children:s})]}),t.jsx(be,{}),!f&&(p?t.jsx(j,{text:"Убрать с главной",icon:t.jsx(ei,{}),width:"100%",align:"left",background:"var(--block)",onClick:()=>{ln({pageId:i}),$e.close()}}):t.jsx(j,{text:"Добавить на главную",icon:t.jsx(ti,{}),width:"100%",align:"left",background:"var(--block)",onClick:g})),!h&&(d?t.jsx(j,{text:"Убрать из меню",icon:t.jsx(ei,{}),width:"100%",align:"left",background:"var(--block)",onClick:()=>{os({pageId:i}),$e.close()}}):t.jsx(j,{text:"Добавить в меню",icon:t.jsx(ti,{}),width:"100%",align:"left",background:"var(--block)",onClick:m}))]})},ew=u.div.withConfig({componentId:"sc-1kj8zre-0"})([".top{display:flex;align-items:center;gap:6px;padding:7px;}"]),tw=u.span.withConfig({componentId:"sc-1kj8zre-1"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;font-size:0.8em;font-weight:500;"]),Kc=({route:e})=>{var s;const i=y[(s=e==null?void 0:e.color)!=null&&s.length?e.color:"blue"].main,n=o=>{o.preventDefault(),o.stopPropagation(),$e.open({e:o,height:105,content:t.jsx(Z1,{...e})})};return t.jsx(j,{icon:t.jsx(jl,{}),textColor:i,className:"more-button",background:"transparent",onClick:n})},Jc=(e,i)=>{if(e>=10&&e<=19)return i.fiveToNine;const n=e%10;return n===0?i.zero:n===1?i.one:n>=2&&n<=4?i.twoToFour:i.fiveToNine},Zc=u(Tt).withConfig({componentId:"sc-18tgb3a-0"})(["position:relative;cursor:pointer;text-decoration:none;border-radius:var(--brLight);background:var(--block-content);.new{position:absolute;top:",";right:",";border-radius:",";background:",";font-size:0.7em;font-weight:bold;color:#fff;padding:5px 10px;}&[data-selected='true']{.outside{.more-button{opacity:1;visibility:visible;}.notification-circle{opacity:0;}.icon{box-shadow:0 20px 210px 60px ",";transform:",";}b{opacity:",";transform:",";color:",";}.notifications-title{opacity:1;transform:translateY(0px);}}}.more-button{position:absolute;top:",";left:",";right:",";transform:",";opacity:0;visibility:hidden;transition:0.2s;}.outside{position:static;width:100%;height:100%;overflow:hidden;gap:15px;display:flex;flex-direction:",";border-radius:var(--brLight);align-items:center;justify-content:",";padding:15px;.notifications-title{opacity:0;transform:translateY(20px);font-size:0.7em;position:absolute;transition:0.2s;bottom:25px;font-weight:bold;color:var(--text);right:",";}@media (min-width:1001px){&:hover{.more-button{opacity:1;visibility:visible;}.notification-circle{opacity:0;}.icon{box-shadow:0 20px 110px 60px ",";transform:",";}b{opacity:",";transform:",";color:",";}.notifications-title{opacity:1;transform:translateY(0px);}}}b{display:flex;align-items:center;font-size:0.8em;text-align:",";color:var(--text);transition:0.2s;font-weight:600;height:30px;}}"],({isVertical:e})=>e?"5px":"18px",({isVertical:e})=>e?"-5px":"50px",({isVertical:e})=>e?"var(--brLight) calc(var(--brLight) - 4px) calc(var(--brLight) - 4px) var(--brLight)":"var(--brLight)",y.red.light2,({color:e})=>y[e].main,({isVertical:e})=>e&&"scale(1.1) translateY(20px)",({hasNotifications:e,isVertical:i})=>i&&e&&0,({isVertical:e})=>e&&"scale(0.95) translateY(40%)",({isVertical:e})=>e?"#fff":"var(--text)",({isVertical:e})=>e?"5px":"50%",({isVertical:e})=>e?"5px":"auto",({isVertical:e})=>!e&&"10px",({isVertical:e})=>!e&&"translateY(-50%)",({isVertical:e})=>e?"column":"row",({isVertical:e})=>e?"center":"flex-start",({isVertical:e})=>!e&&"50px",({color:e})=>y[e].main,({isVertical:e})=>e&&"scale(1.1) translateY(20px)",({hasNotifications:e,isVertical:i})=>i&&e&&0,({isVertical:e})=>e&&"scale(0.95) translateY(40%)",({isVertical:e})=>e?"#fff":"var(--text)",({isVertical:e})=>e?"center":"left"),iw=u.div.withConfig({componentId:"sc-18tgb3a-1"})(["position:absolute;top:12px;left:12px;opacity:0.7;"]),To=e=>{const{color:i,shadow:n,notifications:s,title:o,isNew:a,icon:r,isExternalPage:l,isOldLkPage:p,mode:d,id:h,orientation:f="vertical"}=e,g=f==="vertical",m=z(ue.userSettings);if(!m)return null;const b=m.homePage.pages.find(x=>x===h);return t.jsxs(Zc,{padding:"0",width:"100%",maxWidth:"100%",height:g?"135px":"60px",isVertical:g,justifyContent:"center",shadow:n,color:i.length?i:"blue",hasNotifications:!!s,"data-selected":e.isActive,children:[(p||l)&&g&&t.jsxs(iw,{children:[p&&t.jsx(js,{title:"Раздел в старом ЛК"}),l&&t.jsx(es,{title:"Раздел на внешнем ресурсе"})]}),t.jsxs("div",{className:"outside",children:[t.jsx(wt,{badge:s==null?void 0:s.toString(),color:i.length?i:"blue",children:r??t.jsx(Hg,{})}),t.jsx("b",{title:o,children:o}),!!s&&t.jsxs("span",{className:"notifications-title",children:[s," ",Jc(s,{one:"уведомление",zero:"уведомлений",twoToFour:"уведомления",fiveToNine:"уведомлений"})]})]}),d==="use"&&t.jsx(Kc,{route:e}),d==="add"?b?t.jsx(j,{icon:t.jsx(St,{}),width:"80px",align:"center",textColor:"var(--red)",background:"var(--block)",onClick:()=>ln({pageId:h})}):t.jsx(j,{icon:t.jsx(ti,{}),width:"80px",textColor:"var(--green)",align:"center",background:"var(--block)",onClick:()=>Ms({pageId:h})}):null,a&&t.jsx("span",{className:"new",children:"New"})]})},nw=u(Zc).withConfig({componentId:"sc-17rtccq-0"})(["box-shadow:none;color:var(--blue);background:transparent;"]),KA=()=>t.jsx(te,{to:tn,onClick:()=>{Wt.changeOpen({isOpen:!1,currentPage:tn.slice(1,tn.length)})},children:t.jsx(nw,{padding:"0",width:"125px",height:"135px",isVertical:!0,justifyContent:"center",color:"blue",hasNotifications:!1,children:t.jsxs("div",{className:"outside",children:[t.jsx(wt,{color:"blue",children:t.jsx(Ug,{})}),t.jsx("b",{children:"Все разделы"})]})})}),sw=u(te).withConfig({componentId:"sc-1fmzc9s-0"})(["width:",";border-radius:var(--brLight);@media (max-width:500px){width:",";}"],({width:e})=>typeof e=="number"?`calc((700px / 5) * ${e} - ${e===2?22:15}px)`:e,({width:e})=>typeof e=="number"?`calc(33vw * ${e} - ${e===2?22:15}px)`:e),ow=u.div.withConfig({componentId:"sc-1fmzc9s-1"})(["width:",";"],({width:e})=>typeof e=="number"?`calc(125px * ${e} + ${(e-1)*10}px)`:e),ed=e=>{const{close:i}=H(),{menuPath:n,path:s,orientation:o="vertical",mode:a="use"}=e,r=o==="vertical"?17:50,l=1;if(a==="add")return t.jsx(ow,{width:o==="vertical"?l:"100%",children:t.jsx(To,{...e,mode:a,maxWordLength:r})});const p=()=>{i(),Wt.changeOpen({isOpen:!1,currentPage:s.slice(1,s.length)})};return t.jsx(sw,{ref:e.forwardedRef,to:n??s,onClick:p,width:o==="vertical"?l:"100%",children:t.jsx(To,{...e,maxWordLength:r,mode:a})})},aw=u.div.withConfig({componentId:"sc-1rovv03-0"})(["width:100%;display:flex;flex-direction:column;gap:5px;"]),rw=({pages:e,showNotFound:i=!0})=>!e||!i&&Object.keys(e).length===0?null:!Object.keys(e).length&&i?t.jsx(je,{text:"Ничего не было найдено"}):t.jsx(aw,{children:Object.values(e).map(n=>(n==null?void 0:n.show)!==!1&&c.createElement(ed,{...n,orientation:"horizontal",shadow:!1,key:n.id}))}),lw=u.div.withConfig({componentId:"sc-10p9gf-0"})(["width:100%;padding:15px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid ",";.payment-item-money{display:flex;align-items:center;color:var(--green);font-weight:500;}"],y.grey.transparent3),cw=({date:e,value:i})=>t.jsxs(lw,{children:[t.jsxs(E,{gap:"16px",children:[t.jsx(wt,{color:"grey",size:33,children:t.jsx(zt,{})}),t.jsxs(E,{d:"column",ai:"flex-start",children:[t.jsx("span",{className:"payment-item-date",children:"Платеж"}),t.jsx(se,{children:oe(e)})]})]}),t.jsxs("span",{className:"payment-item-money",children:["+",i," ",t.jsx(zt,{})," "]})]}),dw=u.div.withConfig({componentId:"sc-1yrw9my-0"})(["display:flex;align-items:center;font-size:",";font-weight:",";color:",";svg{width:",";max-width:",";height:",";min-width:",";margin:0;stroke-width:0.2;}"],({fontSize:e})=>e,({fontWeight:e})=>e,({color:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e),td=({children:e,size:i,color:n,fontWeight:s,forwardedRef:o})=>{const a=i==="small"?"1rem":i==="big"?"1.5rem":"1.2rem",r=i==="small"?"17px":i==="big"?"22px":"18px";return t.jsxs(dw,{ref:o,color:n,fontSize:a,iconSize:r,fontWeight:s,children:[e,t.jsx(zt,{})]})},pw=e=>Number(e.replace(/,/g,".").replace(/\s/g,"")),uw=u.div.withConfig({componentId:"sc-uw6vbc-0"})(["width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;.payment-list{margin-bottom:10px;width:100%;overflow-y:auto;min-height:195px;height:195px;padding-right:5px;background:var(--block-content);box-shadow:var(--block-shadow);border-radius:7px;margin-top:10px;}"]),hw=({payments:e})=>{const i=e==null?void 0:e.reduce((n,s)=>n+pw(s.value),0).toFixed(1);return t.jsxs(uw,{children:[t.jsxs(E,{jc:"space-between",children:[t.jsx(L,{icon:t.jsx(kl,{}),size:4,align:"left",width:"fit-content",children:"Поступившие платежи"}),t.jsx(se,{fontSize:"1rem",width:"fit-content",children:t.jsx(td,{size:"small",children:i})})]}),t.jsxs("div",{className:"payment-list",children:[!e.length&&t.jsx(je,{size:"50px",text:"Нет платежей",image:t.jsx(_l,{})}),e.map((n,s)=>c.createElement(cw,{...n,key:s}))]})]})},gw=u.div.withConfig({componentId:"sc-1tvc08s-0"})(["display:flex;flex-wrap:wrap;flex-direction:",";justify-content:flex-start;align-items:",";width:100%;column-gap:5px;row-gap:5px;margin-top:10px;font-size:",";color:var(--text);.value{width:",";line-height:1.4rem;}strong{font-weight:600;}"],({direction:e})=>e==="vertical"&&"column",({direction:e})=>e==="vertical"?"flex-start":"center",({fontSize:e})=>e,({direction:e})=>e==="vertical"?"100%":"fit-content"),Yt=({keyStr:e,value:i,fontSize:n,visible:s=!0,direction:o="horizontal"})=>s?t.jsxs(gw,{direction:o,fontSize:n,children:[t.jsxs("strong",{children:[e,":"]}),t.jsx("span",{className:"value",children:i})]}):null,id=()=>t.jsx(Z,{type:"tip",lineHeight:"1.7rem",maxWidth:"700px",fontSize:"0.83rem",children:t.jsxs("p",{children:["По возникновении технических проблем при подписании договоров и дополнительных соглашений обращайтесь на почту ",t.jsx("a",{href:"mailto:info@mospolytech.ru",children:"info@mospolytech.ru"})]})}),fw=e=>e.replace(/\B(?=(\d{3})+(?!\d))/g," "),mw=u.div.withConfig({componentId:"sc-msxfz5-0"})(["display:flex;width:100%;flex-direction:column;align-items:flex-start;height:300px;justify-content:space-between;.contract-info{display:flex;flex-direction:column;}p{margin:4px 0;}"]),xw=({contract:e})=>{if(!e)return null;const{number:i,startDate:n,endDatePlan:s,contragent:o,sum:a,can_sign:r,file:l,student:p,signed_user_date:d}=e,{open:h}=H(),[f,g]=c.useState(!1),[m,b]=c.useState(!1),[x,w]=c.useState(!1),_=z(Jt.$error),S=[{text:"Номер договора",info:i??""},{text:"Начало действия",info:oe(n)},{text:"Действует до",info:oe(s)},{text:"Подписан",info:oe(d)},{text:"Заказчик",info:o||"Московский политех"},{text:"Обучающийся",info:p??""},{text:"Сумма к оплате",info:fw(a)??""},{text:"Статус",info:""}],k=()=>{navigator.clipboard.writeText((e==null?void 0:e.number)??""),g(!0)},P=()=>{e&&(b(!0),ma.signContractFx(e.id),b(!1),w(!0))},T=()=>{h(t.jsx(id,{}),"Не получается подписать")};return t.jsxs(mw,{children:[t.jsx("div",{className:"contract-info",children:S.map(({info:F,text:R})=>t.jsx(Yt,{keyStr:R,value:F},F))}),r&&t.jsxs(E,{d:"column",gap:"8px",children:[t.jsx(Ze,{text:"Подписать договор",buttonSuccessText:"Подписан",action:P,isLoading:m,completed:x,repeatable:!1,popUpFailureMessage:_??"Не удалось подписать договор",setCompleted:w,popUpSuccessMessage:"Договор подписан",isActive:!0,pulsing:!0}),t.jsx(j,{onClick:T,text:"Не получается подписать?",background:"transparent",textColor:y.grey.main})]}),!r&&t.jsxs(E,{gap:"8px",children:[t.jsx(Ze,{text:"Скопировать номер договора",action:k,isLoading:!1,completed:f,setCompleted:g,popUpSuccessMessage:"Номер договора скопирован в буфер",isActive:!0}),l&&t.jsx(_n,{onClick:()=>null,href:l??"",icon:t.jsx(Vo,{}),width:"45px"})]})]})},bw=u.div.withConfig({componentId:"sc-ina9yc-0"})(["display:flex;align-items:center;justify-content:space-between;user-select:none;cursor:pointer;position:sticky;top:-2px;background:var(--block);z-index:3;width:100%;.title-and-icon{display:flex;align-items:center;width:calc(100% - 30px);b{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap;font-weight:500;}svg{min-width:19px;height:19px;margin-right:7px;}}"]),ww=({title:e,confirmed:i,setOpenArea:n})=>t.jsxs(bw,{onClick:()=>n(s=>!s),children:[t.jsxs("div",{className:"title-and-icon",children:[i?t.jsx(yl,{style:{color:"var(--green)"}}):t.jsx(Go,{style:{color:"var(--red)"}}),t.jsx("b",{children:e})]}),t.jsx(j,{icon:t.jsx(bt,{}),onClick:()=>null,background:"transparent"})]}),vw=u.div.withConfig({componentId:"sc-1xla5d1-0"})(["display:flex;flex-direction:column;transition:0.2s;width:100%;border-radius:var(--brLight);overflow:hidden;.inputs{padding:",";display:flex;flex-direction:column;row-gap:15px;transition:0.2s height,0.2s opacity,0.2s visibility,0.2s padding;height:",";opacity:",";visibility:",";}@media (max-width:500px){.inputs{height:",";}}"],({open:e})=>e?"15px 0":"0",({height:e,open:i})=>i?e+"px":"0",({open:e})=>e?"1":"0",({open:e})=>e?"visible":"hidden",({height:e,open:i})=>i?e+63+"px":"0"),yw=e=>{const{children:i,title:n,height:s,confirmed:o=!1,show:a=!1}=e,[r,l]=c.useState(a);return t.jsxs(vw,{height:s,open:r,children:[t.jsx(ww,{title:n,confirmed:o,setOpenArea:l}),t.jsx("div",{className:"inputs",children:i})]})},jw=u.div.withConfig({componentId:"sc-72blgj-0"})(["display:flex;align-items:center;@media (max-width:768px){flex-direction:column;gap:16px;}"]),kw=({data:e,isContractSigned:i})=>{const{id:n,signed_user:s,name:o,can_sign:a,date:r}=e,[l,p,d]=z([Jt.$done,Jt.$completed,Jt.$loading]),h=s||l?140:100,f=()=>kr.signAgreement(n),g=kr.setCompleted;return t.jsxs(yw,{height:h,title:o,confirmed:s||l,children:[t.jsxs(jw,{children:[t.jsxs(E,{d:"column",ai:"flex-start",gap:"4px",children:[t.jsx(L,{size:5,align:"left",children:o}),t.jsx(se,{children:oe(r)})]}),t.jsxs(E,{gap:"8px",w:"100%",jc:"flex-end",children:[t.jsx(_n,{href:e.file,onClick:()=>null,width:"40px",icon:t.jsx(Vo,{}),isActive:!!e.file}),!(s||l)&&t.jsx(Ze,{text:s||l?"Подписано":"Подписать",action:f,isLoading:d,completed:p,isDone:s||l,width:"160px",setCompleted:g,isActive:!(s||l)&&a,popUpFailureMessage:a?"Согласие уже подписано":i?"Необходимо сначала подписать соглашение об электронном взаимодейтсвии":"Необходимо сначала подписать договор",popUpSuccessMessage:"Согласие успешно подписано"}),t.jsx(Z,{type:"success",title:"Подписано",icon:t.jsx(bs,{}),align:"center",width:"130px",visible:s||l})]})]}),(l||s)&&t.jsxs(se,{children:["Дата подписания: ",oe(e.signed_user_date||new Date),","," ",e.signed_user_time||`${new Date().getHours()}:${new Date().getMinutes()}`]})]})},_w=({isDormitory:e,electronicAgreements:i=[],isContractSigned:n})=>t.jsxs(Ne,{width:"100%",children:[t.jsx(L,{size:4,align:"left",icon:t.jsx(Wg,{}),bottomGap:!0,children:"Доп. соглашения"}),t.jsx(id,{}),t.jsx(Z,{type:"info",title:"Информация",visible:!e,children:"Подписание дополнительных соглашений к 3-сторонним договорам в Личном кабинете не предусмотрено"}),i.map((s,o)=>t.jsx(kw,{data:s,isContractSigned:n},o))]}),Cw="https://api.mospolytech.ru/tutorial/api",Ye=Ct.create({baseURL:Cw});Ye.interceptors.request.use(Ts);Ye.interceptors.response.use(async e=>{var i,n,s,o;return((o=(s=(n=(i=e==null?void 0:e.data)==null?void 0:i.errors)==null?void 0:n[0])==null?void 0:s.extensions)==null?void 0:o.code)==="FST_JWT_AUTHORIZATION_TOKEN_EXPIRED"?await Ci(Ye)(e):e},Ci(Ye));const Sw=async e=>{const{data:i}=await Ye.post("/tutorials/init",{tutorials:e});return i},Iw=async()=>{const{data:e}=await Ye.get("/users/tutorials");return e},Tw=async e=>{const{data:i}=await Ye.post("/users/tutorials",{tutorialId:e});return i},Ew=async e=>{const{data:i}=await Ye.post("/users/rerun",{tutorialId:e});return i},Pw=async e=>{const{data:i}=await Ye.post("/users/enableTutorial",{tutorialState:e});return i},Aw=async()=>{const{data:e}=await Ye.post("/users/reset");return e},Nw=async()=>{const{data:e}=await Ye.post("/users/call");return e},Dw=async()=>{const{data:e}=await Ye.delete("/users/clear");return e},Ow=async e=>{const{data:i}=await Ye.post("/users/sync",e);return i},Cr=["home","settings","chat","applications","payments","stud-project-activity"],Lw=e=>({home:{index:0,path:"/home",name:"Главная",steps:[{title:"Главная",description:"На главной странице собрана основная информация приложения"},{title:"Поиск",description:"Здесь есть поиск для быстрого поиска информации, раздела или контента"},{title:"Меню быстрого доступа",description:"А также меню быстрого доступа к разделам. Его можно изменить или убрать в настройках"},{title:"Уведомления",description:"Просмотрите уведомления о важных событиях или сообщениях, щелкнув по иконке колокольчика. Уведомления можно выключить или изменить в настройках"},...e.includes("has widgets")?[{title:"Виджеты",description:"Используйте виджеты для быстрого доступа к информации или функциям, размещенным на главной странице. Виджеты можно изменить в настройках"}]:[]],roles:["stud","staff"]},chat:{index:1,path:"/chat",name:"Сообщения",steps:[{title:"Список диалогов",description:"Здесь будут указаны все ваши чаты"},{title:"Новое сообщение",description:"Чтобы создать новый чат, нажмите на эту кнопку"},{title:"Поиск",description:"Для быстрого поиска диалога можно воспользоваться поиском"}],roles:["stud","staff"]},payments:{index:2,path:"/payments",name:"Договоры и оплаты",steps:Rw(e),roles:zw(e)},applications:{index:3,path:"/applications",name:"Цифровые сервисы",steps:[{title:"Цифровые сервисы",description:"В этом разделе можно заказать необходимую справку, подать заявление или запрос"},{title:"Цифровые сервисы",description:"В таблице можно посмотреть статус заявления и скачать файлы документов. Доступны поиск и фильтрация по запросам"},{title:"Цифровые сервисы",description:"В колонке «Структурное подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом"},{title:"Подать заявление",description:"Чтобы подать заявление, нажмите на эту кнопку"}],roles:["stud","staff"]},"stud-project-activity":{index:4,path:"/project-activity",name:"Проектная деятельность",steps:[{title:"Проектная деятельность",description:"В этом разделе можно узнать информацию о твоем проекте по проектной деятельности"},{title:"Проект",description:"Здесь указано название проекта и полезная информация"},{title:"Текущий семестр",description:"Раздел с текущим семестром. Для зачета нужно набрать 60 баллов"},{title:"Предыдущий семестр",description:'Если за предыдущий семсетр стоит "не зачтено", то нужно донабрать баллы в текущем семестре'},{title:"Итого",description:"В последнем разделе посчитано итоговое количество баллов и предварительная оценка"}],roles:["stud"]},settings:{index:5,path:"/configurations",name:"Настройки",steps:[{title:"Настройки",description:"Мы стараемся предоставить широкий набор настроек для персонализации Личного кабинета. В этом разделе можно все настроить под себя"},{title:"Аккаунт",description:"В этом разделе можно обновить контактную информацию, изменить фото профиля, поменять пароль или включить синхронизацию настроек между устройствами"},{title:"Меню",description:"В этом разделе можно изменить список разделов для быстрого доступа с боковой панели"},{title:"Внешний вид",description:"Пока что в этом разделе можно изменить только визуальную тему Личного кабинета, но скоро появится больше возможностей для персонализации"},{title:"Главная страница",description:"Здесь можно настроить разделы быстрого доступа домашней страницы и отображение виджетов"},{title:"Уведомления",description:"В этом разделе можно настроить получение и отображение уведомлений по темам"},{title:"Обучение",description:"В этом разделе можно выключить обучение, посмотреть прогресс обучения или запустить программу для выбранного раздела"}],roles:["stud","staff"]}}),Rw=e=>{const i="Тут отображается задолженность или переплата по договору",n="Чтобы оплатить договор, нужно нажать на кнопку и отсканировать QR-код в банковском приложении. Если задолженности нет, то будет отображаться зеленая галочка";return[...e.includes("education")&&e.includes("dormitory")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору. У тебя есть договор на общежитие и на обучение. Их можно переключать в этом меню"},{title:"Задолженность",description:i},{title:"Оплата",description:n}]:e.includes("education")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору"},{title:"Задолженность",description:i},{title:"Оплата",description:n}]:e.includes("dormitory")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору"},{title:"Задолженность",description:i},{title:"Оплата",description:n}]:[]]},zw=e=>e.includes("education")||e.includes("dormitory")?["stud","staff"]:[];function nd(e){let i=0,n,s;if(e.length===0)return i;for(n=0;n<e.length;n++)s=e.charCodeAt(n),i=(i<<5)-i+s,i|=0;return i}const Fw=Object.keys,Mw=Xc({api:{get:Ex}}),sd=I({name:"tutorialEnabled",sid:"-2sv3dj"}),ba=I({name:"setHeroVisited",sid:"-gm22ma"}),od=I({name:"increasedInteractions",sid:"-3zxkdw"}),Tn=I({name:"moduleCompleted",sid:"-y1cfqu"}),wa=I({name:"moduleRestarted",sid:"inni06"}),ad=I({name:"setCurrentTutorial",sid:"-qlgxjl"}),rd=I({name:"nextStep",sid:"-ctpt25"}),ld=I({name:"prevStep",sid:"yvo45p"}),va=I({name:"resetStep",sid:"dym9b"}),ya=I({name:"getTutorialData",sid:"-167lf4"}),ja=I({name:"clearProgress",sid:"-se1xl7"}),cd=W(({tutorials:e,hash:i})=>{localStorage.setItem(_i,JSON.stringify(e)),localStorage.setItem(Is,new Date().toISOString()),i&&localStorage.setItem(rn,i.toString())},{name:"saveProgressLocally",sid:"-jnkyqu"}),Bs=$(null,{name:"$tutorialState",sid:"-19iom8"}).reset(ce.logout),$w=$(!1,{name:"$heroVisited",sid:"v6uo4k"}).on(ba,(e,i)=>(localStorage.setItem("heroVisited",String(i)),i)).reset(ce.logout),Hs=$(null,{name:"$currentModule",sid:"fx4jm1"}).on(Tn,e=>({...e,completed:!0})).reset(ce.logout),cn=$(0,{name:"$currentStep",sid:"60ay2a"}).reset(va).reset(ce.logout),ct=$(null,{name:"$tutorials",sid:"7b0ixk"}).on(Tn,(e,i)=>e?{...e,[i]:{...e[i],completed:!0}}:null).reset(ce.logout),dd=$(0,{name:"$interactions",sid:"-ftqyfp"}).reset(ce.logout),ka=I({name:"setRoles",sid:"-otxn0y"}),oi=$([],{name:"$roles",sid:"rj0uup"}).on(ka,(e,i)=>i).reset(ce.logout),Us=$(null,{name:"$userTutorialsData",sid:"ham0t4"}).reset(ce.logout);v({and:[{clock:ue.userSettings,source:oi,filter:(e,i)=>!!i,fn:(e,i)=>i!=null&&i.homePage.hasPayment&&(i!=null&&i.homePage.hasSchedule)?[...e,"has widgets"]:e.filter(n=>n!=="has widgets"),target:oi}],or:{sid:"-6mj6w2"}});v({and:[{clock:Mw.store,source:oi,filter:e=>!e.includes("has PA last semester"),fn:(e,i)=>{var n;return((n=i.data)==null?void 0:n.last_semestr_result)!=="Данные отсутствуют"?[...e,"has PA last semester"]:e.filter(s=>s!=="has PA last semester")},target:oi}],or:{sid:"-674y9y"}});v({and:[{clock:oi,fn:e=>Lw(e),target:Us}],or:{sid:"-5rqpnu"}});v({and:[{clock:ma.getPaymentsFx.doneData,source:oi,fn:(e,{dormitory:i,education:n})=>{const s=[...e];return i.length&&!s.includes("dormitory")&&s.push("dormitory"),n.length&&!s.includes("education")&&s.push("education"),s},target:ka}],or:{sid:"-5ozqp1"}});v({and:[{clock:rd,source:{currentStep:cn,currentModule:Hs},fn:({currentStep:e,currentModule:i})=>{if(!i)return 0;const n=e+1;return(i==null?void 0:i.steps.length)<=n?0:n},target:cn}],or:{sid:"-4t3oa3"}});v({and:[{clock:ld,source:{currentStep:cn,currentModule:Hs},fn:({currentStep:e,currentModule:i})=>{if(!i)return 0;const n=e-1;return n<0?e:n},target:cn}],or:{sid:"gc11dn"}});v({and:[{clock:ad,source:ct,fn:(e,i)=>!e||!i?null:e[i]??null,target:Hs}],or:{sid:"h9khko"}});v({and:[{clock:Tn,target:va}],or:{sid:"hr5wk8"}});const as=re({sid:"-5aq3cb",fn:()=>tt({handler:Ew}),name:"rerunModuleMutation",method:"createMutation"});v({and:[{clock:wa,target:as.start}],or:{sid:"i6k56c"}});v({and:[{clock:wa,source:ct,fn:(e,i)=>!e||!i?null:{...e,[i]:{...e[i],completed:!1}},target:ct}],or:{sid:"i8rbjs"}});v({and:[{clock:as.$succeeded,source:{id:as.__.$latestParams,tutorials:ct},filter:Boolean,fn:({id:e,tutorials:i})=>!i||!e?null:{...i,[e]:{...i[e],completed:!1}},target:ct}],or:{sid:"j4ndyq"}});v({and:[{clock:as.$failed,fn:()=>({message:"Не удалось перезапустить модуль",type:"failure"}),target:G.evokePopUpMessage}],or:{sid:"k4e0j7"}});const it=re({sid:"n84b6",fn:()=>ws({handler:Iw}),name:"getTutorialDataQuery",method:"createQuery"});v({and:[{clock:ya,fn:()=>!!localStorage.getItem("heroVisited"),target:ba}],or:{sid:"ujxhsu"}});v({and:[{clock:ya,target:it.start}],or:{sid:"umogrn"}});v({and:[{clock:it.finished.success,fn:({result:{tutorialState:e}})=>e,target:Bs}],or:{sid:"v0fblo"}});v({and:[{clock:it.finished.success,fn:({result:{tutorials:e,hash:i}})=>({tutorials:e,hash:i}),target:cd}],or:{sid:"vgx5ei"}});v({and:[{clock:it.finished.failure,fn:()=>!1,target:Bs}],or:{sid:"vzm5ks"}});v({and:[{clock:it.finished.success,source:Us,fn:(e,{result:{tutorials:i}})=>!e||!i?null:i.reduce((n,s)=>({...n,[s.id]:{...e[s.id],...s}}),{}),target:ct}],or:{sid:"wdwt06"}});v({and:[{clock:Us,source:ct,fn:(e,i)=>{if(!i||!e)return null;const n={...e};return Fw(e).forEach(s=>{n[s]={...e[s],...i[s]}}),n},target:ct}],or:{sid:"xd3mza"}});v({and:[{clock:it.finished.success,fn:({result:{interactions:e}})=>e,target:dd}],or:{sid:"yan36b"}});const pd=I({name:"initialized",sid:"8ebr73"}),Eo=re({sid:"effxhg",fn:()=>tt({handler:Sw}),name:"updatedM",method:"createMutation"});v({and:[{clock:pd,target:Eo.start}],or:{sid:"ytc3cl"}});v({and:[{clock:Eo.finished.success,source:Eo.__.$latestParams,fn:e=>localStorage.setItem(ia,nd(JSON.stringify(e)).toString()),target:it.start}],or:{sid:"yvj9q1"}});const Bw=re({sid:"-vvr1dj",fn:()=>tt({handler:Nw}),name:"callInteractionMutation",method:"createMutation"});v({and:[{clock:od,target:Bw.start}],or:{sid:"-pr4w66"}});const dn=re({sid:"nezpso",fn:()=>tt({handler:Pw}),name:"changeTutorialStateMutation",method:"createMutation"});v({and:[{clock:sd,target:dn.start}],or:{sid:"-pbqnk2"}});v({and:[{clock:dn.$succeeded,source:dn.__.$latestParams,filter:Boolean,target:Bs}],or:{sid:"-p9jh6m"}});v({and:[{clock:dn.$succeeded,target:it.start}],or:{sid:"-oup15v"}});v({and:[{clock:dn.$failed,fn:()=>({message:"Не удалось сохранить данные о прохождении",type:"failure"}),target:G.evokePopUpMessage}],or:{sid:"-oshusf"}});const Ws=re({sid:"-pnyfi3",fn:()=>tt({handler:Aw}),name:"resetTutorialMutation",method:"createMutation"});v({and:[{clock:ja,target:Ws.start}],or:{sid:"-oawfsv"}});const Hw=W(()=>{localStorage.removeItem(rn),localStorage.removeItem(_i),localStorage.removeItem(Is)},{name:"clearLocalProgressFx",sid:"yo41xi"});v({and:[{clock:ja,target:Hw}],or:{sid:"-nuem01"}});const ud=I({name:"clearAll",sid:"-e8pt7k"}),hd=re({sid:"w8b7vu",fn:()=>tt({handler:Dw}),name:"clearMut",method:"createMutation"});v({and:[{clock:ud,target:hd.start}],or:{sid:"-negksk"}});v({and:[{clock:hd.$succeeded,fn:()=>{localStorage.clear()},target:ce.logout}],or:{sid:"-n0ppyj"}});v({and:[{clock:Ws.$succeeded,target:it.start}],or:{sid:"-mwv5t0"}});v({and:[{clock:Ws.$succeeded,fn:()=>({message:"Прогресс успешно сброшен",type:"success"}),target:G.evokePopUpMessage}],or:{sid:"-mj4ayz"}});v({and:[{clock:Ws.$failed,fn:()=>({message:"Не удалось сбросить данные о прохождении",type:"failure"}),target:G.evokePopUpMessage}],or:{sid:"-mepy83"}});const _a=re({sid:"-1f9d4w",fn:()=>tt({handler:Tw}),name:"completeModuleMutation",method:"createMutation"}),Ca=I({name:"sync",sid:"-hht7in"}),Gs=re({sid:"-5cm0ys",fn:()=>tt({handler:Ow}),name:"syncMutation",method:"createMutation"});v({and:[{clock:it.finished.success,filter:({result:{hash:e}})=>!!localStorage.getItem(rn)&&!!localStorage.getItem(_i)&&e!==Number(localStorage.getItem(rn)),fn:()=>{const e=JSON.parse(localStorage.getItem(_i)||""),i=localStorage.getItem(Is)||"";return{tutorials:e,date:i}},target:Ca}],or:{sid:"-ljdoei"}});v({and:[{clock:Ca,target:Gs.start}],or:{sid:"-aozr44"}});v({and:[{clock:Gs.finished.success,fn:({result:e})=>e,target:cd}],or:{sid:"-amskqo"}});v({and:[{clock:Gs.finished.success,source:ct,filter:(e,{result:{tutorials:i}})=>!!(i!=null&&i.length),fn:(e,{result:{tutorials:i}})=>!e||!i?null:i.reduce((n,s)=>({...n,[s.id]:{...e[s.id],...s}}),{}),target:ct}],or:{sid:"-a7ec4k"}});v({and:[{clock:Tn,target:_a.start}],or:{sid:"-95gj6n"}});v({and:[{clock:_a.$succeeded,target:it.start}],or:{sid:"-8rpocm"}});v({and:[{clock:_a.$failed,fn:()=>({message:"Не удалось сохранить данные о прохождении",type:"failure"}),target:G.evokePopUpMessage}],or:{sid:"-8pihz6"}});v({and:[{clock:ce.logout,target:[it.reset]}],or:{sid:"-89kgrp"}});const Se={tutorialState:Bs,currentModule:Hs,currentStep:cn,tutorials:ct,heroVisited:$w,interactions:dd,roles:oi,userTutorials:Us},xe={tutorialEnabled:sd,setHeroVisited:ba,moduleCompleted:Tn,moduleRestarted:wa,setCurrentTutorial:ad,getTutorialData:ya,nextStep:rd,prevStep:ld,clearProgress:ja,resetStep:va,increasedInteractions:od,initialized:pd,clearAll:ud,sync:Ca,setRoles:ka},Uw={syncMutation:Gs},Sr={small:"30px",middle:"44px",big:"68px"},gd={small:"8px",middle:"10px",big:"16px"},Ww={small:"0.8rem",middle:"0.9rem",big:"1rem"},Gw={small:"0.65rem",middle:"0.75rem",big:"0.85rem"},Vw=u.div.withConfig({componentId:"sc-a0ws8d-0"})(["max-width:",";width:100%;min-height:calc("," + 6px);padding:",";display:flex;align-items:center;justify-content:flex-start;background:",";border-radius:",";overflow-y:hidden;overflow-x:auto;scroll-snap-type:x proximity;font-size:0.9em;.slider-body{position:relative;display:flex;align-items:center;width:100%;height:",";}&::-webkit-scrollbar{display:none;}&:active .currentPage{transform:scale(0.9);}","{font-size:11px;min-height:40px;.slider-body{height:34px;}}"],({sliderWidth:e})=>e??"100%",mt(Sr),({appearance:e})=>e&&"3px",({appearance:e})=>e&&"var(--almostTransparent)",mt(gd),mt(Sr),V.isTablet),qw=u.div.withConfig({componentId:"sc-1tv7iem-0"})(["width:100%;height:100%;min-width:calc(100% / ",");padding:10px 15px;display:flex;align-items:center;justify-content:center;text-align:center;opacity:",";transition:0.2s opacity,0.2s transform;z-index:1;cursor:pointer;user-select:none;color:var(--text);& > b{word-break:normal;text-overflow:ellipsis;font-weight:600;font-size:",";}&:hover{filter:",";}&.active{opacity:1;}&:active{transform:scale(0.97);}","{& > b{font-size:",";}}"],({elementsVisible:e})=>e,({condition:e})=>e?.7:.3,mt(Ww),({condition:e})=>e&&"brightness(0.8)",V.isMobile,mt(Gw)),Yw=({id:e,currentPage:i,setCurrentPage:n,pageTitle:s,elementsVisible:o,condition:a=!0,size:r})=>t.jsx(qw,{size:r,className:`SliderItem ${e===i?"active":""}`,onClick:()=>a&&n(e),elementsVisible:o,condition:a,children:t.jsx("b",{children:s})}),Qw=c.memo(Yw),Xw=u.span.withConfig({componentId:"sc-1qjycjp-0"})(["height:calc(100% - 0px);background:",";display:block;position:absolute;transition:0.3s left,0.2s transform;z-index:0;border-radius:calc("," - 3px);scroll-snap-align:center;left:",";width:",";@media (max-width:1000px){border-radius:calc(var(--brLight) - 2px);}"],({appearance:e})=>e?"var(--theme)":"var(--theme-1)",mt(gd),({currentPage:e,moreThanNeeded:i,pages:n,elementsVisible:s})=>`calc(${e*100/(i?s:n.length)}%)`,({moreThanNeeded:e,pages:i,elementsVisible:n})=>`calc(100% / ${e?n:i.length} - ${i.length>n?3:0}px)`),Kw=({currentPage:e,pages:i,elementsVisible:n,appearance:s,size:o})=>{const a=c.useMemo(()=>i.length>n,[i.length,n]);return t.jsx(Xw,{currentPage:e,appearance:s,moreThanNeeded:a,pages:i,elementsVisible:n,size:o})},Jw=c.memo(Kw),Zw=({pages:e,currentPage:i,setCurrentPage:n,sliderWidth:s,appearance:o=!0,size:a="middle",forwardedRef:r})=>{const[l,p]=c.useState(5),d=c.useRef(null),{width:h}=Cn();return c.useEffect(()=>{var g;const f=((g=d==null?void 0:d.current)==null?void 0:g.offsetWidth)??h;f>800?p(5):f>600&&f<=800||f>400&&f<=600?p(4):f<=400&&p(3)},[h,d.current]),c.useEffect(()=>{r&&r(d.current)},[]),t.jsx(Vw,{ref:d,elementsVisible:l,sliderWidth:s,appearance:o,size:a,children:t.jsxs("div",{className:"slider-body",children:[t.jsx(Jw,{size:a,appearance:o,pages:e,currentPage:i,elementsVisible:l}),e.map((f,g)=>t.jsx(Qw,{size:a,id:g,currentPage:i,setCurrentPage:n,pageTitle:f.title,condition:f.condition,elementsVisible:l},g))]})})},Vs=c.memo(Zw),fo=e=>e.reduce((i,n)=>(i[n.title]=n.mql.matches,i),{}),Xe=()=>{const e=Jm.map(({query:s,title:o})=>({mql:matchMedia(s),title:o})),[i,n]=c.useState(fo(e));return c.useLayoutEffect(()=>(e.forEach(({mql:s})=>s.addEventListener("change",()=>{n(fo(e))})),()=>e.forEach(({mql:s})=>s.removeEventListener("change",()=>{n(fo(e))}))),[]),{...i,currentDevice:Object.keys(i).find(s=>i[s]===!0)??"desktop"}},ev=({setAnimation:e})=>{const i=z(Se.currentModule),{isMobile:n,isTablet:s}=Xe();return i?n||s?t.jsx(tv,{onClick:()=>{e("out"),setTimeout(()=>{xe.moduleCompleted(i.id)},200)},children:t.jsx(Gg,{size:24})}):t.jsxs(iv,{onClick:()=>{e("out"),setTimeout(()=>{xe.moduleCompleted(i.id)},200)},children:["Пропустить ",">"]}):null},fd=u.button.withConfig({componentId:"sc-zweyx0-0"})(["position:absolute;color:#ffffff;z-index:6;background:transparent;border:none;font-size:18px;cursor:pointer;"]),tv=u(fd).withConfig({componentId:"sc-zweyx0-1"})(["right:1.5em;top:0.5em;padding:1rem;"]),iv=u(fd).withConfig({componentId:"sc-zweyx0-2"})(["right:2.5em;bottom:1.5em;"]),nv=({children:e,onSwipe:i})=>{const n=c.useRef(null),[s,o]=c.useState(0),[a,r]=c.useState(0),l=c.useCallback(d=>{n.current&&n.current.contains(d.target)&&(d.preventDefault(),o(d.touches[0].clientX),r(d.touches[0].clientY))},[]),p=c.useCallback(d=>{if(!n.current||!n.current.contains(d.target))return;d.preventDefault();const h=d.changedTouches[0].clientX,f=d.changedTouches[0].clientY,g=h-s,m=f-a;i({deltaX:g,deltaY:m})},[s,a,i]);return c.useEffect(()=>(window.addEventListener("touchstart",l),window.addEventListener("touchend",p),()=>{window.removeEventListener("touchstart",l),window.removeEventListener("touchend",p)}),[l,p]),t.jsx("div",{ref:n,children:e})};function sv(e,i=300){let n;const s=(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},i)};return s.cancel=()=>{n!==null&&clearTimeout(n),n=null},s}const ov=()=>{const[e,i]=c.useState({width:0,height:0}),[n,s]=c.useState(null),[o,a]=c.useState(!1),r=c.useRef(!0),l=c.useRef(null);c.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const p=c.useCallback(d=>{if(l.current=d,!d)return;const h=()=>{if(!d||!r.current)return;const x=d.getBoundingClientRect();r.current&&(i({width:x.width,height:x.height}),s({top:x.top,left:x.left,right:x.right,bottom:x.bottom}))},f=sv(h,200),g=document.getElementById("root");if(!g)return;h();const m=new IntersectionObserver(([x])=>{r.current&&a(x.isIntersecting),x.isIntersecting&&m.unobserve(d)}),b=new MutationObserver(h);return b.observe(g,{childList:!0,subtree:!0}),m.observe(d),window.addEventListener("resize",h),window.addEventListener("scroll",f,!0),()=>{m.disconnect(),b.disconnect(),window.removeEventListener("resize",h),window.removeEventListener("scroll",f,!0)}},[]);return c.useEffect(()=>()=>{p(null)},[p]),{dimensions:e,position:n,handleRef:p,visible:o,ref:l}};function av({threshold:e=0,root:i=null,rootMargin:n="0%",freezeOnceVisible:s=!1,initialIsIntersecting:o=!1,onChange:a}={}){var b;const[r,l]=c.useState(null),[p,d]=c.useState(()=>({isIntersecting:o,entry:void 0})),h=c.useRef();h.current=a;const f=((b=p.entry)==null?void 0:b.isIntersecting)&&s;c.useEffect(()=>{if(!r||!("IntersectionObserver"in window)||f)return;let x;const w=new IntersectionObserver(_=>{const S=Array.isArray(w.thresholds)?w.thresholds:[w.thresholds];_.forEach(k=>{const P=k.isIntersecting&&S.some(T=>k.intersectionRatio>=T);d({isIntersecting:P,entry:k}),h.current&&h.current(P,k),P&&s&&x&&(x(),x=void 0)})},{threshold:e,root:i,rootMargin:n});return w.observe(r),()=>{w.disconnect()}},[r,JSON.stringify(e),i,n,f,s]);const g=c.useRef(null);c.useEffect(()=>{var x;!r&&((x=p.entry)!=null&&x.target)&&!s&&!f&&g.current!==p.entry.target&&(g.current=p.entry.target,d({isIntersecting:o,entry:void 0}))},[r,p.entry,s,f,o]);const m=[l,!!p.isIntersecting,p.entry];return m.ref=m[0],m.isIntersecting=m[1],m.entry=m[2],m}const He=e=>n=>{var Ve,Ke;const s=de.useRef(null),{width:o}=Cn(),[a,r]=c.useState("in"),[l,p]=c.useState(0),d=document.getElementById("portal"),{dimensions:h,position:f,handleRef:g,visible:m,ref:b}=ov(),[x,w,_,S]=z([Se.tutorialState,Se.currentModule,Se.currentStep,Se.tutorials]),{isIntersecting:k,ref:P}=av({threshold:.5}),T=w==null?void 0:w.steps[_];if(c.useEffect(()=>{g&&g(b.current)},[]),!d||!f||!x||!S||!w||!n.tutorialModule||!T)return t.jsx(e,{forwardedRef:g,...n});const{title:F,description:R}=T,{id:B,step:ae,params:U}=n.tutorialModule,Y=w.completed,Le=w?_===w.steps.length-1:0;if(!(U!=null&&U.noScroll)&&!m&&!Y&&w.id===B&&ae===_&&!k&&b.current&&b.current.scrollIntoView({behavior:"smooth"}),!m||Y)return t.jsx(e,{forwardedRef:g,...n});const _e=({deltaX:fe,deltaY:ve})=>{Math.abs(fe)>Math.abs(ve)||ve>0&&(r("out"),setTimeout(()=>{r("removed"),xe.moduleCompleted(B)},200))};return t.jsxs(t.Fragment,{children:[t.jsx(e,{forwardedRef:g,...n}),(typeof ae=="number"?ae===_:ae.some(fe=>fe===_))&&B===w.id&&Cl.createPortal(t.jsxs(t.Fragment,{children:[t.jsx(nv,{onSwipe:_e,children:t.jsx(rv,{onClick:()=>{p(l+1),l>1&&(r("out"),setTimeout(()=>{r("removed"),xe.moduleCompleted(B)},200))}})}),t.jsx(dv,{dimensions:h,position:f,lastStep:a==="out",noPadding:(Ve=n.tutorialModule.params)==null?void 0:Ve.noPadding}),t.jsxs(pv,{ref:fe=>{fe&&(s.current=fe,P(fe))},pageWidth:o,dimensions:h,childPosition:f,relativePosition:((Ke=n.tutorialModule.params)==null?void 0:Ke.position)||"right",lastStep:a==="out",children:[t.jsx(L,{size:4,align:"left",children:F}),t.jsx(uv,{children:R}),t.jsxs(hv,{jc:"flex-end",gap:"20px",children:[t.jsx(Ir,{disabled:_==0,onClick:()=>{xe.prevStep()},children:t.jsx(Vg,{})}),t.jsxs("div",{children:[_+1," / ",w.steps.length]}),t.jsx(Ir,{onClick:()=>{Le?(r("out"),setTimeout(()=>{r("removed"),xe.moduleCompleted(B)},200)):xe.nextStep()},children:Le?t.jsx(qg,{}):t.jsx(Yg,{})})]})]}),t.jsx(ev,{setAnimation:fe=>r(fe)})]}),d)]})},rv=u.div.withConfig({componentId:"sc-18r58yd-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;z-index:4;"]),lv=ks(["0%{opacity:0;}100%{opacity:1;}"]),Sa=ks(["0%{opacity:1;}100%{opacity:0;}"]),cv=ks(["0%{background-color:rgba(0,0,0,0.66);}100%{background-color:rgba(0,0,0,0);}"]),dv=u.div.withConfig({componentId:"sc-18r58yd-1"})(["pointer-events:none;position:fixed;top:","px;left:","px;z-index:6;width:","px;height:","px;padding:",";border-radius:10px;box-shadow:rgba(0,0,0,0.66) 0px 0px 0px 10000px;animation:"," 0.2s ease-in forwards;"],({position:{top:e},noPadding:i})=>i?e:e-10,({position:{left:e},noPadding:i})=>i?e:e-10,({dimensions:{width:e},noPadding:i})=>i?e:e+20,({dimensions:{height:e},noPadding:i})=>i?e:e+20,({noPadding:e})=>e?"0":"10px",({lastStep:e})=>e?Sa:cv),pv=u.div.withConfig({componentId:"sc-18r58yd-2"})(["position:fixed;z-index:6;bottom:0;left:0;width:calc(100% - 16px);margin:8px;padding:20px 30px;border-radius:15px;color:#f4f4f4;background:rgba(95,109,236,0.6);backdrop-filter:blur(6.5px);font-family:'Montserrat';font-style:normal;font-weight:600;font-size:16px;line-height:20px;@media (min-width:1000px){min-width:250px;width:20%;max-width:600px;top:","px;left:",";right:",";transform:translateY(",");bottom:auto;margin:10px;animation:"," 200ms ease-in forwards;}"],({dimensions:{height:e},childPosition:{top:i},relativePosition:n})=>{switch(n){case"bottom":return i+e+10;case"top":return i-30;default:return i-20}},({pageWidth:e,dimensions:{width:i},childPosition:{left:n},relativePosition:s})=>{switch(s){case"bottom":case"top":return e-n>250?n-20+"px":"auto";case"left":return"auto";case"right":return n+i+10+"px"}},({pageWidth:e,dimensions:{width:i},childPosition:{left:n,right:s},relativePosition:o})=>{switch(o){case"bottom":case"top":case"right":return e-n-i-20>250?"auto":"10px";case"left":return e-s+i+10+"px"}},({relativePosition:e})=>e==="top"?"-100%":"0",({lastStep:e})=>e?Sa:lv),uv=u.div.withConfig({componentId:"sc-18r58yd-3"})(["margin-top:20px;font-size:12px;line-height:140%;"]),hv=u(E).withConfig({componentId:"sc-18r58yd-4"})(["margin-top:30px;left:0;"]),Ir=u.button.withConfig({componentId:"sc-18r58yd-5"})(["max-width:26px;aspect-ratio:1;background-color:transparent;border:none;padding:0;color:#f4f4f4;:disabled{opacity:0.5;}:not(:disabled){cursor:pointer;}&:hover:not(:disabled){opacity:0.7;}&:focus{outline:none;}"]),gv=({debt:e,size:i="big",forwardedRef:n})=>{const s=e>0?y.red.main:y.green.main;return t.jsx(td,{forwardedRef:n,size:i,color:s,fontWeight:"600",children:e>=0?e:`+${-e}`})},fv=He(gv),mv=u.div.withConfig({componentId:"sc-1mzs4rv-0"})(["display:flex;justify-content:center;align-items:center;img{border-radius:4px;}@media (max-width:1000px){width:100%;min-width:100%;}"]),Hn=({qrCode:e})=>{const[i,n]=c.useState(!0);return c.useEffect(()=>{setTimeout(()=>{n(!1)},500)},[]),t.jsx(mv,{children:t.jsx(la,{loading:i,width:"300px",height:"300px",src:e??""})})},xv=u.div.withConfig({componentId:"sc-5t3ts2-0"})(["@media (min-width:1001px){width:300px;}"]),bv=({qr_current:e,qr_total:i,currentPage:n})=>n===0?t.jsx(Hn,{qrCode:e}):n===1?t.jsx(Hn,{qrCode:i}):t.jsx(xv,{children:t.jsx(lo,{pages:[{title:"Текущая задолженность",content:t.jsx(Hn,{qrCode:e})},{title:"Общая задолженность",content:t.jsx(Hn,{qrCode:i})}],appearance:!1,currentPage:n})}),wv=({type:e="horizontal",forwardedRef:i,...n})=>{const{open:s}=H(),o="Оплатить через QR-code",a=`linear-gradient(45deg, ${y.green.main}, ${y.green.dark1})`,r=()=>{s(t.jsx(bv,{...n}),o)};return e==="vertical"?t.jsx(j,{onClick:r,width:"68px",height:"60px",direction:"vertical",text:"QR",icon:t.jsx(Qg,{}),textColor:"#fff",background:a,forwardedRef:i}):t.jsx(j,{text:o,onClick:r,width:"100%",textColor:"#fff",background:a,forwardedRef:i})},vv=({currentPage:e,hasDebt:i,qr_current:n,qr_total:s,forwardedRef:o})=>{const{isMobile:a}=Xe();return i?t.jsx(wv,{forwardedRef:o,currentPage:e,type:a?"horizontal":"vertical",qr_current:n,qr_total:s}):t.jsx(ca,{forwardedRef:o,color:"green",size:"40px"})},yv=He(vv),jv=u.div.withConfig({componentId:"sc-1gb0lvp-0"})(["width:100%;"]),kv=u.div.withConfig({componentId:"sc-1gb0lvp-1"})(["width:100%;padding:16px;background:var(--block-content);border-radius:6px;box-shadow:var(--block-shadow);"]),_v=u.div.withConfig({componentId:"sc-1gb0lvp-2"})(["display:flex;align-items:flex-end;justify-content:space-between;margin-top:20px;width:100%;margin-bottom:30px;@media (max-width:768px){flex-direction:column;align-items:flex-start;gap:20px;}"]),Cv=u.div.withConfig({componentId:"sc-1gb0lvp-3"})(["display:flex;align-items:center;gap:30px;height:35px;@media (max-width:768px){flex-direction:column;gap:0;align-items:flex-start;height:fit-content;}"]),Sv=u.div.withConfig({componentId:"sc-1gb0lvp-4"})(["position:relative;"]),Iv=e=>{const{data:i,index:n,isDormitory:s}=e,{balance_currdate:o,balance:a,endDatePlan:r,can_sign:l,bill:p,qr_current:d,qr_total:h}=i,f=z(Se.roles),{open:g}=H(),[m,b]=c.useState(0),x=m===0?+o:+a,w=x>0,_=w?m===0?"Долг по договору":"Остаток по договору":x<0?"Переплата по договору":"У вас нет долга",S=m===0?`На ${oe(new Date)}`:`До ${oe(r)}`,k=n===0&&(f.includes("dormitory")&&f.includes("education")&&s||f.includes("dormitory")===s),P=()=>{g(t.jsx(xw,{contract:i}),"Реквизиты договора")};return t.jsxs(jv,{children:[t.jsx(L,{icon:t.jsx(Xg,{}),size:4,align:"left",bottomGap:!0,children:"Задолженность"}),t.jsxs(kv,{children:[t.jsx(Vs,{pages:[{title:"Текущая"},{title:"Общая"}],currentPage:m,setCurrentPage:b,appearance:!1}),t.jsxs(_v,{children:[t.jsxs(E,{d:"column",gap:"12px",ai:"flex-start",children:[t.jsx(fv,{debt:x,tutorialModule:k?{id:"payments",step:1}:void 0}),t.jsxs(E,{d:"column",gap:"4px",ai:"flex-start",children:[t.jsx(L,{size:3,align:"left",children:_}),t.jsx(se,{children:S})]})]}),t.jsx(yv,{currentPage:m,hasDebt:w,qr_current:d,qr_total:h,tutorialModule:k?{id:"payments",step:2,params:{position:"left"}}:void 0})]}),t.jsxs(Cv,{children:[p&&t.jsx(_n,{text:"Квитанция на оплату",background:"transparent",textColor:y.grey.main,align:"left",width:"fit-content",href:p,padding:"0"}),t.jsxs(Sv,{children:[t.jsx(j,{onClick:P,text:"Реквизиты договора",background:"transparent",textColor:y.grey.main,width:"fit-content",padding:"0",align:"left"}),t.jsx(si,{right:"-25px",top:"10px",visible:l,pulsing:!0,children:"1"})]})]})]})]})},md=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,Ti=(e,i)=>{switch(i){case"date":return oe(e,"numeric");case"rub":return e+" руб.";default:return e===void 0?"-":e}},Tv=(e,i)=>{const n=Number(i==null?void 0:i.sum)||Number(i==null?void 0:i.sum_price),s=Number(i==null?void 0:i.sum_pay);if(!n&&n!==0||!s&&s!==0)return"-";const o=n-s;return o<=0?"Оплачено":`Ожидает оплаты (${Ti(String(o),"rub")})`},Ev=()=>[{title:"Год",field:"year",width:"25%",render:(e,i)=>{const n=i==null?void 0:i.date_start;return n?new Date(n).toLocaleDateString("ru",{year:"numeric"}):"-"}},{title:"Месяц",field:"month",width:"25%",render:(e,i)=>{const n=i==null?void 0:i.date_start;if(!n)return"-";const s=new Date(n).toLocaleDateString("ru",{month:"long"});return md(s)}},{title:"Оплатить до",field:"date_plan",type:"date",width:"25%",sort:!0},{title:"Статус",field:"sum_pay",width:"25%",render:Tv}],Pv=(e,i)=>{const[n,s]=c.useState(!1),[o,a]=c.useState(null);return c.useEffect(()=>{n&&setTimeout(()=>{s(!1),i==null||i(null)},200)},[n]),c.useEffect(()=>{setTimeout(()=>{o!==null&&(a(null),i==null||i(r=>(r&&delete r[o],{...r})))},500)},[o]),{removeAll:n,removeOne:o,setRemoveAll:s,setRemoveOne:a}},mo=u.div.withConfig({componentId:"sc-27hbiu-0"})(["padding:",";background:",";font-size:0.7em;font-weight:600;color:",";border-radius:var(--brLight);display:flex;align-items:center;justify-content:space-around;height:26px;user-select:none;cursor:pointer;animation:",";.element-text{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}.remove{display:flex;align-items:center;justify-content:center;min-width:15px;height:15px;background:var(--theme);color:var(--blue);border-radius:100%;svg{width:10px;height:10px;}}@keyframes element-added{0%{padding:0;width:0px;max-width:0px;opacity:0;visibility:hidden;margin-right:0;}100%{padding:5px 10px;width:100px;max-width:100px;opacity:1;visibility:visible;margin-right:5px;}}@keyframes element-removed{0%{padding:5px 10px;width:100px;max-width:100px;opacity:1;visibility:visible;margin-right:5px;}100%{padding:0;width:0px;max-width:0px;opacity:0;visibility:hidden;margin-right:0;}}"],({remove:e})=>e?"0px":"5px 10px",({background:e})=>e??y.blue.transparent3,({color:e})=>e??"var(--reallyBlue)",({remove:e})=>e?"element-removed 0.2s forwards normal":"element-added 0.2s forwards normal"),Av=u.div.withConfig({componentId:"sc-27hbiu-1"})(["display:flex;align-items:center;flex-wrap:wrap;row-gap:5px;transition:0.2s;padding:",";opacity:",";min-height:",";visibility:",";transform:scale(",") translate(",");"],({padding:e})=>e??"10px",({removeAll:e})=>e?"0":"1",({removeAll:e,height:i})=>e?"0px":i||"46px",({removeAll:e})=>e?"hidden":"visible",({removeAll:e})=>e?"0.95":"1",({removeAll:e})=>e?"-30px, 20px":"0, 0"),Ia=({list:e,onAddElement:i,onRemoveAll:n,onRemoveOne:s,padding:o,height:a,setList:r,hideWithEmpty:l})=>{const p=Object.keys(e??{}),{removeAll:d,removeOne:h,setRemoveAll:f,setRemoveOne:g}=Pv(p,r);return!p.length&&l?null:t.jsxs(Av,{removeAll:d||closed,padding:o,height:a,children:[!!i&&t.jsxs(mo,{onClick:i,background:"var(--reallyBlue)",color:"#fff",children:[t.jsx(ti,{}),"Добавить"]}),Object.values(e??{}).map(m=>{if(m!=null&&m.id)return t.jsxs(mo,{background:m.background,remove:h===m.id,children:[t.jsx("div",{className:"element-text",children:m.title}),t.jsx("div",{className:"remove",onClick:()=>{p.length===1?(f(!0),n==null||n()):g(m.id),s(m.id)},children:t.jsx(St,{})})]},m.id)}),!!p.length&&!!n&&t.jsx(mo,{background:"var(--reallyBlue)",color:"#fff",onClick:()=>{n(),f(!0)},children:t.jsx("div",{className:"element-text",children:"Убрать все"})})]})},Tr="Сортировка",Er=(e,i)=>i?e==null?void 0:e.filter(n=>!Object.values(i).find(s=>{var o;return n[((o=s.column)==null?void 0:o.field)??""]!==s.value.title})):e,Nv=(e,i)=>e?Object.keys(e).find(n=>e[n].title===i):null,Dv=e=>{const[i,n]=c.useState(null),[s,o]=c.useState(null),[a,r]=c.useState(null),[l,p]=c.useState(null),[d,h]=c.useState(e),f=c.useCallback(m=>{var b,x;o(w=>(w&&w[m]&&delete w[m],{...w})),m===((b=i==null?void 0:i.column)==null?void 0:b.field)&&n(null),m===((x=a==null?void 0:a.column)==null?void 0:x.field)&&r(null)},[i,s,a]),g=c.useCallback(()=>{o(null),n(null),r(null)},[]);return c.useEffect(()=>{if(s)if(!l)p(m=>{const b=Object.values(s)[0].column;return m={[(b==null?void 0:b.field)??""]:{id:(b==null?void 0:b.field)??"",title:"Фильтр: "+(b==null?void 0:b.title)}},{...m}});else{const m=Object.values(s).find(b=>{var x;return!l[((x=b.column)==null?void 0:x.field)??""]});m&&p(b=>{var _,S;const x=((_=m.column)==null?void 0:_.field)??"",w="Фильтр: "+((S=m.column)==null?void 0:S.title);return b&&(b[x]={id:x,title:w}),{...b}})}i&&p(m=>{var w;const b=((w=i.column)==null?void 0:w.field)??"",x="Поиск";return m?m[b]={id:b,title:x}:m={[b]:{id:b,title:x}},{...m}}),a&&p(m=>{var w;const b=((w=a.column)==null?void 0:w.field)??"",x=Tr;return m?m[b]={id:b,title:x}:m={[b]:{id:b,title:x}},{...m}})},[i,s,a]),c.useEffect(()=>{var x;const m=i==null?void 0:i.column,b=(x=i==null?void 0:i.column)==null?void 0:x.field;if(i&&b){const w=e==null?void 0:e.filter(_=>Ae(Ti(_[b],m==null?void 0:m.type)).includes(Ae(Ti(i.value,m==null?void 0:m.type))));h(w)}else h(e)},[i]),c.useEffect(()=>{s?h(Er(e,s)):(p(m=>({...m})),h(e))},[s]),c.useEffect(()=>{var b;const m=((b=a==null?void 0:a.column)==null?void 0:b.field)??"";a?h(x=>{const w=[...x??[]];return w==null||w.sort((_,S)=>S[m]<_[m]?a.value==="asc"?1:-1:S[m]>_[m]?a.value==="asc"?-1:1:0),w}):(p(x=>{const w=Nv(x,Tr);return x&&w&&delete x[w],{...x}}),h(Er(e,s)))},[a==null?void 0:a.value]),c.useEffect(()=>{h(e)},[e]),{sort:a,setSort:r,search:i,setSearch:n,resultData:d,filter:s,setFilter:o,filterList:l,setFilterList:p,onRemoveOne:f,onRemoveAll:g}},Ov=e=>{switch(e){case"desc":return G.evokePopUpMessage({message:"Таблица отсортирована по убыванию",type:"info",time:5e3});case"asc":return G.evokePopUpMessage({message:"Таблица отсортирована по возрастанию",type:"info",time:5e3});default:return G.evokePopUpMessage({message:"Сортировка отключена",type:"info",time:5e3})}},Lv=u.div.withConfig({componentId:"sc-1c55fql-0"})(["display:flex;align-items:center;width:100%;font-size:0.9em;cursor:pointer;background:",";&:hover{filter:brightness(0.98);}.five{display:none;}@media (max-width:650px){font-size:0.9em;.four{display:none;}}@media (max-width:550px){.three{display:none;}}@media (max-width:450px){.two{display:none;}}"],({even:e})=>e?`${y.blue.transparent3}`:"var(--theme)"),xd=u.div.withConfig({componentId:"sc-1vnodu8-0"})(["width:",";min-width:",";padding:",";height:100%;text-align:",";cursor:",";overflow:",";display:block;white-space:",";text-overflow:",";position:relative;@media (max-width:700px){padding:",";}"],({width:e})=>e??"100%",({width:e})=>e??"auto",({padding:e})=>e??"20px",({align:e})=>e&&e,({clickable:e})=>e&&"pointer",({overflow:e})=>e??"hidden",({showFull:e})=>e?"wrap":"nowrap",({showFull:e})=>e?"clip":"ellipsis",({clickable:e})=>!e&&"10px"),Rv=u.div.withConfig({componentId:"sc-1ci0v85-0"})(["display:flex;align-items:center;width:100%;font-weight:600;font-size:0.9em;z-index:10;.icon{position:absolute;top:50%;right:8px;transform:translateY(-50%);}.five{display:none;}@media (max-width:500px){.four{display:none;}}@media (max-width:400px){font-size:0.8em;.three{display:none;}}@media (max-width:450px){.two{display:none;}}"]),zv=u.div.withConfig({componentId:"sc-1tw76ix-0"})(["display:flex;align-items:center;"]),Fv=({columns:e,search:i,setSearch:n,filter:s,setFilter:o,sort:a,setSort:r})=>{const l=p=>()=>{p.search&&n({value:"",column:p}),p.sort&&r(d=>{const h=d!=null&&d.value?d.value==="desc"?"asc":null:"desc";return Ov(h),h?{column:p,value:h}:null})};return t.jsx(Rv,{children:e.map(p=>{var d,h,f,g;return t.jsxs(xd,{overflow:p.catalogs?"visible":"hidden",width:p.width,title:p.title,clickable:p.search,align:p.search?"space-between":p.align,showFull:p.showFull,className:((d=p.priority)==null?void 0:d.toString())??"one",onClick:l(p),children:[!p.catalogs&&p.title,!p.catalogs&&!p.sort&&p.search&&t.jsx(ji,{className:"icon",style:{color:p.field===((h=i==null?void 0:i.column)==null?void 0:h.field)?"var(--reallyBlue)":"var(--text)"}}),p.sort&&t.jsx(Kg,{className:"icon",style:{color:p.field===((f=a==null?void 0:a.column)==null?void 0:f.field)?"var(--reallyBlue)":"var(--text)"}}),p.catalogs&&t.jsx(zv,{children:t.jsx(ga,{appearance:!1,items:p.catalogs??[],setSelected:m=>o(b=>(m&&(b={...b,[p.field]:{column:p,value:m}}),b)),selected:(g=s==null?void 0:s[p.field])==null?void 0:g.value,placeholder:p.title})})]},p.title)})})},Mv=c.memo(Fv),$v=({pages:e,condition:i,currentPage:n,setCurrentPage:s,align:o="center"})=>{const[a,r]=c.useState(n.toString());c.useEffect(()=>{a.length&&s(+a)},[a]),c.useEffect(()=>{r(n.toString())},[n]);const l=p=>{p.length?+p>=1&&+p<=e+1&&r((+p-1).toString()):r("")};return i?t.jsxs(E,{gap:"10px",jc:o==="left"?"flex-start":o==="right"?"flex-end":o,children:[t.jsx(j,{minWidth:"42px",height:"42px",background:"var(--theme)",icon:t.jsx(jn,{}),onClick:()=>r(Ft(n-1,e).toString())}),t.jsxs(E,{w:"fit-content",gap:"6px",children:[t.jsx(We,{width:"12px",placeholder:"",value:a.length?(+a+1).toString():"",setValue:l,inputAppearance:!1}),"/"," ",t.jsx(se,{width:"fit-content",fontSize:"0.85rem",children:e+1})]}),t.jsx(j,{minWidth:"42px",height:"42px",background:"var(--theme)",icon:t.jsx(xt,{}),onClick:()=>r(Ft(n+1,e).toString())})]}):null},Bv=u.div.withConfig({componentId:"sc-ynnqlj-0"})(["@media (min-width:1001px){max-width:500px;}"]),Hv=({obj:e,columns:i})=>t.jsx(Bv,{children:i.map(n=>t.jsx(Yt,{keyStr:n.title,value:n.render?n.render(e[n.field],e):Ti(e[n.field],n.type)},n.title))}),bd=({columns:e,columnsExtended:i,el:n,index:s,onRowClick:o})=>{const{open:a}=H(),r=()=>a(t.jsx(Hv,{obj:n,columns:i||e}),"Информация");return t.jsx(Lv,{even:s%2===0,onClick:()=>o?o(n):r(),children:e.map(l=>{var p;return t.jsx(t.Fragment,{children:t.jsx(xd,{showFull:l.showFull,width:l.width,className:((p=l.priority)==null?void 0:p.toString())??"one",align:l.align,onClick:d=>{l.onClick&&(d.stopPropagation(),l.onClick(n))},children:l.render?l.render(Ti(n[l.field],l.type),n):Ti(n[l.field],l.type)},l.field)})})})},Uv=u.div.withConfig({componentId:"sc-htpasl-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;.page-indicator{width:100px;background:var(--theme-1);padding:3px;border-radius:var(--brLight);display:flex;align-items:center;justify-content:center;font-size:0.9em;font-weight:600;}"]),Wv=u.div.withConfig({componentId:"sc-htpasl-1"})(["width:100%;display:flex;justify-content:center;align-items:center;padding:20px 0;img{width:35px;height:35px;}"]),Gv=u.div.withConfig({componentId:"sc-htpasl-2"})(["padding:10px 0;display:flex;justify-content:center;align-items:center;"]),Vv=({data:e,loading:i,columns:n,columnsExtended:s,maxOnPage:o,onRowClick:a,filter:r})=>{const[l,p]=c.useState(0),d=Math.ceil(((e==null?void 0:e.length)??0)/(o??1))-1,h=o?e==null?void 0:e.slice(l*o,(l+1)*o):e;return c.useEffect(()=>{p(0)},[r]),i?t.jsx(Wv,{children:t.jsx(ut,{})}):t.jsxs(Uv,{children:[h==null?void 0:h.map((f,g)=>t.jsx(bd,{onRowClick:a,columns:n,columnsExtended:s,el:f,index:g},g)),!(h!=null&&h.length)&&t.jsx(je,{text:"Нет данных"}),d>0&&t.jsx(be,{margin:"0",width:"100%"}),t.jsx(Gv,{children:t.jsx($v,{pages:d,condition:!!o&&!!(h!=null&&h.length),currentPage:l,setCurrentPage:p})})]})},qv=u.div.withConfig({componentId:"sc-j476ej-0"})(["display:flex;align-items:center;gap:5px;transition:0.2s;padding:",";width:100%;height:",";opacity:",";visibility:",";"],({closed:e})=>e?"0px":"10px",({closed:e})=>e?"0px":"60px",({closed:e})=>e?"0":"1",({closed:e})=>e?"hidden":"visible"),Yv=e=>{switch(e){case"date":return"date";case"rub":return"number";default:return"text"}},Qv=({search:e,setSearch:i})=>{var n,s;return t.jsx(qv,{closed:!(e!=null&&e.column),children:t.jsx(We,{value:(e==null?void 0:e.value)??"",setValue:o=>i(a=>a?(a.value=o,{...a}):null),width:"100%",type:Yv((n=e==null?void 0:e.column)==null?void 0:n.type),placeholder:(s=e==null?void 0:e.column)==null?void 0:s.title,leftIcon:t.jsx(ji,{}),minWidth:"auto"})})},Xv=(e,i)=>{if(!e)return{};const n=i.reduce((s,{field:o})=>(s[o]=[],s),{});return e==null||e.forEach(s=>{Object.entries(s).forEach(([o,a])=>{n[o]&&a&&n[o].push(a)})}),n};function Kv(e){return Object.keys(e).map(i=>({title:"",field:i}))}const Jv=({footer:e,columns:i,data:n})=>{if(!e)return null;const s=e(Xv(n,i));return t.jsxs(t.Fragment,{children:[t.jsx(be,{}),t.jsx(bd,{onRowClick:()=>null,columns:Kv(s),el:s,index:1})]})},Zv=u.div.withConfig({componentId:"sc-s5rmq8-0"})(["width:100%;box-shadow:var(--block-shadow);border-radius:var(--brLight);color:var(--text);background:var(--block-content);overflow:hidden;"]),Pt=({columns:e,columnsExtended:i,data:n,maxOnPage:s,onRowClick:o,footer:a,loading:r=!1,forwardedRef:l})=>{const{sort:p,setSort:d,search:h,setSearch:f,resultData:g,filter:m,setFilter:b,filterList:x,setFilterList:w,onRemoveOne:_,onRemoveAll:S}=Dv(n);return t.jsxs(Zv,{ref:l,children:[t.jsx(Ia,{hideWithEmpty:!0,setList:w,padding:"0 10px",list:x,onRemoveOne:_,onRemoveAll:S}),t.jsx(Qv,{search:h,setSearch:f}),t.jsx(Mv,{sort:p,setSort:d,columns:e,search:h,setSearch:f,filter:m,setFilter:b}),t.jsx(Vv,{loading:r,onRowClick:o,filter:m,columns:e,columnsExtended:i,data:g,maxOnPage:s}),t.jsx(Jv,{footer:a,data:n,columns:e})]})},ey=({paygraph:e})=>t.jsxs(E,{d:"column",children:[t.jsx(L,{icon:t.jsx(Jg,{}),size:4,align:"left",bottomGap:!0,children:"График платежей"}),t.jsx(Pt,{columns:Ev(),data:e??[],maxOnPage:3})]}),ty=He(({forwardedRef:e,children:i})=>t.jsx(X1,{ref:e,children:i})),Un=({contracts:e})=>{const i=z(Se.roles);return e?t.jsx(ty,{tutorialModule:{id:"payments",step:!i.includes("dormitory")||!i.includes("education")?0:-1,params:{position:"top",noScroll:!0}},children:e.map((n,s)=>{const{agreements:o,number:a,type:r,paygraph:l,payments:p,signed_user_date:d}=n,h=r==="Общежитие",f=!0,g=o.filter(m=>new Date(m==null?void 0:m.date)>new Date("2022-02-1"));return t.jsxs(de.Fragment,{children:[t.jsx(E,{gap:"8px",children:t.jsx(E,{w:"fit-content",children:t.jsxs(L,{size:3,align:"left",children:["Договор № ",a," от ",oe(d,"numeric")]})})}),t.jsx(Iv,{data:n,index:s,isDormitory:h}),t.jsx(hw,{payments:p??[]}),t.jsx(ey,{paygraph:l}),t.jsx(_w,{isDormitory:h,isContractSigned:f,electronicAgreements:g}),s!==e.length-1&&t.jsx(be,{margin:"0",width:"100%"})]},a)})}):null},wd=()=>{const[e,i,n]=z([Jt.$error,Jt.$loading,Jt.$paymentsStore]),s=n!=null&&n.dormitory.length&&(n!=null&&n.education.length)?"both":n!=null&&n.dormitory.length?"dormitory":n!=null&&n.education.length?"education":"none";return c.useEffect(()=>{G.evokePopUpMessage({type:"alert",time:1e4,message:"В связи с техническими работами отображение данных по произведенным оплатам может быть не полным"})},[]),t.jsx(Qe,{loading:i,load:ma.getPaymentsFx,error:e,data:n,noDataCheck:!(n!=null&&n.dormitory.length),children:t.jsxs(Et,{children:[t.jsx(Z,{type:"alert",title:"Внимание!",children:"Ведутся доработки по информации о долге по оплате и суммам оплат"}),s==="none"&&t.jsx(je,{text:"Нет данных"}),s==="both"&&t.jsx(lo,{pages:[{title:"Общежитие",content:t.jsx(Un,{contracts:n==null?void 0:n.dormitory})},{title:"Обучение",content:t.jsx(Un,{contracts:n==null?void 0:n.education})}],appearance:!1}),s==="dormitory"&&t.jsx(Un,{contracts:n==null?void 0:n.dormitory}),s==="education"&&t.jsx(Un,{contracts:n==null?void 0:n.education})]})})},iy="modulepreload",ny=function(e){return"/"+e},Pr={},C=function(i,n,s){if(!n||n.length===0)return i();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=ny(a),a in Pr)return;Pr[a]=!0;const r=a.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!s)for(let h=o.length-1;h>=0;h--){const f=o[h];if(f.href===a&&(!r||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=r?"stylesheet":iy,r||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),r)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>i())},sy=c.lazy(()=>C(()=>import("./index-c0dde1ea.js"),["assets/index-c0dde1ea.js","assets/vendor-fa46c825.js"])),oy=c.lazy(()=>C(()=>import("./index-03a4e13c.js"),["assets/index-03a4e13c.js","assets/vendor-fa46c825.js"])),ay=c.lazy(()=>C(()=>import("./index-4341b89d.js"),["assets/index-4341b89d.js","assets/vendor-fa46c825.js"])),ry=c.lazy(()=>C(()=>import("./index-466bed15.js"),["assets/index-466bed15.js","assets/vendor-fa46c825.js"])),ly=c.lazy(()=>C(()=>import("./index-c93285cf.js"),["assets/index-c93285cf.js","assets/vendor-fa46c825.js"])),cy=c.lazy(()=>C(()=>import("./index-a7acf4a7.js"),["assets/index-a7acf4a7.js","assets/vendor-fa46c825.js","assets/ui-0b2692a3.js"])),dy=c.lazy(()=>C(()=>import("./index-95d9bca6.js"),["assets/index-95d9bca6.js","assets/vendor-fa46c825.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),py=c.lazy(()=>C(()=>import("./index-2c5e2914.js"),["assets/index-2c5e2914.js","assets/vendor-fa46c825.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),uy=c.lazy(()=>C(()=>import("./index-2ff3aad6.js"),["assets/index-2ff3aad6.js","assets/vendor-fa46c825.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),hy=c.lazy(()=>C(()=>import("./index-6dcce998.js"),["assets/index-6dcce998.js","assets/vendor-fa46c825.js","assets/error-a9ac2cc2.js"])),gy=c.lazy(()=>C(()=>import("./index-3290a325.js"),["assets/index-3290a325.js","assets/vendor-fa46c825.js","assets/index-0fab138c.js"])),fy=c.lazy(()=>C(()=>import("./index-c623bec7.js"),["assets/index-c623bec7.js","assets/vendor-fa46c825.js","assets/is-valid-url-08a91344.js","assets/BoldText-9eaa0daf.js"])),my=c.lazy(()=>C(()=>import("./index-8cb987d2.js"),["assets/index-8cb987d2.js","assets/vendor-fa46c825.js","assets/error-a9ac2cc2.js"])),xy=c.lazy(()=>C(()=>import("./index-46782e23.js"),["assets/index-46782e23.js","assets/vendor-fa46c825.js"])),by=c.lazy(()=>C(()=>import("./index-b6ef8844.js"),["assets/index-b6ef8844.js","assets/vendor-fa46c825.js"])),wy=c.lazy(()=>C(()=>import("./index-6915100c.js"),["assets/index-6915100c.js","assets/vendor-fa46c825.js","assets/error-a9ac2cc2.js"])),vy=c.lazy(()=>C(()=>import("./index-324cb2c9.js"),["assets/index-324cb2c9.js","assets/vendor-fa46c825.js"])),yy=c.lazy(()=>C(()=>import("./index-d7d0dc37.js"),["assets/index-d7d0dc37.js","assets/vendor-fa46c825.js","assets/error-a9ac2cc2.js"])),jy=c.lazy(()=>C(()=>import("./index-214330ab.js"),["assets/index-214330ab.js","assets/vendor-fa46c825.js"])),ky=c.lazy(()=>C(()=>import("./index-fe43ff62.js"),["assets/index-fe43ff62.js","assets/vendor-fa46c825.js"])),_y=c.lazy(()=>C(()=>import("./index-397cd380.js"),["assets/index-397cd380.js","assets/vendor-fa46c825.js"])),Cy=c.lazy(()=>C(()=>import("./index-79df0259.js"),["assets/index-79df0259.js","assets/vendor-fa46c825.js","assets/BoldText-9eaa0daf.js"])),Sy=c.lazy(()=>C(()=>import("./index-c4da8347.js"),["assets/index-c4da8347.js","assets/vendor-fa46c825.js"])),Iy=c.lazy(()=>C(()=>import("./index-461e932a.js"),["assets/index-461e932a.js","assets/vendor-fa46c825.js"])),Ty=c.lazy(()=>C(()=>import("./index-56795cb8.js"),["assets/index-56795cb8.js","assets/vendor-fa46c825.js"])),Ey=c.lazy(()=>C(()=>import("./index-f6e9cf30.js"),["assets/index-f6e9cf30.js","assets/vendor-fa46c825.js"])),Py=c.lazy(()=>C(()=>import("./index-1fd29d5c.js"),["assets/index-1fd29d5c.js","assets/vendor-fa46c825.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),Ay=c.lazy(()=>C(()=>import("./index-193d8ed9.js"),["assets/index-193d8ed9.js","assets/vendor-fa46c825.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),Ny=c.lazy(()=>C(()=>import("./index-eb1022c5.js"),["assets/index-eb1022c5.js","assets/vendor-fa46c825.js"])),Dy=c.lazy(()=>C(()=>import("./index-bcece37e.js"),["assets/index-bcece37e.js","assets/vendor-fa46c825.js"])),Oy=c.lazy(()=>C(()=>import("./index-55466ae6.js"),["assets/index-55466ae6.js","assets/vendor-fa46c825.js"])),Ly=c.lazy(()=>C(()=>import("./index-0039ae11.js"),["assets/index-0039ae11.js","assets/vendor-fa46c825.js"])),Ry=c.lazy(()=>C(()=>import("./index-fd63f666.js"),["assets/index-fd63f666.js","assets/vendor-fa46c825.js"])),zy=c.lazy(()=>C(()=>import("./index-96906023.js"),["assets/index-96906023.js","assets/vendor-fa46c825.js"])),Fy=c.lazy(()=>C(()=>import("./index-85f5fb03.js"),["assets/index-85f5fb03.js","assets/vendor-fa46c825.js","assets/error-a9ac2cc2.js"])),My=c.lazy(()=>C(()=>import("./index-222e48ae.js"),["assets/index-222e48ae.js","assets/vendor-fa46c825.js","assets/get-divisions-96cfa1b1.js"])),$y=c.lazy(()=>C(()=>import("./index-2f528021.js"),["assets/index-2f528021.js","assets/vendor-fa46c825.js"])),By=c.lazy(()=>C(()=>import("./index-bddd81b1.js"),["assets/index-bddd81b1.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-default-subdivision-17957fb0.js"])),Hy=c.lazy(()=>C(()=>import("./index-5852315e.js"),["assets/index-5852315e.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),Uy=c.lazy(()=>C(()=>import("./index-a3036ecd.js"),["assets/index-a3036ecd.js","assets/vendor-fa46c825.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js"])),Wy=c.lazy(()=>C(()=>import("./index-01a3048b.js"),["assets/index-01a3048b.js","assets/vendor-fa46c825.js","assets/form-1096b544.js","assets/send-form-b618a44e.js","assets/create-form-store-a561368f.js"])),Gy=c.lazy(()=>C(()=>import("./form-1096b544.js"),["assets/form-1096b544.js","assets/vendor-fa46c825.js","assets/send-form-b618a44e.js","assets/create-form-store-a561368f.js"])),vd=c.lazy(()=>C(()=>import("./index-6d6c5850.js"),["assets/index-6d6c5850.js","assets/vendor-fa46c825.js"])),Vy=c.lazy(()=>C(()=>import("./index-24640daa.js"),["assets/index-24640daa.js","assets/vendor-fa46c825.js","assets/index-afd33ec3.js"])),qy=c.lazy(()=>C(()=>import("./index-b96bd11f.js"),["assets/index-b96bd11f.js","assets/vendor-fa46c825.js","assets/index-0fab138c.js"])),Yy=c.lazy(()=>C(()=>import("./index-aebd13c0.js"),["assets/index-aebd13c0.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),Qy=c.lazy(()=>C(()=>import("./index-c55e12a7.js"),["assets/index-c55e12a7.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js"])),Xy=c.lazy(()=>C(()=>import("./index-30655a06.js"),["assets/index-30655a06.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),Ky=c.lazy(()=>C(()=>import("./index-1ad74f51.js"),["assets/index-1ad74f51.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),Jy=c.lazy(()=>C(()=>import("./index-196a9dfb.js"),["assets/index-196a9dfb.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),Zy=c.lazy(()=>C(()=>import("./index-45a041c2.js"),["assets/index-45a041c2.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),ej=c.lazy(()=>C(()=>import("./index-e61e0d65.js"),["assets/index-e61e0d65.js","assets/vendor-fa46c825.js","assets/ui-0b2692a3.js"])),tj=c.lazy(()=>C(()=>import("./index-a7acf4a7.js"),["assets/index-a7acf4a7.js","assets/vendor-fa46c825.js","assets/ui-0b2692a3.js"])),ij=c.lazy(()=>C(()=>import("./index-06094f4a.js"),["assets/index-06094f4a.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),nj=c.lazy(()=>C(()=>import("./index-cffb3ce0.js"),["assets/index-cffb3ce0.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),sj=c.lazy(()=>C(()=>import("./index-4df95841.js"),["assets/index-4df95841.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-default-subdivision-17957fb0.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),oj=c.lazy(()=>C(()=>import("./index-94d71c9a.js"),["assets/index-94d71c9a.js","assets/vendor-fa46c825.js","assets/get-default-subdivision-17957fb0.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),aj=c.lazy(()=>C(()=>import("./index-799425a6.js"),["assets/index-799425a6.js","assets/vendor-fa46c825.js"])),rj=c.lazy(()=>C(()=>import("./index-8518385a.js"),["assets/index-8518385a.js","assets/vendor-fa46c825.js","assets/get-default-subdivision-17957fb0.js"])),lj=c.lazy(()=>C(()=>import("./index-0b678d19.js"),["assets/index-0b678d19.js","assets/vendor-fa46c825.js","assets/get-default-subdivision-17957fb0.js"])),cj=c.lazy(()=>C(()=>import("./index-87f7010c.js"),["assets/index-87f7010c.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),dj=c.lazy(()=>C(()=>import("./index-3696f765.js"),["assets/index-3696f765.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/get-last-year-for-period-e1de6b16.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),pj=c.lazy(()=>C(()=>import("./index-1cbcd9d1.js"),["assets/index-1cbcd9d1.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),uj=c.lazy(()=>C(()=>import("./index-819041b5.js"),["assets/index-819041b5.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/get-last-year-for-period-e1de6b16.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),hj=c.lazy(()=>C(()=>import("./index-b1d66943.js"),["assets/index-b1d66943.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js"])),gj=c.lazy(()=>C(()=>import("./index-f3f67d2d.js"),["assets/index-f3f67d2d.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),fj=c.lazy(()=>C(()=>import("./index-fef446b0.js"),["assets/index-fef446b0.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),mj=c.lazy(()=>C(()=>import("./index-9e85337b.js"),["assets/index-9e85337b.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-default-subdivision-17957fb0.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),xj=c.lazy(()=>C(()=>import("./index-2a22018f.js"),["assets/index-2a22018f.js","assets/vendor-fa46c825.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-2f09beda.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js"])),bj=c.lazy(()=>C(()=>import("./index-e979cdca.js"),["assets/index-e979cdca.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),wj=c.lazy(()=>C(()=>import("./index-a2b6c059.js"),["assets/index-a2b6c059.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),vj=c.lazy(()=>C(()=>import("./index-2479cd4d.js"),["assets/index-2479cd4d.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),yj=c.lazy(()=>C(()=>import("./index-cfd33287.js"),["assets/index-cfd33287.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),jj=c.lazy(()=>C(()=>import("./index-f6a939be.js"),["assets/index-f6a939be.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),kj=c.lazy(()=>C(()=>import("./index-638e1cd7.js"),["assets/index-638e1cd7.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),_j=c.lazy(()=>C(()=>import("./index-6b87be1c.js"),["assets/index-6b87be1c.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),Cj=c.lazy(()=>C(()=>import("./index-50398c78.js"),["assets/index-50398c78.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),Sj=c.lazy(()=>C(()=>import("./index-cbe79f99.js"),["assets/index-cbe79f99.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),Ij=c.lazy(()=>C(()=>import("./index-f78e6d26.js"),["assets/index-f78e6d26.js","assets/vendor-fa46c825.js","assets/index-60b6a3dd.js","assets/create-form-store-a561368f.js","assets/index-1d9f79a0.js","assets/send-form-b618a44e.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-teacher-subdivisions-5cd556a9.js"])),Tj=c.lazy(()=>C(()=>import("./index-5afd385d.js"),["assets/index-5afd385d.js","assets/vendor-fa46c825.js"])),Ta=c.lazy(()=>C(()=>import("./index-80bf3b71.js"),["assets/index-80bf3b71.js","assets/vendor-fa46c825.js"])),Ej=c.lazy(()=>C(()=>import("./index-b7ad9169.js"),["assets/index-b7ad9169.js","assets/vendor-fa46c825.js"])),Pj=c.lazy(()=>C(()=>import("./index-24efa533.js"),["assets/index-24efa533.js","assets/vendor-fa46c825.js"])),Aj=c.lazy(()=>C(()=>import("./index-81075db2.js"),["assets/index-81075db2.js","assets/vendor-fa46c825.js"])),Nj=c.lazy(()=>C(()=>import("./index-9f9fcfe6.js"),["assets/index-9f9fcfe6.js","assets/vendor-fa46c825.js"])),Dj=c.lazy(()=>C(()=>import("./index-940fff14.js"),["assets/index-940fff14.js","assets/vendor-fa46c825.js"])),Oj=c.lazy(()=>C(()=>import("./index-dbfcf761.js"),["assets/index-dbfcf761.js","assets/vendor-fa46c825.js","assets/get-default-subdivision-17957fb0.js"])),Lj=c.lazy(()=>C(()=>import("./index-f8d8a434.js"),["assets/index-f8d8a434.js","assets/vendor-fa46c825.js","assets/get-default-subdivision-17957fb0.js"])),Rj=c.lazy(()=>C(()=>import("./index-724d9337.js"),["assets/index-724d9337.js","assets/vendor-fa46c825.js"])),zj=c.lazy(()=>C(()=>import("./index-708b9410.js"),["assets/index-708b9410.js","assets/vendor-fa46c825.js","assets/send-hr-form-work-transfer-548c8b63.js"])),Fj=c.lazy(()=>C(()=>import("./index-cf86b8c7.js"),["assets/index-cf86b8c7.js","assets/vendor-fa46c825.js","assets/send-hr-form-work-transfer-548c8b63.js"])),Mj=()=>ee.get(`?getRequestMedicalCertificate&token=${ie()}`),yd=I({name:"load",sid:"-yu7d8"}),jd=W(async()=>(await Mj()).data,{name:"loadFx",sid:"bf215r"});v({and:[{clock:yd,target:jd}],or:{sid:"-rwhij4"}});Sl(jd,null,{name:"$medicalCert",sid:"-k31j1n"});const $j={load:yd},Bj=[{id:0,title:"г. Москва, ул. Малая Семеновская, д. 12"},{id:1,title:"г. Москва, ул. 7-я Парковая, д. 9/26"},{id:2,title:"г. Москва, ул. 1-я Дубровская, д. 16А, стр. 2"},{id:3,title:"г. Москва, ул. 800-летия Москвы, д. 28, к."},{id:4,title:"г. Москва, ул. Михалковская, д. 7, корп. 3"},{id:5,title:"г. Москва, ул. Бориса Галушкина, д. 9"},{id:6,title:"г. Москва, ул. Павла Корчагина, д. 20А, к. 3"},{id:7,title:"г. Москва, Рижский проезд, д. 15, к. 2"},{id:8,title:"г. Москва, Рижский проезд, д. 15, к. 1"},{id:9,title:"г. Москва, 1-й Балтийский переулок, д. 6/21, к. 3"}],Hj=e=>{const{phone:i,email:n}=e;return{title:"Предоставление медицинских справок",data:[{title:"ФИО",value:`${e.surname} ${e.name} ${e.patronymic}`,fieldName:"fio",width:"100%",editable:!1},{title:"Телефон",value:i,fieldName:"phone",type:"tel",width:"100%",editable:!0,required:!0,mask:!0},{title:"Email",value:n,fieldName:"email",type:"email",width:"100%",editable:!0,required:!0},{title:"Адрес общежития",value:null,fieldName:"address",type:"select",items:Bj,width:"100%",editable:!0,required:!0},{title:"Комната",fieldName:"room",value:"",editable:!0,required:!0}]}},Uj=()=>{const[e,i]=c.useState(null),[n,s]=c.useState(null),[o,a]=c.useState(null),[r,l]=c.useState(null),[p,d]=c.useState(!1),[h,f]=c.useState(null),[g,m]=c.useState(!1),[b,x]=c.useState(!1),w=g??!1,{data:{dataUserApplication:_}}=Be.useApplications();return c.useEffect(()=>{_&&i(Hj(_))},[_]),c.useEffect(()=>{$j.load(),s(Nt({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}})),a(Nt({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}})),l(Nt({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}})),f(Nt({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}}))},[]),t.jsx(Fs,{isDone:!1,children:t.jsxs(Os,{children:[e&&i&&t.jsx(qt,{...e,setData:i}),n&&s&&t.jsx(qt,{...n,setData:s}),o&&a&&t.jsx(qt,{...o,setData:a}),r&&l&&t.jsx(qt,{...r,setData:l}),h&&f&&t.jsx(qt,{...h,setData:f}),t.jsx(et,{checked:p,setChecked:d,text:"Я подтверждаю подлинность предоставленных документов"}),t.jsx(Ze,{text:w?"Отправлено":"Отправить",action:()=>{zs(Sn.MEDICAL_CERT,[e,n,o,r,h],x,m)},isLoading:b,completed:g,setCompleted:m,repeatable:!1,buttonSuccessText:"Отправлено",isDone:w,isActive:!!p&&!!e&&!!o&&!!r&&!!h&&!!n&&Ce(e)&&Ce(o)&&Ce(r)&&Ce(h)&&Ce(n),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},Wj=u.div.withConfig({componentId:"sc-17p2nth-0"})(["width:100%;"]),Gj=()=>t.jsxs(Wj,{children:[t.jsx(X,{shape:"rect",size:{width:"50%",height:"24px"},margin:"0 0 30px 0"}),t.jsx(X,{shape:"rect",size:{width:"100%",height:"17px"},margin:"0.8rem 0"}),t.jsx(X,{shape:"rect",size:{width:"90%",height:"17px"},margin:"0.8rem 0"}),t.jsx(X,{shape:"rect",size:{width:"90%",height:"17px"},margin:"0.8rem 0"}),t.jsx(X,{shape:"rect",size:{width:"80%",height:"17px"},margin:"0.8rem 0"}),t.jsx(X,{shape:"rect",size:{width:"45%",height:"17px"},margin:"2rem 0 0.8rem 0"}),t.jsx(X,{shape:"rect",size:{width:"40%",height:"17px"},margin:"0.8rem 0"}),t.jsx(X,{shape:"rect",size:{width:"60%",height:"17px"},margin:"0.8rem 0"})]}),vt=({forwardedRef:e,...i})=>{const{children:n,skeleton:s=t.jsx(Gj,{}),loading:o=!1,...a}=i;return t.jsx(Tt,{ref:e,...a,className:"block",children:o?s:n})},JA={ready:"Готово",completed:"Выполнена",issued:"Выдано",recieved:"Получено",inProgress:"В работе",pending:"На рассмотрении",accepted:"Принято в работу",rejected:"Отклонено"},qs={agreeding:"На согласовании",notAgreed:"Не согласовано",agreed:"Согласовано",empty:"Не создано",rejected:"Отклонено"},Ea={signed:"Подписан",agreeding:"На согласовании",fixing:"На доработке",empty:"Не создан"},ZA=[{id:1,title:"1"},{id:2,title:"2"},{id:3,title:"3"}],eN=[{id:0,title:"На электронную почту"},{id:1,title:"Лично"}],Vj=()=>[{title:"Должность, Подразделение",field:"jobDivision",priority:"one",width:"200px"},{title:"Статус заявления",field:"status",priority:"one",width:"200px",catalogs:[...Object.values(qs).map((e,i)=>({id:i.toString(),title:e}))??[]],render:e=>t.jsx(Z,{type:e==="Согласовано"?"success":e==="Не согласовано"||e==="Не создано"?"failure":"alert",title:e,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"dismissalOrder",priority:"one",align:"center",render:e=>e.orderNumber},{title:"Дата приказа",field:"dismissalOrder",priority:"one",align:"center",render:e=>e.formatedOrderDate},{title:"Статус приказа",field:"dismissalOrder",priority:"one",width:"220px",catalogs:[...Object.values(Ea).map((e,i)=>({id:i.toString(),title:e}))??[]],render:(e,i)=>{if(!e.orderStatus)return null;const n=e.orderStatus+i.dismissalOrder.registrationStatus;return t.jsx(Z,{type:e.orderStatus==="Подписан"?"success":e.orderStatus==="Не создан"?"failure":"alert",title:n,align:"center",width:"100%",icon:null,maxWidth:"220px"})}},{title:"Файл заявления",priority:"one",field:"file",type:"file"}],qj=({historyIsEmpty:e,historyDataWorkerApplication:i})=>{const[n,s]=c.useState(!1);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(Yj,{children:["История должностей:",t.jsx(j,{icon:n?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>!e&&s(o=>!o),background:"transparent"})]}),n&&i.map((o,a)=>o.dismissalApplications.length?t.jsx(Qj,{columns:Vj(),data:o.dismissalApplications.map(r=>({...r,...o,jobDivision:o.jobTitle+", "+o.subDivision})),maxOnPage:10},a):null),t.jsx(j,{onClick:()=>{!e&&s(o=>!o)},text:e?"История пуста":n?"Скрыть":"Подробнее",background:"transparent"})]})},Yj=u.div.withConfig({componentId:"sc-1at8wpi-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),Qj=u(Pt).withConfig({componentId:"sc-1at8wpi-1"})(["width:100%;"]),Xj=async e=>{const i=`https://api.mospolytech.ru/serviceforfrontpersonnelorders/Dismissal.DownloadFile?guid=${e}`,n={Authorization:`Bearer ${It()}`},s=await Ct({url:i,method:"GET",responseType:"blob",headers:n}),o=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement("a");a.href=o,a.setAttribute("download","order.pdf"),document.body.appendChild(a),a.click()},Kj=()=>[{title:"Статус заявления",field:"status",priority:"one",width:"200px",catalogs:[...Object.values(qs).map((e,i)=>({id:i.toString(),title:e}))??[]],render:e=>t.jsx(Z,{type:e==="Согласовано"?"success":e==="Не согласовано"||e==="Не создано"?"failure":"alert",title:e,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"dismissalOrder",priority:"one",align:"center",render:e=>e.orderNumber},{title:"Дата приказа",field:"dismissalOrder",type:"date",priority:"one",align:"center",render:e=>oe(e.orderDate,"numeric")},{title:"Статус приказа",field:"dismissalOrder",priority:"one",width:"200px",catalogs:[...Object.values(Ea).map((e,i)=>({id:i.toString(),title:e}))??[]],render:(e,i)=>{if(!e.orderStatus)return null;const n=e.orderStatus+i.dismissalOrder.registrationStatus;return t.jsx(Z,{type:e.orderStatus==="Подписан"?"success":e.orderStatus==="Не создан"?"failure":"alert",title:n,align:"center",width:"100%",icon:null,maxWidth:"150px"})}},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,i)=>{if(e)return t.jsx(j,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:()=>{Xj(i.applicationGuid)}})}}],Jj=({jobTitleInfo:e,index:i})=>{const{jobTitle:n,subDivision:s,rate:o,canBeRepeated:a,dismissalApplications:r}=e,[l,p]=c.useState(!1);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(ek,{children:[t.jsx("span",{children:n}),t.jsx(j,{icon:l?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>{p(d=>!d)},background:"transparent"})]}),t.jsxs(Zj,{children:["Подразделение: ",s,t.jsx("br",{}),"Ставка: ",o,t.jsx("br",{})]}),l&&t.jsxs(ik,{children:[a&&t.jsx(te,{to:`/hr-applications/dismissal/${i}`,children:t.jsx(j,{text:"Уволиться с этой должности",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})}),!!r.length&&t.jsx(tk,{columns:Kj(),data:r,maxOnPage:10})]}),t.jsx(j,{onClick:()=>{p(d=>!d)},text:l?"Скрыть":"Подробнее",background:"transparent"})]})},Zj=u.div.withConfig({componentId:"sc-17gk7lp-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),ek=u.div.withConfig({componentId:"sc-17gk7lp-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),tk=u(Pt).withConfig({componentId:"sc-17gk7lp-2"})(["width:100%;"]),ik=u.div.withConfig({componentId:"sc-17gk7lp-3"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]),nk=()=>{const{data:{dataWorkerApplication:e}}=Be.useApplications(),[i,n]=c.useState(!0);return e?t.jsxs(sk,{children:[e.map((s,o)=>s.isDismissal?(i&&n(!1),null):t.jsx(Jj,{jobTitleInfo:s,index:o},s.jobGuid)),t.jsx(qj,{historyIsEmpty:i,historyDataWorkerApplication:e.filter(({isDismissal:s})=>s)})]}):null},sk=u.div.withConfig({componentId:"sc-1q33qx5-0"})(["display:flex;flex-direction:column;gap:30px;"]),Ys=u.div.withConfig({componentId:"sc-17c4gv6-0"})(["width:100%;margin-bottom:20px;height:fit-content;max-width:",";padding:20px;border-radius:var(--brSemi);background:transparent;box-shadow:var(--block-shadow);display:flex;flex-direction:column;row-gap:20px;@media (max-width:1000px){box-shadow:none;padding:10px 0px;background:transparent;}"],({maxWidth:e})=>e??"600px"),Qs=()=>t.jsx(Z,{type:"info",title:"Информация",icon:t.jsx(_t,{}),children:"Данный сервис позволяет заказать необходимую справку, подать заявление, запрос. Статус (информация о степени готовности) заказанных справок меняется согласно действиям оператора. В колонке «Подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом."}),ok=()=>{const{data:{listApplication:e},error:i}=Be.useApplications();return t.jsx(Qe,{load:()=>kt.getApplicationsFx(),loading:!e,error:i,data:e,children:t.jsx(ak,{children:t.jsxs(Ys,{maxWidth:"1500px",children:[t.jsxs(rk,{children:[t.jsx(L,{size:2,align:"left",children:"Заявление на увольнение"}),t.jsx(Qs,{})]}),t.jsx(nk,{})]})})})},ak=u.div.withConfig({componentId:"sc-zo4mao-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),rk=u.div.withConfig({componentId:"sc-zo4mao-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),kd=()=>[{title:"Должность, Подразделение",field:"jobDivision",priority:"one",width:"200px"},{title:"Статус заявления",field:"orderRegistrationStatus",priority:"one",width:"200px",catalogs:[...Object.values(qs).map((e,i)=>({id:i.toString(),title:e}))??[]],render:e=>t.jsx(Z,{type:e==="Согласовано"?"success":e==="Не согласовано"||e==="Не создано"?"failure":"alert",title:e,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"weekends",priority:"one",align:"center",render:e=>e[0].type},{title:"Дата выхода",field:"weekends",priority:"one",align:"center",render:e=>oe(e[0].dates[0].date,"numeric")},{title:"Количество часов",field:"weekends",priority:"one",align:"center",render:e=>e[0].dates[0].hours},{title:"Файл заявления",priority:"one",field:"file",type:"file"}],_d=I({name:"loadBufferHolidayWork",sid:"t9kvcj"}),Cd=I({name:"sendBufferHolidayWork",sid:"-337yo"}),Sd=W(async()=>{const{data:e}=await Te.get(`Weekend.GetAllHistory?PersonalGuid=${Di(It()??"").IndividualGuid}`);return e.orders},{name:"loadBufferHolidayWorkFx",sid:"-jv46fz"});v({and:[{clock:_d,target:Sd}],or:{sid:"4qzcke"}});const En=W(async e=>(await Te.post("Weekend.AddWeekend",e)).data,{name:"sendBufferHolidayWorkFx",sid:"-55kkju"});v({and:[{clock:Cd,target:En}],or:{sid:"56xdrv"}});const Id=$([],{name:"$bufferHolidayWorkOrders",sid:"-9wkgf3"}),lk=En.pending;v({and:[{clock:Sd.doneData,target:Id}],or:{sid:"5a85c1"}});v({and:[{clock:En.doneData,fn:e=>{const i=e;return i.isError?{message:i.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:Ht.evokePopUpMessage}],or:{sid:"5nz062"}});v({and:[{clock:En.fail,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure",time:3e5}),target:Ht.evokePopUpMessage}],or:{sid:"6ligd3"}});const ck={loadBufferHolidayWork:_d,sendBufferHolidayWork:Cd},tN={sendBufferHolidayWorkFx:En},dk={useBufferHolidayWork:()=>({data:ge(Id),loading:ge(lk)})},pk=()=>{const[e,i]=c.useState(!1);c.useEffect(ck.loadBufferHolidayWork,[]);const{data:n}=dk.useBufferHolidayWork(),s=!!n.every(o=>!o);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(uk,{children:["История заявлений на выход в выходной день:",t.jsx(j,{icon:e?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>!s&&i(o=>!o),background:"transparent"})]}),e&&t.jsx(hk,{columns:kd(),data:n.map(o=>({...o})),maxOnPage:5}),t.jsx(j,{onClick:()=>{!s&&i(o=>!o)},text:s?"История пуста":e?"Скрыть":"Подробнее",background:"transparent"})]})},uk=u.div.withConfig({componentId:"sc-1rgdznj-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),hk=u(Pt).withConfig({componentId:"sc-1rgdznj-1"})(["width:100%;"]),gk=({info:e,index:i})=>{const{jobTitle:n,subDivision:s,rate:o}=e,[a,r]=c.useState(!1);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(mk,{children:[t.jsx("span",{children:n}),t.jsx(j,{icon:a?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>{r(l=>!l)},background:"transparent"})]}),t.jsxs(fk,{children:["Подразделение: ",s,t.jsx("br",{}),"Ставка: ",o,t.jsx("br",{})]}),a&&t.jsx(xk,{children:t.jsx(te,{to:`/hr-applications/holiday-work/${i}`,children:t.jsx(j,{text:"Выйти в выходной день",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})})}),t.jsx(j,{onClick:()=>{r(l=>!l)},text:a?"Скрыть":"Подробнее",background:"transparent",padding:"0px"})]})},fk=u.div.withConfig({componentId:"sc-wf2sno-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),mk=u.div.withConfig({componentId:"sc-wf2sno-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),xk=u.div.withConfig({componentId:"sc-wf2sno-2"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]),bk=()=>{const{data:{dataWorkerApplication:e}}=Be.useApplications(),[i,n]=c.useState(!0);return e?t.jsxs(wk,{children:[e.map((s,o)=>s.isDismissal?(i&&n(!1),null):t.jsx(gk,{info:s,index:o})),t.jsx(pk,{})]}):null},wk=u.div.withConfig({componentId:"sc-zhdbox-0"})(["display:flex;flex-direction:column;gap:30px;"]),vk=()=>{const{data:{listApplication:e},error:i}=Be.useApplications();return t.jsx(Qe,{load:()=>kt.getApplicationsFx(),loading:!e,error:i,data:e,children:t.jsx(yk,{children:t.jsxs(Ys,{maxWidth:"1500px",children:[t.jsxs(jk,{children:[t.jsx(L,{size:2,align:"left",children:"Заявление на выход в выходной день"}),t.jsx(Qs,{})]}),t.jsx(bk,{})]})})})},yk=u.div.withConfig({componentId:"sc-13s8wgh-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),jk=u.div.withConfig({componentId:"sc-13s8wgh-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),Td=I({name:"loadBufferHolidayPlanning",sid:"kx8jhr"}),Ed=I({name:"sendBufferHolidayPlanning",sid:"ef93ho"}),Pn=W(async()=>{const{data:e}=await Te.get(`Vacation.GetAllHistory?personalGuid=${Di(It()??"").IndividualGuid}`);return e},{name:"loadBufferHolidayPlanningFx",sid:"-5s6s2r"});v({and:[{clock:Td,target:Pn}],or:{sid:"-ct3gtq"}});const di=W(async e=>(await Te.post("Vacation.AddVacation",e)).data,{name:"sendBufferHolidayPlanningFx",sid:"-vnmzgu"});v({and:[{clock:Ed,target:di}],or:{sid:"-cd5fm9"}});const rs=$(null,{name:"$bufferHolidayPlanning",sid:"dbshu0"});v({and:[{clock:Pn.doneData,fn:({employeeVacations:e})=>e,target:rs}],or:{sid:"-caegng"}});v({and:[{clock:di.doneData,fn:e=>{if(e.isError)throw new Error(e.error);return{message:"Форма отправлена успешно",type:"success"}},target:G.evokePopUpMessage}],or:{sid:"-bv081c"}});v({and:[{clock:di.failData,fn:({message:e})=>({message:e,type:"hrFailure"}),target:G.evokePopUpMessage}],or:{sid:"-bcb7v2"}});v({and:[{clock:di.doneData,source:rs,fn:(e,{employeeVacations:i})=>[...e,...i],target:rs}],or:{sid:"-au60a5"}});v({and:[{clock:Pn.failData,fn:e=>{var n;return{message:na(e)?((n=e.response)==null?void 0:n.data).error:"Не удалось загрузить данные",type:"failure"}},target:G.evokePopUpMessage}],or:{sid:"-ad4dvy"}});v({and:[{clock:di.doneData,target:Pn}],or:{sid:"-9jzaft"}});const kk={loadBufferHolidayPlanning:Td,sendBufferHolidayPlanning:Ed},iN={sendBufferHolidayPlanningFx:di},_k={useBufferHolidayPlanning:()=>({data:ge(rs),loading:ge(di.pending),getDataLoading:ge(Pn.pending)})},Xs=async(e,i)=>{const n=`https://api.mospolytech.ru/serviceforfrontpersonnelorders/Vacation.DownloadFile?DocumentGuid=${e}&Type=${i}`,s={Authorization:`Bearer ${It()}`},o=await Ct({url:n,method:"GET",responseType:"blob",headers:s}),a=window.URL.createObjectURL(new Blob([o.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","order.pdf"),document.body.appendChild(r),r.click()};var Pd=(e=>(e[e["Ежегодный (основной) оплачиваемый отпуск"]=1]="Ежегодный (основной) оплачиваемый отпуск",e[e["Ежегодный дополнительный оплачиваемый отпуск (в т.ч. учебный)"]=2]="Ежегодный дополнительный оплачиваемый отпуск (в т.ч. учебный)",e[e["Отпуск без сохранения заработной платы"]=3]="Отпуск без сохранения заработной платы",e[e["Отпуск по коллективному договору"]=4]="Отпуск по коллективному договору",e))(Pd||{});const Pa=()=>[{title:"Дата",field:"creationDate",type:"date",sort:!0},{title:"Статус",field:"vacation",width:"150px",render:e=>t.jsx(Z,{type:e.status.orderStatus==="Согласовано"?"success":e.status.orderStatus==="На регистрации"?"info":e.status.orderStatus==="Не утвержден"||e.status.orderStatus==="Не создано"?"failure":"alert",title:e.status.orderStatus||"-",align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Должность",field:"jobTitle",width:"250px",sort:!0},{title:"Вид отпуска",field:"vacation",render:e=>Pd[e==null?void 0:e.typeOfVacation]||"-"},{title:"Период",field:"vacation",align:"center",width:"200px",render:e=>{var i,n;return`${oe((i=e==null?void 0:e.period)==null?void 0:i.startDate,"numeric")} - ${oe((n=e==null?void 0:e.period)==null?void 0:n.endDate,"numeric")}`}},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,i)=>{var n;return(n=i==null?void 0:i.status)!=null&&n.downloadApplication?t.jsx(j,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:s=>{s.stopPropagation(),Xs(i.documentGuid,"0")}}):"-"}}],Ck=()=>[...Pa(),{title:"Дней",field:"vacation",align:"center",render:e=>{var i;return(i=e==null?void 0:e.period)==null?void 0:i.totalDays}},{title:"Статус приказа",field:"vacation",align:"center",render:e=>{var i;return((i=e==null?void 0:e.status)==null?void 0:i.orderApprovalStatus)||"-"}},{title:"Статус заявления",field:"vacation",align:"center",render:e=>{var i;return((i=e==null?void 0:e.status)==null?void 0:i.applicationApporvalStatus)||"-"}},{title:"Категория",field:"vacation",align:"center",render:()=>"Тут должна быть категория"},{title:"Перенесен",field:"vacation",align:"center",render:(e,i)=>{var n,s,o,a;return i!=null&&i.isCarriedOver?`Перенесен с ${oe((s=(n=i==null?void 0:i.carriedOver)==null?void 0:n.period)==null?void 0:s.startDate,"numeric")} - ${oe((a=(o=i==null?void 0:i.carriedOver)==null?void 0:o.period)==null?void 0:a.endDate,"numeric")}`:"-"}},{title:"Файл приказа",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,i)=>{var n;return(n=i==null?void 0:i.status)!=null&&n.downloadApplication?t.jsx(j,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:s=>{s.stopPropagation(),Xs(i.documentGuid,"1")}}):"-"}}],Sk=()=>{const{data:e,getDataLoading:i}=_k.useBufferHolidayPlanning(),n=()=>kk.loadBufferHolidayPlanning(),s=e&&e.map(o=>[...o.notTaken.map(a=>({...a,jobTitle:o.jobTitle,creationDate:a.vacation.status.creationDate}))]).flat().sort((o,a)=>Il(new Date(o.vacation.period.startDate),new Date(a.vacation.period.startDate)));return t.jsx(Qe,{load:n,error:null,data:e,children:t.jsxs(t.Fragment,{children:[t.jsxs(E,{jc:"space-between",m:"10px 0",children:[t.jsx(Ik,{children:"История заявлений на отпуск:"}),t.jsx(te,{to:"/hr-applications/holiday-planning",children:t.jsx(j,{text:"Отпуск",background:"var(--reallyBlue)",textColor:"#fff",icon:t.jsx(ti,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0})})]}),i?t.jsx(E,{w:"100%",jc:"center",ai:"center",children:t.jsx(ut,{})}):t.jsx(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:t.jsx(Pt,{columns:Pa(),columnsExtended:Ck(),data:s,maxOnPage:10})})]})})},Ik=u.div.withConfig({componentId:"sc-cga8n-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),Tk=()=>{const{data:{dataWorkerApplication:e},error:i}=Be.useApplications(),n=pt();return t.jsx(Qe,{load:kt.getWorkerPosts,error:i,data:e,children:t.jsxs(Et,{topRightCornerElement:t.jsx(j,{onClick:()=>{n.replace("/vacation")},text:"График отпусков",background:"var(--reallyBlue)",textColor:"#fff",icon:t.jsx(Tl,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0}),children:[t.jsx(Z,{type:"info",title:"Информация",icon:t.jsx(_t,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:"Тут можно посмотреть свои заявления на отпуск и согласовать их."}),t.jsx(Sk,{})]})})},Ek=()=>[{title:"Должность, Подразделение",field:"jobDivision",priority:"one",width:"200px"},{title:"Статус заявления",field:"status",priority:"one",width:"200px",catalogs:[...Object.values(qs).map((e,i)=>({id:i.toString(),title:e}))??[]],render:e=>t.jsx(Z,{type:e==="Согласовано"?"success":e==="Не согласовано"||e==="Не создано"?"failure":"alert",title:e,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"dismissalOrder",priority:"one",align:"center",render:e=>e.orderNumber},{title:"Дата приказа",field:"dismissalOrder",priority:"one",align:"center",render:e=>e.formatedOrderDate},{title:"Статус приказа",field:"dismissalOrder",priority:"one",width:"220px",catalogs:[...Object.values(Ea).map((e,i)=>({id:i.toString(),title:e}))??[]],render:(e,i)=>{if(!e.orderStatus)return null;const n=e.orderStatus+i.dismissalOrder.registrationStatus;return t.jsx(Z,{type:e.orderStatus==="Подписан"?"success":e.orderStatus==="Не создан"?"failure":"alert",title:n,align:"center",width:"100%",icon:null,maxWidth:"220px"})}},{title:"Файл заявления",priority:"one",field:"file",type:"file"}],Ad=I({name:"loadBufferHolidayTransfer",sid:"zbmmj2"}),Nd=I({name:"sendBufferHolidayTransfer",sid:"stn6iz"}),Aa=W(async()=>{const{data:e}=await Te.get(`CarryForwardVacation.GetAllHistory?personalGuid=${Di(It()??"").IndividualGuid}`);return e},{name:"loadBufferHolidayTransferFx",sid:"-hl2c04"});v({and:[{clock:Ad,target:Aa}],or:{sid:"vcjzgl"}});const Ri=W(async e=>(await Te.post("CarryForwardVacation.AddCarryForwardVacation",e)).data,{name:"sendBufferHolidayTransferFx",sid:"egiitt"});v({and:[{clock:Nd,target:Ri}],or:{sid:"vsi0o2"}});const ls=$([],{name:"$bufferHolidayTransfer",sid:"jbw49z"});v({and:[{clock:Aa.doneData,fn:({employeeVacations:e})=>e,target:ls}],or:{sid:"vv8zmv"}});v({and:[{clock:Ri.doneData,fn:e=>e.isError?{message:e.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0},target:Ht.evokePopUpMessage}],or:{sid:"wan88z"}});v({and:[{clock:Ri.doneData,source:ls,fn:(e,{employeeVacations:i})=>[...e,...i],target:ls}],or:{sid:"x7mvun"}});v({and:[{clock:Aa.failData,fn:e=>{var n;return{message:na(e)?((n=e.response)==null?void 0:n.data).error:"Не удалось загрузить данные",type:"failure",time:3e5}},target:G.evokePopUpMessage}],or:{sid:"xooi8u"}});v({and:[{clock:Ri.failData,fn:e=>{var n;return{message:na(e)?((n=e.response)==null?void 0:n.data).error:"Не удалось отправить данные",type:"hrFailure",time:3e5}},target:Ht.evokePopUpMessage}],or:{sid:"y6tptr"}});const Ar={loadBufferHolidayTransfer:Ad,sendBufferHolidayTransfer:Nd},nN={sendBufferHolidayTransferFx:Ri},Na={useBufferHolidayTransfer:()=>({data:ge(ls),loading:ge(Ri.pending)})},Pk=()=>{const[e,i]=c.useState(!1),{data:n}=Na.useBufferHolidayTransfer(),s=!!n.every(o=>!o);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(Ak,{children:["История заявлений отпуск:",t.jsx(j,{icon:e?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>!s&&i(o=>!o),background:"transparent"})]}),e&&n.map((o,a)=>t.jsx(Nk,{columns:Ek(),data:[],maxOnPage:10},a)),t.jsx(j,{onClick:()=>{!s&&i(o=>!o)},text:s?"История пуста":e?"Скрыть":"Подробнее",background:"transparent"})]})},Ak=u.div.withConfig({componentId:"sc-m7eon3-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),Nk=u(Pt).withConfig({componentId:"sc-m7eon3-1"})(["width:100%;"]),Dk=({info:e,index:i,data:n})=>{const{jobTitle:s,subDivision:o,rate:a}=e,[r,l]=c.useState(!1);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(Lk,{children:[t.jsx("span",{children:s}),t.jsx(j,{icon:r?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>{l(p=>!p)},background:"transparent"})]}),t.jsxs(Ok,{children:["Подразделение: ",o,t.jsx("br",{}),"Ставка: ",a,t.jsx("br",{})]}),r&&t.jsxs(zk,{children:[t.jsx(te,{to:`/hr-applications/holiday-transfer/${i}`,children:t.jsx(j,{text:"Перенос отпуска",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})}),n.map((p,d)=>{if(p.employeeGuid==e.jobGuid){const h=n[d].notTaken.filter(f=>{if(f.vacation.status.orderStatus!="false"&&f.vacation.status.orderStatus!="")return f.vacation.status.orderStatus});return t.jsx(Rk,{columns:Pa(),data:h,maxOnPage:10},p.jobTitle)}})]}),t.jsx(j,{onClick:()=>{l(p=>!p)},text:r?"Скрыть":"Подробнее",background:"transparent"})]})},Ok=u.div.withConfig({componentId:"sc-72ahf3-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),Lk=u.div.withConfig({componentId:"sc-72ahf3-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),Rk=u(Pt).withConfig({componentId:"sc-72ahf3-2"})(["width:100%;"]),zk=u.div.withConfig({componentId:"sc-72ahf3-3"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]),Fk=()=>{const{data:{dataWorkerApplication:e}}=Be.useApplications(),{data:i}=Na.useBufferHolidayTransfer(),[n,s]=c.useState(!0);return!i||!e?null:t.jsxs(Mk,{children:[e.map((o,a)=>o.isDismissal?(n&&s(!1),null):t.jsx(Dk,{info:o,index:a,data:i})),t.jsx(Pk,{})]})},Mk=u.div.withConfig({componentId:"sc-1dl3ypv-0"})(["display:flex;flex-direction:column;gap:30px;"]),$k=()=>{const{data:e,loading:i}=Na.useBufferHolidayTransfer();return c.useEffect(()=>{Ar.loadBufferHolidayTransfer()},[]),t.jsx(Qe,{load:Ar.loadBufferHolidayTransfer,loading:i,error:null,data:e,children:t.jsx(Bk,{children:t.jsxs(Ys,{maxWidth:"1500px",children:[t.jsxs(Hk,{children:[t.jsx(L,{size:2,align:"left",children:"Заявление на перенос отпуска"}),t.jsx(Qs,{}),t.jsxs("p",{children:["График отпусков вы можете посмотреть по"," ",t.jsx("a",{target:"_blank",href:"#/vacation",rel:"noreferrer",children:"ссылке"}),"."]})]}),t.jsx(Fk,{})]})})})},Bk=u.div.withConfig({componentId:"sc-18ufg3v-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),Hk=u.div.withConfig({componentId:"sc-18ufg3v-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),Uk=e=>localStorage.setItem("age",e.toString()),sN=e=>localStorage.getItem(e),Wk=e=>e.map(i=>{localStorage.setItem(i.employeeGuid,i.tutor.toString())}),Gk={listMedicalExamination:null,error:null},yi=W(async()=>{const e=await Te.get(`MedicalExamination.GetAllHistory?PersonalGuid=${Di(It()??"").IndividualGuid}`);try{return Uk(e.data.age),Wk(e.data.employeeMedicalExaminations.map(({employeeGuid:i,tutor:n})=>({employeeGuid:i,tutor:n}))),e.data.employeeMedicalExaminations}catch{throw new Error("Не удалось загрузить информацию. Попробуйте позже")}},{name:"loadBufferMedicalExaminationFx",sid:"psbz9j"}),An=W(async e=>{try{const i=await Te.post("MedicalExamination.AddMedicalExamination",e);if(i.data.isError)throw new Error;return i.data}catch(i){throw new Error(i)}},{name:"sendBufferMedicalExaminationFx",sid:"vimfdw"}),Vk=()=>{const{listMedicalExamination:e,error:i}=ge(qk);return{data:e,loading:ge(An.pending),getDataLoading:ge(yi.pending),error:i}};I({name:"clearStore",sid:"j1cf9i"});Ni({and:{from:An.doneData,to:yi},or:{sid:"-54ezjj"}});v({and:[{clock:An.doneData,fn:()=>({message:"Форма отправлена успешно",type:"success"}),target:G.evokePopUpMessage}],or:{sid:"-527t63"}});v({and:[{clock:An.failData,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure"}),target:G.evokePopUpMessage}],or:{sid:"-4m9rym"}});const qk=$(Gk,{name:"$medicalExaminationStore",sid:"-ovb8fc"}).on(yi,e=>({...e,error:null})).on(yi.doneData,(e,i)=>({...e,listMedicalExamination:i})).on(yi.failData,(e,i)=>({...e,error:i.message})),Yk={loadBufferMedicalExaminationFx:yi,sendBufferMedicalExaminationFx:An},Qk={useBufferMedicalExamination:Vk},Dd=()=>[{title:"Дата",field:"creationDate",width:"100px",sort:!0,type:"date"},{title:"Статус",field:"orderStatus",width:"150px",render:e=>t.jsx(Z,{type:e==="Согласовано"?"success":e==="На регистрации"?"info":e==="Не утвержден"||e==="Не создано"?"failure":"alert",title:e||"-",align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Должность",field:"jobTitle",sort:!0},{title:"Период",field:"medicalExamination",align:"center",width:"200px",render:(e,i)=>`${oe(i==null?void 0:i.startDate,"numeric")} - ${oe(i==null?void 0:i.endDate,"numeric")}`},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,i)=>i!=null&&i.downloadApplication?t.jsx(j,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:n=>{n.stopPropagation(),Xs(i==null?void 0:i.documentGuid,"0")}}):"-"}],Xk=()=>[...Dd(),{title:"Статус приказа",field:"orderApprovalStatus",align:"center",render:e=>e||"-"},{title:"Статус заявления",field:"applicationApporvalStatus",align:"center",render:e=>e||"-"},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,i)=>i!=null&&i.downloadApplication?t.jsx(j,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:n=>{n.stopPropagation(),Xs(i==null?void 0:i.documentGuid,"1")}}):"-"}],Kk=()=>{const{data:e,getDataLoading:i}=Qk.useBufferMedicalExamination(),{data:{dataWorkerApplication:n}}=Be.useApplications(),s=n&&e&&e.map(o=>{const a=n.find(r=>r.jobGuid===o.employeeGuid);return[...o.notTaken.map(r=>({...r,jobTitle:a==null?void 0:a.jobTitle}))]}).flat().sort((o,a)=>Il(new Date(o.startDate),new Date(a.startDate)));return t.jsxs(Qe,{load:Yk.loadBufferMedicalExaminationFx,error:null,data:e,children:[t.jsxs(E,{jc:"space-between",m:"10px 0",children:[t.jsx(Jk,{children:"История заявлений на диспансеризацию:"}),t.jsx(te,{to:"/hr-applications/medical-examination",children:t.jsx(j,{text:"Диспансеризация",background:"var(--reallyBlue)",textColor:"#fff",icon:t.jsx(ti,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0})})]}),i?t.jsx(E,{w:"100%",jc:"center",ai:"center",children:t.jsx(ut,{})}):t.jsx(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:t.jsx(Pt,{columns:Dd(),columnsExtended:Xk(),data:s,maxOnPage:10})})]})},Jk=u.div.withConfig({componentId:"sc-1uh96td-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),Zk=()=>{const{data:{dataWorkerApplication:e},error:i}=Be.useApplications();return t.jsx(Qe,{load:kt.getWorkerPosts,error:i,data:e,children:t.jsxs(Et,{children:[t.jsx(Z,{type:"info",title:"Информация",icon:t.jsx(_t,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:"Тут можно посмотреть свои заявления на диспансеризацию и согласовать их."}),t.jsx(Kk,{})]})})},Od=I({name:"loadBufferWorkTransfer",sid:"84mpis"}),Ld=I({name:"sendBufferWorkTransfer",sid:"-s5cqrz"}),Rd=W(async()=>{const{data:e}=await Te.get(`AnotherPlaceWork.GetAllHistory?PersonalGuid=${Di(It()??"").IndividualGuid}`);return e.employeeHistories},{name:"loadBufferWorkTransferFx",sid:"s627lq"});v({and:[{clock:Od,target:Rd}],or:{sid:"3miwkl"}});const Nn=W(async e=>(await Te.post("AnotherPlaceWork.AddAnotherPlaceOfWork",e)).data,{name:"sendBufferWorkTransferFx",sid:"lff3rr"});v({and:[{clock:Ld,target:Nn}],or:{sid:"42gxs2"}});const zd=$([],{name:"$bufferWorkTransferOrders",sid:"77xbns"}),e_=Nn.pending;v({and:[{clock:Rd.doneData,target:zd}],or:{sid:"45rpc8"}});v({and:[{clock:Nn.doneData,fn:e=>{const i=e;return i.isError?{message:i.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:Ht.evokePopUpMessage}],or:{sid:"4jik69"}});v({and:[{clock:Nn.fail,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure",time:3e5}),target:Ht.evokePopUpMessage}],or:{sid:"5h20da"}});const t_={loadBufferWorkTransfer:Od,sendBufferWorkTransfer:Ld},oN={sendBufferWorkTransferFx:Nn},i_={useBufferWorkTransfer:()=>({data:ge(zd),loading:ge(e_)})},n_=()=>{const[e,i]=c.useState(!1);c.useEffect(t_.loadBufferWorkTransfer,[]);const{data:n}=i_.useBufferWorkTransfer(),s=!!n.every(o=>!o);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(s_,{children:["История заявлений на перевод:",t.jsx(j,{icon:e?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>!s&&i(o=>!o),background:"transparent"})]}),e&&t.jsx(o_,{columns:kd(),data:n.map(o=>({...o})),maxOnPage:5}),t.jsx(j,{onClick:()=>{!s&&i(o=>!o)},text:s?"История пуста":e?"Скрыть":"Подробнее",background:"transparent"})]})},s_=u.div.withConfig({componentId:"sc-p74s0d-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),o_=u(Pt).withConfig({componentId:"sc-p74s0d-1"})(["width:100%;"]),a_=({info:e,index:i})=>{const{jobTitle:n,subDivision:s,rate:o}=e,[a,r]=c.useState(!1);return t.jsxs(vt,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[t.jsxs(l_,{children:[t.jsx("span",{children:n}),t.jsx(j,{icon:a?t.jsx($t,{}):t.jsx(bt,{}),onClick:()=>{r(l=>!l)},background:"transparent"})]}),t.jsxs(r_,{children:["Подразделение: ",s,t.jsx("br",{}),"Ставка: ",o,t.jsx("br",{})]}),a&&t.jsxs(c_,{children:[t.jsx(te,{to:`/hr-applications/work-transfer/${i}`,children:t.jsx(j,{text:"Перевестись с этой должности",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})}),t.jsx(te,{to:`/hr-applications/work-transfer-change-rate/${i}`,children:t.jsx(j,{text:"Изменить ставку",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})})]}),t.jsx(j,{onClick:()=>{r(l=>!l)},text:a?"Скрыть":"Подробнее",background:"transparent",padding:"0px"})]})},r_=u.div.withConfig({componentId:"sc-x4jofd-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),l_=u.div.withConfig({componentId:"sc-x4jofd-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),c_=u.div.withConfig({componentId:"sc-x4jofd-2"})(["display:flex;flex-direction:row;gap:10px;align-items:center;justify-content:center;width:100%;"]),d_=()=>{const{data:{dataWorkerApplication:e}}=Be.useApplications(),[i,n]=c.useState(!0);return e?t.jsxs(p_,{children:[e.map((s,o)=>s.isDismissal?(i&&n(!1),null):t.jsx(a_,{info:s,index:o})),t.jsx(n_,{})]}):null},p_=u.div.withConfig({componentId:"sc-t7hy5p-0"})(["display:flex;flex-direction:column;gap:30px;"]),u_=()=>{const{data:{listApplication:e},error:i}=Be.useApplications();return t.jsx(Qe,{load:()=>kt.getApplicationsFx(),loading:!e,error:i,data:e,children:t.jsx(h_,{children:t.jsxs(Ys,{maxWidth:"1500px",children:[t.jsxs(g_,{children:[t.jsx(L,{size:2,align:"left",children:"Заявление на перевод"}),t.jsx(Qs,{})]}),t.jsx(d_,{})]})})})},h_=u.div.withConfig({componentId:"sc-pldiax-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),g_=u.div.withConfig({componentId:"sc-pldiax-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),f_=e=>{if(!e[0].length&&e[1].length)return`За весь период до ${oe(e[1])} включительно`;if(e[0].length&&!e[1].length)return`За весь период начиная с ${oe(e[0])} включительно`;if(!e[0].length&&!e[1].length)return"За все время";if(e[0].length&&e[1].length)return`За период с ${oe(e[0])} по ${oe(e[1])}`},m_=u.div.withConfig({componentId:"sc-1i6hop4-0"})([".content{display:flex;flex-direction:column;gap:20px;section{display:flex;gap:10px;}}"]),Ks=({title:e,links:i})=>{const[n,s]=c.useState(["",""]),[o,a]=c.useState(!0),{data:r}=ht.selectors.useData();return r?t.jsxs(m_,{children:[t.jsx(L,{size:3,align:"left",bottomGap:!0,children:e}),t.jsxs("div",{className:"content",children:[t.jsx(Bc,{dates:n,setDates:s,valid:o,setValid:a}),t.jsx(Z,{type:"info",title:f_(n)??"",icon:t.jsx(_t,{})}),i==null?void 0:i.map((l,p)=>{const d=l.url+"&date_from="+n[0]+"&date_to="+n[1];return t.jsxs(de.Fragment,{children:[t.jsxs("section",{children:[t.jsx(L,{size:4,align:"left",children:l.title}),t.jsx(_n,{onClick:()=>null,href:d,text:"Загрузить",icon:t.jsx(Vo,{}),width:"170px",background:y.blue.main,textColor:"#fff",isActive:o})]}),p!==(i==null?void 0:i.length)-1&&t.jsx(be,{})]},l.title)})]})]}):null},x_=()=>{const{data:e}=ht.selectors.useData();return t.jsx(Ks,{title:"Скачать отчеты по акцептам",links:e==null?void 0:e.accepts})},b_=()=>{const{data:e}=ht.selectors.useData();return t.jsx(Ks,{title:"Скачать отчеты по доп.соглашениям",links:e==null?void 0:e.agreements})},w_=()=>{const{data:e}=ht.selectors.useData();return t.jsx(Ks,{title:"Скачать отчеты по анкете",links:e==null?void 0:e.checkdata})},v_=()=>{const{data:e}=ht.selectors.useData();return t.jsx(Ks,{title:"Скачать отчеты по телефонному справочнику",links:e==null?void 0:e.phonebook})},y_=()=>{var i;const{data:e}=ht.selectors.useData();return t.jsx(Ln,{padding:"10px",children:t.jsx(Et,{children:t.jsx(lo,{appearance:!1,pages:[{title:"Анкета",content:t.jsx(w_,{}),condition:!!(e!=null&&e.checkdata.length)},{title:"Акцепт",content:t.jsx(x_,{}),condition:!!(e!=null&&e.accepts.length)},{title:"Доп. соглашения",content:t.jsx(b_,{}),condition:!!(e!=null&&e.agreements.length)},{title:"Телефонный справочник",content:t.jsx(v_,{}),condition:!!(e!=null&&e.phonebook.length)},{title:"Логины студентов",content:t.jsx(Ue,{oldVersionUrl:NC}),condition:!!((i=e==null?void 0:e.studLogins)!=null&&i.length)}]})})})},j_=c.lazy(()=>C(()=>import("./index-0a4682ad.js"),["assets/index-0a4682ad.js","assets/vendor-fa46c825.js"])),Fd=c.lazy(()=>C(()=>import("./index-d3551423.js"),["assets/index-d3551423.js","assets/vendor-fa46c825.js"])),k_=c.lazy(()=>C(()=>Promise.resolve().then(()=>mS),void 0)),__=c.lazy(()=>C(()=>import("./index-49502139.js"),["assets/index-49502139.js","assets/vendor-fa46c825.js"])),C_=c.lazy(()=>C(()=>import("./index-4011533e.js"),["assets/index-4011533e.js","assets/vendor-fa46c825.js"])),Md=c.lazy(()=>C(()=>import("./index-9355e64a.js"),["assets/index-9355e64a.js","assets/vendor-fa46c825.js","assets/help-links-763a504d.js","assets/create-form-store-a561368f.js"])),S_=c.lazy(()=>C(()=>import("./index-590b63c8.js"),["assets/index-590b63c8.js","assets/vendor-fa46c825.js"])),I_=c.lazy(()=>C(()=>import("./index-c7285647.js"),["assets/index-c7285647.js","assets/vendor-fa46c825.js","assets/alert-item-678e8b46.js","assets/is-valid-url-08a91344.js"])),T_=c.lazy(()=>C(()=>import("./index-6e751768.js"),["assets/index-6e751768.js","assets/vendor-fa46c825.js","assets/index-19f4fde7.js","assets/alert-item-678e8b46.js","assets/is-valid-url-08a91344.js"])),E_=c.lazy(()=>C(()=>import("./index-c8ef4468.js"),["assets/index-c8ef4468.js","assets/vendor-fa46c825.js"])),P_=c.lazy(()=>C(()=>import("./index-7b5b8964.js"),["assets/index-7b5b8964.js","assets/vendor-fa46c825.js"])),$d=c.lazy(()=>C(()=>import("./index-42bf1379.js"),["assets/index-42bf1379.js","assets/vendor-fa46c825.js","assets/index-19f4fde7.js"])),A_=c.lazy(()=>C(()=>import("./index-349f79d3.js"),["assets/index-349f79d3.js","assets/vendor-fa46c825.js","assets/index-a482c4ff.js"])),N_=c.lazy(()=>C(()=>import("./index-1085f56c.js"),["assets/index-1085f56c.js","assets/vendor-fa46c825.js","assets/index-a482c4ff.js"])),D_=c.lazy(()=>C(()=>import("./index-63607a5b.js"),["assets/index-63607a5b.js","assets/vendor-fa46c825.js","assets/index-a482c4ff.js"])),O_=c.lazy(()=>C(()=>import("./index-9d731f27.js"),["assets/index-9d731f27.js","assets/vendor-fa46c825.js"])),L_=c.lazy(()=>C(()=>import("./index-9b04f49f.js"),["assets/index-9b04f49f.js","assets/vendor-fa46c825.js","assets/index-afd33ec3.js"])),R_=c.lazy(()=>C(()=>import("./index-1fea1eaf.js"),["assets/index-1fea1eaf.js","assets/vendor-fa46c825.js"])),z_=c.lazy(()=>C(()=>import("./index-84424e69.js"),["assets/index-84424e69.js","assets/vendor-fa46c825.js","assets/help-links-763a504d.js"])),F_=c.lazy(()=>C(()=>import("./index-cf23d8b3.js"),["assets/index-cf23d8b3.js","assets/vendor-fa46c825.js","assets/help-links-763a504d.js"])),M_=c.lazy(()=>C(()=>import("./index-ba04697a.js"),["assets/index-ba04697a.js","assets/vendor-fa46c825.js","assets/BoldText-9eaa0daf.js","assets/help-links-763a504d.js"])),$_=c.lazy(()=>C(()=>import("./index-50447a27.js"),["assets/index-50447a27.js","assets/vendor-fa46c825.js"])),B_=u.div.withConfig({componentId:"sc-av67fs-0"})(["display:flex;flex-direction:column;gap:24px;padding:12px;width:100%;height:100%;color:var(--text);"]),aN=u.div.withConfig({componentId:"sc-av67fs-1"})(["width:100%;display:flex;gap:5px;flex-direction:row;"]),rN=u.div.withConfig({componentId:"sc-av67fs-2"})(["width:100%;"]),H_=u.div.withConfig({componentId:"sc-di2aau-0"})(["position:relative;width:100%;padding:10px;min-height:100px;height:100%;@media (max-width:550px){padding:10px;}"]),U_=u.div.withConfig({componentId:"sc-di2aau-1"})(["width:100%;height:100%;top:0;left:0;transition:0.2s;opacity:",";visibility:",";transform:scale(",");display:flex;align-items:center;justify-content:center;z-index:5;img{width:40px;}"],({$loading:e})=>e?1:0,({$loading:e})=>e?"visible":"hidden",({$loading:e})=>e?"1":"0.98"),W_=u.div.withConfig({componentId:"sc-di2aau-2"})(["transition:0.2s;height:100%;"]),G_=u.div.withConfig({componentId:"sc-di2aau-3"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text);& > * + *{margin-top:10px;}"]),V_=({children:e,load:i,loading:n,error:s,data:o,deps:a=[],couldBeReloaded:r})=>(c.useEffect(()=>{!o&&!n&&i()},a),t.jsx(H_,{children:o?!s&&t.jsx(W_,{children:e}):t.jsx(U_,{$loading:!!s||!o,children:s?t.jsx(G_,{children:t.jsx(je,{text:s,children:r&&t.jsx(j,{onClick:()=>i(),text:"Загрузить снова",icon:t.jsx(ys,{})})})}):t.jsx(ut,{})})})),Bd=I({name:"setSubdivisionPath",sid:"p0t34c"}),Hd=I({name:"getSubdivisions",sid:"-91hxwe"}),pn=W(async()=>{let e=0;for(;e<3;){const{data:i}=await Px(),n=!(i!=null&&i.map);if(i&&!n)return i;e++}throw new Error("Не удалось загрузить подразделения")},{name:"getSubdivisionsFx",sid:"-w6ukz7"});v({and:[{clock:Hd,target:pn}],or:{sid:"-ycw2el"}});const q_=pn.pending,Y_=I({name:"clearSubdivisionData",sid:"75s3xc"}),Q_=$(null,{name:"$subdivisionPath",sid:"9ftyw7"}).on(Bd,(e,i)=>i),X_=$(null,{name:"$subdivisions",sid:"w7m6w5"}).on(pn.doneData,(e,i)=>i),K_=$(null,{name:"$error",sid:"-j5ojba"}).on(pn.failData,(e,i)=>i.message).on(pn,()=>null),Js={setSubdivisionPath:Bd,getSubdivisions:Hd,clearSubdivisionData:Y_},rt={subdivisionPath:Q_,subdivisions:X_,error:K_,pedningGetSubdividions:q_},Zs=()=>{const{search:e}=Mt();return de.useMemo(()=>new URLSearchParams(e),[e])},Ud=({item:e,parents:i})=>{var d;const n=pt(),o=Zs().get("fio")||"",a=e.subdivs,r=z(rt.subdivisionPath),[l,p]=c.useState(!1);return c.useEffect(()=>{p(!!(r&&r.some(h=>h.name===e.name)))},[r]),t.jsxs(E,{p:`5px 0 5px ${i.length*15}px`,d:"column",children:[t.jsx(J_,{$chosen:!!(r&&((d=r[0])==null?void 0:d.name)===e.name),onClick:()=>{Js.setSubdivisionPath([e,...i]),n.push({search:new URLSearchParams({subdivision:e.name,fio:o}).toString()})},children:t.jsxs(E,{ai:"center",jc:"space-between",w:"100%",gap:"5px",children:[e.name,a.length>0&&t.jsx(j,{icon:l?t.jsx(wl,{size:20}):t.jsx(xt,{size:20}),width:"20px",height:"20px",background:"transparent",onClick:h=>{h.stopPropagation(),p(f=>!f)}})]})}),l&&a.map(h=>t.jsx(Ud,{item:h,parents:[e,...i]},h.name))]})},J_=u.div.withConfig({componentId:"sc-x1t4q-0"})(["background-color:",";padding:10px 25px 8px 25px;border-radius:10px;width:100%;cursor:pointer;color:var(--text);font-weight:600;line-height:24px;&:hover{background-color:var(--theme-1);}"],({$chosen:e})=>e?"var(--theme-1t)":"transparent"),Z_=u.div.withConfig({componentId:"sc-1jvvhj5-0"})(["display:flex;flex-direction:column-reverse;color:#fff;min-height:110px;width:100%;padding-left:",";","{padding-left:",";}@media (max-width:800px){padding-bottom:0;}"],({isEmployee:e})=>e?"125px":"20px",V.isNotMobile,({isEmployee:e})=>e?"180px":"0"),eC=u.div.withConfig({componentId:"sc-1jvvhj5-1"})(["width:700px;padding-bottom:20px;@media (max-width:800px){width:100%;}"]),tC=u.div.withConfig({componentId:"sc-1jvvhj5-2"})(["display:flex;flex-direction:column;gap:18px;min-width:100%;padding:60px 20px 10px 20px;","{padding:35px 20px 10px ",";}"],V.isNotMobile,({isEmployee:e})=>e?"180px":"0"),iC=u.h3.withConfig({componentId:"sc-1jvvhj5-3"})(["font-size:1.17rem;line-height:28px;"]),nC=u.h4.withConfig({componentId:"sc-1jvvhj5-4"})(["opacity:0.7;font-weight:400;font-size:1.17rem;line-height:28px;"]),sC=u.div.withConfig({componentId:"sc-1jvvhj5-5"})(["display:flex;align-items:center;justify-content:center;width:100%;gap:8px;a{width:100%;}button{width:100%;}"]),oC=u.div.withConfig({componentId:"sc-1jvvhj5-6"})(["position:absolute;top:100px;left:25px;z-index:50;","{top:95px;left:10px;}"],V.isMobile),Po=u(E).withConfig({componentId:"sc-1jvvhj5-7"})(["overflow-x:hidden;padding-right:10px;","{overflow-y:scroll;height:calc(100vh - 240px);}","{height:calc(100vh - 300px);}"],V.isNotMobile,V.isTablet),aC=u(te).withConfig({componentId:"sc-1jvvhj5-8"})(["width:100%;"]),rC=()=>{const{subdivisions:e}=z({subdivisions:rt.subdivisions});return e?t.jsx(Po,{d:"column",children:e.map(i=>t.jsx(Ud,{item:i,parents:[]},i.name))}):null},cs=(e,i)=>e==="horizontal"?i==="small"?"15px":i==="middle"?"30px":"45px":i==="small"?"30px":i==="middle"?"35px":"45px",Wn=({title:e,items:i,action:n})=>t.jsxs(E,{d:"column",ai:"flex-start",gap:"7px",children:[t.jsx(se,{children:e}),i.length>0?i.map(s=>t.jsxs(lC,{onClick:()=>n("fio"in s?s:null),children:["fio"in s&&t.jsx(yt,{name:s.fio,avatar:s.avatar,width:cs("horizontal","middle"),height:cs("horizontal","middle"),marginRight:"7px"}),"fio"in s?s.fio:s.name]},"fio"in s?s.fio+s.post:s.name)):t.jsx(je,{size:"60px",text:"Ничего не было найдено",image:t.jsx(Wo,{})})]}),lC=u.button.withConfig({componentId:"sc-klmhrw-0"})(["display:flex;align-items:center;gap:4px;background-color:transparent;text-align:left;width:100%;padding:10px 25px 8px 25px;border-radius:10px;border:none;margin:0;cursor:pointer;color:var(--text);font-weight:600;line-height:24px;&:hover{background-color:var(--theme-1);}"]),Dn=(e,i)=>e.split("/").reduce((o,a)=>{if(a[0]===":"){const r=i[a.slice(1,a.length)];r&&o.push(r)}else o.push(a);return o},[]).join("/"),cC=e=>ee.get(`?getMsgDialogues&token=${ie()}`,{signal:e}),Wd=Zg({setup:Kl}),eo=I({name:"load",sid:"-ly9cxn"}),pi=re({sid:"i6586v",fn:()=>ws({handler:async()=>{const e=new AbortController;re({sid:"-42pz7s",fn:()=>Dl(()=>{e.abort()}),name:"none",method:"onAbort"});let i=0;for(;i<3;){const{data:n}=await cC(e.signal),s=!(n!=null&&n.map);if(n&&!s)return n;i++}throw new Error("Не удалось загрузить чаты")},name:"chatsQuery",enabled:Wd.$visible}),name:"chatsQuery",method:"createQuery"}),Gd=$(!1,{name:"$isFirstFetched",sid:"-7rupgk"}).on(pi.$succeeded,(e,i)=>e||i);v({and:[{clock:K.userGuid,target:Gd.reinit}],or:{sid:"-32zcqr"}});re({sid:"-30s6db",fn:()=>El(pi,{strategy:"TAKE_LATEST"}),name:"none",method:"concurrency"});re({sid:"-2nl44n",fn:()=>Pl(pi,{adapter:re({sid:"eyomm7",fn:()=>Al({maxEntries:10,maxAge:"60sec"}),name:"adapter",method:"sessionStorageCache"}),purge:ce.logout}),name:"none",method:"cache"});const{tick:dC}=re({sid:"f3aejn",fn:()=>Nl({timeout:6e4,start:eo,stop:ce.logout}),name:"none",method:"interval"});v({and:[{clock:dC,target:pi.start}],or:{sid:"-24cbd0"}});v({and:[{clock:K.user,filter:e=>!!e.currentUser,target:eo}],or:{sid:"-2254zk"}});v({and:[{clock:eo,target:pi.refresh}],or:{sid:"-1nuhk6"}});v({and:[{clock:K.userGuid,target:pi.reset}],or:{sid:"-1lnb6q"}});const Ut={chats:pi},pC={load:eo},Vd={isFirstFetched:Gd},qd=I({name:"set",sid:"y06321"}),Yd=I({name:"reset",sid:"-1zojul"}),Qd=$(null,{name:"$selectedChatId",sid:"-4cghdm"}).on(qd,(e,i)=>i).reset(Yd),uC=Oe({and:[Qd,Ut.chats.$data],or:{name:"$selectedChat",sid:"-x4jp04"}}).map(([e,i])=>(i==null?void 0:i.find(n=>n.id===e))??null),De={selectedChat:uC,selectedChatId:Qd},Ao={set:qd,reset:Yd},hC=({editor:e,disabled:i})=>{const{isMobile:n}=Xe();return n?null:t.jsxs(gC,{children:[t.jsx(Ui,{isActive:!i,background:e.isActive("bold")?y.blue.main:void 0,textColor:e.isActive("bold")?y.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleBold().run(),icon:t.jsx(ef,{})}),t.jsx(Ui,{isActive:!i,background:e.isActive("italic")?y.blue.main:void 0,textColor:e.isActive("italic")?y.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleItalic().run(),icon:t.jsx(tf,{})}),t.jsx(Ui,{isActive:!i,background:e.isActive("strike")?y.blue.main:void 0,textColor:e.isActive("strike")?y.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleStrike().run(),icon:t.jsx(nf,{})}),t.jsx(Ui,{background:e.isActive("orderedList")?y.blue.main:void 0,isActive:!i,textColor:e.isActive("orderedList")?y.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleOrderedList().run(),icon:t.jsx(sf,{})}),t.jsx(Ui,{background:e.isActive("bulletList")?y.blue.main:void 0,isActive:!i,textColor:e.isActive("bulletList")?y.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleBulletList().run(),icon:t.jsx(of,{})})]})},gC=u.div.withConfig({componentId:"sc-1tp8gvr-0"})(["display:flex;flex-direction:row;gap:5px;"]),Ui=u(j).withConfig({componentId:"sc-1tp8gvr-1"})(["svg{width:12px !important;height:12px !important;}"]),Xd=({value:e,placeholder:i,setValue:n,disabled:s})=>{const o=c.useRef(!1),a=rf({extensions:[lf,cf,df,pf,uf.configure({placeholder:i})],content:e,onUpdate({editor:r}){n(li(r.getHTML()))}});return c.useEffect(()=>{!e&&a&&a.commands.clearContent(),e&&!o.current&&(a==null||a.commands.setContent(e),o.current=!0)},[e]),a?t.jsxs(fC,{children:[t.jsx(hC,{disabled:s,editor:a}),t.jsx(mC,{editor:a})]}):null},fC=u.div.withConfig({componentId:"sc-ttfbcp-0"})(["display:flex;gap:8px;flex:1;width:0;justify-content:space-between;flex-direction:column;"]),mC=u(af).withConfig({componentId:"sc-ttfbcp-1"})([".ProseMirror:not(:focus) p.is-editor-empty:first-child::before{content:attr(data-placeholder);color:var(--text-color);font-weight:300;}li{margin-left:1em;}.tiptap{color:var(--text);outline:none;background:var(--theme-1);width:100%;padding:10px;max-height:300px;overflow-y:auto;font-size:0.85rem;border-radius:7px;&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}"]),Kd=({setFiles:e,className:i})=>{const n=c.useRef(null),s=a=>{var r;e(Array.from(((r=a==null?void 0:a.target)==null?void 0:r.files)??[]))},o=()=>{var a;(a=n==null?void 0:n.current)==null||a.click()};return t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:n,type:"file",accept:".jpg, .jpeg, .doc, .docx, .xls, .pdf, .png, .rtf, .rar, .zip, .gz, .txt",style:{display:"none"},onChange:s}),t.jsx(j,{icon:t.jsx(hf,{}),width:"37px",height:"37px",isActive:!0,className:i,onClick:o})]})},xC=async(e,i)=>ee.get(`?getMessagesInDialogue=${e}&token=${ie()}`,{signal:i}),Jd=async({...e})=>{var o;const i=new FormData;i.set("text",e.text),(o=e==null?void 0:e.files)!=null&&o.length&&e.files.forEach((a,r)=>i.append(`files[${r}]`,a));let n="";"chatId"in e&&(n=`to_dialogue=${e.chatId}`),"userId"in e&&(n=`to_id=${e.userId}`),"group"in e&&(n=`to_group=${e.group}`);const{data:s}=await ee.post(`?newMessage=1&${n}&token=${ie()}`,i,{headers:{"Content-Type":"multipart/form-data"}});return s},to=re({sid:"-vzr4vf",fn:()=>tt({handler:Jd}),name:"sendFirstMessageMutation",method:"createMutation"}),Da=$(null,{name:"$lastAddedMessageChat",sid:"-rvr5j9"});v({and:[{clock:to.finished.finally,fn:e=>"result"in e&&e.status==="done"?e.result:null,target:Da}],or:{sid:"-58spis"}});v({and:[{source:to.reset,target:Da.reinit}],or:{sid:"-4rr34l"}});re({sid:"-4pjwr5",fn:()=>qo(Ut.chats,{on:to,by:{success:({query:e,mutation:i})=>{var n;if(e&&"result"in e){const{id:s,result:o}=i.result;return o==="ok"?{result:[{id:s,lastmessage:{datetime:kn(Date.now()),html:i.params.text,readed:!0,readed_opponent:!1,files:((n=i.params.files)==null?void 0:n.map(r=>({name:r.name,url:""})))??[],from:"you",text:li(i.params.text,{allowedTags:[]})},subject:"group"in i.params?`Группе ${i.params.group}`:"",opponent:"userId"in i.params?{id:i.params.userId,name:i.params.fio,avatar:i.params.avatar,status:i.params.isEmployee?"сотрудник":"студент",data:i.params.isEmployee?"сотрудник":"студент"}:void 0},...e.result],refetch:!0,error:null}:{result:e.result,refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});const Gn={sendFirstMessage:to},bC={lastAddedMessageChat:Da},wC=e=>{const{close:i}=H(),[n,s]=c.useState(""),[o,a]=c.useState([]),[r,l,p]=z([Gn.sendFirstMessage.$pending,Gn.sendFirstMessage.$succeeded,bC.lastAddedMessageChat]),d=g=>{a(m=>[...g,...m])},h=()=>{Gn.sendFirstMessage.start({text:n,files:o,localId:Date.now().toString(),...e})},f=l?t.jsx(te,{to:gi+`/${p==null?void 0:p.id}`,children:t.jsx(j,{icon:t.jsx(ts,{}),onClick:()=>{Gn.sendFirstMessage.reset(),i()},background:y.green.main,textColor:y.white.main,text:"Перейти в чат",width:"100%"})}):t.jsxs(yC,{children:[t.jsx(be,{}),t.jsxs(vC,{children:[t.jsx(Kd,{isActive:!r,setFiles:d}),t.jsx(Xd,{value:n,setValue:s,placeholder:"Введите сообщение..."}),t.jsx(j,{isActive:!!li(n,{allowedTags:[]}).trim()&&!r,icon:t.jsx(Ol,{}),onClick:h,background:"transparent"})]}),t.jsx(kC,{hideHeader:!0,files:o,setFiles:g=>{a(g)}})]});return"group"in e?t.jsxs(jC,{children:[t.jsxs(L,{children:["Группе: ",e.group]}),f]}):t.jsxs(t.Fragment,{children:[t.jsx(Ga,{type:e.status,name:e.fio,...e}),f]})},vC=u.div.withConfig({componentId:"sc-65bk6o-0"})(["display:flex;align-items:flex-end;gap:8px;"]),yC=u.div.withConfig({componentId:"sc-65bk6o-1"})(["display:flex;flex-direction:column;background:var(--block);padding-right:14px;padding-bottom:12px;flex:1;gap:8px;max-width:100%;"]),jC=u.div.withConfig({componentId:"sc-65bk6o-2"})(["display:flex;flex-direction:column;min-width:30dvw;gap:4px;"]),kC=u(ua).withConfig({componentId:"sc-65bk6o-3"})(["padding:0 48px 0 46px;","{padding:0;}"],V.isMobile),io=e=>{const{open:i,close:n}=H(),[s]=z([Ut.chats.$data]),o=()=>{i(t.jsx(wC,{...e}))},a="userId"in e?s==null?void 0:s.find(r=>{var l;return((l=r.opponent)==null?void 0:l.id)===e.userId&&!r.subject}):"group"in e?s==null?void 0:s.find(r=>{const[l,p]=r.subject.split(" ");if(l==="Группе"&&p===e.group&&r.lastmessage.from==="you")return!0}):null;return!e.group&&!e.userId?null:a?t.jsx(te,{to:gi+`/${a==null?void 0:a.id}`,children:t.jsx(j,{icon:t.jsx(ts,{}),text:"Перейти к чату",onClick:()=>{n()},background:"var(--theme-4)",width:"100%"})}):t.jsx(j,{icon:t.jsx(ts,{}),text:"Написать",onClick:o,width:"100%",background:"var(--theme-4)"})},_C=u.div.withConfig({componentId:"sc-12wijn9-0"})(["width:",";height:",";position:absolute;background:",";z-index:-1;overflow:hidden;top:-16px;left:-16px;svg{position:absolute;left:50%;top:50%;transform:translateX(50%);filter:drop-shadow(0 0 34px #00000054);}& svg:nth-child(1){z-index:-3;transform:",";}& svg:nth-child(2){z-index:-2;transform:",";}& svg:nth-child(3){z-index:-1;transform:",";}&::before{content:'';width:100%;height:100%;background:linear-gradient(0deg,#00000024,transparent);display:block;position:absolute;left:0;bottom:0;}"],({width:e})=>e??"100%",({height:e})=>e??"100px",({color:e})=>e,({baseScaleDelta:e})=>`scale(${1+e*2})`,({baseScaleDelta:e})=>`scale(${1+e})`,({baseScale:e})=>`scale(${e})`),Zd=({fullName:e,width:i,height:n,baseScale:s=1,baseScaleDelta:o=1})=>t.jsx(_C,{width:i,height:n,color:ot(e,"dark1"),color2:ot(e,"light1"),baseScale:s,baseScaleDelta:o,children:t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:ot(e,"main")})}),t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:ot(e,"light1")})}),t.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:ot(e,"light2")})})]})}),CC=({title:e,children:i})=>i?t.jsxs(E,{d:"column",ai:"flex-start",jc:"flex-start",gap:"10px",children:[t.jsx(se,{fontSize:"0.9rem",children:e}),t.jsx(SC,{children:i})]}):null,SC=u.p.withConfig({componentId:"sc-jyb8th-0"})(["padding-left:14px;"]),Oa=e=>[{attributes:[{id:"head",title:"Руководитель",text:e.head.fio},{title:"Корпоративная электронная почта подразделения",text:e.email},{id:"innerPhone",title:"Внутренний телефон",text:e.phone_inner},{id:"mobile",title:"Прямой телефон",text:e.phone_direct},{id:"address",title:"Адрес рабочего места",text:e.address},{title:"Номер кабинета",text:e.room}]}],ep=(e,i)=>{const n=i.toLowerCase();if(e.length===0)return null;let s=null;return e.forEach(o=>{o.name.toLowerCase()===n&&(s=o);const a=ep(o.subdivs,i);a&&(s=a)}),s};function tp(e,i){const n=new Set;return e.filter(s=>{const o=s[i];return n.has(o)?!1:(n.add(o),!0)})}const no=(e,i)=>{const n=i.toLowerCase();if(e.length===0)return[];const s=[];return e.forEach(o=>{var r,l;(l=(r=o.head)==null?void 0:r.fio)!=null&&l.toLowerCase().includes(n)&&s.push(o.head),o.staff.forEach(p=>{p.fio.toLowerCase().includes(n)&&s.push(p)});const a=no(o.subdivs,n);s.push(...a)}),tp(s,"guid_person")},Ji=e=>e.job.map(i=>({subdivision:i.subdivision,post:i.post,attributes:[{id:"jobType",title:"Тип работы",text:i.jobType},{id:"email",title:"Корпоративная электронная почта",text:i.email},{id:"innerPhone",title:"Внутренний телефон",text:i.phone_inner},{id:"mobile",title:"Служебный мобильный телефон",text:i.phone_mobile},{id:"address",title:"Адрес рабочего места",text:i.address},{title:"Номер кабинета",text:i.room}]})),IC=({place:e})=>t.jsx(TC,{children:e==="ул. Большая Семёновская, 38"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/bolshaya_semyonovskaya_ulitsa_38/Z04YcQZhTEQPQFtvfXt5cH5qZQ==/?indoorLevel=1&ll=37.711518%2C55.781292&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Большая Семёновская улица, 38 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?indoorLevel=1&ll=37.711518%2C55.781292&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjczNzkxORJQ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCR0L7Qu9GM0YjQsNGPINCh0LXQvNGR0L3QvtCy0YHQutCw0Y8g0YPQu9C40YbQsCwgMzgiCg2Y2BZCFQsgX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Прянишникова, 2А"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pryanishnikova_2a/Z04YcwNjTkAPQFtvfXRycntjbA==/?ll=37.543757%2C55.833709&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Прянишникова, 2А — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.543757%2C55.833709&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NTQ0MhJE0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_RgNGP0L3QuNGI0L3QuNC60L7QstCwLCAy0JAiCg3QLBZCFbhVX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Автозаводская, 16"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/org/obshchezhitiye_10_moskovskogo_politekhnicheskogo_universiteta/1230540819/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Общежитие № 10 Московского политехнического университета"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/category/dormitory/184106316/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Общежитие в Москве"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.520728%2C55.809720&mode=search&oid=1230540819&ol=biz&z=17.56",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Павла Корчагина, 22"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pavla_korchagina_22/Z04YcAFjSkAGQFtvfXRweHhgbQ==/?ll=37.663350%2C55.819439&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Павла Корчагина, 22 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.663350%2C55.819439&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzgxOBJI0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_QsNCy0LvQsCDQmtC-0YDRh9Cw0LPQuNC90LAsIDIyIgoNRacWQhUbR19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Михалковская, 7"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/mikhalkovskaya_ulitsa_7/Z04YcwRjTUcAQFtvfXRydnhmbQ==/?ll=37.533427%2C55.837460&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Михалковская улица, 7 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.533427%2C55.837460&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NzM2NBJC0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LjRhdCw0LvQutC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCA3IgoNOyIWQhWPWV9C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Садовая-Спасская, 6"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/sadovaya_spasskaya_ulitsa_6s1/Z04YcARpT0UPQFtvfXt2cH1lYQ==/?ll=37.639608%2C55.771165&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Садовая-Спасская улица, 6с1 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.639608%2C55.771165&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjczMDczMxJM0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCh0LDQtNC-0LLQsNGPLdCh0L_QsNGB0YHQutCw0Y8g0YPQu9C40YbQsCwgNtGBMSIKDfaOFkIVrRVfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Малая Семеновская, 12"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/malaya_semyonovskaya_ulitsa_12/Z04YcQZhSUMHQFtvfXt5dX9lbQ==/?indoorLevel=1&ll=37.711060%2C55.784370&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Малая Семёновская улица, 12 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?indoorLevel=1&ll=37.711060%2C55.784370&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc0MDE3MRJM0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LDQu9Cw0Y8g0KHQtdC80ZHQvdC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCAxMiIKDSDYFkIVMSNfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Лефортовский вал, 26"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_lefortovskiy_val_26/Z04YcA5mSkEBQFtvfXt0dHtrZw==/?ll=37.696346%2C55.755783&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Лефортовский Вал, 26 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.696346%2C55.755783&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjcxNTk1OBJK0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0JvQtdGE0L7RgNGC0L7QstGB0LrQuNC5INCS0LDQuywgMjYiCg0QyRZCFesFX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 1-я Дубровская, 16а"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/1_ya_dubrovskaya_ulitsa_16a/Z04YcABiSEYBQFtvfXtzc3VrbQ==/?ll=37.672136%2C55.722989&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"1-я Дубровская улица, 16А — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.672136%2C55.722989&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjY4OTcwMRJG0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDEt0Y8g0JTRg9Cx0YDQvtCy0YHQutCw0Y8g0YPQu9C40YbQsCwgMTbQkCIKDUSwFkIVV-ReQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 7-я Парковая, 9/26"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/7_ya_parkovaya_ulitsa_9_26/Z04YcQ5jTEwAQFtvfXt4d31jZQ==/?ll=37.793597%2C55.796102&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"7-я Парковая улица, 9/26 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.793597%2C55.796102&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc0OTA1NhJC0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDct0Y8g0J_QsNGA0LrQvtCy0LDRjyDRg9C70LjRhtCwLCA5LzI2IgoNpCwXQhU2L19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 800-летия Москвы, 28 корп. 1"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_800_letiya_moskvy_28k1/Z04YcwFiQUABQFtvfXR2eHllZQ==/?ll=37.562856%2C55.879561&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица 800-летия Москвы, 28к1 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.562856%2C55.879561&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc5NjI4NhJJ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAgODAwLdC70LXRgtC40Y8g0JzQvtGB0LrQstGLLCAyONC6MSIKDV5AFkIVrIRfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Михалковская, 7, корп. 3"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/mikhalkovskaya_ulitsa_7k3/Z04YcwRkTUMHQFtvfXRydn1jYg==/?ll=37.534452%2C55.837175&utm_medium=mapframe&utm_source=maps&z=19.53",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Михалковская улица, 7к3 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.534452%2C55.837175&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NzIxORJF0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LjRhdCw0LvQutC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCA30LozIgoNSSMWQhUzWV9C&z=19.53",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Бориса Галушкина, 9"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_borisa_galushkina_9/Z04YcAJlSEAPQFtvfXRzdXpgYw==/?ll=37.655158%2C55.824637&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Бориса Галушкина, 9 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.655158%2C55.824637&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3MDA4MRJJ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0JHQvtGA0LjRgdCwINCT0LDQu9GD0YjQutC40L3QsCwgOSIKDeGeFkIVbkxfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Павла Корчагина, 20А, корп. 3"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pavla_korchagina_22/Z04YcAFjSkAGQFtvfXRweHhgbQ==/?ll=37.663350%2C55.819439&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Павла Корчагина, 22 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.663350%2C55.819439&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzgxOBJI0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_QsNCy0LvQsCDQmtC-0YDRh9Cw0LPQuNC90LAsIDIyIgoNRacWQhUbR19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Рижский проезд, 15, корп. 1"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/rizhskiy_proyezd_15k1/Z04YcAFkT0AEQFtvfXRweXRgYw==/?ll=37.664718%2C55.818864&utm_medium=mapframe&utm_source=maps&z=18.93",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Рижский проезд, 15к1 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.664718%2C55.818864&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzM0NBI-0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCg0LjQttGB0LrQuNC5INC_0YDQvtC10LfQtCwgMTXQujEiCg2aqBZCFX1GX0I%2C&z=18.93",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Рижский проезд, 15, корп. 2"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/rizhskiy_proyezd_15k2/Z04YcAFkS0wDQFtvfXRweX9kZg==/?ll=37.664464%2C55.818480&utm_medium=mapframe&utm_source=maps&z=18.53",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Рижский проезд, 15к2 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.664464%2C55.818480&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgoxNDkxOTU3MDUwEj7QoNC-0YHRgdC40Y8sINCc0L7RgdC60LLQsCwg0KDQuNC20YHQutC40Lkg0L_RgNC-0LXQt9C0LCAxNdC6MiIKDT2oFkIVA0ZfQg%2C%2C&z=18.53",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="1-й Балтийский переулок, 6/21, корп. 3"&&t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/1_y_baltiyskiy_pereulok_6_21k3/Z04YcwVgSkYHQFtvfXRxeHphYg==/?ll=37.520330%2C55.809626&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"1-й Балтийский переулок, 6/21к3 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.520330%2C55.809626&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2MTUxMBJP0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDEt0Lkg0JHQsNC70YLQuNC50YHQutC40Lkg0L_QtdGA0LXRg9C70L7QuiwgNi8yMdC6MyIKDdIUFkIVDz1fQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]})}),TC=u.div.withConfig({componentId:"sc-2pay0g-0"})(["","{width:500px;}height:200px;margin:10px 0 10px 0;overflow:hidden;display:flex;align-items:center;border-radius:8px;background:var(--theme-2);"],V.isNotMobile),Dt=({title:e,info:i,isEmployee:n,avatar:s,id:o})=>{const{open:a,close:r}=H(),{isMobile:l}=Xe(),p=z(rt.subdivisions);return t.jsxs(E,{d:"column",children:[t.jsxs(Z_,{isEmployee:!!n,children:[t.jsx(Zd,{fullName:e,height:"200px",width:"100%",baseScale:1,baseScaleDelta:.5}),n&&t.jsx(oC,{children:t.jsx(yt,{avatarModal:!0,border:!0,name:e,avatar:s,width:l?"110px":"150px",height:l?"110px":"150px",marginRight:"0"})}),t.jsx(iC,{children:e})]}),t.jsx(eC,{children:t.jsx(Ne,{minWidth:"100%",direction:"horizontal",showPages:!0,gap:20,children:i.map(({subdivision:d,post:h,attributes:f})=>{const g=d&&h,m=f.find(b=>b.id==="jobType");return t.jsxs(tC,{isEmployee:!!n,children:[g&&t.jsx(EC,{onClick:()=>{if(r(),!p)return;const b=ep(p,d);b&&a(t.jsx(Dt,{title:d,info:Oa(b)}))},children:d+" • "+h}),f.map(({title:b,text:x,id:w})=>t.jsx(CC,{title:b,children:x?w==="email"?t.jsx("a",{href:`mailto:${x}`,children:x}):w==="head"?t.jsx(Nr,{onClick:()=>{if(r(),!p)return;const _=no(p,x)[0];_&&a(t.jsx(Dt,{title:_.fio,info:Ji(_),avatar:_.avatar,isEmployee:!0}))},children:x}):w==="innerPhone"?x.split("; ").map((_,S,k)=>t.jsx("a",{href:`tel:+7(495) 223-05-23,${_}`,children:S===k.length-1?_:`${_}; `},_)):w==="mobile"?t.jsx("a",{href:`tel:${x}`,children:x}):w==="address"?t.jsx(Nr,{onClick:()=>{r(),a(t.jsx(IC,{place:x}),x)},children:x}):t.jsx(t.Fragment,{children:x}):"-"},b))]},g?e+g+(m==null?void 0:m.text):e)})},e)}),n?t.jsxs(sC,{children:[t.jsx(te,{to:Dn($i,{page:"current",filter:e}),children:t.jsx(j,{icon:t.jsx(Bt,{}),text:"Расписание",onClick:()=>{r()},background:"var(--theme-4)",width:"100%"})}),t.jsx(io,{avatar:s,fio:e,status:"staff",userId:o==null?void 0:o.toString()})]}):l?t.jsx(aC,{to:`${Rn}/${e}`,onClick:r,children:t.jsx(j,{icon:t.jsx(Yo,{}),width:"100%",text:"Список"})}):null]})},EC=u(nC).withConfig({componentId:"sc-1vnybhk-0"})(["cursor:pointer;"]),Nr=u.div.withConfig({componentId:"sc-1vnybhk-1"})(["cursor:pointer;"]),PC=()=>{var p;const e=Zs(),i=e.get("fio")||"",n=e.get("subdivision")||"",{subdivisionPath:s,subdivisions:o}=z({subdivisionPath:rt.subdivisionPath,subdivisions:rt.subdivisions}),a=s==null?void 0:s[0],{open:r}=H(),l=c.useMemo(()=>i&&o?no(a?[a]:o,i):[],[i,n,o]);return i&&o?t.jsx(Po,{d:"column",ai:"flex-start",jc:"flex-start",gap:"20px",children:t.jsx(Wn,{title:"Сотрудники",items:l,action:d=>{r(t.jsx(Dt,{title:d.fio,info:Ji(d),avatar:d.avatar,isEmployee:!0}))}})}):a?t.jsxs(Po,{d:"column",ai:"flex-start",jc:"flex-start",gap:"20px",children:[t.jsx(Wn,{title:"Информация",items:[a],action:()=>{r(t.jsx(Dt,{title:a.name,info:Oa(a)}))}}),((p=a==null?void 0:a.head)==null?void 0:p.fio)&&t.jsx(Wn,{title:"Руководитель",items:[a.head],action:d=>{r(t.jsx(Dt,{title:d.fio,info:Ji(d),avatar:d.avatar,isEmployee:!0}))}}),a.staff.filter(d=>d.fio!==a.head.fio).length>0&&t.jsx(Wn,{title:"Сотрудники",items:a.staff,action:d=>{r(t.jsx(Dt,{title:d.fio,info:Ji(d),avatar:d.avatar,isEmployee:!0}))}})]}):null},Dr=u.div.withConfig({componentId:"sc-swx1ff-0"})(["width:100%;display:grid;grid-template-columns:",";grid-template-rows:",";row-gap:",";column-gap:",";padding:",";"],({columns:e})=>e,({rows:e})=>e,({rowGap:e})=>e,({columnGap:e})=>e,({padding:e})=>e),La=({value:e,placeholder:i,loading:n,hintIcon:s,leftIcon:o,focusOn:a,width:r,transformRequest:l,setValue:p,request:d,onValueEmpty:h,customMask:f,onHintClick:g,size:m})=>{const[b,x]=c.useState([]),[w,_]=c.useState(!1);return c.useEffect(()=>{e.length>0?(_(!0),d(e).then(S=>{x(S.data.items.map(k=>{const P=l?l(k):k;return{id:P,title:P,value:P,icon:s}})),_(!1)}).catch(()=>{_(!1),x([])})):(_(!1),x([]),h==null||h())},[e]),t.jsx(Li,{value:e,setValue:p,placeholder:i,hints:b,width:r??"180px",focusOn:a,leftIcon:o,loading:w&&n,onHintClick:g,customMask:f,size:m})},Ra=(e,i)=>{if(i==="")return null;const n=[],s=e.find(o=>o.name===i);if(s)n.push(s);else{for(const o of e){const a=Ra(o.subdivs,i);a&&a.length>0&&n.push(...a,o)}return n}return n},Or=(e,i)=>{const n=Ra(e,i)||null;Js.setSubdivisionPath(n)},AC=()=>{const e=Zs(),i=e.get("subdivision")||"",n=e.get("fio")||"",s=pt(),[o,a,r]=z([rt.subdivisions,rt.error,rt.pedningGetSubdividions]);c.useEffect(()=>{i&&(o!=null&&o.find)&&l({id:i,value:i,title:i})},[o]);const l=x=>{o&&Or(o,(x==null?void 0:x.value)??"")},{isMobile:p}=Xe(),[d,h]=c.useState(""),f=x=>{s.push({search:new URLSearchParams({subdivision:i,fio:x}).toString()})},[g,m,b]=Rs({onDebounce:f,delay:400,defaultValue:n,triggerDelay:200,triggerOn:x=>(h(x),d!==x),onClear:f});return p&&s.push(`${Rn}/${i}`),t.jsx(B_,{children:t.jsx(Et,{children:t.jsxs(E,{d:"column",gap:"15px",children:[t.jsxs(Dr,{columns:p?"1fr":"4fr 7fr",rows:"1fr",columnGap:"20px",children:[t.jsx(La,{width:"100%",value:i,setValue:x=>{s.push({search:new URLSearchParams({subdivision:x,fio:n}).toString()}),x===""&&o&&Or(o,x)},onHintClick:l,placeholder:"Структура",request:Es}),!p&&t.jsx(Li,{value:g,setValue:m,loading:b,placeholder:"Сотрудник"})]}),t.jsx(V_,{data:o,error:a,load:()=>{Js.getSubdivisions()},loading:r,couldBeReloaded:!0,children:t.jsxs(Dr,{columns:p?"1fr":"4fr 7fr",rows:"1fr",columnGap:"20px",children:[t.jsx(rC,{}),!p&&t.jsx(PC,{})]})})]})})})},A="/applications",he="/hr-applications",Lr="/staff_orders",Rr="/staff_blanks",NC="/ad_logins",za="/doclist",zr="/pps_vote2020",DC="/children",ip="/pps_contest",OC="/electronic-statements",ze="/onboarding",LC="/structure-of-the-university",RC="/addresses-and-contacts",zC="/brandbook",FC="/wifi-at-the-university",MC="/health-care",$C="/psychological-help",BC="/social-environment",HC="/vacation",Wi="/kpi_pps",Gi="/kpi_admin",Fr="/sc_news",Mr="/oop",$r="/centers",UC="/helpful-information",WC="/download-agreements",Br="/physical-education/main",np="/all-staff",GC="/open-publication",VC="/export-control",qC="/physical-education/student/:studentId",sp=A+"/contact-info-actualization",YC=A+"/contact-info-actualization-test",op=A+"/data-verification",ap=A+"/issuance-of-licenses",rp=A+"/getting-computer-equipment",lp=A+"/connecting-computer",cp=A+"/printer-maintenance",dp=A+"/question-sed",pp=A+"/question-personal-account",up=A+"/other-it-services",hp=A+"/certificate-from-the-place-of-work",gp=A+"/visa-certificate",fp=A+"/certificate-of-work-experience",mp=A+"/number-of-unused-vacation-days",xp=A+"/increase-antiplagiat-limits",Hr=A+"/contact-details",QC=A+"/contact-details/:guid",bp=A+"/edit-phonebook-subdivision",wp=A+"/edit-phonebook-inner-phone",vp=A+"/edit-phonebook-email",yp=A+"/copy-of-the-employment-record",jp=A+"/copies-of-documents-from-the-personal-file",kp=A+"/work-on-the-terms-of-external-concurrency",_p=A+"/certificate-time-parental-leave",Cp=A+"/arbitrary-request",Sp=A+"/courier",Ip=A+"/persona-income-tax-reference",Tp=A+"/payment-of-child-birth-allowance",Ep=A+"/payment-for-child-care",Pp=he+"/part-time-employment/",XC=he+"/dismissal/:id",KC=he+"/work-transfer/:id",JC=he+"/extra-holiday-coll",ZC=he+"/holiday-planning",eS=he+"/holiday-transfer/:id",tS=he+"/holiday-work/:id",iS=he+"/work-transfer-change-rate/:id",nS=he+"/medical-examination",No=he+"/buffer-dismissal",Do=he+"/buffer-holiday-planning",Oo=he+"/buffer-holiday-transfer",Lo=he+"/buffer-holiday-work",Ro=he+"/buffer-medical-examination",Kn=he+"/buffer-work-transfer",Ap=A+"/living-in-residential-premises",Np=A+"/guests-accomodation-on-campus",Dp=A+"/guests-passage-to-campus",Op=A+"/relocation",Lp=A+"/termination-of-agreement",Rp=A+"/issuance-of-pass",zp=A+"/guest-pass",Fp=A+"/certification-and-issuance-of-docs",Mp=A+"/deferment-from-conscription",$p=A+"/certified-copies-of-military-docs",J=()=>Ue({oldVersionUrl:"/sprav"}),Ur=()=>({onboarding:{id:"onboarding",title:"Новому работнику",icon:t.jsx(ne,{}),path:ze,Component:M_,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big"},...fg,"contact-details":{id:"contact-details",title:"Контактные данные",icon:t.jsx(O,{}),color:"blue",path:Hr,Component:N?()=>Ue({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}):Wy,isTemplate:!1,group:"GENERAL",show:!N},"contact-details-form":{id:"contact-details-form",title:"Контактные данные",hiddenTitle:!0,icon:t.jsx(O,{}),color:"blue",path:QC,Component:N?()=>Ue({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}):Gy,isTemplate:!1,group:"GENERAL",isSubPage:!0,show:!1,backButtonText:"Назад",fallbackPrevPage:Hr},"download-agreements":{id:"download-agreements",title:"Админ панель",icon:t.jsx(kl,{}),path:WC,Component:y_,color:"blue",isTemplate:!1,group:"GENERAL",isAdmin:!0},children:{id:"children",title:"Дети и внуки",icon:t.jsx(vf,{}),path:DC,Component:()=>(de.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=children")},[]),null),color:"green",isTemplate:!1,group:"GENERAL",pageSize:"big",isOldLkPage:!0,keywords:["Ltnb b dyerb"],show:!N},"electronic-statements":{id:"electronic-statements",title:"Электронные ведомости",icon:t.jsx(ne,{}),path:OC,Component:()=>(de.useEffect(()=>{window.location.replace(`${M}/stats.php?m=items&act=st_list`)},[]),null),isOldLkPage:!0,color:"blue",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"project-activity":{id:"project-activity",title:"Проектная деятельность",icon:t.jsx(Ll,{}),path:dg,Component:()=>(de.useEffect(()=>{window.location.replace(`${M}/?p=proj_main`)},[]),null),isOldLkPage:!0,color:"orange",isTemplate:!1,group:"LEARNING_ACTIVITIES"},payments:{id:"payments",title:"Оплата общежития",icon:t.jsx(zt,{}),path:xs,Component:wd,color:"green",isTemplate:!1,group:"FINANCES_DOCS",keywords:["оплата"]},"pps-contest":{id:"pps-contest",title:"Конкурс ППС",icon:t.jsx(ne,{}),path:ip,Component:()=>(de.useEffect(()=>{window.location.replace("https://mospolytech.ru/contest-pps/")},[]),null),isExternalPage:!0,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},"kpi-pps":{id:"kpi-pps",title:"Рейтинговая система ППС",icon:t.jsx(Rl,{}),path:Wi,Component:()=>(de.useEffect(()=>{window.location.replace(`${M}/?p=${Wi==null?void 0:Wi.slice(1,Wi.length)}`)},[]),null),isOldLkPage:!0,color:"pink",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"kpi-admin":{id:"kpi-admin",title:"Экспертиза рейтинговой системы ППС",icon:t.jsx(yf,{}),path:Gi,Component:()=>(de.useEffect(()=>{window.location.replace(`${M}/?p=${Gi==null?void 0:Gi.slice(1,Gi.length)}`)},[]),null),isOldLkPage:!0,color:"lightBlue",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"sc-news":{id:"sc-news",title:"Анонсы научных мероприятий",icon:t.jsx(jf,{}),path:Fr,isOldLkPage:!0,Component:()=>Ue({oldVersionUrl:Fr}),color:"orange",isTemplate:!1,group:"SCIENCE",show:!1},orders:{id:"orders",title:"Приказы",icon:t.jsx(O,{}),path:Lr,isOldLkPage:!0,Component:()=>Ue({oldVersionUrl:Lr}),color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!1},"document-blanks":{id:"document-blanks",title:"Бланки документов",icon:t.jsx(ki,{}),path:Rr,isOldLkPage:!0,Component:()=>Ue({oldVersionUrl:Rr}),color:"blue",isTemplate:!1,show:!1,group:"FINANCES_DOCS"},doclist:{id:"doclist",title:"Ознакомление с документами",icon:t.jsx(O,{}),path:za,Component:Vy,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},calendar:{id:"calendar",title:"График отпусков",icon:t.jsx(Tl,{}),path:HC,Component:Tj,color:"purple",isTemplate:!1,group:"FINANCES_DOCS"},"physical-education":{id:"physical-education",title:"Физическая культура",icon:t.jsx(O,{}),color:"lightGreen",path:Br,pageSize:"big",Component:ej,getIsVisibleForCurrentUser:e=>{var i;return!!((i=e==null?void 0:e.permissions)!=null&&i.length)},isTemplate:!1,group:"LEARNING_ACTIVITIES"},"physical-education-student":{id:"physical-education-student",title:"Физическая культура",icon:t.jsx(O,{}),color:"pink",show:!1,path:qC,Component:tj,isTemplate:!1,fallbackPrevPage:Br,backButtonText:"Физическая культура",isSubPage:!0,group:"LEARNING_ACTIVITIES"},oop:{id:"oop",title:"Образовательные программы",icon:t.jsx(sn,{}),path:Mr,isOldLkPage:!0,Component:()=>Ue({oldVersionUrl:Mr}),color:"blue",isTemplate:!1,group:"GENERAL",show:!1},centers:{id:"centers",title:"Многофункциональный центр",icon:t.jsx(sn,{}),path:$r,isOldLkPage:!0,Component:()=>Ue({oldVersionUrl:$r}),color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!1},info:{id:"info",title:"Полезная информация",icon:t.jsx(O,{}),path:UC,Component:Ta,color:"blue",isTemplate:!1,group:"GENERAL"},applications:{id:"applications",title:"Цифровые сервисы",icon:t.jsx(O,{}),path:A,Component:qy,color:"red",isTemplate:!1,pageSize:"big",group:"FINANCES_DOCS",keywords:["заявления","справки","заявление","справка"]},"hr-applications":{id:"hr-applications",title:"Кадровые заявления",icon:t.jsx(O,{}),path:he,Component:N?()=>Ue({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}):Ej,color:"green",isTemplate:!1,group:"FINANCES_DOCS"},"data-verification":{id:"data-verification",title:"Анкета для сверки данных",icon:t.jsx(O,{}),color:"blue",path:op,Component:vd,isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Назад к цифровым сервисам"},"all-staff":{id:"all-staff",title:"Сотрудники",icon:t.jsx(is,{}),path:np,Component:AC,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"],pageSize:"big"},"open-publication":{id:"open-publication",title:"Открытое публикование",icon:t.jsx(kf,{}),path:GC,isExternalPage:!0,Component:()=>(de.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=exp_concl")},[]),null),color:"purple",isTemplate:!1,group:"SCIENCE"},"export-control":{id:"export-control",title:"Экспортный контроль",icon:t.jsx(_f,{}),path:VC,isExternalPage:!0,Component:()=>(de.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=export_control")},[]),null),color:"orange",isTemplate:!1,group:"SCIENCE"}}),Fa=()=>({...mg,"all-teachers":{id:"all-teachers",title:"Сотрудники",icon:t.jsx(is,{}),path:Rn,Component:Ma,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"],show:!1},"pps-vote":{id:"pps-vote",title:"Опрос для проверки уровня цифровой грамотности",icon:t.jsx(is,{}),path:zr,isOldLkPage:!0,Component:()=>Ue({oldVersionUrl:zr}),color:"blue",isTemplate:!1,group:"GENERAL",show:!1},"issuance-of-licenses-page":{id:"issuance-of-licenses-page",title:"Выдача лицензий",path:ap,icon:t.jsx(O,{}),color:"blue",Component:N?J:nj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"buffer-dismissal":{id:"buffer-dismissal",title:"Заявление на увольнение",path:No,icon:t.jsx(O,{}),color:"blue",Component:N?J:ok,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:he,pageSize:"large"},"buffer-holiday-work":{id:"buffer-holiday-work",title:"Заявление о привлечении к работе в выходной день",path:Lo,icon:t.jsx(O,{}),color:"blue",Component:N?J:vk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:he,pageSize:"large"},"buffer-medical-examination":{id:"buffer-medical-examination",title:"Заявление о диспансеризации",path:Ro,icon:t.jsx(O,{}),color:"blue",Component:N?J:Zk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",fallbackPrevPage:he,pageSize:"large"},"buffer-holiday-planning":{id:"buffer-holiday-planning",title:"Заявление о предоставлении отпуска",path:Do,icon:t.jsx(O,{}),color:"blue",Component:N?J:Tk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",fallbackPrevPage:he,pageSize:"large",subPageHeaderTitle:"Заявление на отпуск"},"buffer-holiday-transfer":{id:"buffer-holiday-transfer",title:"Заявление о переносе отпуска",path:Oo,icon:t.jsx(O,{}),color:"blue",Component:N?J:$k,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:he,pageSize:"large"},"buffer-work-transfer":{id:"buffer-work-transfer",title:"Заявление на перевод",path:Kn,icon:t.jsx(O,{}),color:"blue",Component:N?J:u_,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:he,pageSize:"large"},"part-time-employment":{id:"part-time-employment",title:"Заявление на трудоустройство по совместительству",path:Pp,icon:t.jsx(O,{}),color:"blue",Component:N?J:Pj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:he},"holiday-work":{id:"holiday-work",title:"Заявление о привлечении к работе в выходной день",path:tS,icon:t.jsx(O,{}),color:"blue",Component:N?J:Dj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:Lo},"medical-examination":{id:"medical-examination",title:"Заявление о диспансеризации",path:nS,icon:t.jsx(O,{}),color:"blue",Component:N?J:Oj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:Ro},"holiday-planning":{id:"holiday-planning",title:"Заявление о предоставлении отпуска",path:ZC,icon:t.jsx(O,{}),color:"blue",Component:N?J:Lj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Do},"holiday-transfer":{id:"holiday-transfer",title:"Заявление о переносе отпуска",path:eS,icon:t.jsx(O,{}),color:"blue",Component:N?J:Rj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Oo},"work-transfer":{id:"work-transfer",title:"Заявление на перевод",path:KC,icon:t.jsx(O,{}),color:"blue",Component:N?J:zj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Kn},"work-transfer-change-rate":{id:"work-transfer-change-rate",title:"Заявление на изменение ставки",path:iS,icon:t.jsx(O,{}),color:"blue",Component:N?J:Fj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Kn},"extra-holiday-coll":{id:"dismissal",title:"Заявление о предоставлении дополнительного отпуска по коллективному договору",path:JC,icon:t.jsx(O,{}),color:"blue",Component:N?J:Nj,isTemplate:!1,group:"FINANCES_DOCS"},dismissal:{id:"dismissal",title:"Заявление на увольнение",path:XC,icon:t.jsx(O,{}),color:"blue",Component:N?J:Aj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:No},"getting-computer-equipment":{id:"getting-computer-equipment",title:"Получение нового компьютерного оборудования",icon:t.jsx(O,{}),color:"blue",path:rp,Component:ij,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"connecting-computer":{id:"connecting-computer",title:"Подключение компьютера, МФУ, телефона, WiFi",icon:t.jsx(O,{}),color:"blue",path:lp,Component:Ky,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"printer-maintenance":{id:"printer-maintenance",title:"Обслуживание принтеров, МФУ",icon:t.jsx(O,{}),color:"blue",path:cp,Component:hj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"question-sed":{id:"question-sed",title:"Вопрос по СЭД Directum и 1С",icon:t.jsx(O,{}),color:"blue",path:dp,Component:fj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"question-personal-account":{id:"question-personal-account",title:"Вопрос по Личному кабинету",icon:t.jsx(O,{}),color:"blue",path:pp,Component:gj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"other-it-services":{id:"other-it-services",title:"Прочее ИТ-обслуживание",icon:t.jsx(O,{}),color:"blue",path:up,Component:cj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"certificate-form-place-of-work":{id:"certificate-form-place-of-work",title:"Справка с места работы",icon:t.jsx(O,{}),color:"blue",path:hp,Component:By,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"visa-certificate":{id:"visa-certificate",title:"Справка с места работы для предоставления в визовый центр",icon:t.jsx(O,{}),color:"blue",path:gp,Component:mj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"certificate-of-work-experience":{id:"certificate-of-work-experience",title:"Справка о стаже работы",icon:t.jsx(O,{}),color:"blue",path:fp,Component:N?J:Qy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"number-of-unused-vacation-days":{id:"number-of-unused-vacation-days",title:"Справка о количестве неиспользованных дней отпуска",icon:t.jsx(O,{}),color:"blue",path:mp,Component:sj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"increase-antiplagiat-limits":{id:"increase-antiplagiat-limits",title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»",hiddenTitle:!0,icon:t.jsx(O,{}),color:"blue",path:xp,Component:N?()=>t.jsx(Ue,{isRedirectButtonVisible:!1,errorText:"Сервис находится в разработке"}):oj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A,show:!N},"edit-phonebook-subdivision":{id:"edit-phonebook-subdivision",title:"Внесение изменений данных подразделения в телефонном справочнике",hiddenTitle:!0,icon:t.jsx(O,{}),color:"blue",path:bp,Component:aj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A,keywords:["изменение данных подразделения в телефонном справочнике"]},"edit-phonebook-inner-phone":{id:"edit-phonebook-inner-phone",hiddenTitle:!0,title:"Запрос на изменение внутреннего телефона",icon:t.jsx(O,{}),color:"blue",path:wp,Component:rj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"edit-phonebook-email":{id:"edit-phonebook-email",hiddenTitle:!0,title:"Запрос на изменение корпоративной электронной почты",icon:t.jsx(O,{}),color:"blue",path:vp,Component:lj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"copy-of-employment-record":{id:"copy-of-employment-record",title:"Копия трудовой книжки",icon:t.jsx(O,{}),color:"blue",path:yp,Component:N?J:Jy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"copies-of-documents-from-personal-file":{id:"copies-of-documents-from-personal-file",title:"Копии документов из личного дела",icon:t.jsx(O,{}),color:"blue",path:jp,Component:N?J:Hy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"work-on-terms-of-external-concurrency":{id:"work-on-terms-of-external-concurrency",title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку",icon:t.jsx(O,{}),color:"blue",path:kp,Component:N?J:xj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"certificate-time-parental-leave":{id:"certificate-time-parental-leave",title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет",icon:t.jsx(O,{}),color:"blue",path:_p,Component:N?J:Xy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"arbitrary-request":{id:"arbitrary-request",title:"Произвольный запрос",icon:t.jsx(O,{}),color:"blue",path:Cp,Component:N?J:Yy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},courier:{id:"courier",title:"Курьер",icon:t.jsx(O,{}),color:"blue",path:Sp,Component:N?J:Zy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"personal-income-tax-reference":{id:"personal-income-tax-reference",title:"Справка по форме 2-НДФЛ",icon:t.jsx(O,{}),color:"blue",path:Ip,Component:N?J:uj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"payment-of-child-birth-allowance":{id:"payment-of-child-birth-allowance",title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка",icon:t.jsx(O,{}),color:"blue",path:Tp,Component:N?J:pj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"payment-for-child-care":{id:"payment-for-child-care",title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)",icon:t.jsx(O,{}),color:"blue",path:Ep,Component:N?J:dj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"contact-info-actualization":{id:"contact-info-actualization",title:"Актуализация контактных данных",icon:t.jsx(O,{}),color:"blue",path:sp,Component:Uy,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,show:!1,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"data-verification":{id:"data-verification",title:"Анкета для сверки данных",icon:t.jsx(O,{}),color:"blue",path:op,Component:vd,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"living-in-residential-premises":{id:"living-in-residential-premises",title:"Предоставление права проживания в жилом помещении",icon:t.jsx(O,{}),color:"blue",path:Ap,Component:N?J:bj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"guests-accomodation-on-campus":{id:"guests-accomodation-on-campus",title:"Временное размещение гостей в студгородке",icon:t.jsx(O,{}),color:"blue",path:Np,Component:N?J:wj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"guests-passage-to-campus":{id:"guests-passage-to-campus",title:"Проход гостей на территорию студенческого городка",icon:t.jsx(O,{}),color:"blue",path:Dp,Component:N?J:vj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},relocation:{id:"relocation",title:"Переселение",icon:t.jsx(O,{}),color:"blue",path:Op,Component:N?J:yj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"termination-of-agreement":{id:"termination-of-agreement",title:"Расторжение договора найма жилого помещения",icon:t.jsx(O,{}),color:"blue",path:Lp,Component:N?J:jj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"issuance-of-pass":{id:"issuance-of-pass",title:"Выдача пропуска (повторная)",icon:t.jsx(O,{}),color:"blue",path:Rp,Component:N?J:kj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"guest-pass":{id:"guest-pass",title:"Заказ гостевого пропуска",icon:t.jsx(O,{}),color:"blue",path:zp,Component:N?J:_j,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"certification-and-issuance-of-docs":{id:"certification-and-issuance-of-docs",title:"Заверение и выдача копий внутренних документов",icon:t.jsx(O,{}),color:"blue",path:Fp,Component:N?J:Cj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"deferment-from-conscription":{id:"deferment-from-conscription",title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу",icon:t.jsx(O,{}),color:"blue",path:Mp,Component:N?J:Sj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"certified-copies-of-military-docs":{id:"certified-copies-of-military-docs",title:"Заверенные копии документов по воинскому учету из личного дела",icon:t.jsx(O,{}),color:"blue",path:$p,Component:N?J:Ij,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:A},"social-environment":{id:"Социальная среда",title:"Социальная среда",color:"pink",Component:()=>(window.location.href="https://profkommospolytech.ru/",t.jsx(jt,{to:ze})),icon:t.jsx(ki,{}),isTemplate:!1,path:BC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0},"psychological-help":{id:"Психологическая помощь",title:"Психологическая помощь",color:"green",Component:()=>(window.location.href="https://mospolytech.ru/studencheskaya-zhizn/medical-help/slujba-psihologicheskoy-pomoschi/",t.jsx(jt,{to:ze})),icon:t.jsx(gf,{}),isTemplate:!1,path:$C,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0},"health-care":{id:"Медицинская помощь",title:"Медицинская помощь",color:"red",Component:()=>(window.location.href="https://mospolytech.ru/studencheskaya-zhizn/medical-help/medicinskaya-slujba/",t.jsx(jt,{to:ze})),icon:t.jsx(ff,{}),isTemplate:!1,path:MC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0},"wifi-at-the-university":{id:"WI-FI  в университете",title:"WI-FI  в университете",color:"purple",Component:()=>(window.location.href="https://e.mospolytech.ru/old/storage/files/Instruktsiya_dostupa_k_internetu_v_auditoriyah.pdf",t.jsx(jt,{to:ze})),icon:t.jsx(mf,{}),isTemplate:!1,path:FC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0},brandbook:{id:"Брендбук",title:"Брендбук",color:"orange",Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/brandbook/",t.jsx(jt,{to:ze})),icon:t.jsx(xf,{}),isTemplate:!1,path:zC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0},"addresses-and-contacts":{id:"addresses-and-contacts",title:"Адреса и контакты",icon:t.jsx(bf,{}),path:RC,Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/adresa-i-kontakty/",t.jsx(jt,{to:ze})),color:"darkBlue",isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0},"structure-of-the-university":{id:"structure-of-the-university",title:"Структура университета",icon:t.jsx(wf,{}),path:LC,Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/rukovodstvo-i-struktura/strukturnye-podrazdeleniya/",t.jsx(jt,{to:ze})),color:"lightGreen",isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:ze,isExternalPage:!0}}),sS=50;function Bp(e){const{getFx:i,limit:n=sS,reset:s=[]}=e,o=I({name:"load",sid:"-7ge5z1"}),a=I({name:"next",sid:"-xmsv1g"}),r=$(null,{name:"$lastArgs",sid:"v5urfp"}),l=$(null,{name:"$items",sid:"-dzzfjz"});l.on(i.doneData,(g,m)=>[...g||[],...m.results||[]]),l.reset([o,...s]);const p=$(1,{name:"$page",sid:"g96ty"});p.on(i.doneData,g=>++g),p.reset([o,...s]);const d=i.pending,h=$(!1,{name:"$isLoaded",sid:"vnuvfd"});h.reset([o,...s]);const f=Oe({and:[l,h,(g,m)=>!!(g!=null&&g.length)&&!m],or:{name:"$hasNext",sid:"-ppdacy"}});return v({and:[{clock:o,fn:g=>({...g,limit:g.limit||n,page:g.page??1}),target:[i,r]}],or:{sid:"-16oopw"}}),v({and:[{clock:a,source:{lastArgs:r,page:p},fn:({lastArgs:g={},page:m})=>({...g,limit:n,page:m}),target:i}],or:{sid:"-q6ux2"}}),v({and:[{clock:i.doneData,source:r,fn:(g,m)=>!!g&&(m.results||[]).length<g.limit,target:h}],or:{sid:"-5ugyp"}}),{$items:l,$isPending:d,$hasNext:f,next:a,load:o}}const oS=W(async e=>{const{search:i,page:n,limit:s,filter:o}=e,a=(o==null?void 0:o.title)==="Все"?"":(o==null?void 0:o.title)??"",{data:r}=await rc(i??"",a,n,s);return{results:r.items}},{name:"getFetchTeachersFx",sid:"-m2dii7"}),ds=Bp({getFx:oS,limit:50}),aS=({setExternalValue:e,inputAppearance:i,placeholder:n,validationCheck:s,searchApi:o,triggerSearchOn:a,hints:r})=>{const l=async g=>{await o(g)},[p,d,h]=Rs({onDebounce:l,onClear:l,delay:1e3,triggerDelay:0,deps:a}),f=g=>{d(g),e&&e(g)};return t.jsx(Li,{value:p??"",setValue:f,inputAppearance:i,placeholder:n,validationCheck:s,loading:h,hints:r})},rS=u.div.withConfig({componentId:"sc-pughgk-0"})(["display:flex;flex-direction:column;align-items:center;overflow:auto;width:100%;max-height:100%;height:100%;.scrolable-content{width:100%;}.alpabet-letter{margin-top:10px;display:flex;align-items:center;.title-wrapper{width:fit-content;color:var(--theme-mild-opposite);}}"]),lS=50;function cS({items:e,renderItem:i,hasNext:n,isPending:s,handleNext:o,filter:a,showAlphabetLetters:r,noResultContent:l,offset:p=lS}){const{data:{user:d}}=ke.useUser();let h="";const f=c.useCallback(g=>{const m=g.currentTarget.clientHeight,b=g.currentTarget.scrollHeight,x=g.currentTarget.scrollTop;b-p<x+m&&n&&!s&&(o==null||o(a??null))},[o,n,s,a]);return!s&&(!e||(e==null?void 0:e.length)===0)?t.jsx(je,{text:"Нет результатов",children:l}):t.jsxs(rS,{onScroll:f,children:[t.jsx("div",{className:"scrolable-content",children:(e||[]).map((g,m)=>{var x,w;const b=r?h!==((x=g.fio)==null?void 0:x.charAt(0)):!1;return b&&(h=((w=g.fio)==null?void 0:w.charAt(0))??"-"),t.jsxs(t.Fragment,{children:[b&&t.jsxs("div",{className:"alpabet-letter",children:[t.jsx(L,{size:4,align:"left",children:h}),t.jsx(be,{})]}),i(g,(d==null?void 0:d.id.toString())===g.id,m)]})})}),n&&s&&t.jsx(ut,{width:"40px",height:"40px"}),n&&!s&&t.jsx(j,{onClick:()=>o==null?void 0:o(a??null),text:"Загрузить еще"})]})}const Wr=e=>{switch(e){case"small":return"0.65em";case"middle":return"0.77em";default:return"1em"}},Hp=(e,i,n,s)=>{const o=[e?"Я":i==="staff"?"Сотрудник":"Студент"];return e||(n&&o.push(n),s&&o.push(`${s}`)),o},dS=e=>{switch(e){case"small":return"82px";case"middle":return"90px";default:return"100px"}},pS=u.div.withConfig({componentId:"sc-18jvlhl-0"})(["display:flex;align-items:center;flex-direction:",";padding:",";border-radius:var(--brLight);color:var(--text);cursor:pointer;width:",";.index{min-width:30px;display:flex;align-items:center;font-weight:500;font-size:0.85rem;color:var(--theme-mild-opposite);}&:hover{background:",";}.name-and-status{display:flex;flex-direction:column;text-align:",";margin-top:",";width:",";.name{font-size:",";width:",";white-space:",";overflow:",";text-overflow:",";font-weight:500;}.status{font-size:",";opacity:0.6;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:90%;font-weight:500;}}"],({orientation:e})=>e==="vertical"&&"column",({orientation:e})=>e==="vertical"?"10px":"8px",({orientation:e,size:i})=>e==="vertical"?dS(i):"100%",y.grey.transparent3,({orientation:e})=>e==="vertical"?"center":"left",({orientation:e})=>e==="vertical"?"5px":"0",({orientation:e})=>e==="vertical"?"100%":"calc(100% - 60px)",({size:e})=>Wr(e),({orientation:e})=>e==="vertical"&&"70px",({orientation:e})=>e==="vertical"&&"nowrap",({orientation:e})=>e==="vertical"&&"hidden",({orientation:e})=>e==="vertical"&&"ellipsis",({size:e})=>`calc(${Wr(e)} - 0.1em)`),On=e=>{const{open:i}=H(),{type:n,avatar:s,name:o,checked:a,onClick:r,indexNumber:l,division:p,group:d,isMe:h=!1,loading:f=!1,orientation:g="horizontal",size:m="middle"}=e,b=Hp(h,n,p,d);if(f)return t.jsx(JE,{});const x=w=>{r?r(w):h||($e.close(),i(n==="staff"?t.jsx(Ph,{...e}):t.jsx(Eh,{...e})))};return t.jsxs(pS,{orientation:g,size:m,onClick:x,children:[l&&t.jsx("div",{className:"index",children:l}),t.jsx(yt,{name:o,avatar:s,width:cs(g,m),height:cs(g,m),marginRight:g==="horizontal"?"7px":"0px",checked:a}),t.jsxs("div",{className:"name-and-status",children:[t.jsx("span",{className:"name",children:o}),t.jsx("span",{className:"status",children:t.jsx(at,{words:b})})]})]})},uS=({filter:e,paginationList:i,noResultContent:n})=>{const{$items:s,$isPending:o,$hasNext:a,next:r,load:l}=i,p=ge(o),d=ge(a),h=()=>{r({filter:e})},f=()=>{l({filter:e})};return t.jsx(cS,{items:s.getState(),renderItem:hS,handleNext:h,isPending:p,hasNext:d,filter:e,handleReload:f,showAlphabetLetters:!0,noResultContent:n})};function hS(e,i,n){return t.jsx(On,{id:e.id,name:e.fio,type:e.division?"staff":"stud",avatar:e.avatar,faculty:e.faculty,group:e.group,isMe:i,division:e.division,indexNumber:(n??0)+1},n)}const gS=u.div.withConfig({componentId:"sc-qy1vuw-0"})(["width:100%;height:100%;display:flex;flex-direction:column;.search-and-filter{display:flex;gap:0.5rem;width:100%;margin-bottom:0.5rem;}"]),zo=({title:e,searchPlaceholder:i,paginationList:n,defaultFilter:s,noResultContent:o,filterPlaceholder:a,filterRequest:r,underSearchText:l,customMask:p,search:d=!0})=>{const{load:h}=n,[f,g]=c.useState(s),[m,b]=c.useState({id:f,value:f,title:f}),x=l==null?void 0:l(m),w=async k=>{await h({filter:m,search:k})},_=k=>{b(k??null)},S=()=>{b(null)};return t.jsxs(gS,{children:[e&&t.jsx(L,{size:2,align:"left",bottomGap:!0,children:e}),t.jsxs("div",{className:"search-and-filter",children:[d&&t.jsx(aS,{triggerSearchOn:[(m==null?void 0:m.id)??""],placeholder:i??"Поиск",searchApi:w,validationCheck:!0}),r&&t.jsx(La,{value:f,setValue:g,onHintClick:_,onValueEmpty:S,customMask:p,placeholder:a??"Поиск",request:r})]}),t.jsx(se,{visible:!!x,children:x}),t.jsx(uS,{paginationList:n,noResultContent:o,filter:m})]})},fS=u.div.withConfig({componentId:"sc-gqkyw-0"})(["width:100%;display:flex;justify-content:center;height:calc(100vh - var(--header-height) - 20px);@media (max-width:1000px){height:calc(100vh - 80px);}"]),Ma=()=>{var f;const{data:{user:e}}=ke.useUser(),{$isPending:i,$items:n}=ds,s=ci(),o=pt(),a=ge(i),r=ge(n),l=s.params.filter??((f=e==null?void 0:e.subdivisions)==null?void 0:f[0].subdivision)??"",p=g=>g!=null&&g.title?`Кафедра: ${g==null?void 0:g.title} • Всего: ${(r==null?void 0:r.length)??0}`:null,{isMobile:d}=Xe(),h=(e==null?void 0:e.user_status)==="staff";return!d&&h&&o.push(`${np}?subdivision=${l}`),t.jsx(Qe,{load:function(){},loading:a,error:null,data:r,children:t.jsx(fS,{children:t.jsx(Et,{children:t.jsx(zo,{searchPlaceholder:"Поиск сотрудников",paginationList:ds,filterRequest:Es,defaultFilter:l,filterPlaceholder:"Подразделения",underSearchText:p})})})})},mS=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"})),D="/applications",xS="/application-for-superior-room",bS="/acad-performance",wS="/dormitory",Up=D+"/clarification-of-passport-data",Wp=D+"/arbitrary-request",Gp=D+"/student-employment",Vp=D+"/social-scollarship",qp=D+"/certificate-of-attendance",Yp=D+"/social-agencies",Qp=D+"/paper-call",Xp=D+"/regular-accommodation",Kp=D+"/full-time-part-time-form",Jp=D+"/accommodation-correspondence-form",Zp=D+"/academic-leave-accommodation",eu=D+"/preferential-accommodation",tu=D+"/family-room",iu=D+"/termination-of-employment-contract",nu=D+"/relocation-inside-hostel",su=D+"/relocation-to-another-hostel",ou=D+"/accommodation-for-graduates",Fo=D+"/payment-recipient",au=D+"/restoring-the-magnetic-pass",ru=D+"/retake-for-diploma",lu=D+"/military-registration-documents",cu=D+"/military-registration",du=D+"/financial-support",pu=D+"/financial-assistance",uu=D+"/increased-state-academic-scholarship",hu=D+"/changing-personal-data",gu=D+"/student-status",fu=D+"/state-accreditation",vS=D+"/military-registration-card",mu=D+"/holidays-after-training",xu=D+"/provision-academic-leave",bu=D+"/exit-academic-leave",wu=D+"/independently-deducted",vu=D+"/extension-attestation",yS="/physical-education/student",At=()=>Ue({oldVersionUrl:"/sprav"}),Zi=()=>({applications:{id:"applications",title:"Цифровые сервисы",icon:t.jsx(O,{}),path:D,Component:gy,color:"red",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",keywords:["справки","справка","заявления","заявление"]},...fg,"medical-certificate":{id:"medical-certificate",title:"Предоставление медицинских справок",icon:t.jsx(zl,{}),path:m5,Component:Uj,color:"blue",isTemplate:!1,group:"GENERAL"},payments:{id:"payments",title:"Договоры и оплаты",icon:t.jsx(zt,{}),path:xs,Component:wd,color:"green",isTemplate:!1,group:"FINANCES_DOCS",keywords:["оплата"]},dormitory:{id:"dormitory",title:"Список ожидания на заселение в общежитие",icon:t.jsx(sr,{}),path:wS,Component:ay,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!0},softskills:{id:"softskills",title:"Паспорт компетенций",icon:t.jsx(Cf,{}),path:I5,Component:()=>(de.useEffect(()=>{window.location.replace("https://softskills.rsv.ru/")},[]),null),color:"orange",isTemplate:!0,show:!0,group:"LEARNING_ACTIVITIES",isExternalPage:!0,keywords:["рсв","россия страна возможностей","софтскиллс","навыки"],isNew:!0},"acad-performance":{id:"acad-performance",title:"Успеваемость",icon:t.jsx(Sf,{}),path:bS,Component:oy,color:"green",isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["оценки","экзамены","зачеты"]},"physical-education":{id:"physical-education",title:"Физическая культура",icon:t.jsx(O,{}),color:"lightGreen",path:yS,pageSize:"big",Component:cy,isTemplate:!1,isNew:!0,group:"LEARNING_ACTIVITIES",keywords:["физра","физическая культура"]},"project-activity":{id:"project-activity",title:"Проектная деятельность",icon:t.jsx(Ll,{}),path:dg,Component:fy,color:"orange",isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["пд"]},"helpful-information":{id:"helpful-information",title:"Полезная информация",icon:t.jsx(If,{}),path:hg,Component:Ta,color:"blue",isTemplate:!0,group:"GENERAL"},"application-for-superior-room":{id:"application-for-superior-room",title:"Заявка на комнату повышенной комфортности",icon:t.jsx(sr,{}),path:xS,Component:sy,color:"blue",isTemplate:!1,group:"GENERAL",show:N?!(new Date>new Date(Nc)):!0},"all-teachers":{id:"all-teachers",title:"Сотрудники",icon:t.jsx(is,{}),path:Rn,Component:Ma,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"]}}),$a=e=>{var i,n,s;return{...mg,"clarification-of-passport-data":{id:"clarification-of-passport-data",title:"Уточнение паспортных данных",icon:t.jsx(Yi,{}),path:Up,Component:ry,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"arbitrary-request":{id:"arbitrary-request",title:"Произвольный запрос",icon:t.jsx(Yi,{}),path:Wp,Component:My,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"student-employment":{id:"student-employment",title:"Трудоустройство студентов",icon:t.jsx(Yi,{}),path:Gp,Component:N?At:$y,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"social-scollarship":{id:"social-scollarship",title:"Социальная стипендия",icon:t.jsx(ne,{}),path:Vp,Component:N?At:ly,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"certificate-of-attendance":{id:"certificate-of-attendance",title:"Сертификат об обучении",icon:t.jsx(ne,{}),path:qp,Component:dy,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"social-agencies":{id:"social-agencies",title:"Справка в социальные учреждения",icon:t.jsx(ne,{}),path:Yp,Component:py,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"paper-call":{id:"paper-call",title:"Справка-вызов",icon:t.jsx(ne,{}),path:Qp,Component:uy,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"regular-accommodation":{id:"regular-accommodation",title:"Предоставление права проживания (очная форма)",icon:t.jsx(ne,{}),path:Xp,Component:hy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"full-time-part-time-form":{id:"full-time-part-time-form",title:"Предоставление права проживания (очно-заочная форма)",icon:t.jsx(ne,{}),path:Kp,Component:v1,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"accommodation-correspondence-form":{id:"accommodation-correspondence-form",title:"Предоставление права проживания (заочная форма)",icon:t.jsx(ne,{}),path:Jp,Component:zy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"academic-leave-accommodation":{id:"academic-leave-accommodation",title:"Предоставление права проживания в период академического отпуска",icon:t.jsx(ne,{}),path:Zp,Component:my,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"preferential-accommodation":{id:"preferential-accommodation",title:"Предоставление права проживания льготной категории граждан",icon:t.jsx(ne,{}),path:eu,Component:xy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"family-room":{id:"family-room",title:"Предоставление права проживания в семейной комнате",icon:t.jsx(ne,{}),path:tu,Component:Fy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"termination-of-employment-contract":{id:"termination-of-employment-contract",title:"Расторжение договора найма",icon:t.jsx(ne,{}),path:iu,Component:by,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"relocation-inside-hostel":{id:"relocation-inside-hostel",title:"Переселение внутри общежития",icon:t.jsx(ne,{}),path:nu,Component:wy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"relocation-to-another-hostel":{id:"relocation-to-another-hostel",title:"Переселение в другое общежитие",icon:t.jsx(ne,{}),path:su,Component:yy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"accommodation-for-graduates":{id:"accommodation-for-graduates",title:"Предоставление права проживания в каникулярный период",icon:t.jsx(ne,{}),path:ou,Component:["4","5","6"].includes((e==null?void 0:e.course)??"")||(n=(i=e==null?void 0:e.status)==null?void 0:i.toLocaleLowerCase())!=null&&n.includes("окончил")||((s=e==null?void 0:e.degreeLevel)==null?void 0:s.toLocaleLowerCase())==="магистратура"&&(e==null?void 0:e.course)==="2"?vy:()=>t.jsx(Ue,{isRedirectButtonVisible:!1,errorText:"Сервис доступен только выпускникам университета, проживающих в общежитии"}),color:"blue",isTemplate:!1,isSubPage:!0,hiddenTitle:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D,show:!0},"payment-recipient":{id:"payment-recipient",title:"Отправка квитанции об оплате",icon:t.jsx(ne,{}),path:Fo,Component:jy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"restoring-the-magnetic-pass":{id:"restoring-the-magnetic-pass",title:"Запрос на восстановление магнитного пропуска",icon:t.jsx(ne,{}),path:au,Component:ky,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"military-registration-documents":{id:"military-registration-documents",title:"Отправить документы воинского учета",icon:t.jsx(ne,{}),path:lu,Component:N?At:Sy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"military-registration":{id:"military-registration",title:"Воинский учет",icon:t.jsx(Tf,{}),path:cu,Component:N?At:L1,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"Воинский учет",fallbackPrevPage:D},"retake-for-diploma":{id:"retake-for-diploma",title:"Заявление на пересдачу для получения диплома с отличием",icon:t.jsx(ne,{}),path:ru,Component:Cy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"increased-state-academic-scholarship":{id:"increased-state-academic-scholarship",title:"Получение повышенной государственной академической стипендии",icon:t.jsx(ne,{}),path:uu,Component:N?At:_y,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"financial-support":{id:"financial-support",title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)",icon:t.jsx(ne,{}),path:du,Component:N?At:Iy,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"financial-assistance":{id:"financial-assistance",title:"Финансовая поддержка",icon:t.jsx(ne,{}),path:pu,Component:N?At:Ty,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"changing-personal-data":{id:"changing-personal-data",title:"Запрос на изменение персональных данных",icon:t.jsx(ne,{}),path:hu,Component:Ey,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"student-status":{id:"student-status",title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования",icon:t.jsx(ne,{}),path:gu,Component:Py,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"state-accreditation":{id:"state-accreditation",title:"Выдача лицензий и свидетельств о государственной аккредитации",icon:t.jsx(ne,{}),path:fu,Component:Ay,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D},"holidays-after-training":{id:"holidays-after-training",title:"Предоставление каникул",icon:t.jsx(ne,{}),path:mu,Component:Ny,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"provision-academic-leave":{id:"provision-academic-leave",title:"Предоставление академического отпуска",icon:t.jsx(ne,{}),path:xu,Component:Dy,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"exit-academic-leave":{id:"exit-academic-leave",title:"Выход из академического отпуска",icon:t.jsx(ne,{}),path:bu,Component:M1,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"independently-deducted":{id:"independently-deducted",title:"Отчисление по инициативе обучающегося",icon:t.jsx(ne,{}),path:wu,Component:Oy,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"extension-attestation":{id:"extension-attestation",title:"Продление промежуточной аттестации ",icon:t.jsx(ne,{}),path:vu,Component:Ly,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:D},"military-registration-card":{id:"military-registration-card",title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу",icon:t.jsx(ne,{}),path:vS,Component:N?At:Ry,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:D}}},yu=(e,i)=>e.reduce((n,s)=>(n[s]=i[s],n),{}),jS=["settings","profile","chat","schedule","payments","project-activity","all-students"],kS=["home","schedule","acad-performance","all","profile"],_S=["home","schedule","alerts","all","profile"],CS=["home","doclist","alerts","all","profile"],SS=(e,i,n)=>{if(!e)return[];const s=i.customizeMenu.pages??Zo,o=ea.filter(r=>!s.includes(r));return(e==null?void 0:e.user_status)==="staff"?Array.from(new Set([...o,...Object.values(n??{}).some(r=>r.length)?["download-agreements"]:[],...s])):s},Gr={allRoutes:null,visibleRoutes:null,currentPage:null,isOpen:!1},IS=()=>{const e=z(Su),i=z(Cu);return{...e,homeRoutes:i}},ju=I({name:"changeOpen",sid:"794t4c"}),ku=I({name:"clearStore",sid:"-foe4kv"}),Ba=I({name:"defineMenu",sid:"-sqget2"}),_u=I({name:"changeNotifications",sid:"-c0bx77"}),TS=(e,i,n)=>{const s={...n};if(s[e])s[e].notifications=i;else return null;return s},en=e=>{if(!e)return Ur();const{accepts:i,agreements:n,checkdata:s,studLogins:o}=e,a=!!i.length||!!n.length||!!s.length||!!(o!=null&&o.length),r="download-agreements",l=Object.entries(Ur()).filter(([p])=>p!==r||p===r&&a);return Object.fromEntries(l)},ES=Oe({and:[K.user,ue.userSettings,ht.store,(e,i,n)=>{var s;return!e||!i?null:yu(SS(e.currentUser,i,n.data),((s=e.currentUser)==null?void 0:s.user_status)==="staff"?{...en(n.data),...Fa()}:{...Zi(),...$a(e.currentUser)})}],or:{name:"$leftSidebar",sid:"bpospu"}}),Cu=Oe({and:[K.user,ue.userSettings,ht.store,(e,i,n)=>{var s;return!e||!i?null:yu((i==null?void 0:i.homePage.pages)??jS,((s=e.currentUser)==null?void 0:s.user_status)==="staff"?{...en(n.data),...Fa()}:{...Zi(),...$a(e.currentUser)})}],or:{name:"$homeRoutes",sid:"-juf4k9"}});v({and:[{source:{userStore:K.user,settings:ue.userSettings,adminLinks:ht.store},filter:({settings:e,userStore:i})=>!!e&&!!i.currentUser,fn:({settings:e,adminLinks:i,userStore:n})=>({homeRoutes:e.homePage.pages,user:n.currentUser,adminLinks:i.data}),target:Ba}],or:{sid:"vdxdzs"}});const Su=$(Gr,{name:"$menu",sid:"-b1in3j"}).on(ju,(e,{isOpen:i,currentPage:n})=>{var s;return{...e,currentPage:e.allRoutes&&n?(s=e.allRoutes)==null?void 0:s[n]:e.currentPage,isOpen:i}}).on(ku,()=>({...Gr})).on(Ba,(e,{user:i,adminLinks:n})=>({...e,currentPage:(i==null?void 0:i.user_status)==="staff"?en(n)[window.location.hash.slice(2,window.location.hash.length)]:Zi()[window.location.hash.slice(2,window.location.hash.length)],allRoutes:(i==null?void 0:i.user_status)==="staff"?{...en(n),...Fa()}:{...Zi(),...$a(i)},visibleRoutes:(i==null?void 0:i.user_status)==="staff"?en(n):Zi()})).on(_u,(e,{page:i,notifications:n})=>{var s;return{...e,visibleRoutes:TS(i,typeof n=="number"?n:n(((s=e.visibleRoutes)==null?void 0:s[i].notifications)??0),e.visibleRoutes)}}),dt={useMenu:IS},Wt={changeOpen:ju,clearStore:ku,defineMenu:Ba,changeNotifications:_u},un={leftSidebar:ES,menu:Su,homeRoutes:Cu},Iu=(e,i,n,s)=>{const o={alert:{id:i,title:n??"Новости",text:"Вам пришло оповещение!",type:"alert",goTo:pg,duration:1e4,pageId:"alerts"},schedule:{id:i,type:"schedule",title:n??"Скоро начнется пара",text:s??"",goTo:fi,pageId:"schedule"},info:{id:i,title:n??"Важная информация!",text:s??"",type:"info"},"payment-dorm":{id:i,title:n??"Долг по общежитию",text:s??"Вам необходимо внести платеж ",type:"payment-dorm",goTo:xs,canClose:!1,pageId:"payments"},"payment-ed":{id:i,title:n??"Долг по образованию",text:s??"Вам необходимо внести платеж",type:"payment-ed",goTo:xs,canClose:!1,pageId:"payments"},message:{id:i,title:n??"Сообщения",text:s??"Посмотрите сообщения",type:"message",goTo:gi,pageId:"chat",canClose:!1},"hr-applications":{id:i,title:n??"",text:s??"У вашей заявки изменился статус",type:"hr-applications",goTo:he,pageId:"hr-applications"},"kpi-pps":{id:i,title:n??"",text:s??"У вашей заявки изменился статус",type:"kpi-pps",goTo:ip,pageId:"kpi-pps"},"doc-for-review":{id:i,title:n??"Документ для ознакомления",text:s??"",type:"doc-for-review",goTo:za,pageId:"doclist"},"digital-services":{id:i,title:n??"Статус заявки изменен",text:s??"",type:"digital-services",goTo:D,pageId:"applications"},"version-update":{id:i,title:n??"Вышла новая версия",text:"Посмотрите изменения",type:"version-update"},"electronic-interaction":{id:i,title:n??"Документ для подписания",text:"Об электронном взаимодействии",type:"electronic-interaction",goTo:sg,pageId:"electronic-interaction-agreement"}};return o[e]??o.info},PS={message:"messages","doc-for-review":"doclist","version-update":"newVersion","digital-services":"applications",alert:"news",schedule:"schedule"},Tu=(e,i)=>i.filter(({type:n})=>e[PS[n]]),AS={notifications:[],visibleNotifications:[],loading:!1,error:null,removeNotificationError:null,removeNotificationLoading:!1,clearAllLoading:!1,clearAllError:null,loaded:!1},so=W(async({settings:e})=>{try{const{data:i}=await Ax();return Tu(e,i).map(({id:n,type:s,title:o,text:a})=>Iu(s,n,o,a))}catch(i){throw new Error(`Не удалось загрузить уведомления. Ошибка: ${i}`)}},{name:"fetchNotifications",sid:"kf2e6p"}),NS=W(({notifications:e})=>{e.forEach(({pageId:i})=>{i&&Wt.changeNotifications({page:i,notifications:1})})},{name:"addNotificationsToPagesFx",sid:"-1dtl8s"}),DS=W(({notifications:e})=>{const{pageId:i}=e[0];i&&Wt.changeNotifications({page:i,notifications:1})},{name:"addNotificationToPageFx",sid:"-rn3wo0"}),oo=W(async({id:e,pageId:i})=>{try{return await Nx(e),{id:e,pageId:i}}catch{throw new Error("Не удалось скрыть уведомление")}},{name:"clearNotificationByIdFx",sid:"oqwh06"}),ao=W(async()=>{try{await Dx()}catch{throw new Error("Не удалось скрыть все уведомления")}},{name:"clearAllNotificationsFx",sid:"-1srxw7"}),OS=e=>{e&&Wt.changeNotifications({page:e,notifications:0})},Eu=I({name:"add",sid:"3c8du1"}),Pu=I({name:"initialize",sid:"-70yn2b"}),Au=I({name:"clearVisibleById",sid:"-2ysm12"}),Nu=I({name:"clearById",sid:"ejq1u5"}),Du=I({name:"clearAll",sid:"-ch7dew"}),Ou=I({name:"clearAllVisible",sid:"-nx1573"}),pe=$(AS,{name:"$lkNotificationsStore",sid:"-j8cmfd"}).reset(K.userGuid);Ni({and:{from:Pu,to:so},or:{sid:"t27ti3"}});v({and:[{clock:so.pending,source:pe,fn:(e,i)=>({...e,loading:i}),target:pe}],or:{sid:"-mjpyj"}});v({and:[{clock:so.failData,source:pe,fn:(e,i)=>({...e,error:i.message}),target:pe}],or:{sid:"-hlkma"}});v({and:[{clock:so.doneData,source:pe,fn:(e,i)=>({...e,notifications:[...i,...e.notifications],visibleNotifications:[...e.visibleNotifications,...i].slice(0,2),error:null,loaded:!0}),target:[pe,NS]}],or:{sid:"-13qtg"}});v({and:[{clock:Eu,source:pe,fn:(e,i)=>({notifications:[...e.notifications,i],visibleNotifications:[...e.visibleNotifications,i]}),target:[pe,DS]}],or:{sid:"sl582"}});Ni({and:{from:Nu,to:oo},or:{sid:"xjakb"}});v({and:[{clock:oo.doneData,source:pe,fn:({notifications:e,visibleNotifications:i,...n},{id:s,pageId:o})=>(OS(o),{...n,notifications:e.filter(a=>a.id!==s),visibleNotifications:i.filter(a=>a.id!==s)}),target:pe}],or:{sid:"1ba5ec"}});v({and:[{clock:oo.failData,source:pe,fn:(e,i)=>({...e,removeNotificationError:i.message}),target:pe}],or:{sid:"29de6q"}});v({and:[{clock:oo.pending,source:pe,fn:(e,i)=>({...e,removeNotificationLoading:i}),target:pe}],or:{sid:"2pv7zk"}});Ni({and:{from:Du,to:ao},or:{sid:"36d1se"}});v({and:[{clock:ao.pending,source:pe,fn:(e,i)=>({...e,clearAllLoading:i,clearAllError:null}),target:pe}],or:{sid:"38k85u"}});v({and:[{clock:ao.failData,source:pe,fn:(e,i)=>({...e,clearAllError:i.message}),target:pe}],or:{sid:"3pluk1"}});v({and:[{clock:ao.doneData,source:pe,fn:e=>({...e,notifications:[],visibleNotifications:[]}),target:pe}],or:{sid:"e41qmy"}});v({and:[{clock:Au,source:pe,fn:({notifications:e,visibleNotifications:i,...n},s)=>({...n,notifications:e,visibleNotifications:i.filter(o=>o.id!==s)}),target:pe}],or:{sid:"el3d15"}});v({and:[{clock:Ou,source:pe,fn:({notifications:e,...i})=>({...i,notifications:e,visibleNotifications:[]}),target:pe}],or:{sid:"f4c5ss"}});const LS=()=>ge(pe),Ei={initialize:Pu,add:Eu,clearById:Nu,clearVisibleById:Au,clearAll:Du,clearAllVisible:Ou},Gt={useLkNotifications:LS},lN=u.header.withConfig({componentId:"sc-1u9gu2r-0"})(["width:100%;padding-top:100px;position:relative;margin:0 auto;display:flex;flex-direction:column;align-items:center;color:var(--text);svg{min-width:30px;}@media (max-width:1000px){padding:auto;display:flex;align-items:center;justify-content:center;& > .info{display:none;}}"]);u.div.withConfig({componentId:"sc-1u9gu2r-1"})(["width:",";height:",";border-radius:",";position:absolute;top:",";left:",";z-index:-1;box-shadow:0 0 10px #00000003;background-color:",";"],({width:e})=>e+"px",({height:e})=>e+"px",({borderRadius:e})=>e+"px",({top:e})=>e+"%",({left:e})=>e+"%",({color:e})=>e);const cN=u.div.withConfig({componentId:"sc-1u9gu2r-2"})(["width:100%;display:flex;gap:10px;flex-wrap:wrap;a{width:calc(50% - 5px);}button{font-size:0.7rem;span{margin-top:8px;margin-bottom:-8px;}}@media (max-width:1000px){flex-wrap:nowrap;button{height:42px;}}"]),RS=u.div.withConfig({componentId:"sc-1u9gu2r-3"})(["min-width:",";height:",";display:flex;align-items:center;justify-content:center;border-radius:100%;color:#fff;background:",";@media (max-width:1000px){background:none;color:var(--text);}"],({width:e})=>e??"35px",({width:e})=>e??"35px",({background:e})=>e??"var(--almostTransparent)"),dN=u.div.withConfig({componentId:"sc-1u9gu2r-4"})(["margin-bottom:15px;height:fit-content;width:100%;text-align:center;display:flex;flex-direction:column;justify-content:flex-end;gap:4px;b{font-size:1.2rem;}span{opacity:0.5;}@media (max-width:1000px){& > .info{display:none;}}"]),pN=u.div.withConfig({componentId:"sc-1u9gu2r-5"})(["margin-top:50px;width:100%;"]),uN=u.div.withConfig({componentId:"sc-1u9gu2r-6"})(["display:flex;gap:12px;align-items:center;width:100%;max-width:750px;@media (max-width:1000px){flex-direction:column;}"]),hN=u(Tt).withConfig({componentId:"sc-1u9gu2r-7"})(["padding:12px;position:relative;@media (max-width:1000px){max-width:100%;}"]),gN=u.div.withConfig({componentId:"sc-1u9gu2r-8"})(["position:absolute;left:50%;top:-30%;transform:translateX(-50%);"]),ps=I({name:"switchTheme",sid:"ifl5mr"});v({and:[{clock:ps,source:ue.userSettings,filter:e=>!!e,fn:(e,{isDark:i})=>({appearance:{...e.appearance,theme:i?Ie.Dark:Ie.Light}}),target:Fe.update}],or:{sid:"-bn10vc"}});const Lu=({type:e,onClick:i})=>{const n=z(ue.userSettings),o=(n==null?void 0:n.appearance.theme)===Ie.Light,a=o?t.jsx(Ef,{}):t.jsx(Pf,{}),l=`Тема: ${o?"Светлая":"Темная"}`,p=()=>{ps({isDark:o}),i==null||i()};return e==="toggle"?t.jsx(Pe,{title:"Темная тема",state:!o,action:d=>ps({isDark:d})}):e==="h-button"?t.jsx(j,{text:l,background:"var(--block)",icon:a,width:"100%",align:"left",onClick:p}):t.jsx(j,{padding:"0",background:y.white.transparent2,icon:t.jsx(RS,{width:"30px",background:y.green.main,children:a}),onClick:p,text:l,width:"calc(50% - 5px)",height:"73px",direction:"vertical",shrinkTextInMobile:!0})},zS=({quantity:e=1,avatarShape:i="circle"})=>t.jsx(E,{d:"column",gap:"20px",children:Array(e).fill(0).map((n,s)=>t.jsxs(E,{gap:"16px",ai:"center",children:[t.jsx(X,{shape:i,size:{width:"40px",height:"40px"},margin:"0"}),t.jsxs(E,{gap:"8px",d:"column",ai:"flex-start",jc:"center",h:"100%",children:[t.jsx(X,{shape:"rect",size:{width:"90%",height:"13px"},margin:"0"}),t.jsx(X,{shape:"rect",size:{width:"70%",height:"10px"},margin:"0"})]})]},s))});function Mo(e,i){return e.length>i?`${e.substr(0,i)}...`:e}const FS="2.3.0",Ru=()=>t.jsx(Z,{icon:null,type:"info",title:FS,width:"38px",fontSize:"0.65rem",padding:"7px 0px",align:"center"}),st=({color:e,children:i})=>t.jsx(wt,{color:e,children:i}),MS=()=>({info:t.jsx(st,{color:"grey",children:t.jsx(_t,{})}),message:t.jsx(st,{color:"red",children:t.jsx(ts,{})}),alert:t.jsx(st,{color:"purple",children:t.jsx(Fl,{})}),"payment-dorm":t.jsx(st,{color:"green",children:t.jsx(zt,{})}),"payment-ed":t.jsx(st,{color:"green",children:t.jsx(zt,{})}),"digital-services":t.jsx(st,{color:"red",children:t.jsx(O,{})}),"doc-for-review":t.jsx(st,{color:"blue",children:t.jsx(O,{})}),"hr-applications":t.jsx(st,{color:"green",children:t.jsx(O,{})}),"kpi-pps":t.jsx(st,{color:"pink",children:t.jsx(Rl,{})}),schedule:t.jsx(st,{color:"pink",children:t.jsx(Bt,{})}),"version-update":t.jsx(Ru,{}),"electronic-interaction":t.jsx(st,{color:"blue",children:t.jsx(Ml,{})})}),$S=u(te).withConfig({componentId:"sc-d358r5-0"})(["width:100%;display:flex;align-items:center;padding:4px;border-radius:var(--brLight);color:var(--text);cursor:pointer;.left-icon{width:fit-content;margin-right:12px;}.content{display:flex;flex-direction:column;width:100%;.top-content{width:100%;margin-top:2px;display:flex;align-items:center;}}&:hover{background:var(--theme-1t);}"]),BS=u.div.withConfig({componentId:"sc-d358r5-1"})(["font-size:",";font-weight:500;"],({fontSize:e})=>e),HS={small:"0.8rem",middle:"0.83rem",large:"0.85rem",big:"0.86rem"},US={small:"0.75rem",middle:"0.78rem",large:"0.79rem",big:"0.80rem"},WS={small:"0px",middle:"1px",large:"2px",big:"3px"},zu=({id:e,title:i,text:n,time:s,date:o,onClick:a,type:r,pageId:l,goTo:p,onClose:d,bottomMargin:h,closeAnimation:f=!0,loadingRemove:g=!1,canClose:m=!0,fullText:b=!0,maxLetters:x=200,size:w="middle"})=>{const _=oe(o,"short"),{close:S}=H(),[k,P]=c.useState(!1),T=R=>{R.stopPropagation(),R.preventDefault(),f?(P(!0),setTimeout(()=>{d==null||d()},300)):d==null||d()},F=()=>{a==null||a(),m&&Ei.clearById({id:e,pageId:l}),S()};return t.jsx(Jl,{forceState:!k,bottomMargin:h,children:t.jsxs($S,{to:p??"",onClick:F,children:[t.jsx("span",{className:"left-icon",children:MS()[r]}),t.jsxs("div",{className:"content",children:[t.jsx(se,{fontSize:"0.7rem",children:t.jsx(at,{words:[_??"",s??""]})}),t.jsxs(E,{d:"column",gap:WS[w],ai:"flex-start",children:[t.jsx(BS,{fontSize:HS[w],children:b?i:Mo(i,x)}),t.jsx(se,{fontSize:US[w],children:b?n:Mo(n,x)})]})]}),d&&t.jsx(j,{isActive:!(g&&k),icon:t.jsx(St,{}),background:"var(--theme-2)",onClick:T,style:{borderRadius:"20px"}})]})})},Fu=({notifications:e,loadingRemove:i})=>{if(!e||e.length===0)return null;const n=(o,a,r)=>()=>{Ei.clearById({id:o,pageId:a}),r==null||r()},s=o=>o.canClose!==!1?n(o.id,o.pageId,o.onClose):void 0;return t.jsx(E,{d:"column",children:e.map((o,a)=>c.createElement(zu,{size:"big",loadingRemove:i,bottomMargin:a!==e.length-1,...o,key:o.id,onClose:s(o)}))})},GS=u.div.withConfig({componentId:"sc-dixzet-0"})(["display:flex;flex-direction:column;gap:8px;width:100%;height:100%;@media (min-width:1001px){width:100%;min-width:400px;}"]),VS=({maxNotificationsVisible:e})=>{const{error:i,loading:n,notifications:s,removeNotificationError:o,removeNotificationLoading:a}=Gt.useLkNotifications();return c.useEffect(()=>{o&&G.evokePopUpMessage({type:"failure",message:o,time:1e4})},[o]),c.useEffect(()=>{Ei.clearAllVisible()},[]),t.jsxs(GS,{children:[s.length===0&&!n&&t.jsx(Ln,{height:"100%",children:t.jsx(je,{text:i??"Нет новых уведомлений",image:i?t.jsx(ei,{}):t.jsx(Af,{}),size:"70px"})}),t.jsxs(E,{d:"column",gap:"16px",children:[t.jsx(Z,{lineHeight:"1.2rem",type:"tip",visible:s.length!==0,children:"Вы можете отключить получение каких-либо уведомлений в настройках"}),t.jsx(Fu,{notifications:e?s.slice(0,e):s,loadingRemove:a})]}),n&&t.jsx(zS,{quantity:10})]})},qS=u.div.withConfig({componentId:"sc-8qysjk-0"})(["position:relative;min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--brLight);&:hover{background:var(--theme-1t);}svg{width:22px;height:22px;color:var(--text);}"]),Mu=()=>{const{close:e}=H(),{notifications:i}=Gt.useLkNotifications(),n=3;return t.jsxs(E,{d:"column",gap:"30px",w:"100%",mw:"400px",children:[t.jsxs(E,{d:"column",gap:"16px",children:[t.jsx(VS,{maxNotificationsVisible:n}),t.jsxs(se,{width:"100%",visible:i.length>n,children:["Еще ",i.length-n," ",Jc(i.length-n,{one:"уведомление",twoToFour:"уведомления",fiveToNine:"уведомлений",zero:"уведомлений"}),"..."]})]}),i.length>0&&t.jsx(te,{to:ug,style:{width:"100%"},children:t.jsx(j,{width:"100%",text:"Показать все",onClick:e})})]})},YS=({forwardedRef:e})=>{const{notifications:i}=Gt.useLkNotifications(),{open:n}=H(),s=()=>{n(t.jsx(Mu,{}),"Уведомления")};return t.jsxs(qS,{ref:e,onClick:s,children:[t.jsx(si,{outline:"none","box-shadow":"0px 0px 0px 3px var(--block)",color:"red",top:"14px",left:"30px",visible:i.length>0,pulsing:!0,className:"notification-circle",shadow:!0,children:i.length>10?"10+":i.length}),t.jsx(_s,{})]})},QS=u.div.withConfig({componentId:"sc-1vrx07f-0"})(["position:relative;"]),$u=()=>{const{open:e}=H(),{notifications:i}=Gt.useLkNotifications(),n=()=>$e.close(),s=()=>{Ge.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:ce.logout}),n()},o=()=>{$e.close(),e(t.jsx(xh,{}),"Что нового")},a=()=>{e(t.jsx(Mu,{}),"Уведомления"),$e.close()};return t.jsxs(t.Fragment,{children:[t.jsx(AE,{padding:"8px",size:"small"}),t.jsx(be,{}),t.jsx(Lu,{type:"h-button"}),t.jsx(be,{}),t.jsx(te,{to:Xa,children:t.jsx(j,{text:"Профиль",background:"var(--block)",icon:t.jsx($l,{}),width:"100%",align:"left",onClick:n,padding:"10px"})}),t.jsxs(QS,{children:[t.jsx(j,{onClick:a,icon:t.jsx(_s,{}),text:"Уведомления",width:"100%",background:"var(--block)",align:"left",padding:"10px"}),t.jsx(si,{visible:i.length>0,top:"50%",right:"0px",pulsing:!0,shadow:!0,children:i.length})]}),t.jsx(te,{to:Me,children:t.jsx(j,{text:"Настройки",background:"var(--block)",icon:t.jsx(Qo,{}),width:"100%",align:"left",onClick:n,padding:"10px"})}),t.jsx("a",{href:`${M}/index.php`,children:t.jsx(j,{text:"Старый дизайн",icon:t.jsx(js,{}),width:"100%",background:"var(--block)",align:"left",padding:"10px"})}),t.jsx(be,{}),t.jsx(j,{align:"left",icon:t.jsx(Bl,{}),onClick:s,text:"Выйти",width:"100%",background:"var(--block)",padding:"10px"}),t.jsx(be,{}),t.jsx(j,{align:"left",icon:t.jsx(Ru,{}),onClick:o,text:"Что нового",width:"100%",background:"var(--block)",padding:"10px"})]})},XS=()=>{const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?"iOS":e.search("Mac")!==-1?"MacOS":e.search("X11")!==-1&&e.search("Linux")===-1?"UNIX":e.search("Linux")!==-1&&e.search("X11")!==-1?"Linux":/android/i.test(e)?"Android":"Windows"},xo=new Set,Bu=(e,i)=>{c.useEffect(()=>{const n=o=>{if(!e.length)return;xo.add(o.which),!e.slice(0,e.length-1).find(r=>!xo.has(r))&&e[e.length-1]===o.which&&(o.preventDefault(),i())},s=o=>{xo.delete(o.which)};return window.addEventListener("keydown",n),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",s)}},[])},Hu=(e,i)=>Object.values(i).reduce((n,s)=>{var o;return(Ae(s.title).includes(Ae(e))||(o=s==null?void 0:s.keywords)!=null&&o.find(a=>Ae(a).includes(Ae(e))))&&(n[s.id]=s),n},{}),KS=u.div.withConfig({componentId:"sc-176qinm-0"})(["display:flex;flex-direction:column;height:300px;@media (min-width:1001px){min-width:300px;width:300px;height:300px;}"]),JS=u(te).withConfig({componentId:"sc-176qinm-1"})(["width:100%;"]),Vr=({division:e})=>{const{close:i}=H();return t.jsxs(KS,{children:[t.jsxs(E,{d:"column",gap:"12px",jc:"center",h:"100%",children:[t.jsx(wt,{size:120,color:"purple",children:t.jsx(Yi,{})}),t.jsx(se,{fontSize:"1.2rem",align:"center",children:e})]}),t.jsx(JS,{to:`${Rn}/${e}`,onClick:i,children:t.jsx(j,{icon:t.jsx(Yo,{}),width:"100%",text:"Список"})})]})},ZS=({division:e})=>{const{data:{user:i}}=ke.useUser(),n=(i==null?void 0:i.user_status)==="staff",{subdivisions:s}=z({subdivisions:rt.subdivisions});if(!n||!s)return t.jsx(Vr,{division:e});const o=Ra(s,e),a=o&&o[0];return a?t.jsx(Dt,{title:a.name,info:Oa(a)}):t.jsx(Vr,{division:e})},eI=u.div.withConfig({componentId:"sc-10ox46b-0"})(["width:100%;color:var(--text);padding:0px 16px;background:var(--theme-1t);border-radius:var(--brLight);cursor:pointer;svg{min-width:30px;}&:hover{background:var(--search);}"]),tI=({division:e})=>{const{open:i}=H(),n=()=>{i(t.jsx(ZS,{division:e}),"Подразделение")};return t.jsx(eI,{onClick:n,children:t.jsxs(E,{gap:"8px",h:"50px",jc:"space-between",w:"100%",children:[t.jsxs(E,{gap:"8px",children:[t.jsx(Yi,{}),t.jsx(se,{fontSize:"1rem",children:e})]}),t.jsx(xt,{})]})})},iI=({divisions:e})=>!e||e.length===0?null:t.jsx(E,{d:"column",gap:"4px",ai:"flex-start",children:e.map(i=>t.jsx(tI,{division:i},i))}),nI=u.div.withConfig({componentId:"sc-1lhycr1-0"})(["display:flex;flex-direction:column;height:300px;@media (min-width:1001px){min-width:300px;width:300px;height:300px;}"]),qr=u(te).withConfig({componentId:"sc-1lhycr1-1"})(["width:100%;"]),Ha=({group:e})=>{const{close:i}=H();return t.jsxs(nI,{children:[t.jsxs(E,{d:"column",gap:"12px",jc:"center",h:"100%",children:[t.jsx(wt,{size:120,color:"lightBlue",children:t.jsx(Cs,{})}),t.jsx(se,{fontSize:"1.2rem",children:e})]}),t.jsxs(E,{d:"column",gap:"8px",children:[t.jsxs(E,{gap:"8px",children:[t.jsx(qr,{to:Dn($i,{page:"current",filter:e}),children:t.jsx(j,{icon:t.jsx(Bt,{}),width:"100%",text:"Расписание",background:"var(--theme-4)",onClick:i})}),t.jsx(qr,{to:`${og}/${e}`,children:t.jsx(j,{icon:t.jsx(Yo,{}),width:"100%",text:"Список",background:"var(--theme-4)",onClick:i})})]}),t.jsx(io,{group:e})]})]})},sI=u.div.withConfig({componentId:"sc-9pglgy-0"})(["width:100%;color:var(--text);padding:0px 16px;background:var(--theme-1t);border-radius:var(--brLight);cursor:pointer;svg{min-width:30px;}&:hover{background:var(--search);}"]),oI=({group:e})=>{const{open:i}=H(),n=()=>{i(t.jsx(Ha,{group:e}),"Группа")};return t.jsx(sI,{onClick:n,children:t.jsxs(E,{gap:"8px",h:"50px",jc:"space-between",w:"100%",children:[t.jsxs(E,{gap:"8px",h:"50px",children:[t.jsx(Cs,{}),t.jsx(se,{fontSize:"1rem",children:e})]}),t.jsx(xt,{})]})})},aI=({groups:e})=>e?t.jsx(E,{d:"column",gap:"4px",ai:"flex-start",children:e.map(i=>t.jsx(oI,{group:i},i))}):null,bo=[{title:"Инструкции",links:[{link:M+"/storage/files/instruction_business_trip_docs.docx",title:"Инструкция для командируемых работников",icon:""},{link:M+"/storage/files/Instruktsiya_po_podkljucheniju_k_VPN.pdf",title:"Как самостоятельно подключиться к VPN",icon:"https://icon-library.com/images/vpn-icon-png/vpn-icon-png-18.jpg"},{link:M+"/storage/files/Osnaschenie_auditorij_Wi-Fi_i_proektorami.pdf",title:"Сведения об оснащении аудиторий проекторами и WiFi",icon:"https://iconsplace.com/wp-content/uploads/_icons/fa8072/256/png/wifi-icon-15-256.png"},{link:M+"/storage/files/Instruktsiya_po_sozdaniju_videozapisi_ekzamenov__provodimyh_v_onlajn-formate_4.pdf",title:"КАК СДЕЛАТЬ ВИДЕОЗАПИСЬ ЭКЗАМЕНА (WEBEX, TEAMS)",icon:"https://lh3.googleusercontent.com/-fISFqYToaYY/YNMY2EpjZuI/AAAAAAAAAqI/vBY0kGYsLf0EuJPV-jv5TXMtxkAfdm0twCLcBGAsYHQ/s400/128x128%2BCisco%2BWebex.png"},{link:M+"/storage/files/Instruktsiya_po_ispolzovaniju_Servisa_Pechati.pdf",title:"Как использовать сервис печати",icon:"https://freeiconshop.com/wp-content/uploads/edd/print-flat.png"},{link:M+"/storage/files/Instruktsiya_dostupa_k_internetu_v_auditoriyah.pdf",title:"Как подключиться к WiFi в аудитории",icon:"https://iconsplace.com/wp-content/uploads/_icons/fa8072/256/png/wifi-icon-15-256.png"},{link:M+"/storage/files/Instruktsiya_dlya_podkljucheniya_k_proektoru_.pdf",title:"Как подключиться к проектору",icon:"https://freeiconshop.com/wp-content/uploads/edd/print-flat.png"},{link:M+"/storage/files/Instruktsiya_po_zapolneniju_sposoba_distantsionnogo_provedeniya_zanyatij_v3.pdf",title:"Как внести webinar в расписание",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:M+"/storage/files/Instruktsiya_po_obnovleniju_kontaktnyh_dannyh_prepodavatelej.pdf",title:"Как изменить контакты ППС в расписании",icon:"https://icons.iconarchive.com/icons/wikipedia/flags/256/RU-Russia-Flag-icon.png"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как пользоваться курсом в LMS",icon:"https://online.mospolytech.ru/theme/opentechnology/pix/favicon.ico"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как дать доступ студентам на курс в LMS",icon:"https://online.mospolytech.ru/theme/opentechnology/pix/favicon.ico"},{link:M+"/storage/files/Dostup_rabotnikov_k_oblachnym_servisam_Microsoft.pdf?1",title:"Доступ к облачным сервисам Microsoft",icon:"https://cdn.icon-icons.com/icons2/195/PNG/256/Microsoft_23401.png"},{link:M+"/storage/files/Rabota_PPS_v_Microsoft_Teams.pdf?1",title:"Как пользоваться Office365 и Teams для онлайн-траснляций и проектной работы",icon:"https://pcprogs.net/uploads/posts/2021-08/1627783088_microsoft-office-2021-icon.png"},{link:M+"/storage/files/Ispolzovanie_rabotnikami_Microsoft_OneDrive_v_Moskovskom_Politehe.pdf?1",title:"Доступ к Microsoft OneDrive для работников и обучающихся Московского Политеха",icon:"https://cdn.iconscout.com/icon/free/png-256/onedrive-9-1174819.png"},{link:"https://webinar.ru/blog/wp-content/uploads/2020/08/Metodichka_Webinar_na_200.pdf",title:"Как проводить вебинары",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:"https://www.youtube.com/watch?v=fcCS20ogo6E&feature=youtu.be&ab_channel=%D0%9C%D0%BE%D1%81%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9%D0%9F%D0%BE%D0%BB%D0%B8%D1%82%D0%B5%D1%85",title:"Как использовать вебинар на занятиях (краткая видеоинструкция)",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:M+"/storage/files/Instruktsiya_po_nastrojke_chata_vebinara.pdf",title:"Как настроить чат вебинара",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:M+"/storage/files/Gde_najti_kovorkingi_-_tam_est_WiFi__stoly__pufy_i_rozetki.pdf",title:"Практикумы Webinar - как проводить вебинары (видеоинструкции)",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:M+"/storage/files/Instruktsiya_po_polucheniju_videozapisi_provedennogo_Vebinara.pdf",title:"Как получить запись прошедшего webinar",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:M+"/storage/files/Instruktsiya__videozapis_lektsij.pdf",title:"Как записать видеолекцию",icon:"https://cdn.iconscout.com/icon/free/png-256/circle-geometric-red-round-37922.png"},{link:M+"/storage/files/Instruktsiya_po_sozdaniju_videozapisi_ekzamenov__provodimyh_v_onlajn-formate_4.pdf",title:"Как сделать видеозапись экзамена (Webex, Teams)",icon:"https://lh3.googleusercontent.com/-fISFqYToaYY/YNMY2EpjZuI/AAAAAAAAAqI/vBY0kGYsLf0EuJPV-jv5TXMtxkAfdm0twCLcBGAsYHQ/s400/128x128%2BCisco%2BWebex.png"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как пользоваться внешними ЭБС",icon:"https://cdn-icons-png.flaticon.com/128/2232/2232688.png"},{link:M+"/storage/files/Dostup_k_sisteme_Antiplagiat.pdf",title:"Как получить доступ к системе Антиплагиат",icon:"https://www.antiplagiat.ru/favicon-1069bb8b8557d91de9974904a33270de.ico"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Инструкция по работе преподавателя с Антиплагиат (видео)",icon:"https://www.antiplagiat.ru/favicon-1069bb8b8557d91de9974904a33270de.ico"}]},{title:"Приказы",links:[{link:M+"/storage/files/orders_staff/Prikaz_o_sozdanii_ekspertnoj_komissii.pdf",title:"Приказ по основной деятельности от 29.04.2021 № 467-ОД «О создании экспертной комиссии»",icon:le},{link:M+"/storage/files/Prikaz_po_osnovnoj_deyatelnosti_No_0793-OD_ot_02_09_2021_O_provedenii_obschih_sobranij_i_konferentsii_(2145965_v3).PDF",title:"Приказ от 02.09.2021 № 793-ОД «О проведении общих собраний и конференции»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_o_vnesenii_izmenenij_v_sostav_konkursnoj_komissii_ot_31_01_2020.PDF",title:"Приказ по основной деятельности от 31.01.2020 № 159-ОД «О внесении изменений в состав конкурсной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_ob_utverzhdenii_perechnya_dolzhnostej_rabotnikov_s_nenormirovannym_rabochim_dnem_No_0441-OD_ot_18_03_2020.pdf",title:"Приказ по основной деятельности от 18.03.2020 № 441-ОД «Об утверждении перечня должностей работников с ненормированным рабочим днем»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0157-OD_ot_31_01_2020_O_vnesenii_izmenenij_v_sostav_Attestatsionnoj_komissii_(1450119_v1).PDF",title:"Приказ по основной деятельности от 31.01.2020 № 157-ОД «О внесении изменений в состав аттестационной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0381-OD_ot_29_05_2019_O_vnesenii_izmenenij_v_sostav_Konkursnoj_komissii_(1216181_v2).PDF",title:"Приказ по основной деятельности от 29.05.2019 № 381-ОД «О внесении изменений в состав конкурсной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_Prikaz_po_tabelju_(1411371_v2).pdf",title:"Приказ по основной деятельности от 13.12.2019 № 1443-ОД «О своевременном предоставлении табеля учета использования рабочего времени»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0034-OD_ot_25_01_2018_o_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(710601_v2).pdf",title:"Приказ по основной деятельности от 25.01.2018 № 34-ОД «О внесении изменений в состав аттестационной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0381-OD_ot_20_06_2018_O_sozdanii_konkursnoj_komissii_(807541_v2).pdf",title:"Приказ по основной деятельности от 20.06.2018 № 381-ОД  «О внесении изменений в состав конкурсной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0507-OD_ot_14_06_2017_o_vnesenii_izmenenij_v_sostav_konkursnoj_komissii_(600355_v2).PDF",title:"Приказ по основной деятельности от 14.06.2017 № 507-ОД «О внесении изменений в состав конкурсной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0625-OD_ot_13_08_2018_O_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(840701_v2).pdf",title:"Приказ по основной деятельности от 13.08.2018 № 625-ОД «О внесении изменений в состав аттестационной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_1129-OD_ot_22_11_2018_O_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(939494_v4).PDF",title:"Приказ по основной деятельности от 22.11.2018 № 1129-ОД «О внесении изменений в состав аттестационной комиссии»",icon:le},{link:M+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_1210-OD_ot_17_12_2018_O_vnesenii_izmenenij_v_sostav_Konkursnoj_komissii_(950151_v2).pdf",title:"Приказ по основной деятельности от 17.12.2018 № 1210-ОД «О внесении изменений в состав конкурсной комиссии»",icon:le}]},{title:"Положения",links:[{link:M+"/storage/files/Polozhenie_o_materialnoj_otvetstvennosti_rabotnikov_Moskovskogo_Politeha.pdf",title:"Положение о материальной ответственности работников Московского Политеха",icon:le},{link:M+"/storage/files/stats/Polozhenie_o_poryadke_zamescheniya_dolzhnostej_PPS_(2005001_v1).pdf",title:"Положение о порядке замещения должностей ППС",icon:le},{link:M+"/storage/files/stats/Polozhenie_o_sisteme_otbora_kandidatov__PPS.pdf",title:"Положение о системе отбора кандидатов ППС",icon:le},{link:M+"/storage/files/stats/Kodeks_etiki_i_sluzhebnogo_povedeniya_(355118_v2).pdf",title:"Кодекс этики и служебного поведения работников",icon:le},{link:M+"/storage/files/stats/polozhenie_o_dk_2017.pdf",title:"Положение о дисциплинарной комиссии по обучающимся",icon:le},{link:M+"/storage/files/stats/Polozhenie_o_komissii_po_upravleniju_RID_(1242395_v2).pdf",title:"Положение о комиссии по управлению правами на результаты интеллектуальной деятельности",icon:le},{link:M+"/storage/files/stats/Polozhenie_o_poryadke_provedeniya_attestatsii_rabotnikov__zanimajuschih_dolzhnosti_professorsko-prepodavatelskogo_sostava.pdf",title:"Положение о порядке проведения аттестации работников, занимающих должности профессорско-преподавательского состава",icon:le},{link:M+"/storage/files/stats/Polozhenie_ob_antikorruptsionnoj_politike_No_0498-OD_ot_06042020.PDF",title:"Положение об антикоррупционной политике",icon:le},{link:M+"/storage/files/stats/Polozhenie_ob_attestatsii_rabotnikov___(674754_v2).pdf",title:"Положение о порядке проведения аттестации работников",icon:le},{link:M+"/storage/files/stats/Polozhenie_ob_otpuskah_(Novyj)_(686482_v1).pdf",title:"Положение о порядке предоставления отпусков работникам",icon:le},{link:M+"/storage/files/stats/Polozhenie_v_otnoshenii_obrabotki_personalnyh_dannyh__(377893_v2_).pdf",title:"Положение об обработке и защите персональных данных",icon:le},{link:M+"/storage/files/stats/Polozheniya_o_protsedure_izbraniya_vyborov_dekanov_fakultetov_i_zavedujuschih_kafedrami_(643622_v1).PDF",title:"Положение о процедуре избрания деканов факультетов и заведующих кафедрами",icon:le},{link:M+"/storage/files/stats/Polozhenie_ob_Uchenom_sovete_Prikaz_No_0682-OD_ot_05_06_2020.PDF",title:"Положение об Ученом совете",icon:le},{link:M+"/storage/files/stats/Prikaz_po_osnovnoj_deyatelnosti_No_2257-OD_ot_08_12_2020_Ob_utverzhdanii_LNA__regulirujuschie_sotsialno-trudovye_otn_(1830969_v4).pdf",title:"Локальные нормативные акты, регулирующие социально-трудовые отношения",icon:le},{link:M+"/storage/files/stats/Poryadok_oformleniya_pochasovoj_oplaty.pdf",title:"Порядок оформления почасовой оплаты",icon:le}]}];var qe=(e=>(e.information="information",e.instructions="instructions",e.courses="courses",e.security="security",e.orders="orders",e.regulations="regulations",e))(qe||{});const xi={information:"Общая",instructions:"Инструкции",courses:"Курсы",security:"Безопасность",orders:"Приказы",regulations:"Положения"},rI=[{id:qe.information,title:xi[qe.information],visible:"all",content:[{title:"Учёба",links:[{title:"Промежуточная аттестация",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Vremennoe_polozhenie_o_provedenii_tekuschego_kontrolya_uspevaemosti_i_promezhutochnoj_attestatsii_obuchajuschihsya_v_usloviyah_obespecheniya_rezhima_izolyatsii_v_tselyah_predotvrascheniya_rasprostraneniya_koronavirusnoj_infektsii.pdf"},{title:"Оплата обучения",visible:"student",href:"https://mospolytech.ru/obuchauschimsya/oplata-obucheniya/?sphrase_id=311027"},{title:"Программы дополнительного профессионального образования",visible:"all",href:"https://study.mospolytech.ru/dpo"},{title:"Международные программы",visible:"student",href:"https://mospolytech.ru/mejdunarodnaya-deyatelnost/mezhdunarodnye-stazhirovki/"},{title:"Дополнительное образование",visible:"student",href:"https://mospolytech.ru/dop-obrazovanie/povyshenie-kvalifikacii-i-professionalnaya-perepodgotovka/"},{title:"Электронная библиотека Московского Политеха",visible:"staff",href:"https://online.mospolytech.ru/course/view.php?id=7621"},{title:"Библиотечно-информационный центр",visible:"all",href:"https://new.mospolytech.ru/obuchauschimsya/biblioteka/"},{title:"Электронный каталог библиотеки Электростальского института",visible:"all",href:"http://lib.elpol.ru"},{title:"Образовательные программы",visible:"all",href:"https://mospolytech.ru/sveden/education/educationplan/"}]},{title:"Воинский учёт",visible:"student",links:[{title:"Военнообязанным и призывникам",visible:"student",href:"https://mospolytech.ru/obuchauschimsya/voennoobyazannym-i-prizyvnikam/"},{title:"Единый пункт призыва",visible:"student",href:"https://www.mos.ru/city/projects/prizyv/"}]},{title:"Общежития",links:[{title:"Правила внутреннего распорядка в студенческом городке",visible:"all",href:"https://mospolytech.ru/upload/medialibrary/c01/Pravila-vnutrennego-rasporyadka-v-studencheskom-gorodke-Moskovskogo-Polytecha-(23092022).pdf"}]},{title:"Наука",links:[{title:"Анонсы научных мероприятий",visible:"all",href:"https://mospolytech.ru/nauchnaya-deyatelnost/obyavleniya/"},{title:"Как получить патент",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Uvedomlenie_o_sozdanii_RID_(standartnoe).docx"},{title:"Рекомендации по использованию Scopus для подготовки отчетности о результатах публикационной активности организации",visible:"all",href:"https://www.elsevier.com"},{title:"Список низкорейтинговых журналов",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Discontinued-sources-from-Scopus.xlsx"},{title:"SciVal онлайн-платформа для мониторинга и анализа международных научных исследований",visible:"all",href:"https://www.scival.com/landing"},{title:"Студенческое научно-техническое общество",visible:"staff",href:"http://snto.mospolytech.ru"}]},{title:"Внеучебная деятельность",links:[{title:"Спортивная деятельность",visible:"student",href:"https://mospolytech.ru/studencheskaya-zhizn/sportivnaya-deyatelnost/"},{title:"Расписание спортивных секций",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Sportivnye_Sektsii_Mospoliteha.pdf"},{title:"Студенческая жизнь",visible:"student",href:"https://mospolytech.ru/studencheskaya-zhizn/o-studencheskoy-jizni/?sphrase_id=311039"},{title:"Профорганизация",visible:"all",href:"https://profkommospolytech.ru"},{title:"Студенческое научно-техническое общество",visible:"student",href:"http://snto.mospolytech.ru"},{title:"Формула Студент",visible:"all",href:"http://fdr.mospolytech.ru"},{title:"Медицинское обслуживание",visible:"all",href:"https://mospolytech.ru/studencheskaya-zhizn/medical-help/medicinskaya-slujba/"},{title:"Центр подготовки водителей (автошкола)",visible:"student",href:"https://mospolytech.ru/dop-obrazovanie/avtoshkola/"},{title:"Яхт-клуб",visible:"all",href:"https://mospolytech.ru/studencheskaya-zhizn/sportivnaya-deyatelnost/yaht-klub/"},{title:"Многофункциональный центр",visible:"all",href:"https://mospolytech.ru/obuchauschimsya/mnogofunkcionalnyy-centr/"}]}]},{id:qe.security,title:xi[qe.security],visible:"all",content:[{title:"Безопасность",links:[{title:"Действия работников и обучающихся при вооруженном нападении на учебный корпус (антитеррористическая защищенность)",visible:"all",href:"https://youtu.be/cH7-sC7kRwc"},{title:"Если оказались на территории вуза в момент наступившей чрезвычайной ситуации",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_2_Esli_okazalis_na_territorii_vuza_v_moment_nastupivshej_chrezvychajnoj_situatsii.pdf"},{title:"Памятка «Подозрительный предмет»",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_3_Podozritelnyj_predmet.pdf"},{title:"Памятка студента по действиям в экстремальных ситуациях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Metodicheskie_ukazaniya_i_pamyatki_4_Pamyatka_studenta_po_dejstviyam_v_ekstremalnyh_situatsiyah.pdf"},{title:"Алгоритм действий при возникновении паники в толпе или в месте массового пребывания людей",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_5_Algoritm_dejstvij_pri_vozniknovenii_paniki_v_tolpe_ili_v_meste_massovogo_prebyvaniya_ljudej.PDF"},{title:"Безопасность в экстремальных и чрезвычайных ситуациях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_6_Bezopasnost_v_ekstremalnyh_i_chrezvychajnyh_situatsiyah.PDF"},{title:"Как понять, что материал экстремистский, и что с этим делать",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_7_Kak_ponyat__chto_material_ekstremistskij__i_chto_s_etim_delat.PDF"},{title:"Последствия и ответственность за ложное сообщение об акте терроризма",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_8_Posledstviya_i_otvetstvennost_za_lozhnoe_soobschenie_ob_akte_terrorizma.PDF"},{title:"Последствия участия в несогласованных митингах и протестных акциях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_9_Posledstviya_uchastiya_v_nesoglasovannyh_mitingah_i_protestnyh_aktsiyah.PDF"},{title:"Признаки вербовки в экстремистскую организацию и как с этим справиться",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_10_Priznaki_verbovki_v_ekstremistskuju_organizatsiju_i_kak_s_etim_spravitsya.PDF"},{title:"Что делать, если вы обнаружили бесхозный предмет",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_11_Chto_delat__esli_vy_obnaruzhili_beshoznyj_predmet.PDF"}]}]},{id:qe.instructions,title:xi[qe.instructions],visible:"all",content:[{title:"Инструкции",links:[{title:"Инструкция по получению логина и пароля единой учётной записи студентов первого курса",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/stud_login_instruction.pdf?1"},{title:"Инструкции",visible:"student",href:"https://e.mospolytech.ru/old/index.php?p=instructions"},{title:"Где найти коворкинги - там есть WiFi, столы, пуфы и розетки",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Gde_najti_kovorkingi_-_tam_est_WiFi__stoly__pufy_i_rozetki.pdf"},...bo[0].links.map(e=>({...e,href:e.link,visible:"staff"}))]}]},{id:qe.regulations,title:xi[qe.regulations],visible:"staff",content:[{title:"Положения",links:[...bo[2].links.map(e=>({...e,href:e.link,visible:"staff"}))]}]},{id:qe.orders,title:xi[qe.orders],visible:"staff",content:[{title:"Приказы",links:[...bo[1].links.map(e=>({...e,href:e.link,visible:"staff"}))]}]},{id:qe.courses,title:xi[qe.courses],visible:"student",content:[{title:"Курсы",links:[{title:"Современного курсостроения",visible:"student",href:"https://project.lektorium.tv/howtomooc"}]}]}],lI=(e,i)=>i.reduce((n,s)=>{const o=s.links.filter(a=>Ae(a.title).includes(Ae(e)));return o.length&&n.push({title:s.title,links:o}),n},[]),cI=u.div.withConfig({componentId:"sc-12syjwk-0"})(["width:calc(100% - 2px);padding:16px;margin:1px;border-radius:var(--brLight);background:var(--block-content);box-shadow:var(--block-shadow);padding:16px;a{font-size:0.95rem;}"]),dI=({blocks:e,isStaff:i})=>e?t.jsx(t.Fragment,{children:e.map(({title:n,links:s,visible:o},a)=>o==="staff"&&!i||o==="student"&&i?null:t.jsxs(cI,{children:[t.jsx(L,{size:4,align:"left",bottomGap:"16px",children:n}),t.jsx(Ne,{gap:16,children:s.map(({title:r,href:l,visible:p},d)=>p==="staff"&&!i||p==="student"&&i?null:t.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:r},r+d))})]},n+a))}):null,us=e=>Array.isArray(e)?e==null?void 0:e.length:Object.keys(e??{}).length,Uu=(e,i)=>{const n=i.toLowerCase();if(e.length===0)return[];const s=[];return e.forEach(o=>{var r,l,p,d;((l=(r=o.head)==null?void 0:r.post)!=null&&l.toLowerCase().includes(n)||(d=(p=o.head)==null?void 0:p.fio)!=null&&d.toLowerCase().includes(n))&&s.push(o.head),o.staff.forEach(h=>{var f,g;((f=h.post)!=null&&f.toLowerCase().includes(n)||(g=h.fio)!=null&&g.toLowerCase().includes(n))&&s.push(h)});const a=Uu(o.subdivs,n);s.push(...a)}),tp(s,"guid_person")},Yr=({people:e,type:i})=>!e||e.length===0?null:t.jsx(E,{d:"column",children:e.map(n=>{var s;return c.createElement(On,{id:"guid_person"in n?n.guid_person:n.id,name:n.fio,type:i,...n,key:"id"in n?n.id:n.guid_person,division:"division"in n?n.division:"job"in n?(s=n.job.find(o=>o.post===n.post))==null?void 0:s.subdivision:""})})}),pI=()=>{const{allRoutes:e}=dt.useMenu(),{notifications:i,removeNotificationLoading:n}=Gt.useLkNotifications(),{data:{user:s}}=ke.useUser(),o=z(rt.subdivisions),a=(s==null?void 0:s.user_status)==="staff",r=c.useMemo(()=>rI.flatMap(({visible:R,content:B})=>R==="staff"&&a||R==="student"&&!a||R==="all"?B:[]),[a]),[l,p]=c.useState(null),[d,h]=c.useState(null),[f,g]=c.useState(null),[m,b]=c.useState(null),[x,w]=c.useState(null),[_,S]=c.useState(null),[k,P]=c.useState(null),T=[{title:"Разделы",content:t.jsx(rw,{pages:x,showNotFound:!1}),clear:()=>{w(null)},search:R=>{if(e){const B=Hu(R,e);w(B)}},data:x},{title:"Студенты",content:t.jsx(Yr,{people:m,type:"stud"}),data:m,clear:()=>{b(null)},search:async R=>{const{data:B}=await lc(R,"",1,20);b(B.items)}},{title:"Сотрудники",content:t.jsx(Yr,{people:f,type:"staff"}),data:f,clear:()=>{g(null)},search:async R=>{if(a){if(!o)return;const B=Uu(o,R);g(B)}else{const{data:B}=await rc(R,"",1,20);g(B.items)}}},{title:"Группы",content:t.jsx(aI,{groups:l}),data:l,clear:()=>{p(null)},search:async R=>{const{data:B}=await jo(R);p(B.items)}},{title:"Подразделения",content:t.jsx(iI,{divisions:d}),data:d,clear:()=>{h(null)},search:async R=>{const{data:B}=await Es(R);h(B.items)}},{title:"Уведомления",content:t.jsx(Fu,{notifications:_,loadingRemove:n}),clear:()=>{S(null)},search:R=>{const B=i.filter(ae=>Ae(ae.title).includes(R));S(B)},data:_},{title:"Полезная информация",content:t.jsx(dI,{blocks:k,isStaff:a}),clear:()=>{P(null)},search:R=>{const B=lI(R,r);P(B)},data:k}];return[(()=>{const{content:R,clear:B,data:ae}=T.reduce((U,Y)=>(us(Y.data)&&(U.data.push(Y.data),U.content.push(t.jsxs(t.Fragment,{children:[t.jsx(L,{size:4,align:"left",children:Y.title}),Y.content,t.jsx(be,{})]}))),U.clear.push(Y.clear),U),{content:[],clear:[],data:[]});return{title:"Все",content:R,clear:()=>B.map(U=>U()),search:async U=>{U.length<=8&&/\d|[-]/g.test(U)?await T[3].search(U):(T[0].search(U),T[5].search(U),T[6].search(U),us(T[0].data)===0&&(await T[1].search(U),await T[2].search(U),await T[4].search(U)))},data:ae}})(),...T]},uI=()=>JSON.parse(localStorage.getItem(q.SearchHistory)??"[]"),hI=()=>{const e=pI(),[i,n]=c.useState(0),[s,o]=c.useState(""),a=c.useMemo(()=>uI(),[]),r=async g=>{e[i].clear();const m=zc(g)?Rc(g):g;await e[i].search(m),m.length>0&&!a.includes(m)&&(a.unshift(m),a.length>8&&a.pop(),localStorage.setItem(q.SearchHistory,JSON.stringify(a)))},[l,p,d]=Rs({onDebounce:r,delay:400,defaultValue:"",deps:[i.toString()],triggerDelay:200,triggerOn:g=>(o(g),g.length>0&&(s!==g||!e[i].data))}),h=!d&&!l.length,f=!!l.length&&!d&&!!us(e[i].data);return{showMessage:h,showSearchResult:f,searchValue:l,setSearchValue:p,currentPage:i,setCurrentPage:n,config:e,loading:d,searchHistory:a}},gI=(e,i,n)=>i.length===0?n.map(s=>({id:s,title:s,value:s,icon:t.jsx(or,{})})):e?n.filter(s=>Ae(s).includes(Ae(i))).map(s=>({id:s,title:s,value:s,icon:t.jsx(or,{})})):[],fI=()=>t.jsxs(E,{gap:"8px",ai:"flex-start",children:[t.jsx(X,{shape:"circle",size:{width:"40px",height:"40px"},margin:"0"}),t.jsxs(E,{gap:"6px",d:"column",ai:"flex-start",jc:"center",h:"100%",children:[t.jsx(X,{shape:"rect",size:{width:"300px",height:"13px"},margin:"0"}),t.jsx(X,{shape:"rect",size:{width:"220px",height:"10px"},margin:"0"})]})]}),mI=u.div.withConfig({componentId:"sc-e9aqhx-0"})(["@media (max-width:1000px){height:600px;}@media (min-width:1001px){width:600px;height:600px;}"]),xI=()=>{const{showMessage:e,showSearchResult:i,searchValue:n,setSearchValue:s,currentPage:o,setCurrentPage:a,loading:r,config:l,searchHistory:p}=hI(),d=gI(r,n,p),{isOpen:h}=H();return t.jsx(mI,{children:t.jsxs(E,{d:"column",gap:"8px",h:"100%",children:[t.jsx(Li,{value:n,setValue:s,loading:r,focusOn:h,hints:d}),t.jsx(Vs,{pages:l.map(({title:f})=>({title:f})),currentPage:o,setCurrentPage:a}),t.jsx(Fc,{value:n,setValue:s}),e&&t.jsx(E,{h:"100%",children:t.jsx(je,{size:"60px",text:'Введите что-нибудь. Например, "Цифровые сервисы"',image:t.jsx(ji,{})})}),!r&&n.length!==0&&!e&&!us(l[o].data)&&t.jsx(E,{h:"100%",children:t.jsx(je,{size:"60px",text:"Ничего не было найдено",image:t.jsx(Wo,{})})}),r&&Array(10).fill(0).map((f,g)=>t.jsx(fI,{},g)),i&&t.jsx(t.Fragment,{children:l[o].content})]})})},bI=u(Tt).withConfig({componentId:"sc-mk3bac-0"})(["cursor:pointer;box-shadow:",";border-radius:17px;","{align-items:flex-start;}&:hover{filter:brightness(0.96);}"],({size:e})=>e==="small"&&"var(--block-shadow-1)",V.isTablet),wI=u.div.withConfig({componentId:"sc-mk3bac-1"})(["background-color:var(--theme-1);width:23px;height:23px;display:flex;align-items:center;justify-content:center;font-size:0.73rem;font-weight:500;width:fit-content;padding:4px 6px;border-radius:4px;color:var(--theme-mild-opposite);"]),vI=u(E).withConfig({componentId:"sc-mk3bac-2"})(["@media (max-width:1000px){display:none;}"]),yI=()=>{const e=XS();return{Windows:[{title:"CTRL",key:17},{title:"K",key:75}],Linux:[{title:"CTRL",key:17},{title:"K",key:75}],UNIX:[{title:"CTRL",key:17},{title:"K",key:75}],MacOS:[{title:"CMD",key:91,icon:t.jsx(Hl,{})},{title:"K",key:75}],iOS:[],Android:[]}[e]},jI=({size:e="large",forwardedRef:i})=>{const n=yI(),{open:s}=H(),o=e==="large"?"16px":"8px",a=e==="large"?"100%":"92%",r=()=>s(t.jsx(xI,{}),"Глобальный поиск");return Bu(n.map(({key:l})=>l),r),e==="icon"?t.jsx(j,{direction:"vertical",icon:t.jsx(ji,{}),width:"40px",minWidth:"40px",shrinkTextInMobile:!0,background:"transparent",onClick:r}):t.jsxs(bI,{ref:i,tabIndex:0,maxWidth:"750px",width:a,size:e,height:"fit-content",padding:o,justifyContent:"space-between",onClick:r,children:[t.jsx(se,{align:"left",fontSize:"0.9rem",children:t.jsxs(E,{gap:"8px",children:[t.jsx(ji,{}),"Поиск"]})}),t.jsx(vI,{w:"fit-content",gap:"4px",children:n.map(l=>t.jsx(wI,{children:(l==null?void 0:l.icon)??l.title??""},l.key))})]})},Wu=c.memo(jI),kI=He(YS),_I=u.div.withConfig({componentId:"sc-14deoyy-0"})(["padding:4px;border-radius:var(--brLight);display:flex;align-items:center;gap:12px;&:hover{background-color:var(--theme-1t);}"]),CI=({showSearch:e=!1})=>{const{data:{user:i}}=ke.useUser();if(!i)return null;const n=s=>{s.preventDefault(),s.stopPropagation(),$e.open({e:s,height:143,content:t.jsx($u,{})})};return t.jsxs(_I,{children:[e&&t.jsx(Wu,{size:"icon"}),t.jsx(kI,{tutorialModule:{id:"home",step:3,params:{position:"bottom"}}}),t.jsx(yt,{onClick:n,width:"30px",height:"30px",avatar:i.avatar,name:i.fullName,marginRight:"0"})]})},SI=u.header.withConfig({componentId:"sc-1im86yp-0"})(["width:calc(100% - 15px);height:var(--header-height);box-shadow:",";background:",";z-index:12;align-items:center;position:absolute;justify-content:center;top:0;padding:0 15px;transition:0.1s background;color:var(--text);display:",";background-color:var(--theme);& .back-button-wrapper button{transform:translateX(",");}","{& .back-button-wrapper button{transform:translateX(",");}}","{padding:0 15px;width:100%;justify-content:flex-start;& .back-button-wrapper button{transform:none;}}"],({headerVisible:e})=>e?"var(--very-mild-shadow)":"none",({headerVisible:e})=>e?"var(--theme)":"transparent",({hidden:e=!1})=>e?"none":"flex",({headerVisible:e})=>e?"-35px":"0",V.isTablet,({headerVisible:e})=>e?"-25px":"0",V.isMobile),II=({maxWidth:e})=>e==="100%"||e==="963px"?"calc(100% - 55px)":`calc(${e} - 40px)`,TI=({maxWidth:e})=>e==="100%"||e==="963px"?"calc(100% - 44px)":`calc(${e} - 40px)`,EI=u.div.withConfig({componentId:"sc-1im86yp-1"})(["max-width:",";width:100%;font-size:",";font-weight:600;transition:0.2s transform,0.2s font-size;position:absolute;white-space:",";overflow:hidden;text-overflow:ellipsis;pointer-events:none;will-change:transform;@media (max-width:1232px){max-width:",";}@media (min-width:1001px){transform:",";}","{max-width:",";transform:",";}","{transform:",";width:",";}"],({maxWidth:e})=>`calc(${e} - ${e==="100%"?"55":"40"}px)`,({headerVisible:e})=>e?"1.1rem":"1.4rem",({headerVisible:e})=>e?"nowrap":"normal",II,({headerVisible:e})=>`translate(${e?"-20px, 0":"0px, 75px"})`,V.isTablet,TI,({headerVisible:e})=>`translate(${e?"-14px, 0":"6px, 75px"})`,V.isMobile,({headerVisible:e,noButton:i})=>`translate(${e?i?"0, 0":"25px, 0":"0px, 50px"})`,({headerVisible:e})=>e?"180px":"calc(100% - 30px)"),PI=()=>{const{pathname:e}=Mt(),[i,n]=c.useState([e]),{action:s}=pt();return c.useEffect(()=>{switch(s){case"POP":n(i.length>1?i.slice(0,i.length-1):i);break;case"PUSH":n([...i,e]);break;case"REPLACE":n([...i.slice(0,i.length-1),e])}},[e,s]),i},AI=({visible:e=!0,text:i="Назад",fullWidth:n=!0})=>{if(!e)return null;const s=pt();return t.jsx(j,{text:i,onClick:()=>s.goBack(),icon:t.jsx(Yn,{}),textColor:"var(--blue)",background:"transparent",width:n?"100%":void 0,padding:"0",height:"20px",align:"left"})},NI=({headerVisible:e,currentPage:i})=>{const n=pt(),s=PI(),o=e||!!(i!=null&&i.planeHeader),a=Qc(i),r=(d=tn)=>()=>{Wt.changeOpen({isOpen:!1,currentPage:d.slice(1,d.length)}),n.push(d)},l=de.useMemo(()=>i?i.isSubPage&&i.subPageHeaderTitle||i.title:"",[i]);return{backButton:de.useMemo(()=>i!=null&&i.withoutBackButton?null:i!=null&&i.isSubPage?s.length>1?t.jsx(AI,{text:o?"":i==null?void 0:i.backButtonText,fullWidth:!1}):i.fallbackPrevPage?t.jsx(j,{direction:"vertical",icon:t.jsx(Yn,{}),onClick:r(i.fallbackPrevPage),background:"transparent"}):t.jsx(j,{direction:"vertical",icon:t.jsx(Yn,{}),onClick:r(),background:"transparent"}):t.jsx(j,{icon:t.jsx(Yn,{}),onClick:r(),background:"transparent",text:o?void 0:"Все разделы",padding:"0",textColor:"var(--blue)"}),[i,s,r]),headerTitle:l,maxWidth:a,currentPage:i,isHeaderVisible:o}},DI=({currentPage:e,headerVisible:i=!1})=>{var p;const{isMobile:n,isTablet:s}=Xe(),{headerTitle:o,backButton:a,isHeaderVisible:r,maxWidth:l}=NI({currentPage:e,headerVisible:i});return e!=null&&e.withoutHeader?null:t.jsxs(SI,{headerVisible:r,hidden:(p=e??e)==null?void 0:p.withoutHeader,children:[t.jsx(EI,{maxWidth:l,noButton:e==null?void 0:e.withoutBackButton,headerVisible:r,children:o}),t.jsxs(E,{jc:"space-between",mw:l,children:[t.jsx("div",{className:"back-button-wrapper",children:a??t.jsx("div",{})}),(n||s)&&t.jsx(CI,{showSearch:!0})]})]})},OI=de.memo(DI),LI=["isCurrent","color"],RI=u(te).withConfig({shouldForwardProp:e=>!LI.includes(e)}).withConfig({componentId:"sc-fv2sjn-0"})(["position:relative;display:flex;align-items:center;font-weight:600;width:100%;justify-content:flex-start;padding:10px 0;margin:3px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;border-radius:var(--brLight);color:",";& > button{opacity:0;position:absolute;top:50%;right:-10px;transform:translateY(-50%);}.title{opacity:",";width:100%;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}svg{opacity:",";min-width:22px;width:22px;height:22px;margin-right:12px;}&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:hover > button{opacity:1;}&::before{content:'';width:8px;height:8px;display:block;position:absolute;top:50%;left:-15px;transform:translateY(-50%);background:",";border-radius:10px;transition:0.2s opacity;opacity:",";}","{margin:0;height:100%;font-weight:",";& > button{display:none;}justify-content:center;svg{margin-right:0px;transform:translateY(-5px);}&::before{display:none;top:-2px;left:50%;transform:translateX(-50%);}.notification{top:10px;right:0px;}.title{position:absolute;left:50%;transform:translate(-50%);bottom:8px;font-size:0.65em;width:100%;text-align:center;}}"],({color:e,isCurrent:i})=>e&&i?y[e].main:"var(--text)",({isCurrent:e})=>e?1:.8,({isCurrent:e})=>e?1:.8,({color:e})=>e?y[e].main:"var(--reallyBlue)",({isCurrent:e})=>e?1:0,V.isTablet,({isCurrent:e})=>e?800:600),zI=u.div.withConfig({componentId:"sc-pybq4t-0"})(["min-width:235px;width:235px;height:",";box-shadow:var(--very-mild-shadow);border-radius:0 var(--brSemi) var(--brSemi) 0;background:var(--block);z-index:4;display:flex;flex-direction:column;justify-content:space-between;row-gap:20px;align-items:center;box-sizing:border-box;padding:20px 15px;transition:0.2s transform,width 0.3s,0.2s left,0.2 opacity;-webkit-tap-highlight-color:rgba(255,255,255,0);.top-wrapper{width:100%;display:flex;flex-direction:column;justify-content:space-between;row-gap:20px;align-items:center;max-height:100%;}@media (max-width:1000px){transition:0.2s left,0.2s opacity;position:absolute;left:",";opacity:",";width:100%;font-size:0.9em;.top-wrapper{max-height:calc(100% - 60px);img{width:200px;}}}"],({height:e})=>e+"px",({isOpen:e})=>e?"0":"-100%",({isOpen:e})=>e?"1":"0"),FI=u.div.withConfig({componentId:"sc-4k88a5-0"})(["overflow-y:auto;width:100%;display:flex;flex-direction:column;box-sizing:border-box;padding:0 15px;border-radius:12px;"]);u.button.withConfig({componentId:"sc-1imfnv0-0"})(["position:relative;display:flex;align-items:center;font-weight:700;width:100%;justify-content:flex-start;padding:10px 0;margin:10px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;border:none;background:transparent;color:var(--text);svg{width:22px;height:22px;margin-right:7px;}&::before{content:'';height:20px;width:0;display:block;position:absolute;top:50%;left:-15px;transform:translateY(-50%);background:var(--blue);border-radius:10px;transition:0.2s width;}&:hover::before{width:5px;background:var(--red);}"]);const MI=e=>{const{menuPath:i,path:n,icon:s,title:o,isCurrent:a,isAdmin:r,color:l,notifications:p}=e;return t.jsxs(RI,{to:i??n,className:"leftside-bar-item",color:l,isCurrent:a,title:o,children:[t.jsx(si,{className:"notification",top:"50%",visible:r,right:"-20px",color:"pink",children:"A"}),t.jsx(si,{className:"notification",top:"50%",visible:!!p,right:r?"0px":"-20px",color:"red",children:p}),s,t.jsx("span",{className:"title",children:o}),t.jsx(Kc,{route:e})]})},Gu=de.memo(MI),$I=()=>{const{isOpen:e}=dt.useMenu();return t.jsx(t.Fragment,{children:t.jsx(j,{icon:t.jsx(St,{}),onClick:()=>Wt.changeOpen({isOpen:!e}),text:"Закрыть меню",width:"100%"})})};u.section.withConfig({componentId:"sc-19vxgfm-0"})(["width:100%;max-width:270px;color:#383634;border-bottom:1px solid rgba(56,54,52,0.08);transition-property:padding-top,padding-bottom;transition:0.3s ease-in-out;"]);u.div.withConfig({componentId:"sc-19vxgfm-1"})(["height:0;opacity:0;overflow:hidden;transition:all 0.3s ease-in-out;&.show{height:180px;opacity:1;}"]);const BI=({forwardedRef:e})=>{const i=z(un.leftSidebar),n=Mt();return i?t.jsx(FI,{ref:e,children:Object.values(i).filter(Boolean).map(s=>c.createElement(Gu,{...s,key:s==null?void 0:s.id,isCurrent:n.pathname.includes(s.path)}))}):t.jsxs(E,{d:"column",children:[t.jsxs(E,{gap:"8px",children:[t.jsx(X,{shape:"rect",size:{width:"30px",height:"30px"}}),t.jsx(X,{shape:"rect",size:{width:"160px",height:"18px"}})]}),t.jsxs(E,{gap:"8px",children:[t.jsx(X,{shape:"rect",size:{width:"30px",height:"30px"}}),t.jsx(X,{shape:"rect",size:{width:"160px",height:"18px"}})]}),t.jsxs(E,{gap:"8px",children:[t.jsx(X,{shape:"rect",size:{width:"30px",height:"30px"}}),t.jsx(X,{shape:"rect",size:{width:"160px",height:"18px"}})]}),t.jsxs(E,{gap:"8px",children:[t.jsx(X,{shape:"rect",size:{width:"30px",height:"30px"}}),t.jsx(X,{shape:"rect",size:{width:"160px",height:"18px"}})]})]})},HI=de.memo(BI),UI=He(Wu),WI=He(({forwardedRef:e,to:i,children:n})=>t.jsx(te,{ref:e,to:i,children:n})),GI=He(HI),VI=u(te).withConfig({componentId:"sc-djarn2-0"})(["display:flex;flex-direction:column;align-items:center;gap:10px;height:fit-content;border-radius:var(--brSemi);padding:20px;transition:0.2s;cursor:pointer;color:var(--text);position:relative;.more-button{top:0;right:0;position:absolute;}&:hover{background:var(--theme-1);}"]),qI=({name:e,avatar:i,loading:n,size:s,notifications:o,selected:a,forwardedRef:r})=>{if(n)return t.jsx(X,{shape:"circle",size:{width:"40px",height:"40px"}});const l=p=>{p.preventDefault(),p.stopPropagation(),$e.open({e:p,height:143,content:t.jsx($u,{})})};return t.jsxs(VI,{to:Xa,ref:r,children:[t.jsx(j,{icon:t.jsx(jl,{}),className:"more-button",background:"transparent",onClick:l}),t.jsx(yt,{notifications:o,width:s??"70px",height:s??"70px",avatar:i,name:e,marginRight:"0",selected:a}),t.jsx(L,{size:5,children:e})]})},YI=de.memo(qI),QI=He(YI),XI=({forwardedRef:e})=>{const{isOpen:i}=dt.useMenu(),{width:n,height:s}=Cn(),{data:{user:o}}=ke.useUser(),{visibleRoutes:a}=dt.useMenu(),r=Mt();return t.jsxs(zI,{ref:e,isOpen:i,height:s,children:[t.jsxs("div",{className:"top-wrapper",children:[t.jsx(WI,{to:Qa,children:t.jsx(Ds,{width:"165px"})}),t.jsx(QI,{notifications:a==null?void 0:a.profile.notifications,avatar:o==null?void 0:o.avatar,name:(o==null?void 0:o.fullName)??"",loading:!o,selected:r.pathname==="/profile"}),t.jsx(UI,{size:"small"}),t.jsx(GI,{})]}),t.jsx(Lu,{type:"toggle"}),n<1e3&&t.jsx($I,{})]})},KI=u.div.withConfig({componentId:"sc-1h6ktrc-0"})(["width:300px;position:absolute;top:calc(var(--header-height) + 10px);right:20px;background:var(--theme);border-radius:var(--brLight);z-index:100;transition:0.2s transform,0.2s opacity,0.2s visibility;transform:translateY(",");opacity:",";visibility:",";font-weight:600;cursor:",";@media (max-width:1000px){top:20px;bottom:auto;left:50%;transform:translate(",");font-size:0.8em;}"],({isOpen:e})=>e?"0px":"-20px",({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isClickable:e})=>e?"pointer":"normal",({isOpen:e})=>e?"-50%, 0px":"-50%, -20px"),JI=()=>{const{isOpen:e,message:i,type:n,time:s,onClick:o}=Vx.usePopUpMessage();c.useEffect(()=>{e&&setTimeout(()=>{G.openPopUpMessage({isOpen:!e})},s)},[e]);const a=c.useCallback(()=>{o&&(o(),G.openPopUpMessage({isOpen:!e}))},[o]);return t.jsx(KI,{isOpen:e,isClickable:!!o,color:ii[n].color,onClick:a,children:t.jsx(Z,{type:n,fontSize:"1em",lineHeight:"1.4rem",onClose:()=>G.openPopUpMessage({isOpen:!1}),children:i})})},ro=u.div.withConfig({componentId:"sc-nj31nr-0"})(["display:flex;justify-content:center;align-items:center;position:absolute;z-index:5;width:100%;height:100%;padding:0 30px;background-color:rgba(0,0,0,0.5);animation:",";@keyframes wrapperOpened{0%{opacity:0;visibility:hidden;display:none;}100%{opacity:1;visibility:visible;}}@keyframes wrapperClosed{0%{opacity:1;visibility:visible;}100%{opacity:0;visibility:hidden;display:none;}}@media (max-width:800px){padding:8px;align-items:flex-end;}"],({isOpen:e})=>e?"wrapperOpened 0.2s forwards":"wrapperClosed 0.2s forwards");u.div.withConfig({componentId:"sc-1hrawwq-0"})(["display:block;position:absolute;bottom:50%;left:50%;width:100%;max-width:390px;border-radius:var(--brLight);background:var(--block);box-shadow:0 0 40px #0000002f;color:var(--text);z-index:10000;white-space:pre-line;padding:15px;transition:0.2s;opacity:",";visibility:",";transform:translateY(",") translateX(-50%) scale(",");@media (max-width:1000px){bottom:10px;width:calc(100% - 20px);transform:translateY(0) translateX(-50%) scale(",");}"],({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isOpen:e})=>e?"50%":"51%",({isOpen:e})=>e?"1":"0.95",({isOpen:e})=>e?"1":"0.95");const ZI=()=>{const{isOpen:e,component:i,canBack:n,back:s,close:o,title:a}=c.useContext(ra);return{back:s,close:o,isOpen:e,canBack:n,component:i,title:a}},eT=u.div.withConfig({componentId:"sc-15qdo6c-0"})(["background:var(--block);color:var(--text);padding:20px;min-height:150px;max-height:90vh;border-radius:var(--brLight);transition:0.2s opacity,0.2s transform;overflow:auto;& > .title-wrapper{margin-left:",";padding-right:50px;white-space:break-spaces;max-width:600px;hyphens:auto;}.close-button,.back-button{position:absolute;top:14px;}.back-button{left:",";}.close-button{right:20px;z-index:100;padding:8px;border-radius:100%;}@media (max-width:1000px){font-size:0.9em;padding-top:15px;}@media (min-width:801px){transform:scale(",");}@media (max-width:800px){padding:15px;width:100%;max-height:80%;height:fit-content;bottom:0;border-radius:20px 20px 0 0;animation:",";border-radius:var(--brLight);@keyframes openAnimation{0%{transform:scale(1) translateY(150px);}100%{transform:scale(1) translateY(0px);}}@keyframes closeAnimation{0%{transform:scale(1) translateY(0px);}100%{transform:scale(1) translateY(150px);}}.close-button{right:15px;}h3{margin-top:7px;}}"],({hasBack:e})=>e?"15px":"0px",({hasTitle:e})=>e?"4px":"12px",({isOpen:e})=>e?1:.95,({isOpen:e})=>e?"openAnimation 0.2s forwards":"closeAnimation 0.2s forwards"),tT=u.div.withConfig({componentId:"sc-19qk8je-0"})(["padding-top:30px;"]),iT=()=>{const{isOpen:e,component:i,canBack:n,back:s,close:o,title:a}=ZI(),r=c.useRef(null),l=c.useMemo(()=>e&&!!i,[e,i]);return Bu([27],o),Oi(r,()=>{o()}),l?t.jsx(ro,{isOpen:l,children:t.jsxs(eT,{isOpen:l,ref:r,hasBack:n,hasTitle:!!a,children:[n&&t.jsx(j,{onClick:s,icon:t.jsx(jn,{}),text:a?"":"Назад",background:"transparent",textColor:"var(--theme-opposite)",width:"fit-content",align:"left",padding:"8px",height:"fit-content",className:"back-button"}),a&&t.jsx(L,{size:3,align:"left",children:a}),t.jsx(j,{onClick:o,icon:t.jsx(St,{}),className:"close-button",height:"35px",minWidth:"35px",width:"35px",background:"var(--almostTransparent)"}),t.jsx(tT,{children:i})]})}):null},nT=de.memo(iT),sT=u.div.withConfig({componentId:"sc-18woxeq-0"})(["position:absolute;bottom:50%;left:50%;width:100%;max-width:390px;border-radius:var(--brLight);background:var(--block);box-shadow:0 0 40px #0000002f;color:var(--text);z-index:10000;padding:20px;transition:0.2s;opacity:",";visibility:",";transform:translateY(",") translateX(-50%) scale(",");@media (max-width:1000px){bottom:10px;width:calc(100% - 20px);transform:translateY(0) translateX(-50%) scale(",");}"],({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isOpen:e})=>e?"50%":"51%",({isOpen:e})=>e?"1":"0.95",({isOpen:e})=>e?"1":"0.95"),oT=()=>{const{isOpen:e,message:i,onConfirm:n,onReject:s,isSubmitSuccess:o}=ib.useConfirm(),a=c.useRef(null);Oi(a,()=>Ge.closeConfirm());const r=()=>{n(),Ge.closeConfirm()},l=()=>{Ge.closeConfirm()};return t.jsx(ro,{isOpen:e,children:t.jsxs(sT,{isOpen:e,ref:a,children:[t.jsx(L,{size:3,align:"left",children:i??"Хотите продолжить?"}),t.jsxs(Ne,{width:"100%",scroll:!1,direction:"horizontal",gap:5,padding:"10px 0 0 0",horizontalAlign:"right",children:[t.jsx(j,{text:"Да",onClick:r,width:"90px",textColor:o?y.green.main:y.red.main,background:"transparent",hoverBackground:o?y.green.transparent3:y.red.transparent3}),t.jsx(j,{text:"Нет",onClick:s??l,width:"90px",textColor:o?y.blue.light1:y.blue.main,background:"transparent",hoverBackground:y.blue.transparent3})]})]})})},aT=He(Vs),rT=u.div.withConfig({componentId:"sc-fuzzlp-0"})(["display:flex;align-items:",";flex-direction:column;width:",";max-width:",";height:100%;& > .slider-content{display:flex;width:100%;max-width:",";overflow-x:auto;margin-top:10px;scroll-snap-type:x mandatory;&::-webkit-scrollbar{display:none;}& > * + *{margin-left:10px;}.slider-page{height:100%;min-width:100%;scroll-snap-align:center;}}@media (max-width:1000px){& > div{scroll-behavior:smooth;.slider-page{min-width:100%;scroll-snap-align:center;}}}"],({align:e})=>_o(e),({width:e})=>e??"100%",({maxWidth:e})=>e??"100%",({maxWidth:e})=>e??"100%"),lo=({pages:e,currentPage:i=0,width:n,className:s,maxWidth:o,sliderWidth:a,onChangePage:r,align:l="center",appearance:p=!0})=>{const[d,h]=c.useState(i),{width:f}=Cn(),g=c.useRef(null),m=()=>{var w,_;g!=null&&g.current&&h(Math.round(((w=g.current)==null?void 0:w.scrollLeft)/((_=g.current)==null?void 0:_.clientWidth)))},b=w=>{var _;h(w),r==null||r((_=e[w])==null?void 0:_.id),g!=null&&g.current&&(g.current.scrollLeft=g.current.clientWidth*w)};c.useEffect(()=>{b(d)},[i,f]);const x=z(Se.roles);return t.jsxs(rT,{width:n,align:l,maxWidth:o,children:[t.jsx(aT,{pages:e.map(({title:w,condition:_})=>({title:w,condition:_})),currentPage:d,setCurrentPage:b,sliderWidth:a,appearance:p,tutorialModule:{id:"payments",step:x.includes("dormitory")&&x.includes("education")?0:-1,params:{position:"bottom",noScroll:!0}}}),t.jsx("div",{className:s??"slider-content",ref:g,onScroll:m,children:e.map(w=>w.condition!==void 0&&w.condition||w.condition===void 0?t.jsx("div",{className:"slider-page",children:w.content},w.title):t.jsx("div",{className:"slider-page",children:t.jsx(je,{text:"Нет данных"})},w.title))})]})},hs=e=>{const i=Ae(e),s=[{keys:["распознаван"],icon:t.jsx(Df,{})},{keys:["принт"],icon:t.jsx(Of,{})},{keys:["химич"],icon:t.jsx(Lf,{})},{keys:["сервер"],icon:t.jsx(Rf,{})},{keys:["игр"],icon:t.jsx(zf,{})},{keys:["жизнед"],icon:t.jsx(Ff,{})},{keys:["web","веб"],icon:t.jsx(Mf,{})},{keys:["истор"],icon:t.jsx($f,{})},{keys:["информат"],icon:t.jsx(Bf,{})},{keys:["информации"],icon:t.jsx(_t,{})},{keys:["мобильн"],icon:t.jsx(Hf,{})},{keys:["безопасн"],icon:t.jsx(Uf,{})},{keys:["автоматиз"],icon:t.jsx(Wf,{})},{keys:["линейн"],icon:t.jsx(Gf,{})},{keys:["обработ"],icon:t.jsx(Vf,{})},{keys:["презентац"],icon:t.jsx(qf,{})},{keys:["операционн"],icon:t.jsx(Hl,{})},{keys:["эконом"],icon:t.jsx(zt,{})},{keys:["информацион","программир","сайт"],icon:t.jsx(Yf,{})},{keys:["анализ"],icon:t.jsx(Qf,{})},{keys:["компьют","алгоритм","электрон"],icon:t.jsx(Xf,{})},{keys:["сети","сетей"],icon:t.jsx(Kf,{})},{keys:["матем"],icon:t.jsx(Jf,{})},{keys:["вероятн"],icon:t.jsx(Zf,{})},{keys:["философ"],icon:t.jsx(vl,{})},{keys:["данны"],icon:t.jsx(em,{})},{keys:["язык"],icon:t.jsx(tm,{})},{keys:["спорт","физичес"],icon:t.jsx(im,{})},{keys:["проектная"],icon:t.jsx(vo,{})},{keys:["интеллект"],icon:t.jsx(nm,{})},{keys:["научн"],icon:t.jsx(Ul,{})},{keys:["предприним"],icon:t.jsx(sm,{})},{keys:["коммуникац"],icon:t.jsx(om,{})},{keys:["управлени"],icon:t.jsx(Xo,{})},{keys:["вкр","итоговая","аттестация"],icon:t.jsx(Wl,{})},{keys:["переработ"],icon:t.jsx(am,{})},{keys:["машин","инжен"],icon:t.jsx(rm,{})},{keys:["проектир","расчет"],icon:t.jsx(lm,{})},{keys:["производ"],icon:t.jsx(_l,{})},{keys:["эколог"],icon:t.jsx(cm,{})},{keys:["защит"],icon:t.jsx(dm,{})},{keys:["патент"],icon:t.jsx(pm,{})},{keys:["материал"],icon:t.jsx(um,{})},{keys:["физик"],icon:t.jsx(hm,{})},{keys:["тайм"],icon:t.jsx(Gl,{})},{keys:["практика"],icon:t.jsx(Ko,{})}].find(o=>o.keys.find(a=>i.includes(a)));return s?s.icon:t.jsx(Nf,{})},$o={"9:00 - 10:30":y.green,"10:40 - 12:10":y.lightGreen,"12:20 - 13:50":y.blue,"14:30 - 16:00":y.purple,"16:10 - 17:40":y.pink,"17:50 - 19:20":y.red,"18:20 - 19:40":y.orange,"19:30 - 21:00":y.orange,"19:50 - 21:10":y.orange},Vu=({deps:e,getScrollTopValue:i,condition:n=!0})=>{const s=c.useRef(null);return c.useLayoutEffect(()=>{if(s.current&&n){const o=i(s.current);s.current.scrollTop=o}},[s,...e??[]]),s},lT=u.div.withConfig({componentId:"sc-alup4q-0"})(["padding-left:var(--time-width);position:relative;width:100%;height:100%;overflow-y:auto;display:flex;&::-webkit-scrollbar{display:none;}"]),co=(e,i="minutes")=>{switch(i){case"minutes":const n=new Date,[s,o]=e.split(":");return+s*60+ +o-(n.getHours()*60+n.getMinutes());case"days":const a=new Date(e);return Math.ceil(Math.floor((a.getTime()-new Date().getTime())/1e3/60/60)/24)}},cT=e=>{if(!e)return 1/0;const i=e.reduce((n,s)=>{const o=co(s.startTime);return o>0&&n.push(o),n},[]);return Math.min(...i)},qu=(e,i,n)=>cT(e)===co(i.startTime)&&n,hn=e=>e<=9?"0"+e:e,dT=e=>`${hn(Math.floor(e/60))}:${hn(e%60)}`,Qr=(e=new Date,i,n)=>{const s=e.getHours()*60+e.getMinutes();return i&&s<i?i:n&&s>n?n:s},pT=u.div.withConfig({componentId:"sc-1a1n8va-0"})(["background:",";position:absolute;width:calc(100% + 45px);height:calc(100% + 25px);left:",";top:",";z-index:-1;overflow:hidden;","{width:calc(100% + 40px);}"],({background:e})=>e,({noPadding:e})=>e?"-25px":0,({noPadding:e})=>e?"-55px":0,V.isMobile),uT=u.div.withConfig({componentId:"sc-1a1n8va-1"})(["position:absolute;right:0;width:70%;top:0;height:100%;z-index:1;& > div{top:50%;left:50%;position:inherit;}& > div:nth-child(1){top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.04;svg{width:170px;height:170px;}}& > div:nth-child(2){opacity:0.03;transform:translate(100px,-90px);svg{width:100px;height:100px;}}& > div:nth-child(3){opacity:0.02;transform:translate(-175px,0px);svg{width:70px;height:70px;}}& > div:nth-child(4){opacity:0.01;transform:translate(90px,10px);svg{width:50px;height:50px;}}"]),hT=u(E).withConfig({componentId:"sc-1a1n8va-2"})(["font-size:",";cursor:",";&:hover{background:",";}","{font-size:",";}"],({shortInfo:e})=>`${e?.92:1}rem`,({onClick:e})=>e&&"pointer",({onClick:e})=>e&&"var(--theme-1t)",V.isMobile,({shortInfo:e})=>`${e?.6:.95}rem`),Xr=u.div.withConfig({componentId:"sc-1a1n8va-3"})(["opacity:0.7;width:fit-content;height:fit-content;display:flex;align-items:center;justify-content:center;svg{width:","px;height:","px;}","{svg{width:16px;height:16px;}}"],({shortInfo:e})=>e?16:18,({shortInfo:e})=>e?16:18,V.isMobile),gT=u(se).withConfig({componentId:"sc-1a1n8va-4"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:auto;"]),fT=u.div.withConfig({componentId:"sc-1a1n8va-5"})(["position:absolute;display:flex;align-items:center;width:100%;height:2px;z-index:-2;top:",";&::before{display:block;content:'';min-width:10px;height:10px;border-radius:12px;background:",";}&::after{content:'';display:block;width:100%;height:2px;background:",";}"],({currentTime:e})=>`${e}px`,y.red.main,y.red.main),mT=u.div.withConfig({componentId:"sc-1a1n8va-6"})(["color:",";font-weight:500;background:var(--block);position:absolute;font-size:0.82rem;width:var(--time-width);left:calc(var(--time-width) * -1);box-shadow:-26px 0 26px 26px var(--block);","{background:var(--theme);box-shadow:-26px 0 26px 26px var(--theme);font-size:0.7rem;}"],y.red.main,V.isMobile),xT=({isVisible:e=!0,shift:i,scale:n,interval:s,showTime:o=!0})=>{const[a,r]=c.useState(Qr(new Date,s[0]*60,s[1]*60)),l=c.useRef(null);return c.useEffect(()=>(l.current=setInterval(()=>{r(Qr(new Date,s[0]*60,s[1]*60))},ta.minute),()=>clearInterval(l.current)),[e]),t.jsx(fT,{currentTime:(a-i)*n,children:o&&t.jsx(mT,{children:dT(a)})})},Yu=e=>{if(e.includes("https://")){const i=e.split(" "),n=i.findIndex(o=>o.includes("https")),s=i.splice(n,n+1)[0];return{name:i.join(" "),link:s}}return{name:e}},Je=({icon:e,text:i,onClick:n,rightIcon:s,shortInfo:o=!1})=>t.jsxs(hT,{onClick:n,shortInfo:o,gap:"7px",mw:"100%",w:"fit-content",children:[t.jsx(Xr,{shortInfo:o,children:e}),t.jsx(gT,{width:"100%",className:"text",children:i}),t.jsx(Xr,{shortInfo:o,children:s})]}),bT=u.div.withConfig({componentId:"sc-1897254-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:400px;height:400px;}"]),wT=u(te).withConfig({componentId:"sc-1897254-1"})(["padding:8px;width:100%;height:40px;display:flex;align-items:center;justify-content:space-between;gap:12px;border-radius:var(--brLight);.start{display:flex;align-items:center;gap:12px;svg{width:20px;height:20px;}}&:hover{background:var(--theme-1t);}"]),vT=({groups:e})=>{const{close:i}=H();return t.jsx(bT,{children:e.map(n=>t.jsxs(wT,{to:Dn($i,{page:"current",filter:n.trim()}),onClick:i,children:[t.jsxs("div",{className:"start",children:[t.jsx(ki,{}),n]}),t.jsx(xt,{})]},n))})},yT=({icon:e,background:i,noPadding:n=!1})=>t.jsx(pT,{background:i,noPadding:n,children:t.jsxs(uT,{children:[t.jsx("div",{children:e}),t.jsx("div",{children:e}),t.jsx("div",{children:e}),t.jsx("div",{children:e})]})}),jT=({subjectName:e,color:i,noPadding:n})=>{const s=hs(e),o=z(ue.userSettings),a=o==null?void 0:o.appearance.theme,r=a===Ie.Light?i.dark3:i.light3,l=a===Ie.Light?i.light3:i.dark3,p=a===Ie.Light?i.light3:i.dark3;return t.jsxs(kT,{noPadding:n,textColor:r,iconBackground:p,children:[t.jsx(yT,{noPadding:n,icon:s,background:l}),t.jsx(wt,{color:i.main,size:70,borderRadius:"19px",children:s})]})},kT=u.div.withConfig({componentId:"sc-1bp7400-0"})(["width:100%;height:110px;position:relative;color:var(--text);margin-bottom:",";.icon{position:absolute;bottom:",";left:",";background:",";transition:0s;svg{color:",";}border:5px solid var(--block-content);}"],({noPadding:e})=>e?"0px":"40px",({noPadding:e})=>e?"-5px":"-50px",({noPadding:e})=>e?"-5px":"16px",({iconBackground:e})=>e,({textColor:e})=>e),_T=gm(['*{margin:0;padding:0;box-sizing:border-box;font-family:"Montserrat",sans-serif;line-height:130%;-webkit-tap-highlight-color:rgba(255,255,255,0);}h1,h2,h3,h4,h5,h6{font-weight:600;}#root{display:flex;height:100vh;height:100svh;height:100dvh;overflow:hidden;}html,body{-webkit-overflow-scrolling:touch;position:relative;height:100vh;height:100svh;height:100dvh;overflow:hidden;}@media (min-width:1001px){::-webkit-scrollbar{width:14px;}::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar-thumb{border-radius:100px;border:4px solid transparent;background-clip:content-box;background-color:var(--theme-mild-opposite);}::-webkit-scrollbar-thumb:hover{border:3px solid transparent;}}h1{color:var(--text-color);}a{text-decoration:none;color:var(--blue);&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}@keyframes defaultFadeIn{0%{transform:translateY(20px);opacity:0;}100%{transform:translateY(0px);opacity:1;}}']),CT=({color:e,start:i})=>`
&::before {
    content: '';
    background: ${e};
    display: block;
    width: 10px;
    height: 10px;
    border-radius: 10px;
    position: absolute;
    inset: 0;
    animation: ${i?"pulse-animation 1s infinite linear":"none"};
}

@keyframes pulse-animation {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform:  scale(2.5);
        opacity: 0;
    }
}`,Qu=({timeInterval:e,color:i,isCurrentEvent:n})=>{const s=z(ue.userSettings),a=(s==null?void 0:s.appearance.theme)===Ie.Light?i.main:i.light2;return t.jsxs(IT,{children:[t.jsx(ST,{start:n,color:a}),e&&t.jsx(TT,{children:e})]})},ST=u.div.withConfig({componentId:"sc-1dbtqbf-0"})(["min-width:10px;height:10px;border-radius:10px;background:",";position:relative;",""],({color:e})=>e,CT),IT=u.div.withConfig({componentId:"sc-1dbtqbf-1"})(["display:flex;align-items:center;min-width:fit-content;gap:6px;"]),TT=u.span.withConfig({componentId:"sc-1dbtqbf-2"})(["font-weight:500;font-size:0.8rem;","{font-size:0.7rem;}"],V.isMobile),ET=u.div.withConfig({componentId:"sc-or1lbw-0"})(["position:relative;height:100%;max-width:400px;@media (min-width:1001px){min-width:320px;width:100%;}.date-interval{opacity:0.6;font-size:0.7em;font-weight:600;}.time-and-next{display:flex;align-items:center;font-size:0.7em;font-weight:bold;margin:10px 0 5px 0;column-gap:3px;}.teachers{& > * + *{margin-top:5px;}}"]),PT=u(E).withConfig({componentId:"sc-or1lbw-1"})(["padding:",";hyphens:auto;height:calc(100% - 154px);"],({noPadding:e})=>e?"24px 0 0 0":"24px"),AT=e=>{const{timeInterval:i,name:n,place:s,teachers:o,dateInterval:a,link:r,rooms:l,groups:p,color:d,weekday:h,isNextEvent:f,isCurrentEvent:g,noPadding:m=!1}=e,b=(p==null?void 0:p.split(","))??[],{open:x}=H(),w=()=>{b.length===1?x(t.jsx(Ha,{group:b[0]})):x(t.jsx(vT,{groups:b}),"Группы")},_=()=>{x(t.jsx(DT,{place:s,link:r,name:n}))},S=Yu(n);return t.jsxs(ET,{children:[t.jsx(jT,{subjectName:n,color:d,noPadding:m}),t.jsxs(PT,{noPadding:m,d:"column",gap:"20px",ai:"flex-start",children:[t.jsxs(E,{jc:"space-between",ai:"flex-start",d:"column",gap:"6px",children:[t.jsxs(E,{gap:"8px",children:[t.jsx(Qu,{isCurrentEvent:g,color:d,timeInterval:i}),t.jsx(Xu,{timeLeft:co(i.split(" - ")[0],"minutes"),isNext:f,color:d,isCurrentEvent:g})]}),t.jsx(L,{size:3,align:"left",width:"fit-content",children:S.name})]}),t.jsx(be,{margin:"0",width:"100%"}),t.jsx(Je,{icon:t.jsx(Jo,{}),text:t.jsx(at,{words:[h??"",a]})}),((r==null?void 0:r.length)||S.link)&&t.jsx("a",{href:r??S.link,target:"_blank",rel:"noreferrer",children:t.jsx(Je,{icon:t.jsx(es,{}),text:r?s:"Ссылка"})}),!(r!=null&&r.length)&&t.jsx(Je,{icon:t.jsx(Ko,{}),text:s}),!!l.length&&t.jsx(Je,{icon:t.jsx(yo,{}),text:t.jsx(at,{words:l})}),!!b.length&&t.jsx(Je,{onClick:w,icon:t.jsx(Xo,{}),text:t.jsx(at,{words:b}),rightIcon:t.jsx(xt,{})}),t.jsx(E,{d:"column",ai:"flex-start",children:!!o[0].length&&t.jsxs(t.Fragment,{children:[t.jsx(L,{size:4,align:"left",bottomGap:!0,children:"Преподаватели"}),o.map(k=>t.jsx(On,{id:void 0,type:"staff",name:k},k))]})}),!r&&t.jsx(be,{margin:"0",width:"100%"}),!r&&t.jsx(j,{text:"Посмотреть на карте",width:"100%",onClick:_})]})]})};u.span.withConfig({componentId:"sc-16ge3ds-0"})(["padding:3px 10px;height:21px;display:flex;align-items:center;background:var(--search);background:",";border-radius:100px;color:#fff;white-space:nowrap;"],({isCurrent:e,darkColor:i,color2:n})=>e?i:n);const NT=u.a.withConfig({componentId:"sc-193y40x-0"})(["position:relative;width:100%;height:100%;color:#fff;text-decoration:none;img{width:100%;height:100%;object-fit:cover;object-position:center;filter:blur(3px);transform:scale(1.2);}h3{bottom:15px;left:15px;position:absolute;background:",";padding:5px 10px;border-radius:var(--brLight);}"],y.purple.main),Vn=({title:e,link:i,image:n})=>i?t.jsxs(NT,{href:i,children:[t.jsx("img",{src:n,alt:"",loading:"lazy"}),t.jsx(L,{size:3,children:e})]}):null,Kr=u.div.withConfig({componentId:"sc-xn2wuz-0"})(["","{width:500px;}height:200px;margin:10px 0 10px 0;overflow:hidden;display:flex;align-items:center;border-radius:8px;background:var(--theme-2);"],V.isNotMobile),DT=({place:e,link:i,name:n})=>{const[s,o]=c.useState(!1);return c.useEffect(()=>{o(!0),setTimeout(()=>o(!1),500)},[n]),s?t.jsx(Kr,{children:t.jsx(E,{jc:"center",children:t.jsx(ut,{})})}):t.jsx(Kr,{children:e==="Webex"?t.jsx(Vn,{title:e,link:i,image:"https://lh3.googleusercontent.com/-IR3NTxu_EJY/YMB7bMtdDOI/AAAAAAAAAmA/57OhYSNULo0ICfc3Q4TWAoRM7ohUFLJmwCLcBGAsYHQ/s220-w220-h140-nd/220x140%2BCisco%2BWebex%25281%2529.png"}):e==="Zoom"?t.jsx(Vn,{title:e,link:i,image:"https://yogaworks.ru/wp-content/uploads/2020/04/zoom-banner-600x300-600x300.jpg"}):e==="Обучение LMS"?t.jsx(Vn,{title:e,link:i,image:"https://online.mospolytech.ru/pluginfile.php/1/theme_opentechnology/settings_setpolytech_header_backgroundimage/1638781183/01.jpg"}):e==="Webinar"?t.jsx(Vn,{title:e,link:i,image:"https://apix-drive.com/ru/img/webinar_ru.png"}):e==="Прянишникова"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pryanishnikova_2a/Z04YcwNjTkAPQFtvfXRycntjbA==/?ll=37.545032%2C55.833931&utm_medium=mapframe&utm_source=maps&z=17",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Прянишникова, 2А на карте Москвы, ближайшее метро Коптево — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPA0PC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Автозаводская"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/avtozavodskaya_ulitsa_16/Z04YcANlSEwBQFtvfXtxdX5hZA==/?ll=37.646696%2C55.704260&utm_medium=mapframe&utm_source=maps&z=18.17",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Автозаводская улица, 16 — Яндекс Карты"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPsXDC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Павла Корчагина"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/org/moskovskiy_politekhnicheskiy_universitet/1743307891/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Московский Политехнический университет"}),t.jsx("a",{href:"https://yandex.ru/maps/213/moscow/category/university_college/184106140/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"ВУЗ в Москве"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPtC9A",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Большая Семеновская"?t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/org/moskovskiy_politekhnicheskiy_universitet/1113152789/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Московский политехнический университет"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBATAEkC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Михалковская "&&t.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[t.jsx("a",{href:"https://yandex.ru/maps/org/sportivny_klub_sektsiya/1699871922/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Спортивный клуб, секция"}),t.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBA-FspD",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]})})},Jr=u.div.withConfig({componentId:"sc-1cdmqzs-0"})(["border-radius:var(--brSemi);background:",";color:",";padding:3px 8px;white-space:nowrap;font-size:0.65rem;font-weight:500;"],({background:e})=>e,({color:e})=>e),Xu=({timeLeft:e,isNext:i,color:n,isCurrentEvent:s})=>{const o=Math.floor(e/60),a=z(ue.userSettings),r=a==null?void 0:a.appearance.theme,l=r===Ie.Light?n.dark3:n.light3,p=r===Ie.Light?n.transparent1:n.transparent3;return!i&&!s?null:s?t.jsx(Jr,{background:p,color:l,children:"Сейчас"}):t.jsxs(Jr,{background:p,color:l,children:["через ",!!o&&o+"ч."," ",e%60,"мин."]})},OT=u.div.withConfig({componentId:"sc-1a1fxjj-0"})(["width:100%;background:var(--block);padding:20px 15px;border-radius:9px;scroll-snap-align:center;.horizontal{display:flex;align-items:center;}"]),fN=()=>t.jsxs(OT,{children:[t.jsxs("div",{className:"horizontal",children:[t.jsx(X,{shape:"rect",size:{width:"86px",height:"20px"},margin:"0"}),t.jsx(X,{shape:"rect",size:{width:"60px",height:"14px"},margin:"0 5px"})]}),t.jsx(X,{shape:"rect",size:{width:"200px",height:"17px"},margin:"16px 0"}),t.jsxs("div",{className:"horizontal",children:[t.jsx(X,{shape:"rect",size:{width:"120px",height:"13px"},margin:"0"}),t.jsx(X,{shape:"rect",size:{width:"120px",height:"13px"},margin:"0 10px"})]}),t.jsx(X,{shape:"rect",size:{width:"80px",height:"12px"},margin:"5px 0"})]}),Ku="/assets/sleep-54d590c1.gif";var Ju=(e=>(e[e.day=0]="day",e[e.week=1]="week",e[e.month=2]="month",e))(Ju||{});const LT=[{title:"День",condition:!0},{title:"Неделя",condition:!0}],mN=[...LT,{title:"Месяц",condition:!0}],Zt=Object.keys(wi).reduce((e,i)=>(e[i]=[],e),{}),RT={schedule:{today:[],week:{...Zt},semestr:{data:{...Zt},startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)},session:{data:{...Zt},startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)}},teachers:[]},zT=e=>{const i=new Date(e),n=i.getDay(),s=i.getDate()-n+(n==0?-6:1);return new Date(i.setDate(s))},gn=e=>{const[i,n]=e.split(":");return+i*60+ +n};var gs=(e=>(e[e.Янв=1]="Янв",e[e.Фев=2]="Фев",e[e.Мар=3]="Мар",e[e.Апр=4]="Апр",e[e.Май=5]="Май",e[e.Июн=6]="Июн",e[e.Июл=7]="Июл",e[e.Авг=8]="Авг",e[e.Сен=9]="Сен",e[e.Окт=10]="Окт",e[e.Ноя=11]="Ноя",e[e.Дек=12]="Дек",e))(gs||{});const Zu=e=>{const[i,n]=e.split(" "),s=gs[n],o=new Date().getFullYear();return new Date(`${s}/${i}/${o}`)},eh=(e,i)=>{const[n,s]=(e==null?void 0:e.split(" "))??[null,null],o=i.split(" ")[1],a=gs[o],r=gs[s]||a;return n&&r?new Date(`${r}/${n}/${r>=a?new Date().getFullYear():new Date().getFullYear()+1}`):null},qi=(e,i)=>e?e==null?void 0:e.map(({place:s,name:o,teachers:a,timeInterval:r,link:l,dateInterval:p,rooms:d,groups:h})=>{const[f,g]=r.split(" - "),m=gn(g)-gn(f),[b,x]=p.split("-").map(S=>S.trim()),w=Zu(b),_=eh(x,b);return{title:o,people:a,startTime:f,duration:m,startDate:w,endDate:_,placeIcon:t.jsx(fm,{}),dateInterval:p,color:$o[r],place:s,link:l,groups:h,weekday:i,rooms:d,icon:hs(o)}}):[],FT=e=>new Date(e.setHours(0,0,0,0)),Zr=(e,i)=>(e??[]).filter(n=>{const s=FT(i),[o,a]=n.dateInterval.split("-").map(p=>p.trim()),r=Zu(o),l=eh(a,o);return s>=r&&s<=(l??r)}),th=e=>e.toLocaleDateString("en-US",{weekday:"long"}).toLocaleLowerCase(),Bo=e=>e instanceof Date&&isFinite(+e),MT=e=>{const i={...Zt},n=new Date(Object.keys(e)[0]),s=new Date(Object.keys(e)[Object.keys(e).length-1]);if(!Bo(n)||!Bo(s))return{schedule:i,startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const a=new Date(o),r=th(a);if(r==="sunday")continue;i[r]=[...i[r],...qi(e[o].lessons,wi[r].short)]}return{schedule:i,startDate:n,endDate:s}},ih=(e,i)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+i),nh=(e,i)=>{let n=new Date(new Date().getFullYear(),new Date().getMonth(),1),s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);if(typeof e=="object"&&"status"in e){const f=`Не удалось загрузить расписание. Причина: ${e.message??"-"}`;return G.evokePopUpMessage({message:f,type:"failure",time:ta.ten_seconds}),{schedule:RT.schedule,errorInData:f}}const o=new Date;let a=zT(o);o.getDay()===0&&(a=ih(o,1));const r={...Zt},l={...Zt};for(const f in e)if(f!=="Sunday"){const g=f.toLocaleLowerCase(),b=e[f];"lessons"in b?(r[g]=qi(Zr(b.lessons,a),wi[g].short),l[g]=qi(b.lessons,wi[g].short)):(r[g]=qi(Zr(b,a),wi[g].short),l[g]=qi(b,wi[g].short)),n=new Date(Math.min(...l[g].map(x=>x.startDate.getTime()),n.getTime())),s=new Date(Math.max(...l[g].map(x=>(x.endDate??x.startDate).getTime()),s.getTime())),a.setDate(a.getDate()+1)}const p=new Date().toLocaleDateString("en-EN",{weekday:"long"}).toLocaleLowerCase(),d=r[p],h=MT(i);return{schedule:{today:d,week:r,semestr:{data:l,startDate:n,endDate:s},session:{data:h.schedule,startDate:h.startDate,endDate:h.endDate}}}},sh=async e=>{const i=await ux(e),n=await gx();return nh(i.data,n.data)},oh=async e=>{const i=await hx(e),n=await fx(e);return nh(i.data,n.data)},el={data:{schedule:null,externalSchedule:null,view:Ju.day,filter:"",searchValue:"",hasNoSchedule:!1},loading:!1,error:null},$T=()=>Ot(we),ai=W(async e=>{try{if(!e)throw new Error("Невозможно получить расписание, так как не указан пользователь");const{group:i,fullName:n,user_status:s}=e;if(n&&s==="staff")return await oh(n);if(i&&s==="stud")return await sh(i);throw new Error("Невозможно получить расписание, так как не указан ни один из параметров")}catch(i){throw new Error(i.message)}},{name:"getScheduleFx",sid:"m3fe6i"}),zi=W(async({group:e})=>{try{if(!e)throw new Error("Невозможно получить расписание, так как не указана группа");return await sh(e)}catch(i){throw new Error(i.message)}},{name:"getGroupScheduleFx",sid:"rz7j9y"}),Fi=W(async({fullName:e})=>{try{if(!e)throw new Error("Невозможно получить расписание, так как не указано имя сотрудника");return await oh(e)}catch(i){throw new Error(i.message)}},{name:"getTeacherScheduleFx",sid:"g0t9td"}),BT=I({name:"changeCurrentModule",sid:"-ux633i"}),ah=I({name:"changeView",sid:"-64bkfl"}),rh=I({name:"changeCurrentChosenDay",sid:"fh8e6k"}),lh=I({name:"setFilter",sid:"jkaxxl"}),ch=I({name:"setSearchValue",sid:"-jt9nun"}),dh=I({name:"resetExternalSchedule",sid:"-fw6v5y"}),we=$(el,{name:"$schedule",sid:"qlf4jp"}).on(ai,e=>({...e,data:{...e.data,schedule:null,hasNoSchedule:!1},error:null})).on(ai.failData,(e,i)=>({...e,error:`${i.cause}, ${i.message}, ${i.stack}, ${i.name}`})).on(ah,(e,i)=>({...e,data:{...e.data,view:i}})).on(rh,(e,i)=>({...e,currentChosenDay:i.day})).on(K.userGuid,()=>({...el}));v({and:[{clock:ai.doneData,source:we,fn:(e,i)=>({...e,data:{...e.data,...i,hasNoSchedule:i.errorInData?!1:JSON.stringify(i.schedule.semestr.data)===JSON.stringify(Zt)}}),target:we}],or:{sid:"e8qgs9"}});v({and:[{clock:lh,source:we,fn:(e,i)=>({...e,data:{...e.data,filter:i}}),target:we}],or:{sid:"-vee20a"}});v({and:[{clock:ch,source:we,fn:(e,i)=>({...e,data:{...e.data,searchValue:i}}),target:we}],or:{sid:"-uw8ufd"}});v({and:[{clock:Fi.doneData,source:we,fn:(e,i)=>({...e,data:{...e.data,externalSchedule:i.schedule,errorInData:i.errorInData}}),target:we}],or:{sid:"-ue3mug"}});v({and:[{clock:zi.doneData,source:we,fn:(e,i)=>({...e,data:{...e.data,externalSchedule:i.schedule,errorInData:i.errorInData}}),target:we}],or:{sid:"-tjuy7l"}});v({and:[{clock:[zi,Fi,ai],source:we,fn:e=>({...e,loading:!0}),target:we}],or:{sid:"-t15y1b"}});v({and:[{clock:[zi,Fi],source:we,fn:e=>({...e,data:{...e.data,externalSchedule:null}}),target:we}],or:{sid:"-sko48h"}});v({and:[{clock:[zi.doneData,Fi.doneData,ai.doneData],source:we,fn:e=>({error:null,loading:!1,data:{...e.data}}),target:we}],or:{sid:"-s2iwnk"}});v({and:[{clock:[zi.failData,Fi.failData,ai.failData],source:we,fn:(e,i)=>({...e,error:i.message,loading:!1}),target:we}],or:{sid:"-rkdp2n"}});v({and:[{clock:dh,source:we,fn:e=>({...e,data:{...e.data,externalSchedule:null,externalStartDate:null,externalEndDate:null}}),target:we}],or:{sid:"-r3c2og"}});const ph={useSchedule:$T},xN={changeCurrentModule:BT,changeView:ah,changeCurrentChosenDay:rh,resetExternalSchedule:dh,setSearchValue:ch,setFilter:lh},bN={getScheduleFx:ai,getGroupScheduleFx:zi,getTeacherScheduleFx:Fi},HT=(e,i)=>{const[n,s]=e.split(":"),o=+n*60+ +s+i;return`${hn(Math.floor(o/60))}:${hn(o%60)}`},uh=(e,i)=>e?`${e} - ${HT(e,i)}`:"9:00",Ho=e=>!e||!Bo(e)?0:e.getHours()*60+e.getMinutes(),Ua=(e,i)=>gn(e.startTime)<=Ho(new Date)&&Ho(new Date)<=gn(e.startTime)+e.duration&&i,hh=()=>{const{open:e}=H();return n=>{const s=uh(n.startTime,n.duration);e(t.jsx(AT,{link:n.link,isNextEvent:!1,timeInterval:s,name:n.title,teachers:n.people,rooms:n.rooms??[],groups:n.groups,isCurrentEvent:Ua(n,!0),noPadding:!0,...n}))}},tl={isMiddleDesktop:1.35,isSmallDesktop:1.35,isTablet:1.5,isMobile:1.2},UT=()=>{const{currentDevice:e}=Xe(),[i,n]=c.useState(tl[e]);return c.useEffect(()=>{n(tl[e])},[e]),i},WT=u.div.withConfig({componentId:"sc-c4ipxs-0"})(["--time-width:55px;","{width:500px;height:500px;}","{--time-width:35px;height:400px;}position:relative;&{.calendar-wrapper{scroll-snap-align:center;min-width:100%;}}"],V.isNotMobile,V.isMobile),GT=({dayEvents:e,day:i,isCurrentDay:n})=>{const s=UT(),o=hh(),a=[9,22];return e!=null&&e.length?t.jsx(WT,{children:t.jsx(mh,{events:e,interval:a,scale:s,weekday:0,isCurrentDay:n,currentDay:0,shift:a[0]*60,onEventClick:o})},i):t.jsx(je,{text:"В этот день пар нет",image:Ku})},gh=()=>{const{data:{schedule:e}}=ph.useSchedule(),{open:i}=H(),n=ih(new Date,1),s=md(n.toLocaleDateString("ru-RU",{weekday:"long",day:"2-digit",month:"long"})),o=th(n),a=o==="sunday"?[]:e==null?void 0:e.week[o];if(!(e!=null&&e.week))return null;const r=()=>i(t.jsx(GT,{isCurrentDay:!1,dayEvents:a,day:s}),s);return t.jsx(j,{text:"Посмотреть следующий",onClick:r,textColor:"var(--blue)",background:"transparent"})},VT=u.div.withConfig({componentId:"sc-1i4lqzl-0"})(["width:100%;background:var(--block);padding:20px 15px;border-radius:9px;scroll-snap-align:center;height:144px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:6px;font-weight:500;text-align:center;img{width:60px;height:60px;}"]),wN=({errorInData:e})=>t.jsxs(VT,{children:[t.jsx("img",{src:Ku}),t.jsx("span",{children:"В этот день пар нет"}),!e&&t.jsx(gh,{})]});u.div.withConfig({componentId:"sc-1tdaqxa-0"})(["border-radius:15px;overflow:hidden;padding:6px;background:var(--theme-2);display:flex;flex-direction:column;row-gap:6px;overflow-y:auto;scroll-snap-type:y proximity;height:100%;max-height:",";&::-webkit-scrollbar{width:0;}@media (max-width:1000px){max-height:",";}"],({height:e})=>`calc(${e}px - 325px)`,({height:e,isTeacherSchedule:i})=>`calc(${e}px - ${i?340:280}px)`);const qT=(e,i,n)=>i?e?1:.8:n?1:0,YT=e=>e?1:.9;u.div.withConfig({componentId:"sc-99u5r2-0"})(["display:flex;flex-direction:column;min-width:",";width:",";height:",";transition:0.2s;color:var(--text);opacity:",";transform:scale(",");overflow-y:auto;.day-title{display:flex;align-items:center;column-gap:10px;margin-bottom:5px;margin-left:10px;width:calc(100% - 20px);justify-content:space-between;h4{color:",";}span{font-weight:500;opacity:0.7;font-size:0.9em;width:90px;text-align:center;}}@media (max-width:1000px){transition:0.5s opacity;opacity:",";width:100%;min-width:100%;scroll-snap-align:start;transform:scale(1);}"],({width:e,isFull:i})=>e?e+"px":i?"calc(100% / 6 - 9px)":"400px",({width:e,isFull:i})=>e?e+"px":i?"calc(100% / 6)":"400px",({height:e})=>e?e+"px":"fit-content",({isCurrent:e,isFull:i,isVisible:n})=>qT(e,i,n),({isVisible:e})=>YT(e),({isCurrent:e})=>e?"var(--blue)":"var(--text)",({isVisible:e})=>e?"1":"0");const QT=u.div.withConfig({componentId:"sc-1sk6b7e-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:144px;background:var(--block);border-radius:var(--brLight);row-gap:10px;"]),vN=()=>t.jsxs(QT,{children:[t.jsx(ca,{size:"38px"}),t.jsx(L,{size:4,children:"Учебный день завершился"}),t.jsx(gh,{})]});u.div.withConfig({componentId:"sc-ghf2g3-0"})(["display:flex;align-items:center;column-gap:5px;color:",";width:100%;overflow:hidden;position:relative;flex-wrap:",";gap:4px;&::after{content:'';display:",";width:30px;height:100%;position:absolute;top:0;right:0;background:",";}.room{width:fit-content;background:",";padding:0px 8px;height:21px;border-radius:4px;display:flex;align-items:center;white-space:nowrap;}"],({isCurrent:e})=>e?"#fff":"var(--text)",({inModal:e})=>e&&"wrap",({inModal:e})=>e&&"none",({isCurrent:e,color:i})=>`linear-gradient(90deg, transparent, ${e?i:"var(--block)"})`,({isCurrent:e})=>e?"var(--almostTransparent)":"var(--theme-2)");u.div.withConfig({componentId:"sc-10959ye-0"})(["display:flex;align-items:center;column-gap:5px;color:",";width:100%;overflow:hidden;position:relative;font-size:0.7em;font-weight:600;flex-wrap:",";gap:5px;&::after{content:'';display:",";width:30px;height:100%;position:absolute;top:0;right:0;background:",";}span{background:",";padding:0px 8px;height:21px;border-radius:4px;display:flex;align-items:center;white-space:nowrap;}"],({isCurrent:e})=>e?"#fff":"var(--text)",({inModal:e})=>e&&"wrap",({inModal:e})=>e&&"none",({isCurrent:e,color:i})=>`linear-gradient(90deg, transparent, ${e?i:"var(--block)"})`,({isCurrent:e})=>e?"var(--almostTransparent)":"var(--theme-2)");u.div.withConfig({componentId:"sc-1v1ypn-0"})(["display:flex;align-items:center;justify-content:center;border-radius:10px;background:var(--theme-1);border-radius:10px;min-width:80px;overflow:hidden;button{border-radius:0;}@media (max-width:1000px){display:none;}"]);const XT=e=>{const[i,n]=e.split(":");return+i*60+ +n},fh=(e,i,n)=>e?(XT(e)-i)*n:0,KT=u.div.withConfig({componentId:"sc-s25rwv-0"})(["background:",";width:",";height:",";border-radius:5px;padding:",";display:flex;overflow:hidden;color:",";cursor:pointer;position:",";transform:translateX(",");left:2px;top:",";a{color:",";text-decoration:underline;}&:hover{filter:brightness(0.98);}","{padding:",";}"],({background:e})=>e,({quantity:e,listView:i})=>i?"100%":`calc(${e}% - 2.5px)`,({duration:e,scale:i})=>`${e*i}px`,({shortInfo:e,scale:i})=>e?"8px":`${i*8}px`,({textColor:e})=>e,({listView:e})=>e?"static":"absolute",({leftShift:e})=>`calc(${e}% + ${1*(e/100)}px)`,({top:e})=>`${e}px`,({textColor:e})=>e,V.isMobile,({shortInfo:e,scale:i})=>e?"4px":`${i*10}px`);u.div.withConfig({componentId:"sc-s25rwv-1"})(["min-width:35px;height:100%;svg{width:22px;height:22px;}","{min-width:28px;svg{width:18px;height:18px;}}"],V.isMobile);const JT=u(E).withConfig({componentId:"sc-s25rwv-2"})(["gap:",";height:100%;","{gap:",";}"],({shortInfo:e})=>e?"6px":"10px",V.isMobile,({shortInfo:e})=>e?"6px":"8px"),ZT=u.span.withConfig({componentId:"sc-s25rwv-3"})(["font-weight:500;font-size:",";padding-top:2px;white-space:",";text-overflow:",";overflow:",";hyphens:auto;width:100%;margin-bottom:2px;margin-top:",";","{word-break:break-all;font-size:",";}"],({shortInfo:e})=>e?"0.85rem":"0.93rem",({shortInfo:e,nameInOneRow:i})=>!e&&i&&"nowrap",({shortInfo:e})=>!e&&"ellipsis",({shortInfo:e})=>!e&&"hidden",({listView:e})=>e?"2px":"0",V.isMobile,({shortInfo:e})=>e?"0.7rem":"0.8rem"),eE=u.div.withConfig({componentId:"sc-s25rwv-4"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:none;width:100%;justify-content:center;align-items:center;svg{width:40%;height:auto;}"]),tE=u(E).withConfig({componentId:"sc-s25rwv-5"})(["height:100%;z-index:1;position:relative;margin-top:10px;margin-left:0px;margin-right:0px;"]),iE=e=>{const{title:i,duration:n,icon:s,startTime:o,place:a,people:r,shift:l,color:p,scale:d,onClick:h,link:f,rooms:g,dateInterval:m,leftShift:b,quantity:x,groups:w,isCurrentEvent:_=!1,nameInOneRow:S=!0,isNextEvent:k=!1,listView:P=!1,shortInfo:T=!1}=e,F=z(ue.userSettings),{isMobile:R}=Xe(),B=(F==null?void 0:F.appearance.theme)===Ie.Light?p.dark3:p.light3,ae=(F==null?void 0:F.appearance.theme)===Ie.Light?p.transparent1:p.transparent2,U=()=>h(e),Y=(R||x>1)&&T,Le=R&&x>=2&&T,_e=r&&!!r.length&&!!r[0],Ve=c.useMemo(()=>_e?r.map(Bi=>{var Mn,$n;const gt=Bi.split(" ");return`${gt[0]??""} ${((Mn=gt[1])==null?void 0:Mn[0])??""}.${(($n=gt[2])==null?void 0:$n[0])??""}.`}):[],[r]),Ke=fh(o,l,d),fe=Yu(i),ve=Le?i.split(" ").map(Bi=>Bi[0].toUpperCase()):Mo(fe.name,T?Y?43:35:S?300:64),Fn=(w==null?void 0:w.split(","))??[];return t.jsxs(KT,{background:ae,textColor:B,listView:P,leftShift:100*b,quantity:100/x,duration:n,scale:d,top:Ke,onClick:U,shortInfo:T,children:[t.jsx(eE,{children:s}),t.jsx(E,{className:"event-body",gap:"0px",ai:"flex-start",h:_e?void 0:"100%",mh:_e?void 0:"100px",children:t.jsxs(JT,{scale:d,d:"column",ai:"flex-start",shortInfo:T,jc:_e?void 0:"space-between",children:[t.jsxs(E,{d:"column",gap:"2px",children:[!T&&t.jsxs(E,{gap:"8px",children:[t.jsx(Qu,{timeInterval:uh(o,n),color:p,isCurrentEvent:_}),t.jsx(Xu,{timeLeft:co(o,"minutes"),isNext:k,color:p,isCurrentEvent:_}),!!(g!=null&&g.length)&&t.jsx(Je,{shortInfo:T,icon:R&&x>1?void 0:t.jsx(yo,{}),text:t.jsx(at,{words:g})}),(!!f||fe.link)&&t.jsx("a",{href:f??fe.link,target:"_blank",rel:"noreferrer",children:t.jsx(Je,{shortInfo:T,icon:t.jsx(es,{}),text:f?a:"Cсылка"})}),!!Fn.length&&t.jsx(Je,{icon:t.jsx(Xo,{}),text:t.jsx(at,{words:Fn})})]}),t.jsx(ZT,{listView:P,nameInOneRow:S,scale:d,shortInfo:T,children:ve})]}),_e&&!Y&&t.jsx(Je,{shortInfo:T,text:t.jsx(at,{words:T?[Ve[0]]:Ve}),icon:t.jsx(mm,{})}),!!(g!=null&&g.length)&&T&&!Y&&t.jsx(Je,{shortInfo:T,icon:t.jsx(yo,{}),text:t.jsx(at,{words:g})}),!!f&&T&&!Y&&t.jsx("a",{href:f,target:"_blank",rel:"noreferrer",children:t.jsx(Je,{shortInfo:T,icon:t.jsx(es,{}),text:a})}),!!m&&!Y&&t.jsx(E,{gap:"5px",children:t.jsx(Je,{shortInfo:T,icon:t.jsx(Jo,{}),text:m})})]})})]})},nE=c.memo(iE),sE=e=>{const i={};if(!e)return i;for(let n=0;n<e.length;n++){const s=e[n];i[s.startTime]||(i[s.startTime]=[]),s.startTime==="18:20"?(i["17:50"]||(i["17:50"]=[]),i["17:50"].push(s)):s.startTime==="19:50"&&i["19:30"]?(i["19:30"]||(i["19:30"]=[]),i["19:30"].push(s)):s.startTime==="19:30"&&i["19:50"]?(i["19:50"]||(i["19:50"]=[]),i["19:50"].push(s)):i[s.startTime].push(s)}return i},oE=({events:e,shift:i,scale:n,shortInfo:s,weekDay:o,interval:a,showTime:r,onClick:l,currentDay:p,isCurrentDay:d})=>{const h=sE(e),f=d??new Date().getDay()===o,g=p!==void 0?p+1===o:void 0;return t.jsxs(tE,{h:"100%",d:"column",children:[f&&t.jsx(xT,{isVisible:g,showTime:r,scale:n,shift:i,interval:a}),Object.keys(h).map((m,b)=>h[m].map((x,w)=>c.createElement(nE,{leftShift:w,quantity:h[m].length,scale:n,isCurrentEvent:Ua(x,f),isNextEvent:qu(e,x,f),...x,onClick:l,shift:i,key:x.startTime+x.title+b+w,shortInfo:s})))]})},aE=u(E).withConfig({componentId:"sc-1527zd0-0"})(["position:absolute;left:0;z-index:0;height:",";"],({scale:e,timesLen:i})=>`${i*e*60+20}px`),rE=u.div.withConfig({componentId:"sc-1527zd0-1"})(["width:100%;pointer-events:none;position:relative;"]),lE=u.div.withConfig({componentId:"sc-1527zd0-2"})(["position:absolute;width:calc(100% - var(--time-width));left:var(--time-width);top:50%;transform:translateY(-50%);background:var(--theme-4);height:1px;"]),cE=u(se).withConfig({componentId:"sc-1527zd0-3"})(["font-size:0.82rem;opacity:0.5;","{font-size:0.65rem;}"],V.isMobile),dE=Array(24).fill(0).map((e,i)=>`${hn(i)}:00`),pE=({interval:e,scale:i,shortTimes:n=!1})=>{const s=n?Array(24).fill(0).map((o,a)=>`${a}`).slice(e[0],e[1]+1):dE.slice(e[0],e[1]+1);return t.jsx(aE,{timesLen:s.length-1,scale:i,d:"column",w:"100%",h:"100%",jc:"space-between",ai:"flex-end",children:s.map(o=>t.jsxs(rE,{children:[t.jsx(cE,{children:o}),t.jsx(lE,{})]},o))})},mh=({interval:e,events:i,scale:n,weekday:s,shift:o,onEventClick:a,currentDay:r,isCurrentDay:l})=>{const p=Vu({deps:[i==null?void 0:i.length],getScrollTopValue:()=>{var d;return fh((d=i==null?void 0:i[0])==null?void 0:d.startTime,o,n)}});return t.jsxs(lT,{className:"calendar-wrapper",ref:p,children:[t.jsx(pE,{interval:e,scale:n}),t.jsx(oE,{currentDay:r,weekDay:s,isCurrentDay:l,events:i??[],shift:o,currentEvent:null,scale:n,onClick:a,interval:e})]})},uE=u.div.withConfig({componentId:"sc-1wg26e1-0"})(["display:flex;align-items:center;flex-direction:column;padding:15px 20px;width:calc(50% - 5px);gap:10px;text-align:center;color:",";border-radius:var(--brLight);.title{height:40px;font-weight:700;color:var(--text);}a{text-decoration:none;color:var(--text);width:100%;}.icon{color:",";width:45px;height:45px;display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:100%;background:var(--almostTransparent);svg{width:20px;height:20px;}}"],({color:e})=>e?y[e].main:"var(--text)",({color:e})=>e?y[e].main:"var(--text)"),hE=({icon:e,title:i,color:n,goTo:s,visible:o=!0})=>{const{close:a}=H();return o?t.jsxs(uE,{color:n,children:[t.jsx("div",{className:"icon",children:e}),t.jsx("span",{className:"title",children:i}),!!s&&t.jsx(te,{to:s,children:t.jsx(j,{text:"Перейти",onClick:a,background:"var(--almostTransparent)",width:"100%"})})]}):null},gE=u.div.withConfig({componentId:"sc-l3fl0i-0"})(["width:100%;height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center;.image{height:fit-content;width:100%;display:flex;justify-content:center;align-items:center;margin:20px;img{width:100%;object-fit:cover;object-position:center;}}@media (max-width:1000px){img{width:100%;object-fit:scale-down;}}"]),fE=u.div.withConfig({componentId:"sc-l3fl0i-1"})(["display:flex;flex-wrap:wrap;justify-content:center;gap:5px;"]),mE=u(se).withConfig({componentId:"sc-l3fl0i-2"})(["margin-bottom:20px;"]),xE=({image:e,list:i,text:n})=>{const{isMobile:s}=Xe();return t.jsxs(gE,{children:[!!e&&t.jsxs(t.Fragment,{children:[t.jsx(L,{size:3,align:"center",bottomGap:!0,children:e.title}),t.jsx("div",{className:"image",children:e.component??t.jsx("img",{src:s&&e.mobile?e.mobile:e.desktop,alt:""})})]}),t.jsx(mE,{lineHeight:"1.6rem",width:"100%",align:"center",fontSize:"1rem",visible:!!n,children:n}),!!i&&t.jsx(fE,{children:i==null?void 0:i.map(o=>c.createElement(hE,{...o,key:o.title}))})]})},bE=u.div.withConfig({componentId:"sc-p7mmoa-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;@media (min-width:1001px){width:400px;min-height:350px;}.content{height:100%;}.buttons{display:flex;align-items:center;width:100%;margin-top:10px;& > * + *{margin-left:10px;}}"]),wE=u.div.withConfig({componentId:"sc-p7mmoa-1"})(["--time-width:55px;height:300px;width:100%;"]),vE=()=>t.jsx(wE,{children:t.jsx(mh,{scale:1.35,weekday:1,events:[{title:"Нечеткое моделирование",duration:90,startTime:"16:10",startDate:new Date("September 1, 2023"),endDate:null,color:$o["16:10 - 17:40"],icon:hs("Нечеткое моделирование"),place:"Прянишникова",rooms:["Пр2202"],weekday:"Ср",people:["Норин Владимир Павлович"],dateInterval:"1 сен - 30 окт"},{title:"Математика",duration:90,startTime:"17:50",startDate:new Date("September 1, 2023"),endDate:null,color:$o["17:50 - 19:20"],icon:hs("Математика"),place:"Прянишникова",rooms:["Пр2202"],weekday:"Ср",people:["Норин Владимир Павлович"],dateInterval:"1 сен - 30 окт"}],interval:[16,19],currentDay:0,shift:16*60,onEventClick:()=>null})}),xh=()=>{const[e,i]=c.useState(0),{close:n}=H(),s=[t.jsx(xE,{text:"Стало проще видеть свое расписание целиком",image:{title:"Новое расписание! В виде календаря",component:t.jsx(vE,{})}},"schedule")];return t.jsxs(bE,{children:[t.jsx("div",{className:"content",children:s[e]}),t.jsx($c,{amount:s.length,current:e}),t.jsxs("div",{className:"buttons",children:[t.jsx(j,{onClick:()=>i(o=>Ft(o-1,s.length-1)),text:"Назад",width:"100%",isActive:e!==0}),e===s.length-1?t.jsx(j,{onClick:n,text:"Готово",width:"100%",background:y.blue.light1,textColor:"#fff"}):t.jsx(j,{onClick:()=>i(o=>Ft(o+1,s.length-1)),text:"Далее",width:"100%"})]})]})},yE=e=>{if(e&&e[e.length-1]){const i=e[e.length-1];return gn(i.startTime)+i.duration<Ho(new Date)}},jE=()=>{var d,h;const{data:{schedule:e,hasNoSchedule:i,errorInData:n},loading:s}=ph.useSchedule(),o=hh(),a=((d=e==null?void 0:e.today)==null?void 0:d.length)===0||!(e!=null&&e.today),r=yE(e==null?void 0:e.today),l=Vu({deps:[e==null?void 0:e.today],condition:(((h=e==null?void 0:e.today)==null?void 0:h.length)??0)>1,getScrollTopValue:f=>{var g,m;return f.clientHeight*(r?((g=e==null?void 0:e.today)==null?void 0:g.length)??0:((m=e==null?void 0:e.today)==null?void 0:m.findIndex(b=>Ua(b,!0)||qu(e.today,b,!0)))??0)}}),p=()=>G.evokePopUpMessage({message:n??"",type:"failure",time:ta.ten_seconds});return{listRef:l,noSchedule:a,loading:s,schedule:e==null?void 0:e.today,isEnded:r,hasNoSchedule:i,errorInData:n,handleOpenModal:o,handleErrorClick:p}},il=u(As).withConfig({componentId:"sc-1jgb5fm-0"})(["position:fixed;bottom:0;left:0;right:0;will-change:transform;transform:translateZ(0);display:flex;height:var(--mobile-bottom-menu-height);width:100%;background:var(--block);border-top:1px solid var(--theme-2);padding:0px 10px;display:none;","{display:flex;}"],V.isTablet),Vi=()=>t.jsxs(E,{d:"column",gap:"8px",children:[t.jsx(X,{shape:"circle",size:{width:"20px",height:"20px"},margin:"0"}),t.jsx(X,{shape:"rect",size:{width:"35px",height:"10px"},margin:"0"})]}),kE=()=>{const{allRoutes:e}=dt.useMenu(),{data:{user:i}}=ke.useUser(),{hasNoSchedule:n,loading:s}=jE(),o=Mt();if(!e||!i||s)return t.jsxs(il,{direction:"horizontal",horizontalAlign:"evenly",verticalAlign:"center",children:[t.jsx(Vi,{}),t.jsx(Vi,{}),t.jsx(Vi,{}),t.jsx(Vi,{}),t.jsx(Vi,{})]});const a=(i==null?void 0:i.user_status)==="stud"?kS:n?CS:_S;return t.jsx(il,{direction:"horizontal",horizontalAlign:"evenly",children:a.map(r=>{const l=e[r]?o.pathname.includes(e[r].path):!1;return t.jsx(Gu,{...e[r],isCurrent:l},r)})})},_E=(e,i,n)=>({isOpen:i,message:e,position:n}),nl={hints:[]},CE=()=>Ot(SE),bh=I({name:"evoke",sid:"-dmu4v9"}),wh=I({name:"close",sid:"-ryhxvq"}),vh=I({name:"clearStore",sid:"2hrryw"}),SE=$(nl,{name:"$hint",sid:"-r91nob"}).on(bh,(e,{message:i,position:n})=>({hints:[...e.hints,_E(i,e.hints.length===0,n)]})).on(wh,e=>({hints:e.hints.splice(1,e.hints.length)})).on(vh,()=>({...nl})),IE={useHint:CE},TE={evoke:bh,close:wh,clearStore:vh},EE=u.div.withConfig({componentId:"sc-rmnpx-0"})(["left:",";top:",";background:var(--reallyBlue);color:#fff;border-radius:var(--brLight);font-weight:500;display:flex;align-items:flex-end;flex-direction:column;max-width:300px;box-shadow:0 0 30px ",";transition:0.2s;opacity:",";visibility:",";transform:",";position:absolute;z-index:5;min-width:150px;.message{&::before{content:'';width:15px;height:15px;transform:rotate(45deg);background:var(--reallyBlue);position:absolute;top:15px;left:-5px;border-radius:3px;z-index:-1;}}"],({left:e})=>e+"px",({top:e})=>e+"px",y.blue.transparent3,({open:e})=>e?1:0,({open:e})=>e?"visible":"hidden",({open:e})=>e?"translateY(0)":"translateY(20px)"),PE=()=>{const{hints:e}=IE.useHint(),i=e[0];return i?t.jsx(EE,{open:i.isOpen,left:i.position.x,top:i.position.y,children:t.jsx(Z,{type:"hint",title:i.message,onClose:()=>TE.close(),width:"100%",icon:null})}):null};u.div.withConfig({componentId:"sc-rcekyr-0"})(["display:flex;flex-direction:column;height:100%;@media (min-width:1001px){width:600px;height:600px;}"]);const AE=({padding:e,size:i="middle"})=>{var s,o;const{data:{user:n}}=ke.useUser();return H(),t.jsxs(Ne,{visible:!!(n!=null&&n.accounts),padding:e,title:"Аккаунты",direction:"horizontal",gap:0,showPages:!0,horizontalAlign:"left",onAdd:void 0,children:[!((s=n==null?void 0:n.accounts)!=null&&s.length)&&t.jsx(se,{children:"Нет доступных аккаунтов"}),(o=n==null?void 0:n.accounts)==null?void 0:o.map(a=>t.jsx(On,{id:void 0,type:a.user_status,size:i,name:a.fio??n.fullName,token:a.token,division:a.work_place,group:a.group,degreeLevel:a.degreeLevel,orientation:"vertical"},a.fio))]})};function NE(e){switch(e){case"up":return"translate(0, -30px)";case"down":return"translate(0, 30px)";case"left":return"translate(-30px, 0)";case"right":return"translate(135px, 0)"}}const DE=u.div.withConfig({componentId:"sc-amccvs-0"})(["position:relative;width:fit-content;height:fit-content;display:flex;align-items:center;flex-direction:",";&:hover > div{transform:",";opacity:1;}"],({direction:e})=>e==="left"?"row-reverse":"row",({direction:e})=>NE(e)),OE=u.div.withConfig({componentId:"sc-amccvs-1"})(["pointer-events:none;padding:6px 10px;border-radius:var(--brLight);background:#000000b9;color:#fff;font-weight:400;position:absolute;transform:translate(0,0);transition:0.2s;opacity:0;font-size:0.8em;text-align:center;max-width:",";"],({width:e})=>e??"fit-content");function fs({children:e,direction:i,text:n,width:s}){return t.jsxs(DE,{direction:i,children:[t.jsx(OE,{width:s,children:n}),e]})}const yh=(e,i)=>i.reduce((n,s)=>{const o=s.links.filter(a=>Ae(a.title).includes(Ae(e)));return o.length&&n.push({title:s.title,links:o}),n},[]),LE=()=>{const e=N?" (Сервис временно недоступен)":"";return[{title:"Многофункциональный центр",links:[{link:qp,title:"Справка о прослушанных дисциплинах за период обучения (справка об обучении)"},{link:gu,title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования"},{link:Yp,title:"Справка в социальные учреждения (Пенсионный фонд, УСЗН и пр.)"},{link:Qp,title:"Справка-вызов"},{link:ru,title:"Заявление на пересдачу для получения диплома с отличием"},{link:hu,title:"Запрос на изменение персональных данных"},{link:au,title:"Запрос на восстановление магнитного пропуска"},{link:Up,title:"Уточнение паспортных данных"},{link:fu,title:"Выдача лицензий и свидетельств о государственной аккредитации"},{link:mu,title:"Предоставление каникул в связи с окончанием университета"},{link:xu,title:"Предоставление академического отпуска"},{link:bu,title:"Выход из академического отпуска"},{link:wu,title:"Отчисление по инициативе обучающегося"},{link:vu,title:"Продление промежуточной аттестации или ГИА"}]},{title:"Управление студенческим городком",links:[{link:Xp,title:"Предоставление права проживания (очная форма)",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:Kp,title:"Предоставление права проживания (очно-заочная форма)",exceptionalFormEducationList:["Очная","Заочная"]},{link:Jp,title:"Предоставление права проживания (заочная форма)",exceptionalFormEducationList:["Очная","Очно-заочная"]},{link:eu,title:"Предоставление права проживания льготной категории граждан"},{link:Zp,title:"Предоставление права проживания в период академического отпуска",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:tu,title:"Предоставление права проживания в семейной комнате",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:nu,title:"Переселение внутри общежития",exceptionalFormEducationList:["Заочная"]},{link:su,title:"Переселение в другое общежитие",exceptionalFormEducationList:["Заочная"]},{link:iu,title:"Расторжение договора найма"},{link:ou,title:"Предоставление права проживания в период каникул"}]},{title:"Профсоюзная организация",links:[{link:tc,title:"Вступить в Профсоюз",isExternalLink:!0,isOpenInNewWindow:!0},{link:du,title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)"},{link:pu,title:"Заявка на материальную помощь"},{link:Vp,title:"Оформить социальную стипендию"},{link:uu,title:"Отправить характеристику-рекомендацию на получение повышенной государственной академической стипендии"}]},{title:"Мобилизационный отдел"+e,disabled:N,links:[{link:lu,title:"Отправить документы воинского учета"},{link:cu,title:"Воинский учет"},{link:"",title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призывана военную службу"}]},{title:"Отдел платных образовательных услуг"+e,disabled:N,links:[{link:Fo,title:"Оформить дополнительное соглашение к договору об обучении"},{link:Fo,title:"Отправить квитанцию об оплате обучения или пени"}]},{title:"Приемная комиссия",links:[{link:Vm,isExternalLink:!0,title:"Изменение условий обучения (направление подготовки (специальность), форма), в том числе перевод с платного обучения на бесплатное"}]},{title:"Прочее",links:[{link:Wp,title:"Произвольный запрос"}]},{title:"Прочее (в разработке)",disabled:N,links:[{link:Gp,title:"Трудоустройство студентов"}]}]},RE=e=>[{title:"Цифровые сервисы",links:[{link:hp,title:"Справка с места работы"},{link:gp,title:"Справка с места работы для предоставления в визовый центр"},{link:mp,title:"Справка о количестве неиспользованных дней отпуска"},{disabled:N,link:xp,title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»"}]},{title:"Телефонный справочник",links:[...ME(e),{link:wp,title:"Запрос на изменение внутреннего телефона"},{link:vp,title:"Запрос на изменение корпоративной электронной почты"}]},...zE()],zE=()=>[{title:"Цифровые сервисы (в разработке)",disabled:N,links:[{link:fp,title:"Справка о стаже работы"},{link:yp,title:"Копия трудовой книжки"},{link:jp,title:"Копии документов из личного дела"},{link:kp,title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку"}]},{disabled:N,title:"Общее",links:[{link:sp,title:"Актуализация контактных данных"}]},{title:"Общее (в разработке)",disabled:N,links:[{link:YC,title:"Актуализация контактных данных (тест)"}]},{title:"ИТ-обслуживание",links:[{link:rp,title:"Получение нового компьютерного оборудования"},{link:lp,title:"Подключение компьютера, МФУ, телефона, WiFi"},{link:cp,title:"Обслуживание принтеров, МФУ"},{link:dp,title:"Вопрос по СЭД Directum и 1С"},{link:pp,title:"Вопрос по Личному кабинету"},{link:up,title:"Прочее ИТ-обслуживание"}]},{title:"Бухгалтерия",disabled:N,links:[{link:Ip,title:"Справка по форме 2-НДФЛ"},{link:Tp,title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка"},{link:_p,title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет"},{link:Ep,title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)"}]},{title:"Управление студенческого городка",disabled:N,links:[{link:Ap,title:"Предоставление права проживания в жилом помещении"},{link:Np,title:"Временное размещение гостей в студгородке"},{link:Dp,title:"Проход гостей на территорию студенческого городка"},{link:Op,title:"Переселение"},{link:Lp,title:"Расторжение договора найма жилого помещения"}]},{title:"Бюро пропусков",disabled:N,links:[{link:Rp,title:"Выдача пропуска (повторная)"},{link:zp,title:"Заказ гостевого пропуска"}]},{title:"Отдел контроля и делопроизводства",disabled:N,links:[{link:Fp,title:"Заверение и выдача копий внутренних документов"}]},{title:"Многофункциональный центр",disabled:N,links:[{link:ap,title:"Выдача лицензий и свидетельств о государственной аккредитации"}]},{title:"Экспедиция отдела контроля и делопроизводства",disabled:N,links:[{link:Sp,title:"Курьер"}]},{title:"Мобилизационный отдел",disabled:N,links:[{link:Mp,title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу"},{link:$p,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Прочее",disabled:N,links:[{link:Cp,title:"Произвольный запрос"},{link:tc,title:"Вступить в Профсоюз",isExternalLink:!0}]}],FE=()=>[{title:"",links:[{link:Pp,title:"Заявление на трудоустройство по совместительству"},{link:No,title:"Заявление на увольнение"},{link:Lo,title:"Заявление о привлечении к работе в выходной день"},{link:Do,title:"Заявление о предоставлении отпуска"},{link:Oo,title:"Заявление о переносе отпуска"},{link:Ro,title:"Заявление о диспансеризации"},{link:Kn,title:"Заявление на перевод"}]}],ME=e=>e.head_div&&e.head_div.length>0?[{link:bp,title:"Внесение изменений данных подразделения в телефонном справочнике"}]:[],$E=(e,i)=>!(i!=null&&i.length)||!e?!0:!(i!=null&&i.includes(e)),BE=u.div.withConfig({componentId:"sc-1i4ujt1-0"})(["@media (min-width:1001px){width:100%;max-width:900px;min-width:900px;max-height:600px;}display:flex;flex-direction:column;height:70vh;.list{padding:5px;margin-top:10px;overflow-y:auto;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:calc(50% - 5px);background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]),yN=({isTeachers:e=!1,currentFormEducation:i})=>{const{close:n}=H(),{data:{user:s}}=ke.useUser(),o=(e&&s?RE(s):LE()).map(d=>{const h=d.links.filter(f=>!f.disabled);return{...d,links:h}}),[a,r]=c.useState(""),[l,p]=c.useState(o);return t.jsxs(BE,{children:[t.jsx(pa,{whereToSearch:o,searchEngine:yh,setResult:p,placeholder:"Поиск заявок",setExternalValue:r}),t.jsx("div",{className:"list",children:t.jsxs("div",{className:"links-wrapper",children:[(l??o).map(d=>{if(!d.disabled)return t.jsxs("div",{className:"link-list",children:[t.jsx(L,{size:4,align:"left",bottomGap:!0,children:d.title}),t.jsx("div",{className:"links",children:d.links.map((h,f)=>{if(!(h.disabled||!$E(i,h.exceptionalFormEducationList)))return h.isExternalLink?t.jsx("a",{href:h.link,target:h.isOpenInNewWindow?"_blank":"_self",rel:"noreferrer",children:h.title},h.link+f):t.jsx(te,{to:h.link,onClick:n,children:h.title},h.link+f)})})]},d.title)}),!(l!=null&&l.length)&&!!a.length&&t.jsx(je,{text:`По запросу ${a} ничего не найдено`})]})})]})},HE=u.div.withConfig({componentId:"sc-vnhc1t-0"})(["display:flex;flex-direction:column;height:100%;width:100%;.list{margin-top:10px;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:100%;background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (min-width:1001px){.list{.links-wrapper{.link-list{padding:5px;}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]),UE=u.div.withConfig({componentId:"sc-vnhc1t-1"})(["padding:12px;box-shadow:var(--block-shadow);border-radius:8px;margin:10px 0;.links{display:flex;flex-direction:column;gap:16px;}"]),jN=({})=>{const{data:{listApplication:e},error:i}=Be.useApplications(),{close:n}=H(),s=FE(),[o,a]=c.useState(""),[r,l]=c.useState(s);return t.jsx(Qe,{load:()=>kt.getApplicationsFx(),loading:!e,error:i,data:e,children:t.jsxs(Et,{children:[t.jsx(Z,{type:"info",title:"Информация",icon:t.jsx(_t,{}),children:"Данный сервис создан для упрощения оборота кадровых документов внутри Университета."}),t.jsxs(HE,{children:[t.jsx(L,{size:3,align:"left",bottomGap:!0,children:"Создать заявление"}),t.jsx(pa,{whereToSearch:s,searchEngine:yh,setResult:l,placeholder:"Поиск заявления",setExternalValue:a}),t.jsxs(UE,{children:[(r??s).map(p=>t.jsx("div",{className:"link-list",children:!p.disabled&&t.jsx("div",{className:"links",children:p.links.map(d=>d.isExternalLink?t.jsx("a",{href:d.link,target:d.isOpenInNewWindow?"_blank":"_self",rel:"noreferrer",children:d.title},d.title):t.jsx(te,{to:d.link,onClick:n,children:d.title},d.link))})},p.title)),!(r!=null&&r.length)&&!!o.length&&t.jsx(je,{text:`По запросу ${o} ничего не найдено`})]})]})]})})},sl={isOpen:!1,pages:[],currentPage:0},WE=()=>Ot(GE),jh=I({name:"open",sid:"2bs4br"}),kh=I({name:"close",sid:"um67v7"}),_h=I({name:"changeCurrentPage",sid:"-wbcenj"}),Ch=I({name:"clearStore",sid:"-xjcfg8"}),GE=$(sl,{name:"$story",sid:"-upbqag"}).on(jh,(e,{pages:i})=>({isOpen:!0,pages:i,currentPage:0})).on(kh,e=>({pages:e.pages,currentPage:e.currentPage,isOpen:!1})).on(_h,(e,{value:i})=>({...e,currentPage:i})).on(Ch,()=>({...sl})),Wa={useStory:WE},Qt={open:jh,close:kh,clearStore:Ch,changeCurrentPage:_h};u(Tt).withConfig({componentId:"sc-127k6fw-0"})(["overflow:hidden;position:relative;background:",";cursor:pointer;border-radius:var(--brLight);width:",";height:",";.title{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);font-size:0.8rem;font-weight:500;color:",";}"],({background:e})=>e??"var(--block)",({width:e})=>e,({height:e})=>e,({color:e})=>e??"var(--text)");const VE=on(["@supports not (aspect-ratio:1/1){height:0;padding-top:100%;position:relative;overflow:hidden;}"]),Sh=on(["@supports not (aspect-ratio:1/1){max-width:100%;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%;}"]),qE=u.div.withConfig({componentId:"sc-1esmg0s-0"})(["border-radius:",";display:flex;align-items:center;justify-content:center;background:",";color:var(--text);border:",";outline:",";position:relative;width:",";min-width:",";height:",";margin-right:",";box-shadow:",";.icon{position:absolute;bottom:-2px;right:-5px;background:var(--theme);color:var(--text);padding:2px;border-radius:100%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;svg{width:12px;height:12px;}}.checkbox{position:absolute;bottom:-9px;right:-9px;}.name{display:flex;height:100%;width:100%;color:#fff;font-size:",";align-items:center;justify-content:center;font-weight:600;","}@media (max-width:1000px){width:",";min-width:",";height:",";margin-right:",";.name{font-size:",";}}.notification{min-width:30%;height:30%;}"," ",""],({borderRadius:e})=>e?`${e}px`:"50%",({background:e})=>e??"var(--almostTransparent)",({selected:e,border:i})=>(e||i)&&"5px solid var(--theme)",({selected:e})=>e&&"4px solid var(--reallyBlue)",({width:e})=>e??"160px",({width:e})=>e??"160px",({height:e})=>e??"160px",({marginRight:e})=>e??"32px",({boxShadow:e})=>e??"0",({width:e})=>e?parseInt(e)/50+"em":"3em",Sh,({width:e})=>e??"75px",({width:e})=>e??"75px",({height:e})=>e??"75px",({marginRight:e})=>e??"15px",({width:e})=>e?parseInt(e)/50+"em":"1.5em",({centerHorizontally:e})=>e&&on(["position:relative;left:50%;transform:translate3d(-50%,0,0);"]),({adaptive:e})=>e&&on(["@media (max-width:450px){width:100%;height:100%;min-width:75px;aspect-ratio:1/1;","}"],VE)),YE=u.img.withConfig({componentId:"sc-1esmg0s-1"})(["width:100%;height:100%;border-radius:",";object-fit:cover;object-position:center;",""],({round:e})=>e&&"100%",({adaptive:e})=>e&&on(["@media (max-width:450px){","}"],Sh));function yt({selected:e,name:i,avatar:n,width:s,height:o,marginRight:a,notifications:r,checked:l,boxShadow:p,border:d,icon:h,avatarModal:f,onClick:g,borderRadius:m,background:b,adaptive:x,centerHorizontally:w}){const[_,S]=c.useState(!0),k=So(i)[0]+(So(i)[1]??""),{open:P}=H(),T=F=>{f?P(t.jsx(yt,{name:i,width:"400px",height:"400px",marginRight:"0",avatar:n,adaptive:!0,centerHorizontally:!0})):g==null||g(F)};return t.jsxs(qE,{selected:e,width:s,height:o,marginRight:a,background:b??ot(i),boxShadow:p,border:d,onClick:T,borderRadius:m,adaptive:x,centerHorizontally:w,children:[n&&_?t.jsx(YE,{loading:"lazy",round:!0,onLoadedData:()=>S(!0),onError:()=>S(!1),src:n,adaptive:x}):t.jsx("div",{className:"name",children:k}),h&&t.jsx("span",{className:"icon",children:h}),t.jsx(et,{invisibleOnFalse:!0,checked:l??!1,visible:l!==void 0,setChecked:()=>null}),t.jsx(si,{className:"notification",left:"80%",top:"90%",outline:"4px solid var(--block)",visible:!!r,children:(r||0)>1?r:null})]})}const QE=u.div.withConfig({componentId:"sc-1x49vrf-0"})(["display:flex;justify-content:center;width:100%;.info{display:flex;flex-direction:column;margin-left:10px;margin-top:20px;width:100%;b{margin-bottom:15px;color:#fff;display:flex;align-items:flex-end;height:42px;}}"]),Ga=({avatar:e,name:i,type:n,division:s,group:o,finance:a,educationForm:r,faculty:l,degreeLevel:p,course:d,isMe:h=!1,noInfo:f=!1})=>{const g=f?"140px":"110px",m=Hp(h,n,s,o);return t.jsxs(QE,{children:[t.jsx(Zd,{fullName:i,height:"136px",width:"calc(100% + 16px)",baseScale:1,baseScaleDelta:.5}),t.jsx(yt,{avatarModal:!0,border:!0,name:i,avatar:e,width:g,height:g,marginRight:"0"}),!f&&t.jsxs("div",{className:"info",children:[t.jsx("b",{children:i}),t.jsx(se,{fontSize:"0.9rem",children:t.jsx(at,{words:m})}),t.jsx(Yt,{fontSize:"0.9rem",visible:!!a,keyStr:"Уровень финансирование",value:a}),t.jsx(Yt,{fontSize:"0.9rem",visible:!!l,keyStr:"Факультет",value:l}),t.jsx(Yt,{fontSize:"0.9rem",visible:!!p,keyStr:"Уровень образования",value:p}),t.jsx(Yt,{fontSize:"0.9rem",visible:!!d,keyStr:"Курс",value:d}),t.jsx(Yt,{fontSize:"0.9rem",visible:!!r,keyStr:"Форма образования",value:r})]})]})},XE=u.div.withConfig({componentId:"sc-x4ldkl-0"})(["@media (min-width:1001px){width:330px;height:fit-content;min-height:120px;}display:flex;align-items:center;height:inherit;min-height:inherit;flex-direction:column;.buttons{margin-top:20px;display:flex;align-items:center;justify-content:center;width:100%;gap:8px;a{width:100%;}button{width:100%;}}","{.user{.info b{width:90%;height:35px;}&::before{height:110px;}}}"],V.isMobile),Ih=e=>{const{children:i}=e;return t.jsxs(XE,{children:[t.jsx(Ga,{...e}),t.jsx("div",{className:"buttons",children:i})]})},KE=u.div.withConfig({componentId:"sc-1vhy699-0"})(["display:flex;align-items:center;justify-content:flex-start;width:100%;.name-and-status{display:flex;flex-direction:column;}"]),JE=()=>t.jsxs(KE,{children:[t.jsx(X,{shape:"circle",size:{width:"30px",height:""},margin:"8px 0px 8px 0 "}),t.jsxs("div",{className:"name-and-status",children:[t.jsx(X,{shape:"rect",size:{width:"130px",height:"10px"},margin:"1px 10px"}),t.jsx(X,{shape:"rect",size:{width:"70px",height:"8px"},margin:"0px 10px"})]})]}),Th=e=>{if(e)return()=>{Ge.evokeConfirm({message:"Вы уверены, что хотите сменить аккаунт?",onConfirm:()=>{localStorage.setItem(q.Token,e),location.reload()}})}},Eh=e=>{var r;const{close:i}=H(),{token:n,name:s,group:o}=e,a=`linear-gradient(45deg, ${ot(s,"main")}, ${ot(s,"dark1")})`;return t.jsxs(Ih,{...e,type:"stud",children:[!n&&t.jsxs(t.Fragment,{children:[o&&t.jsx(te,{to:Dn($i,{page:"current",filter:o}),children:t.jsx(j,{icon:t.jsx(Bt,{}),text:"Расписание",onClick:()=>i(),width:"100%",background:"var(--theme-4)"})}),t.jsx(io,{avatar:e.avatar,userId:((r=e.id)==null?void 0:r.toString())??"",status:"stud",fio:s})]}),n&&t.jsx(j,{text:"Войти в аккаунт",width:"100%",textColor:"#fff",background:a,onClick:Th(n)})]})},ZE=e=>{var a;const{close:i}=H(),{token:n,name:s}=e,o=`linear-gradient(45deg, ${ot(s,"dark1")}, ${ot(s,"main")})`;return t.jsxs(Ih,{type:"staff",...e,children:[!n&&t.jsxs(t.Fragment,{children:[t.jsx(te,{to:Dn($i,{page:"current",filter:s}),children:t.jsx(j,{icon:t.jsx(Bt,{}),text:"Расписание",onClick:()=>{i()},background:"var(--theme-4)",width:"100%"})}),t.jsx(io,{avatar:e.avatar,userId:((a=e.id)==null?void 0:a.toString())??"",status:"staff",fio:s})]}),n&&t.jsx(j,{text:"Войти в аккаунт",width:"100%",textColor:"#fff",background:o,onClick:Th(n)})]})},Ph=({name:e,...i})=>{const{data:{user:n}}=ke.useUser(),s=(n==null?void 0:n.user_status)==="staff",{subdivisions:o}=z({subdivisions:rt.subdivisions});if(!s||!o)return t.jsx(ZE,{name:e,...i});const a=no(o,e)[0];return t.jsx(Dt,{id:i.id,title:a.fio,info:Ji(a),avatar:a.avatar,isEmployee:!0})};u.strong.withConfig({componentId:"sc-eyta43-0"})(["&:hover{text-decoration:underline;cursor:pointer;}"]);const Ln=u.div.withConfig({componentId:"sc-1sdtuzg-0"})(["display:flex;align-items:",";justify-content:center;height:",";min-height:",";color:var(--text);background:",";padding:",";width:100%;"],({alignItems:e})=>e??"center",({height:e})=>e??"auto",({minHeight:e})=>e,({background:e})=>e,({padding:e})=>e),e2=()=>t.jsx("div",{className:"left",children:t.jsxs(Ne,{scroll:!1,height:"100%",verticalAlign:"space-between",position:"static",children:[t.jsx(Ds,{width:"50px",short:!0,className:"logo first"}),t.jsxs(Ne,{gap:12,scroll:!1,height:"100%",verticalAlign:"center",children:[t.jsx(te,{to:Ka,tabIndex:-1,children:t.jsx(j,{padding:"0",icon:t.jsx(sn,{}),text:"Обратная связь",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),t.jsx(te,{to:lg,tabIndex:-1,children:t.jsx(j,{padding:"0",icon:t.jsx(xm,{}),text:"Узнать свой логин ЕУЗ",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),t.jsx(te,{to:rg,tabIndex:-1,children:t.jsx(j,{padding:"0",icon:t.jsx(nn,{}),text:"Вниманию студентов 1 курса!",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),t.jsx(te,{to:cg,tabIndex:-1,children:t.jsx(j,{padding:"0",icon:t.jsx(nn,{}),text:"Вниманию сотрудников!",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),t.jsx(be,{}),t.jsx(te,{to:ag,tabIndex:-1,children:t.jsx(j,{padding:"0",icon:t.jsx(bm,{}),text:"Не получается войти",height:"25px",align:"left",background:"transparent",textColor:"var(--red)"})})]}),t.jsx(_n,{text:"Перейти к старому дизайну",onClick:()=>{localStorage.setItem("useOldVersion","true")},background:"transparent",textColor:"var(--reallyBlue)",icon:t.jsx(js,{}),align:"left",padding:"0",width:"100%",href:`${M}/index.php`})]})}),t2=()=>{const e=Zs(),i=e.get("login"),n=e.get("password"),[s,o]=c.useState(i??""),[a,r]=c.useState(n??""),[l,p]=c.useState(!1),d=!!a&&!!s,h=ce.login,f=new Date().getMonth()>=6&&new Date().getMonth()<=8,g=x=>{p(x.getModifierState("CapsLock")),x.key==="Enter"&&h({login:s,password:a})},m=x=>{ce.changeSavePassword({savePassword:x})},b=()=>h({login:s,password:a});return c.useEffect(()=>{i&&n&&h({login:i,password:n})},[i,n]),{isSubmitActive:d,password:a,capsLock:l,login:s,showAbiturientMessage:f,handleSavePassword:m,handleKeyPress:g,handleLogin:b,setPassword:r,setLogin:o}},i2=()=>{const{loading:e,error:i,data:n}=ke.useUser(),{isSubmitActive:s,password:o,capsLock:a,login:r,showAbiturientMessage:l,handleKeyPress:p,handleSavePassword:d,handleLogin:h,setPassword:f,setLogin:g}=t2();return t.jsx("div",{className:"right",onKeyDown:p,children:t.jsxs(Ne,{gap:16,horizontalAlign:"center",position:"static",verticalAlign:"space-between",height:"100%",scroll:!1,children:[t.jsx(Ds,{width:"50px",short:!0,className:"logo second"}),t.jsx(E,{jc:"space-between",children:t.jsx(L,{size:3,align:"left",children:"Личный кабинет"})}),l&&t.jsx(Z,{type:"info",title:"Уважаемые абитуриенты!",children:t.jsxs("p",{children:["Личный кабинет абитуриента находится по ссылке"," ",t.jsx("a",{href:"https://lk.mospolytech.ru/",target:"_blank",rel:"noreferrer",children:t.jsx("strong",{children:"lk.mospolytech.ru"})})]})}),t.jsxs(Ne,{gap:16,scroll:!1,children:[t.jsx(L,{size:4,align:"left",children:"Вход"}),t.jsx(se,{children:"Вход в личный кабинет происходит через единую учетную запись (ЕУЗ)"}),t.jsx(Z,{type:"failure",visible:!!i,children:i}),t.jsx(Z,{type:"success",visible:(n==null?void 0:n.isAuthenticated)??!1,children:"Вы вошли в аккаунт"}),t.jsx(We,{value:r,setValue:g,title:"Логин",placeholder:"Введите логин"}),t.jsx(We,{value:o,setValue:f,title:"Пароль",placeholder:"Введите пароль",type:"password",alertMessage:a?"Включен Capslock":void 0}),t.jsx(et,{text:"Оставаться в системе",checked:n.savePassword,setChecked:d})]}),t.jsx(Ze,{text:"Вход",action:h,isLoading:e,completed:!1,setCompleted:()=>null,isActive:s})]})})},n2=u(Tt).withConfig({componentId:"sc-1o25f9n-0"})(["overflow:hidden;min-height:480px;transition:0.2s box-shadow;position:relative;background:",";.left,.right{height:100%;padding:22px;}.right{min-width:350px;width:350px;opacity:",";}.left{min-width:320px;width:320px;transition:0.2s background,0.2s opacity;background:",";padding-top:",";& > * > * > *:not(.logo){opacity:",";}}.logo{transform-origin:left;}.logo.first{z-index:100;animation:",";@keyframes logoMove{0%{position:absolute;top:22px;left:22px;transform:scale(1) translateY(0%) translateX(0%);}100%{position:absolute;top:50%;left:50%;transform:scale(2) translateY(-25%) translateX(-50%);}}}.logo.second{display:none;}@media (max-width:675px){max-width:400px;max-height:90%;flex-direction:column-reverse;overflow-y:auto;justify-content:flex-start;.right{opacity:1;& > * > * > *:not(.logo):not(button){opacity:",";}button{opacity:",";}}.left{padding-top:22px;}.logo.first{display:none;}.logo.second{display:block;z-index:100;animation:",";@keyframes logoMoveMobile{0%{position:absolute;top:22px;left:50%;transform:scale(1) translateY(0%) translateX(-50%);}100%{position:absolute;top:50%;left:50%;transform:scale(2) translateY(-25%) translateX(-50%);}}}.left,.right{width:100%;}}@media (max-width:400px){box-shadow:none;border-radius:0px;height:100%;max-height:100%;}"],({isAuthenticated:e})=>e?"var(--theme)":"var(--block)",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e?"var(--theme)":"var(--theme-1t)",({isAuthenticated:e})=>e?"60px":"22px",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e&&"logoMove 0.8s forwards ease-in-out",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e&&"0",({isAuthenticated:e})=>e&&"logoMoveMobile 0.8s forwards ease-in-out"),s2=()=>{const{data:{isAuthenticated:e}}=ke.useUser();return t.jsxs(n2,{isAuthenticated:e??!1,height:"fit-content",orientation:"horizontal",gap:"4px",maxWidth:"fit-content",padding:"0",children:[t.jsx(e2,{}),t.jsx(i2,{})]})},o2=u.div.withConfig({componentId:"sc-1p41lbf-0"})(["width:100%;display:flex;justify-content:center;align-items:center;background:var(--theme);flex-direction:column;"]),a2=()=>t.jsx(o2,{children:t.jsx(s2,{})}),r2=u.div.withConfig({componentId:"sc-1iy5q58-0"})(["position:relative;display:flex;justify-content:space-between;position:relative;display:flex;align-items:center;font-weight:700;width:100%;padding:10px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;.icon-and-title{display:flex;align-items:center;gap:15px;}svg{width:22px;height:22px;}.buttons{display:flex;align-items:center;column-gap:5px;svg{margin:0;}}&:hover::before{width:5px;background:var(--red);}"]),l2=({chosen:e,onClick:i})=>t.jsx(j,{minWidth:"35px",background:"transparent",icon:e?t.jsx(wm,{style:{color:"var(--blue)"}}):t.jsx(Vl,{}),onClick:i}),c2=e=>{const{id:i,chosen:n,switchMenuItem:s}=e;return t.jsxs(r2,{chosen:n,onClick:()=>s(i),children:[t.jsx(To,{background:"transparent",maxWordLength:100,orientation:"horizontal",shadow:!1,...e}),t.jsx("div",{className:"buttons",children:t.jsx(l2,{chosen:n,onClick:()=>{s(i)}})})]})},d2=u.div.withConfig({componentId:"sc-121iwyr-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:600px;height:600px;}"]),Ah=({enabledListStore:e,add:i,remove:n,requiredListStore:s})=>{const[o,a]=z([e,s]),{visibleRoutes:r}=dt.useMenu(),[l,p]=c.useState(null);if(!o||!r)return null;const d=h=>{o[h]?n(h):i(h)};return t.jsxs(d2,{children:[t.jsx(pa,{placeholder:"Поиск",whereToSearch:r,searchEngine:Hu,setResult:p}),Object.values(l??r).filter(h=>!a.includes(h.id)).map((h,f)=>c.createElement(c2,{...h,key:f,chosen:!!o[h.id],switchMenuItem:d}))]})},lt={size:4,align:"left",bottomGap:"12px",style:{marginLeft:"8px"}},Jn=I({name:"setHomePageWidgetView",sid:"mzjw46"});v({and:[{clock:Jn,source:ue.userSettings,fn:(e,i)=>({homePage:{...e.homePage,...i}}),target:Fe.update}],or:{sid:"-koqolk"}});const fn=u.div.withConfig({componentId:"sc-mr5xj1-0"})(["display:flex;flex-direction:column;gap:24px;"]),p2=()=>{const[e,i]=z([ue.userSettings,un.menu]),{open:n}=H(),s=e==null?void 0:e.homePage.pages.reduce((o,a)=>{var r;return{...o,[a]:(r=i.allRoutes)==null?void 0:r[a]}},{});return t.jsxs(fn,{children:[t.jsxs("div",{children:[t.jsx(L,{...lt,children:"Разделы домашней страницы"}),t.jsx(Ia,{padding:"0 10px 10px 10px",list:s,onRemoveOne:o=>{ln({pageId:o})},onAddElement:()=>{n(t.jsx(Ah,{enabledListStore:un.homeRoutes,requiredListStore:$([],{name:"requiredListStore",sid:"-d98k08"}),remove:o=>ln({pageId:o}),add:o=>Ms({pageId:o})}),"Разделы домашней страницы")}})]}),t.jsxs("div",{children:[t.jsx(L,{...lt,bottomGap:"4px",children:"Виджеты"}),t.jsx(Pe,{title:"Новости",action:o=>{Jn({hasNews:o})},state:!!(e!=null&&e.homePage.hasNews)}),t.jsx(Pe,{title:"Оплаты",action:o=>Jn({hasPayment:o}),state:!!(e!=null&&e.homePage.hasPayment)}),t.jsx(Pe,{title:"Расписание",action:o=>{Jn({hasSchedule:o})},state:!!(e!=null&&e.homePage.hasSchedule)})]})]})},u2=()=>{const[e,i,n]=z([ue.userSettings,un.menu,Ii]),{open:s}=H(),o=e==null?void 0:e.customizeMenu.pages.filter(a=>!n.includes(a)).reduce((a,r)=>{var l;return{...a,[r]:(l=i.allRoutes)==null?void 0:l[r]}},{});return t.jsxs(t.Fragment,{children:[t.jsx(L,{...lt,children:"Разделы меню"}),t.jsx(Ia,{padding:"0 10px 10px 10px",list:o,onRemoveOne:a=>{os({pageId:a})},onAddElement:()=>{s(t.jsx(Ah,{enabledListStore:un.leftSidebar,requiredListStore:Ii,remove:a=>os({pageId:a}),add:a=>$s({pageId:a})}),"Настройка меню")}})]})},Nh=I({name:"turnOnAllNotifications",sid:"1wmi06"}),Dh=I({name:"turnOffAllNotifications",sid:"a0jir2"});v({and:[{clock:Nh,fn:()=>({notifications:{all:!0,messages:!0,newVersion:!0,schedule:!0,news:!0,applications:!0,doclist:!0}}),target:Fe.update}],or:{sid:"-n783b6"}});v({and:[{clock:Dh,fn:()=>({notifications:{all:!1,messages:!1,newVersion:!1,schedule:!1,news:!1,applications:!1,doclist:!1}}),target:Fe.update}],or:{sid:"-a9kop5"}});const h2=u.div.withConfig({componentId:"sc-1phin2z-0"})(["display:flex;position:relative;flex-direction:column;height:100%;margin-left:8px;padding-left:6px;&::before{content:'';position:absolute;display:block;width:3px;background-color:var(--blue);height:100%;border-radius:2px;}"]),g2=()=>{const e=z(ue.userSettings);if(!e)return null;const i=e.notifications,n=Object.values(i).every(Boolean);return t.jsxs(fn,{style:{gap:"0"},children:[t.jsx(L,{...lt,bottomGap:"4px",children:"Уведомления"}),t.jsxs("div",{children:[t.jsx(Pe,{title:"Все",state:n,action:s=>{s?Nh():Dh()}}),t.jsxs(h2,{children:[t.jsx(Pe,{title:"Сообщения",state:i.messages,action:s=>{Fe.update({notifications:{...i,messages:s}})}}),t.jsx(Pe,{title:"Новая версия",state:i.newVersion,action:s=>{Fe.update({notifications:{...i,newVersion:s}})}}),t.jsx(Pe,{title:"Расписание",state:i.schedule,action:s=>{Fe.update({notifications:{...i,schedule:s}})}}),t.jsx(Pe,{title:"Новости",state:i.news,action:s=>{Fe.update({notifications:{...i,news:s}})}}),t.jsx(Pe,{title:"Цифровые сервисы",state:i.applications,action:s=>{Fe.update({notifications:{...i,applications:s}})}}),t.jsx(Pe,{title:"Документы для ознакомления",state:i.doclist,action:s=>{Fe.update({notifications:{...i,doclist:s}})}})]})]})]})},Mi=({title:e,description:i,onClick:n,icon:s,rightIcon:o,editable:a=!0,completed:r,fancyBG:l})=>t.jsxs(f2,{onClick:n,completed:r,fancyBG:l,children:[s&&t.jsx("div",{className:"icon",children:s}),t.jsxs(Oh,{completed:r,children:[t.jsx("b",{children:e}),t.jsx("span",{children:i})]}),t.jsx(Uo,{completed:r,children:o??(a?t.jsx(vm,{}):null)})]}),Uo=u.div.withConfig({componentId:"sc-m7xit9-0"})(["color:",";z-index:2;display:flex;align-items:center;justify-content:center;transition:0.2s transform;"],({completed:e})=>e?"var(--greenMain)":""),Oh=u.div.withConfig({componentId:"sc-m7xit9-1"})(["z-index:2;width:100%;display:flex;flex-direction:column;color:",";b{opacity:",";font-weight:500;font-size:0.85rem;}span{opacity:0.6;font-size:0.8rem;margin-top:2px;}"],({completed:e})=>e?"var(--greenMain)":"var(--text)",({completed:e})=>e?1:.8),f2=u.div.withConfig({componentId:"sc-m7xit9-2"})(["width:100%;display:flex;align-items:center;justify-content:space-between;position:relative;cursor:pointer;padding:0px 12px;min-height:45px;border-radius:var(--brLight);background:",";&:hover{background:",";",",",",.icon > svg{color:var(--text);}","{","}}.icon{z-index:2;width:22px;height:22px;margin-right:10px;display:flex;justify-content:center;align-items:center;svg{width:22px;height:22px;opacity:0.4;color:",";}}span{opacity:0.8;}"],({fancyBG:e})=>e?"linear-gradient(90deg, var(--bgLink1) 0%, var(--block) 50%)":"",({completed:e,fancyBG:i})=>i?e?"linear-gradient(270deg, rgba(60, 210, 136, 0) 0%, rgba(60, 210, 136, 0.4) 100%)":"linear-gradient(270deg, var(--bgLink2) 0%, var(--bgLink3) 100%)":"var(--theme-4)",Uo,Oh,Uo,({fancyBG:e})=>e&&"transform: translateX(-10px);",({completed:e})=>e?"var(--greenMain)":"var(--text)"),Lh=I({name:"changeStaffPhone",sid:"izwok9"}),Pi=re({sid:"rjfr38",fn:()=>tt({handler:cx}),name:"changeStaffPhoneParamsMutation",method:"createMutation"});v({and:[{clock:Lh,target:Pi.start}],or:{sid:"-lrn0rd"}});v({and:[{clock:Pi.$succeeded,source:Pi.__.$latestParams,filter:Boolean,target:ce.updateBulk}],or:{sid:"-lpfudx"}});v({and:[{clock:Pi.$succeeded,fn:()=>({message:"Данные о служебном мобильном телефоне успешно изменены",type:"success",time:3e3}),target:G.evokePopUpMessage}],or:{sid:"-laled6"}});v({and:[{clock:Pi.$failed,fn:()=>({message:"Не удалось изменить данные о служебном мобильном телефоне",type:"failure",time:3e3}),target:G.evokePopUpMessage}],or:{sid:"-l5n90x"}});const m2=u.div.withConfig({componentId:"sc-svm75i-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){min-width:350px;}"]),x2=u.div.withConfig({componentId:"sc-svm75i-1"})(["display:flex;align-items:center;justify-content:flex-end;gap:8px;"]),b2=()=>{const{close:e,isOpen:i}=H(),{loading:n,user:{currentUser:s}}=z({loading:Pi.$pending,user:K.user}),[o,a]=c.useState((s==null?void 0:s.phone_staff)??""),[r,l]=c.useState((s==null?void 0:s.allow_mobphone_in)??!1),[p,d]=c.useState((s==null?void 0:s.allow_mobphone_out)??!1),h=()=>{Lh({phone_staff:o,allow_mobphone_in:r,allow_mobphone_out:p})};return c.useEffect(()=>{i&&(a((s==null?void 0:s.phone_staff)??""),l((s==null?void 0:s.allow_mobphone_in)??!1),d((s==null?void 0:s.allow_mobphone_out)??!1))},[i]),t.jsxs(m2,{children:[t.jsx(We,{value:o,setValue:a,type:"tel",mask:!0}),t.jsx(Pe,{title:"Показывать мобильный телефон внутри Личного кабинета",state:r,action:l}),t.jsx(Pe,{title:"Показывать мобильный телефон на сайте",state:p,action:d}),t.jsx(be,{}),t.jsxs(x2,{children:[t.jsx(j,{text:"Отменить",onClick:e}),t.jsx(j,{height:"38px",text:n?void 0:"Обновить",onClick:h,loading:n,background:y.blue.main,minWidth:"10ch",textColor:y.white.main})]})]})},w2=()=>{const{user:{currentUser:e}}=z({user:K.user}),{open:i}=H();if(!e)return null;const n=()=>{i(t.jsx(b2,{}),"Служебный мобильный телефон")};return t.jsx(Mi,{icon:t.jsx(ql,{}),title:"Служебный мобильный телефон",description:e.phone_staff,onClick:n})},Rh=I({name:"changeStaffAddress",sid:"oilgm9"}),ri=re({sid:"-wa42cm",fn:()=>tt({handler:dx}),name:"changeStaffAddressMutation",method:"createMutation"});v({and:[{clock:Rh,target:ri.start}],or:{sid:"-9un4ct"}});v({and:[{clock:ri.$succeeded,source:{user:K.user,mutationParams:ri.__.$latestParams},fn:({user:{currentUser:e},mutationParams:i})=>{var n;return{subdivisions:(n=e==null?void 0:e.subdivisions)==null?void 0:n.map(s=>s.guid_staff===(i==null?void 0:i.guid_staff)?{...s,...i}:s)}},target:ce.updateBulk}],or:{sid:"-9sfxzd"}});v({and:[{clock:ri.$succeeded,source:{user:K.user,mutationParams:ri.__.$latestParams},fn:({user:{currentUser:e},mutationParams:i})=>{var n,s;return{message:`Данные об адресе рабочего места (${(s=(n=e==null?void 0:e.subdivisions)==null?void 0:n.find(o=>o.guid_staff===(i==null?void 0:i.guid_staff)))==null?void 0:s.post}) успешно изменены`,type:"success",time:3e3}},target:G.evokePopUpMessage}],or:{sid:"-8rlq86"}});v({and:[{clock:ri.$failed,fn:()=>({message:"Не удалось изменить данные об адресе рабочего места",type:"failure",time:3e3}),target:G.evokePopUpMessage}],or:{sid:"-7um2mi"}});const v2=u.div.withConfig({componentId:"sc-1d66gwv-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){min-width:350px;}"]),y2=u.div.withConfig({componentId:"sc-1d66gwv-1"})(["display:flex;align-items:center;justify-content:flex-end;gap:8px;"]),j2=({subDivisionGuidStaff:e})=>{var x,w,_;const{close:i,isOpen:n}=H(),{loading:s,user:{currentUser:o}}=z({loading:ri.$pending,user:K.user}),[a,r]=c.useState(()=>{var S,k;return e||(((k=(S=o==null?void 0:o.subdivisions)==null?void 0:S[0])==null?void 0:k.guid_staff)??"")}),l=(x=o==null?void 0:o.subdivisions)==null?void 0:x.find(S=>S.guid_staff===a),p=((w=o==null?void 0:o.subdivisions)==null?void 0:w.length)||0,[d,h]=c.useState(()=>Qn(me,(l==null?void 0:l.address)??"")),[f,g]=c.useState(l==null?void 0:l.room),m=()=>{Rh({guid_staff:a,address:d==null?void 0:d.title,room:f??"",post:(l==null?void 0:l.post)??""})};c.useEffect(()=>{h(Qn(me,(l==null?void 0:l.address)??"")),g(l==null?void 0:l.room)},[l]),c.useEffect(()=>{if((d==null?void 0:d.title)!==(l==null?void 0:l.address)){g(Kt.cabinetMask("",Co((d==null?void 0:d.title)||"")));return}g(l==null?void 0:l.room)},[d]);const b=((_=o==null?void 0:o.subdivisions)==null?void 0:_.map(S=>({id:S.guid_staff,title:S.post??"",content:t.jsx(t.Fragment,{})})))??[];return c.useEffect(()=>{n&&(h(Qn(me,(l==null?void 0:l.address)??"")),g(l==null?void 0:l.room))},[n]),t.jsxs(v2,{children:[(e||p===1)&&t.jsx(L,{size:4,align:"left",children:l==null?void 0:l.post}),!e&&p>1&&t.jsx(lo,{pages:b,onChangePage:S=>r(S||""),appearance:!1,currentPage:b.findIndex(({id:S})=>S===a)||0}),t.jsx(ga,{width:"99%",title:"Адрес рабочего места",items:me,setSelected:h,selected:d}),t.jsx(We,{title:"Кабинет",value:f??"",type:"cabinet",setValue:S=>g(Kt.cabinetMask(S,Co((d==null?void 0:d.title)||""))),mask:!0}),t.jsx(be,{}),t.jsxs(y2,{children:[t.jsx(j,{text:"Отменить",onClick:i}),t.jsx(j,{height:"38px",text:s?void 0:"Обновить",onClick:m,loading:s,background:y.blue.main,minWidth:"10ch",textColor:y.white.main})]})]})},k2=({subDivisionGuidStaff:e})=>{var o;const{user:{currentUser:i}}=z({user:K.user}),{open:n}=H();if(!i)return null;const s=()=>{n(t.jsx(j2,{subDivisionGuidStaff:e}),"Адрес места работы")};return t.jsx(Mi,{icon:t.jsx(Ko,{}),title:"Адрес места работы",description:(o=i.subdivisions)==null?void 0:o.map(a=>a.room).join(", "),onClick:s})},ol=e=>!e||e.length===0?"Не указан":e,zh=(e,i)=>{const n=e.find(({test:a})=>!a(...i)),s=!n,o=!i.find(a=>a.length===0)&&s;return{allChecked:s,isActive:o,validationError:n}},_2=u.div.withConfig({componentId:"sc-1xa1yjn-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:350px;}"]),C2=u.div.withConfig({componentId:"sc-1xa1yjn-1"})(["display:flex;align-items:center;gap:8px;"]),S2=[{text:"Необходимо изменить строку",test:(e,i)=>e!==i}],I2=e=>{const{value:i,message:n,action:s,type:o,title:a,additionalActions:r}=e,[l,p]=c.useState(i),[d,h]=c.useState(!1),[f,g]=c.useState(""),[m,b]=c.useState(!1),{close:x}=H(),{isActive:w,validationError:_}=zh(S2,[l,i]),S=async()=>{var k;try{h(!0),await(s==null?void 0:s(l)),(k=r==null?void 0:r.onSuccess)==null||k.call(r,l),h(!1),b(!0)}catch(P){g("Возникла ошибка: "+P.message),h(!1)}};return c.useEffect(()=>{p(i),g(null)},[a]),t.jsxs(_2,{children:[t.jsx(L,{size:3,align:"left",children:a}),n&&t.jsx(Z,{type:n.type??"",title:n.title,children:n.body}),t.jsx(Z,{type:"failure",visible:!!f,children:f}),t.jsx(We,{value:l,setValue:p,type:o,mask:!0}),t.jsx(be,{}),t.jsxs(C2,{children:[t.jsx(j,{text:"Отменить",width:"100%",onClick:x}),t.jsx(Ze,{isLoading:d,completed:m,isActive:w,text:"Обновить",action:S,setCompleted:b,popUpFailureMessage:_==null?void 0:_.text,height:"38px"})]})]},a)},al=e=>{const{open:i}=H(),n=()=>{e.disabled||i(t.jsx(I2,{...e}))};return t.jsx(Mi,{...e,onClick:n})},rl=e=>{const i=c.useState(!1),n=c.useState(!1),s=c.useState(null);return{loading:i,error:s,completed:n,isActive:e}},T2=u.div.withConfig({componentId:"sc-1y5ksaz-0"})(["display:flex;flex-direction:column;align-items:center;gap:12px;@media (min-width:1001px){width:400px;}"]),E2=()=>{const{data:{user:e}}=ke.useUser();if(!e)return null;const[i,n]=c.useState([]),[s,o]=c.useState(null),{completed:[a,r],loading:[l,p],error:[d,h],isActive:f}=rl(!!(e!=null&&e.avatar)),{completed:[g,m],loading:[b,x],error:[w,_],isActive:S}=rl(i.length===1);c.useEffect(()=>{const F=new FileReader;F.onloadend=()=>{o(F.result)},i[0]?F.readAsDataURL(i[0]):o(null)},[i]);const k=async()=>{try{x(!0),m(!1);const F=await rr(i[0]);if(F.data.result!=="ok")throw new Error(F.data.errors);m(!0),x(!1),n([]),ce.update({key:"avatar",value:s})}catch(F){_("Ошибка: "+F.message)}},P=async()=>{try{p(!0),r(!1);const F=await rr();if(F.data.result!=="ok")throw new Error(F.data.errors);r(!0),p(!1),ce.update({key:"avatar",value:""})}catch(F){h("Ошибка: "+F.message)}},T=()=>Ge.evokeConfirm({message:"Вы уверены, что хотите удалить фото профиля?",onConfirm:P});return t.jsxs(T2,{children:[t.jsx(Ga,{avatar:s??(e==null?void 0:e.avatar),name:(e==null?void 0:e.fullName)??"",isMe:!1,type:e==null?void 0:e.user_status,noInfo:!0}),t.jsx(Z,{type:"failure",visible:!!w||!!d,children:w||d}),t.jsx(ha,{files:i,maxFiles:1,formats:["image/jpeg"],setFiles:n,isActive:!0}),t.jsxs(Ne,{direction:"horizontal",children:[(e==null?void 0:e.avatar)&&t.jsx(Ze,{isLoading:l,background:y.red.main,completed:a,isActive:f,text:"Удалить фото профиля",action:T,setCompleted:r}),t.jsx(Ze,{isLoading:b,completed:g,isActive:S,text:"Обновить",popUpSuccessMessage:"Фото профиля успешно обновлено!",popUpFailureMessage:"Фото не загружено",action:k,setCompleted:m})]})]})},P2=e=>{const{open:i}=H(),n=()=>{i(t.jsx(E2,{}))};return t.jsx(Mi,{...e,onClick:n})},Fh=e=>e===0?"grey":e<=40?"red":e<=60?"orange":e<=80?"blue":"green",Mh={small:4,middle:9,large:12,big:14},A2=u.div.withConfig({componentId:"sc-2e6plf-0"})(["width:100%;h5{color:",";}"],({coloring:e,value:i})=>e?y[Fh(i)].main:"var(--text)"),N2=u.div.withConfig({componentId:"sc-2e6plf-1"})(["width:",";border-radius:var(--brLight);height:","px;transition:0.2s;background:",";"],({value:e})=>e+"%",({size:e})=>Mh[e],({coloring:e,value:i,color:n})=>e?y[Fh(i)].main:!e&&n?y[n].main:"var(--block)"),D2=u.div.withConfig({componentId:"sc-2e6plf-2"})(["width:100%;border-radius:var(--brLight);background-color:var(--theme-2);height:","px;overflow:hidden;"],({size:e})=>Mh[e]),$h=({title:e,value:i,size:n="middle",coloring:s=!0,color:o})=>t.jsxs(A2,{value:i,coloring:s,children:[t.jsx(L,{size:5,align:"left",visible:!!e,bottomGap:!0,children:e}),t.jsx(D2,{size:n,children:t.jsx(N2,{size:n,coloring:s,value:i,color:o})})]}),Ai=7,Bh=new RegExp(`(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{${Ai+3},})`),Hh=new RegExp(`((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{${Ai},}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{${Ai+3},}))`),ll=[{text:`Минимальная длина ${Ai} знаков`,test:e=>e.length>=Ai},{text:"Не повторяет старый пароль",test:(e,i,n)=>n.length>0&&e.length>0&&e!==n},{text:"Состоит из латинских заглавных, строчных букв, цифр",test:e=>Hh.test(e)},{text:"Пароли совпадают",visible:!1,test:(e,i)=>e.length>0&&i.length>0&&e===i}],O2=[{text:"Содержит спец. знаки (например, !, $, #, %)",test:e=>Bh.test(e)}],cl="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",L2=e=>{let i="";for(let n=0;n<e;n++)i+=cl.charAt(Math.floor(Math.random()*cl.length));return i},R2=e=>Bh.test(e)?{title:"надежный",value:100}:Hh.test(e)?{title:"средний",value:60}:e.length===0?{title:"нет",value:0}:e.length<Ai?{title:"очень слабый",value:10}:{title:"слабый",value:20},z2=u.div.withConfig({componentId:"sc-1r0k6mt-0"})(["display:flex;gap:20px;align-items:center;flex-direction:column;@media (min-width:1001px){flex-direction:row;width:620px;height:400px;}"]),F2=u.form.attrs({autocomplete:!1}).withConfig({componentId:"sc-1r0k6mt-1"})(["display:flex;flex-direction:column;justify-content:space-between;gap:10px;min-height:100%;max-width:280px;width:100%;"]),M2=u.div.withConfig({componentId:"sc-1r0k6mt-2"})(["height:100%;background:var(--theme-1t);border-radius:var(--brLight);padding:16px;display:flex;flex-direction:column;justify-content:space-between;"]),$2=u.div.withConfig({componentId:"sc-1r0k6mt-3"})(["height:100%;gap:8px;display:flex;flex-direction:column;align-items:center;"]),B2=u.div.withConfig({componentId:"sc-1r0k6mt-4"})(["display:flex;align-items:center;gap:8px;"]),H2=u.div.withConfig({componentId:"sc-1r0k6mt-5"})(["display:flex;flex-direction:column;align-items:center;gap:8px;transform:scale(0.9);"]),U2=u.div.withConfig({componentId:"sc-1r0k6mt-6"})(["height:350px;display:flex;flex-direction:column;gap:12px;justify-content:center;align-items:center;@media (max-width:1001px){height:fit-content;}"]),W2=()=>{const[e,i]=c.useState(""),[n,s]=c.useState(""),[o,a]=c.useState(""),[r,l]=c.useState(null),[p,d]=c.useState(!1),[h,f]=c.useState(!1),{isActive:g,validationError:m}=zh(ll,[n,o,e]),b=R2(n),{close:x}=H(),w=()=>{const S=L2(12);s(S),a(S)},_=async()=>{try{d(!0);const S=await ax(e,n);if(S.data.result!=="ok")throw new Error(S.data.errors);f(!0),d(!1),s(""),a(""),i("")}catch(S){const k=S.message??S;l("Возникла ошибка: "+k),d(!1)}};return t.jsxs(z2,{children:[t.jsxs(M2,{children:[t.jsxs($2,{children:[t.jsx(L,{size:3,align:"left",children:"Смена пароля"}),t.jsx(se,{width:"100%",align:"left",fontSize:"0.9rem",children:"Обязательные требования"}),t.jsx(Ne,{gap:8,direction:"vertical",children:ll.map(S=>t.jsx(et,{fontSize:"0.85rem",setChecked:()=>null,text:S.text,checked:S.test(n,o,e)},S.text))}),t.jsx(se,{width:"100%",align:"left",fontSize:"0.9rem",children:"Необязательные требования"}),t.jsx(Ne,{gap:8,direction:"vertical",children:O2.map(S=>t.jsx(et,{fontSize:"0.85rem",setChecked:()=>null,text:S.text,checked:S.test(n,o,e)},S.text))})]}),!g&&t.jsx(j,{width:"100%",text:"Сгенерировать пароль",onClick:w,background:"var(--theme-2)"}),g&&t.jsxs(H2,{children:[t.jsx(ca,{size:"40px"}),t.jsx(L,{size:5,children:"Отличный пароль!"})]})]}),t.jsxs(F2,{children:[t.jsxs(U2,{children:[t.jsx(Z,{title:"Ошибка",type:"failure",visible:!!r,children:r}),t.jsx(We,{type:"password",title:"Введите старый пароль",placeholder:"Введите пароль",value:e,setValue:i,required:!0}),t.jsx(We,{type:"password",title:"Придумайте пароль",placeholder:"Введите новый пароль",value:n,setValue:s,required:!0}),t.jsx(We,{type:"password",title:"Повторите пароль",placeholder:"Введите тот же пароль",value:o,setValue:a,required:!0}),t.jsx($h,{value:b.value,size:"small",title:`Сложность пароля: ${b.title}`})]}),t.jsxs(B2,{children:[t.jsx(j,{text:"Отменить",width:"100%",onClick:x}),t.jsx(Ze,{isLoading:p,completed:h,text:"Обновить",popUpFailureMessage:`Требование к паролю: ${m==null?void 0:m.text}`,action:_,setCompleted:f,height:"38px",isActive:g})]})]})]})},G2=e=>{const{open:i}=H(),n=()=>i(t.jsx(W2,{}));return t.jsx(Mi,{...e,onClick:n})},V2=()=>{const{user:{currentUser:e},settings:i}=z({user:K.user,settings:ue.userSettings});if(!i)return null;const n=i.syncAcrossAllDevices;return t.jsxs(fn,{children:[t.jsxs("div",{children:[t.jsx(L,{...lt,children:"Данные"}),t.jsx(P2,{title:"Фото профиля",value:e==null?void 0:e.avatar,icon:t.jsx(yt,{avatar:e==null?void 0:e.avatar,name:(e==null?void 0:e.fullName)??"",width:"22px",height:"22px",marginRight:"0"}),description:"Смена аватара"}),t.jsx(al,{icon:t.jsx(ym,{}),type:"text",title:"Email",description:ol(e==null?void 0:e.email),value:e==null?void 0:e.email,action:s=>rx(s??""),additionalActions:{onSuccess:s=>{ce.update({key:"email",value:s})}}}),t.jsx(al,{icon:t.jsx(ql,{}),type:"tel",title:"Телефон",description:ol(e==null?void 0:e.phone),value:e==null?void 0:e.phone,action:s=>lx(s??""),additionalActions:{onSuccess:s=>{ce.update({key:"phone",value:s})}}}),(e==null?void 0:e.user_status)==="staff"&&t.jsxs(t.Fragment,{children:[t.jsx(w2,{}),t.jsx(k2,{})]}),t.jsx(G2,{icon:t.jsx(jm,{}),type:"password",title:"Пароль",description:"Смена пароля"})]}),t.jsxs("div",{children:[t.jsx(L,{...lt,children:"Синхронизация"}),t.jsx(Pe,{title:"Сохранить для всех устройств",state:n,action:s=>{const o=s?"Вы точно хотите синхронизировать настройки? Текущие настройки будут использоваться на всех устройствах.":"Вы точно хотите отключить синхронизацию настроек на всех устройствах? Настройки на текущем устройстве не изменятся.";Ge.evokeConfirm({message:o,isSubmitSuccess:s,onConfirm:()=>{Fe.update({syncAcrossAllDevices:s}),Ge.closeConfirm()}})}})]})]})},q2=()=>{const e=z(ue.userSettings),n=(e==null?void 0:e.appearance.theme)===Ie.Light;return t.jsxs(t.Fragment,{children:[t.jsx(L,{...lt,children:"Вид"}),t.jsx(Pe,{title:"Темная тема",state:!n,action:s=>ps({isDark:s})})]})},Uh=["settings-personal","settings-customize-menu","settings-appearance","settings-home-page","settings-notifications","settings-tutorial"],Y2=()=>{var n;const{allRoutes:e}=dt.useMenu(),i=(n=ci(Ja))==null?void 0:n.params;return e?t.jsx(Q2,{"data-is-base-settings-page":!(i!=null&&i.id),children:t.jsx(X2,{children:t.jsxs(Ss,{children:[Uh.map(s=>t.jsx(an,{path:e[s].path,component:e[s].Component},s)),t.jsx(an,{path:"/",children:t.jsx(Ln,{height:"100%",children:t.jsx(je,{text:"Ничего не выбрано",image:t.jsx(wt,{color:"grey",size:50,children:t.jsx(Qo,{})})})})})]})})}):null},Q2=u.div.withConfig({componentId:"sc-10mblme-0"})(["width:100%;height:100%;overflow:hidden;flex-direction:column;display:flex;","{&[data-is-base-settings-page='false']{flex:1;}&[data-is-base-settings-page='true']{display:none;}}"],V.isMobile),X2=u.div.withConfig({componentId:"sc-10mblme-1"})(["width:100%;height:100%;overflow-y:auto;overflow:hidden;padding:0 32px;","{padding:0;}"],V.isMobile),K2=He(ed),J2=()=>{var n;const{allRoutes:e}=dt.useMenu(),i=(n=ci(Ja))==null?void 0:n.params;return e?t.jsx(eP,{"data-is-base-settings-page":!(i!=null&&i.id),tutorialModule:{id:"settings",step:0},children:Uh.map((s,o)=>c.createElement(K2,{...e[s],title:e[s].title.slice(11,e[s].title.length),key:s,orientation:"horizontal",shadow:!1,isActive:s===(i==null?void 0:i.id),tutorialModule:{id:"settings",step:o+1}}))}):null},Z2=u.div.withConfig({componentId:"sc-1a9mljr-0"})(["display:flex;flex-direction:column;gap:6px;","{&[data-is-base-settings-page='false']{display:none;}&[data-is-base-settings-page='true']{flex:1;}}"],V.isMobile),eP=He(({children:e,forwardedRef:i})=>{var s;const n=(s=ci(Ja))==null?void 0:s.params;return t.jsx(Z2,{ref:i,"data-is-base-settings-page":!(n!=null&&n.id),children:e})}),tP=()=>t.jsx(Ln,{padding:"10px",children:t.jsx(Et,{topRightCornerElement:t.jsx(iP,{icon:t.jsx(Bl,{}),text:"Выйти из аккаунта",onClick:()=>{Ge.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:ce.logout})},textColor:"var(--red)",background:"var(--block)"}),children:t.jsxs(E,{ai:"flex-start",children:[t.jsx(J2,{}),t.jsx(Y2,{})]})})}),iP=u(j).withConfig({componentId:"sc-cqv4z9-0"})(["","{.text{display:none;}.icon{margin-right:0;}}"],V.isMobile),nP=({chats:e,search:i})=>e.filter(n=>{var s;return Ae(((s=n.opponent)==null?void 0:s.name)+n.lastmessage.text+n.lastmessage.datetime+n.subject).includes(Ae(i))}),Wh=I({name:"setSearch",sid:"-3oydq8"}),Gh=$("",{name:"$search",sid:"-rqcw3l"}).on(Wh,(e,i)=>i),sP=Oe({and:[Ut.chats.$data,Gh,(e,i)=>!i||!e?e:nP({search:i,chats:e})],or:{name:"$foundChats",sid:"-w695fw"}}),oP={setSearch:Wh},Vh={search:Gh,foundChats:sP},Va=e=>e?`${e.name} ${e.surname}`:"",qa=I({name:"resendErrorMessage",sid:"-j6vf9f"}),qh=vs({and:{source:De.selectedChatId,effect:async e=>{if(!e)throw new Error("Чат не выбран");const i=new AbortController;re({sid:"-ag8f97",fn:()=>Dl(()=>{i.abort()}),name:"none",method:"onAbort"});let n=0;for(;n<3;){const{data:s}=await xC(e,i.signal),o=!(s!=null&&s.map);if(s&&!o)return s.reverse();n++}throw new Error("Не удалось загрузить сообщения")}},or:{name:"getChatMessagesFx",sid:"-vtascx"}}),aP=vs({and:{source:[De.selectedChatId,K.user],effect:async([e,i],n)=>{if(!e)throw new Error("Чат не выбран");const s=i.currentUser;return{...await Jd({...n,chatId:e}),currentUser:s}}},or:{name:"addChatMessageFx",sid:"-8xd7jw"}}),ui=re({sid:"4jrlxz",fn:()=>tt({handler:aP}),name:"addMessageMutation",method:"createMutation"}),hi=re({sid:"vwkfuy",fn:()=>ws({handler:qh,enabled:Wd.$visible}),name:"chatMessagesQuery",method:"createQuery"});re({sid:"-8klqd8",fn:()=>El(hi,{strategy:"TAKE_LATEST"}),name:"none",method:"concurrency"});re({sid:"-87eo4k",fn:()=>Pl(hi,{adapter:re({sid:"53m8po",fn:()=>Al({maxEntries:10,maxAge:"60sec"}),name:"adapter",method:"sessionStorageCache"}),purge:ce.logout}),name:"none",method:"cache"});v({and:[{clock:De.selectedChatId,target:hi.reset}],or:{sid:"-83k3z1"}});const{tick:rP}=re({sid:"-eto2mu",fn:()=>Nl({timeout:6e4,start:Ao.set,stop:ce.logout}),name:"none",method:"interval"});v({and:[{clock:rP,target:hi.start}],or:{sid:"-7lyozh"}});const mn=$({},{name:"$inProgressChatsMessages",sid:"t11gzj"}),xn=$({},{name:"$errorChatsMessages",sid:"6cq9m2"}),lP=Oe({and:[mn,De.selectedChatId,(e,i)=>e[i??""]??[]],or:{name:"$inProgressChatMessages",sid:"-uvi455"}}),Yh=Oe({and:[xn,De.selectedChatId,(e,i)=>e[i??""]??[]],or:{name:"$errorChatMessages",sid:"-pm9xmc"}}),Ya=$({},{name:"$isFirstFetchedChats",sid:"7ddxse"}).on(qh.done,(e,{params:i})=>{const n=i;return e[n.id]?e:{...e,[n.id]:!0}}),cP=Oe({and:[Ya,De.selectedChatId,(e,i)=>e[i??""]??!1],or:{name:"$isFirstFetched",sid:"-kgmmld"}});v({and:[{clock:K.user,target:Ya.reinit}],or:{sid:"rijqk5"}});v({and:[{clock:ui.started,source:{inProgressChatsMessages:mn,user:K.user},fn:({inProgressChatsMessages:e,user:i},{params:n})=>{var s;return{...e,[n.chatId]:[...e[n.chatId]??[],{datetime:kn(Date.now()),html:n.text,readed:!1,readed_opponent:!1,files:n.files??[],author_id:((s=i.currentUser)==null?void 0:s.id.toString())??"",author_name:Va(i.currentUser),msg_id:n.localId}]}},target:mn}],or:{sid:"rkqwxl"}});v({and:[{clock:ui.finished.finally,source:mn,fn:(e,{params:i})=>({...e,[i.chatId]:e[i.chatId].filter(({msg_id:n})=>n!==i.localId)}),target:mn}],or:{sid:"sys6xg"}});v({and:[{clock:ui.finished.failure,source:{errorChatsMessages:xn,user:K.user},fn:({errorChatsMessages:e,user:i},{params:n})=>{var s;return{...e,[n.chatId]:[...e[n.chatId]??[],{datetime:kn(Date.now()),html:n.text,readed_opponent:!1,readed:!0,files:n.files??[],author_id:((s=i.currentUser)==null?void 0:s.id.toString())??"",author_name:Va(i.currentUser),msg_id:n.localId}]}},target:xn}],or:{sid:"tu4gr1"}});v({and:[{clock:qa,source:{errorChatMessages:Yh,chatId:De.selectedChatId},filter:({errorChatMessages:e},{msg_id:i})=>!!e.some(({msg_id:n})=>n===i),fn:({errorChatMessages:e,chatId:i},{msg_id:n})=>{const s=e.find(({msg_id:o})=>o===n);return{chatId:i,localId:n,text:(s==null?void 0:s.html)??"",files:(s==null?void 0:s.files)??[]}},target:ui.start}],or:{sid:"uwm2ab"}});v({and:[{clock:qa,source:{errorChatsMessages:xn,chatId:De.selectedChatId},filter:({chatId:e})=>!!e,fn:({chatId:e,errorChatsMessages:i},{msg_id:n})=>({...i,[e]:i[e].filter(({msg_id:s})=>s!==n)}),target:xn}],or:{sid:"-sfbl67"}});re({sid:"-rf160d",fn:()=>qo(hi,{on:ui,by:{success:({query:e,mutation:i})=>{var n;if(e&&"result"in e){const{currentUser:s}=i.result,o={datetime:kn(Date.now()),html:i.params.text,readed:!0,readed_opponent:!1,files:((n=i.params.files)==null?void 0:n.map(a=>({name:a.name,url:""})))??[],author_id:(s==null?void 0:s.id.toString())??"",author_name:Va(s),msg_id:i.params.localId};return{result:[...e.result,o],refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});re({sid:"-pjy9mb",fn:()=>qo(Ut.chats,{on:ui,by:{success:({query:e,mutation:i})=>{var n;if(e&&"result"in e){const s={datetime:kn(Date.now()),html:i.params.text,readed:!0,readed_opponent:!0,files:((n=i.params.files)==null?void 0:n.map(o=>({name:o.name,url:""})))??[],from:"you",text:li(i.params.text,{allowedTags:[]})};return{result:e.result.map(o=>o.id===i.params.chatId?{...o,lastmessage:s}:o),refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});v({and:[{clock:De.selectedChat,filter:Boolean,target:hi.refresh}],or:{sid:"-dqdict"}});const ms={chatMessages:hi},Qh={addMessage:ui},bn={errorChatMessages:Yh,inProgressChatMessages:lP,isFirstFetched:cP,isFirstFetchedChats:Ya},dP={resendErrorMessage:qa},Xh=I({name:"changed",sid:"y46nz0"}),Kh=I({name:"sended",sid:"-67181"}),wn=$({},{name:"$chatsMessage",sid:"wydyrf"});v({and:[{clock:Xh,source:{selectedChatId:De.selectedChatId,chatsMessage:wn},filter:({selectedChatId:e})=>!!e,fn:({chatsMessage:e,selectedChatId:i},n)=>({...e,[i]:n}),target:wn}],or:{sid:"59yzc0"}});const Jh=Oe({and:[wn,De.selectedChatId,(e,i)=>i?e[i]??{text:"",files:[]}:{text:"",files:[]}],or:{name:"$currentMessage",sid:"-y9pnxk"}});v({and:[{clock:Kh,source:{message:Jh,chatId:De.selectedChatId},fn:({chatId:e,message:i})=>({chatId:e,...i,localId:new Date().getTime().toString()}),target:Qh.addMessage.start}],or:{sid:"jtinwe"}});v({and:[{clock:Qh.addMessage.started,source:{selectedChatId:De.selectedChatId,chatsMessage:wn},filter:({selectedChatId:e})=>!!e,fn:({chatsMessage:e,selectedChatId:i})=>({...e,[i]:{text:"",files:[]}}),target:wn}],or:{sid:"kr243f"}});const pP={currentMessage:Jh},qn={changed:Xh,sended:Kh},uP=Oe({and:[ms.chatMessages.$data,bn.errorChatMessages,bn.inProgressChatMessages,(e,i,n)=>[...e??[],...i.map(s=>({...s,status:"error"})),...n.map(s=>({...s,status:"inProgress"}))]],or:{name:"$allChatMessages",sid:"-9487ro"}}),hP={messages:uP},gP=W(async e=>{const{search:i="",page:n,limit:s,filter:o}=e,{data:a}=await lc(i,(o==null?void 0:o.id.toString())??"",n,s);return{results:a.items}},{name:"getFetchStudentsFx",sid:"-93w3z"}),dl=Bp({getFx:gP,limit:50}),Zh=I({name:"setSearchMode",sid:"-4x5h57"}),fP=$(null,{name:"$searchMode",sid:"-gp6rgs"}).on(Zh,(e,i)=>i),mP={searchMode:fP},pl={setSearchMode:Zh},wo=[{title:"Сотрудники",id:"employee"},{title:"Студенты",id:"student"},{title:"Группа",id:"group"}],xP=()=>{const[e,i]=z([K.user,mP.searchMode]),{open:n}=H(),[s,o]=c.useState(""),{$items:a,$isPending:r}=z(ds),{$items:l,$isPending:p}=z(dl);return c.useEffect(()=>{e.currentUser&&pl.setSearchMode(e.currentUser.user_status==="stud"?"employee":"student")},[e.currentUser]),c.useEffect(()=>{o("")},[i]),e.currentUser?t.jsxs(bP,{children:[t.jsx(Vs,{pages:wo,currentPage:wo.findIndex(({id:d})=>d===i),setCurrentPage:d=>pl.setSearchMode(wo[d].id),appearance:!1}),i=="student"&&t.jsx(Qe,{load:function(){},loading:p,error:null,data:l,children:t.jsx(zo,{searchPlaceholder:"Поиск студентов",paginationList:dl,filterRequest:jo,filterPlaceholder:"Группа",defaultFilter:"",customMask:Kt.groupMask})}),i=="employee"&&t.jsx(Qe,{load:function(){},loading:r,error:null,data:a,children:t.jsx(zo,{searchPlaceholder:"Поиск сотрудников",paginationList:ds,filterRequest:Es,defaultFilter:"",filterPlaceholder:"Подразделения"})}),i=="group"&&t.jsx(La,{width:"100%",leftIcon:t.jsx(Cs,{}),placeholder:"Номер группы",value:s,setValue:o,customMask:Kt.groupMask,onHintClick:d=>{n(t.jsx(Ha,{group:d.id}),"Группа")},request:jo,size:"big"})]}):null},bP=u.div.withConfig({componentId:"sc-1d1vs0j-0"})(["display:flex;flex-direction:column;gap:8px;min-height:700px;min-width:50dvw;"]),wP=u.button.withConfig({componentId:"sc-dpors2-0"})(["width:fit-content;padding:0 12px;height:36px;background:var(--search);border-radius:var(--brLight);display:flex;align-items:center;gap:8px;border:none;font-weight:500;cursor:pointer;color:var(--text);svg{width:18px;height:18px;}&:hover{filter:brightness(0.98);}"]),vP=({forwardedRef:e})=>{const{open:i}=H(),n=()=>{i(t.jsx(xP,{}),"Новое сообщение")};return t.jsxs(wP,{ref:e,onClick:n,children:[t.jsx(km,{}),"Написать"]})},yP=He(vP),jP=u.div.withConfig({componentId:"sc-ldtz4l-0"})(["display:",";padding:8px;border-radius:6px;background:",";color:#fff;font-weight:600;align-items:center;justify-content:center;font-size:0.7rem;"],({visible:e})=>e?"flex":"none",y.red.light1),eg=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"numeric",minute:"numeric"}),kP=({lastMessage:e})=>e.from==="you"?e.readed_opponent?t.jsx(fs,{direction:"left",text:"Прочитано",children:t.jsx(Yl,{})}):t.jsx(fs,{direction:"left",text:"Отправлено",children:t.jsx(Ql,{})}):null,_P=u(te).withConfig({componentId:"sc-1319ptr-0"})(["text-decoration:none;.chat-item-content{display:flex;align-items:center;justify-content:center;width:100%;height:76px;color:",";padding:0 20px;background:",";overflow:hidden;position:relative;&:hover{filter:brightness(0.95);}.name-and-message{display:flex;flex-direction:column;justify-content:center;width:100%;min-width:250px;.subject{font-size:0.67em;opacity:0.85;background:var(--almostTransparent);padding:2px 4px;border-radius:4px;font-weight:600;width:fit-content;}& b{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:0.85em;font-weight:500;}.last-message{width:100%;font-size:0.75em;opacity:0.7;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}.sent-time{min-height:30px;width:100%;display:flex;align-items:flex-start;justify-content:flex-end;font-size:0.8em;opacity:0.6;font-weight:500;}}"],({isChosen:e})=>e?"#fff":"var(--text)",({isChosen:e})=>e?y.blue.main:"var(--block-content)");function tg({size:e,marginRight:i}){return t.jsx(wt,{marginRight:i,borderRadius:"100%",size:e??25,color:"lightBlue",children:t.jsx(Cs,{})})}const CP=u(jP).withConfig({componentId:"sc-2lmu2t-0"})(["min-width:20px;width:20px;height:20px;border-radius:100%;"]),SP=e=>{const i=new Date(e);return new Date().getTime()-i.getTime()>36e5*24?i.toLocaleDateString("ru-RU"):eg(i)},IP=e=>{var p,d,h,f;const i=(p=ci(vn))==null?void 0:p.params,n=z(bn.isFirstFetchedChats),s={name:((d=e.opponent)==null?void 0:d.name)??"",avatar:((h=e.opponent)==null?void 0:h.avatar)??"",width:"40px",height:"40px",marginRight:"12px",notifications:void 0},o=e.lastmessage.from==="you"?"Вы: "+e.lastmessage.text:e.lastmessage.text,a=e.subject.split(" ")[0]==="Группе"&&e.lastmessage.from==="you",r=SP(e.lastmessage.datetime),l=!!n[e.id];return t.jsx(_P,{to:gi+`/${e.id}`,isChosen:(i==null?void 0:i.chatId)===e.id,isOpen:!0,children:t.jsxs("div",{className:"chat-item-content",children:[a?t.jsx(tg,{size:40,marginRight:"7px"}):t.jsx(yt,{...s}),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"name-and-message",children:[e.subject&&t.jsx("span",{className:"subject",children:e.subject}),((f=e.opponent)==null?void 0:f.name)&&t.jsxs(E,{jc:"space-between",w:"100%",gap:"8px",children:[t.jsx("b",{children:e.opponent.name}),t.jsxs(E,{gap:"4px",w:"fit-content",children:[t.jsx(kP,{lastMessage:e.lastmessage}),t.jsx(se,{fontSize:"0.7rem",children:r})]})]}),t.jsxs(E,{gap:"6px",children:[t.jsx("div",{className:"last-message",children:o}),t.jsx(CP,{visible:!e.lastmessage.readed&&!l,children:"1"})]})]})})]})})},TP=u.div.withConfig({componentId:"sc-1nhr3r-0"})(["display:flex;align-items:center;padding:10px;.name-and-message{display:flex;flex-direction:column;justify-content:center;}"]),ft=()=>t.jsxs(TP,{children:[t.jsx(X,{shape:"circle",size:{width:"40px",height:"40px"},margin:"0 7px 0 0"}),t.jsxs("div",{className:"name-and-message",children:[t.jsx(X,{shape:"rect",size:{width:"150px",height:"12px"},margin:"2px 0"}),t.jsx(X,{shape:"rect",size:{width:"70px",height:"10px"},margin:"0"})]})]}),EP=async e=>{const i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=i,n.setAttribute("download",e.name),document.body.appendChild(n),n.click()},PP={pdf:t.jsx(_m,{color:"#c54646"}),docx:t.jsx(Zn,{}),doc:t.jsx(Zn,{}),jpeg:t.jsx(ho,{}),jpg:t.jsx(ho,{}),png:t.jsx(ho,{})},AP=({file:e,isYourMessage:i})=>{const n=e.name.split(".").pop()??"doc",s=o=>{o.stopPropagation(),"url"in e&&e.url&&window.open(e.url,"_blank"),e instanceof File&&EP(e)};return t.jsx(NP,{onClick:s,children:t.jsxs("div",{className:"file-body",children:[t.jsx("div",{className:"image-container",children:PP[n]??t.jsx(Zn,{})}),t.jsx("div",{className:"name-and-size",children:t.jsx("b",{className:"file-name",style:{color:i?y.white.main:"var(--text)"},children:e.name})})]})})},NP=u.div.withConfig({componentId:"sc-zdi5bn-0"})(["width:100%;padding:6px;display:flex;justify-content:space-between;align-items:center;background:",";border-radius:var(--brLight);overflow:hidden;cursor:pointer;&:hover{filter:brightness(0.95);}.file-body{display:flex;gap:8px;align-items:center;cursor:pointer;.name-and-size{display:flex;flex-direction:column;.file-name{font-size:0.8em;word-break:break-all;font-weight:500;}}.image-container{padding:8px;display:flex;align-items:center;justify-content:center;background:var(--theme);border-radius:var(--brLight);svg{width:20px;height:20px;}}}"],y.grey.transparent2),DP=({message:e})=>t.jsxs(E,{gap:"8px",d:"column",children:[t.jsx(j,{text:"Копировать",icon:t.jsx(Cm,{}),width:"100%",align:"left",background:"transparent",onClick:()=>{navigator.clipboard.writeText(li(e.html,{allowedTags:[]})??""),$e.close(),G.evokePopUpMessage({message:"Сообщение скопировано",type:"info"})}}),e.status==="error"&&t.jsx(j,{text:"Повторить",icon:t.jsx(Sm,{}),width:"100%",align:"left",background:"transparent",onClick:()=>{dP.resendErrorMessage(e),$e.close()}})]}),OP=({message:e})=>{var n,s;const[i]=z([K.user]);return e.status==="inProgress"?t.jsx(Gl,{className:"icon"}):e.status==="error"?t.jsx(Go,{className:"icon red"}):e.author_id===((n=i==null?void 0:i.currentUser)==null?void 0:n.id.toString())&&e.readed_opponent||e.author_id!==((s=i==null?void 0:i.currentUser)==null?void 0:s.id.toString())?t.jsx(fs,{text:"Прочитано",direction:"left",children:t.jsx(Yl,{className:"icon"})}):t.jsx(fs,{text:"Отправлено",direction:"left",children:t.jsx(Ql,{className:"icon"})})};function LP(e){return e.replace(/(https?:\/\/[^\s|)|<]+)/g,'<a href="$1">$1</a>')}const RP=({name:e,message:i,isLast:n})=>{var p;const[s]=z([K.user]),o=eg(i.datetime),{isMobile:a}=Xe(),r=i.author_id===((p=s.currentUser)==null?void 0:p.id.toString()),l=d=>{"tagName"in d.target&&d.target.tagName==="A"||$e.open({e:d,content:t.jsx(DP,{message:i}),height:70})};return t.jsx(zP,{onClick:a?l:void 0,isYourMessage:r,isLast:n,onContextMenu:l,children:t.jsxs("div",{className:"name-and-message",children:[t.jsx("div",{className:"name-and-time",children:t.jsx("b",{children:e})}),t.jsx("span",{className:"message",dangerouslySetInnerHTML:{__html:li(LP(i.html))}}),!!i.files.length&&t.jsx(E,{d:"column",className:"files",gap:"4px",children:i.files.map(d=>t.jsx(AP,{isYourMessage:r,file:d},d.name))}),t.jsxs(E,{jc:"flex-end",gap:"4px",h:"2px",children:[t.jsx(se,{fontSize:"0.65rem",children:o}),t.jsx(OP,{message:i})]})]})})},zP=u.div.withConfig({componentId:"sc-1wk8wcw-0"})(["display:flex;align-items:flex-end;padding:",";.message-avatar{width:32px;height:32px;position:sticky;bottom:0px;top:0px;}.name-and-message{display:flex;flex-direction:column;gap:8px;background:",";color:",";padding:12px;border-radius:",";margin-left:16px;max-width:430px;width:100%;position:relative;&::before{content:'';display:",";position:absolute;width:12px;height:17px;bottom:0px;left:-12px;background:",";}&::after{content:'';display:",";position:absolute;width:16px;height:25px;bottom:0px;left:-16px;border-radius:0 0 30px;background:var(--block);}a{text-decoration:underline;color:",";}.name-and-time{b{color:",";font-size:0.8em;margin-bottom:5px;margin-right:10px;font-weight:600;}span{font-size:0.7em;opacity:0.8;}}.message{font-size:0.85em;word-break:break-word;line-height:1.3rem;ul,li{margin-left:1em;}& p{line-height:1.4rem;}}.red{color:",";}}@media (max-width:1000px){.name-and-message{max-width:80%;}}"],({isLast:e})=>e?"4px 0 4px 0":"4px 0",({isYourMessage:e})=>e?"var(--reallyBlue)":"var(--message-item)",({isYourMessage:e})=>e?"#fff":"var(--text)",({isLast:e})=>e?"10px 10px 10px 0":"10px",({isLast:e})=>e?"block":"none",({isYourMessage:e})=>e?"var(--reallyBlue)":"var(--message-item)",({isLast:e})=>e?"block":"none",({isYourMessage:e})=>e?"#fff":"",({isYourMessage:e})=>e?"#fff":"var(--text)",y.red.main),FP=({forwardedRef:e})=>{const[i,n,s]=z([Ut.chats.$pending,Vh.foundChats,Vd.isFirstFetched]);return i&&!s?t.jsxs(ul,{children:[t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{}),t.jsx(ft,{})]}):t.jsxs(ul,{ref:e,children:[!(n!=null&&n.length)&&t.jsx(L,{size:3,children:"Нет чатов"}),n==null?void 0:n.map(o=>c.createElement(IP,{...o,key:o.id}))]})},ul=u.div.withConfig({componentId:"sc-1eual6l-0"})(["overflow-y:auto;height:100%;"]),MP=()=>{var p,d,h,f,g,m;const[e,i,n]=z([De.selectedChat,Ut.chats.$pending,Vd.isFirstFetched]),s=c.useRef(null),o=pt(),a=()=>{o.push(gi)},r=((p=e==null?void 0:e.opponent)==null?void 0:p.status)==="сотрудник",l=i&&!n;return t.jsxs($P,{ref:s,children:[t.jsx(j,{icon:t.jsx(Im,{}),onClick:a,background:"transparent"}),(((d=e==null?void 0:e.opponent)==null?void 0:d.id)||l)&&t.jsx(On,{id:(h=e==null?void 0:e.opponent)==null?void 0:h.id,type:r?"staff":"stud",avatar:(f=e==null?void 0:e.opponent)==null?void 0:f.avatar,name:((g=e==null?void 0:e.opponent)==null?void 0:g.name)??"",loading:l,group:r||(m=e==null?void 0:e.opponent)==null?void 0:m.data}),!l&&!!(e!=null&&e.subject.length)&&t.jsxs(E,{gap:"8px",w:"fit-content",children:[t.jsx(tg,{}),t.jsx(se,{style:{color:"var(--text)",whiteSpace:"nowrap"},children:e==null?void 0:e.subject})]})]})},$P=u.div.withConfig({componentId:"sc-n06mxd-0"})(["width:100%;height:50px;display:flex;align-items:center;padding:8px 10px;position:relative;border-bottom:1px solid #00000024;background:var(--block-content);"]),hl=e=>{e!=null&&e.current&&e.current.scrollTo({top:e.current.scrollHeight,behavior:"auto"})},BP=()=>{const e=c.useRef(null),i=c.useRef(!1),[n,s,o,a,r]=z([ms.chatMessages.$data,ms.chatMessages.$pending,bn.isFirstFetched,bn.inProgressChatMessages,De.selectedChatId]),l=s&&!o;return c.useLayoutEffect(()=>{if(!e.current)return;const p=e.current.scrollTop+e.current.clientHeight>=e.current.scrollHeight;n&&(!i.current||p)&&!l&&hl(e)},[n]),c.useEffect(()=>{i.current=!1},[r]),c.useEffect(()=>{if(e.current){const p=()=>{i.current||(i.current=!0)};return e.current.addEventListener("scroll",p),()=>{var d;(d=e.current)==null||d.removeEventListener("scroll",p)}}},[]),c.useEffect(()=>{hl(e)},[a,n==null?void 0:n.length]),t.jsx(HP,{"data-is-loading":l,ref:e,children:l?t.jsx(ut,{}):t.jsx(qP,{})})},HP=u.div.withConfig({componentId:"sc-1pr0rlx-0"})(["width:100%;position:relative;overflow-y:auto;flex:1;padding:10px;.loading-circle{max-height:40px;}&[data-is-loading='true']{display:flex;justify-content:center;align-items:center;}@media (max-width:1000px){button{position:fixed;right:20px;bottom:70px;border-radius:100%;}}"]),UP=({chat:e,currentUser:i,messages:n})=>{const s={};let o=0,a="";return n.forEach((r,l,p)=>{var d,h;(((d=p[l-1])==null?void 0:d.author_name)!==r.author_name||oe(p[l-1].datetime)!==oe(r.datetime)||!p[l-1])&&o++,s[o]?s[o].messages.push(r):(s[o]={messages:[r],avatar:((h=e.opponent)==null?void 0:h.id)!==r.author_id.toString()?i.avatar:e.opponent.avatar,date:oe(r.datetime)!==a?oe(r.datetime):null},a=oe(r.datetime))}),s},WP=u.div.withConfig({componentId:"sc-14w8ekg-0"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;color:var(--text);opacity:0.5;font-weight:500;font-size:0.86em;gap:4px;svg{width:100px;height:100px;}"]),ig=({message:e="Выберите чат"})=>t.jsxs(WP,{children:[t.jsx(Tm,{}),t.jsx("span",{children:e})]}),GP=u.div.withConfig({componentId:"sc-1qy6g0w-0"})(["margin-top:30px;margin-bottom:10px;color:var(--text);position:sticky;top:10px;z-index:10;display:flex;align-items:center;justify-content:center;span{background:var(--theme);padding:6px 12px;border-radius:var(--brSemi);display:inline-block;font-weight:500;font-size:0.8rem;color:var(--theme-mild-opposite);}"]),VP=({date:e})=>e?t.jsx(GP,{children:t.jsx("span",{children:e})}):null,qP=()=>{const{open:e}=H(),[i,n,s,o]=z([hP.messages,De.selectedChat,ms.chatMessages.$pending,K.user]),a=r=>{var l,p,d,h;!n||r.author_id===((l=o==null?void 0:o.currentUser)==null?void 0:l.id.toString())||e(((p=n==null?void 0:n.opponent)==null?void 0:p.status)==="сотрудник"?t.jsx(Ph,{...n.opponent}):t.jsx(Eh,{...n==null?void 0:n.opponent,id:(d=n.opponent)==null?void 0:d.id,name:((h=n.opponent)==null?void 0:h.name)??""}))};return!n||!o||!i?null:t.jsxs(YP,{children:[(i==null?void 0:i.length)===0&&!s&&t.jsx(ig,{message:"Нет сообщений"}),Object.values(UP({chat:n,messages:i,currentUser:o.currentUser})).map(r=>t.jsxs(de.Fragment,{children:[t.jsx(VP,{date:r.date}),t.jsxs("div",{className:"messages-section",children:[t.jsx("div",{className:"message-avatar",children:t.jsx(yt,{name:r.messages[0].author_name.split(" ").reverse().join(" "),avatar:r.avatar,width:"32px",height:"32px",marginRight:"0",onClick:()=>a(r.messages[0])})}),t.jsx("div",{className:"messages",children:r.messages.map((l,p)=>t.jsx(RP,{name:l.author_name,message:l,isLast:p===r.messages.length-1},l.msg_id))})]})]},r.date+n.id+r.messages[0].msg_id))]})},YP=u.div.withConfig({componentId:"sc-90i0cx-0"})(["padding:20px 5px;min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;.messages-section{position:relative;display:flex;align-items:flex-end;width:100%;.messages{width:100%;}}.message-avatar{width:32px;height:32px;position:sticky;bottom:7px;margin-bottom:10px;cursor:pointer;}@media (max-width:1000px){padding:10px 0px;}"]);u.div.withConfig({componentId:"sc-93e00n-0"})(["@media (min-width:1001px){width:500px;height:500px;}"]);const QP=He(FP),XP=He(({forwardedRef:e,children:i,...n})=>t.jsx(E,{ref:e,...n,children:i})),KP=()=>{var n;const e=(n=ci(vn))==null?void 0:n.params,{search:i}=z(Vh);return t.jsxs(JP,{isOpen:!0,chatId:e==null?void 0:e.chatId,children:[t.jsxs(ZP,{children:[t.jsx(L,{size:3,align:"left",children:"Чаты"}),t.jsx(yP,{tutorialModule:{id:"chat",step:1}})]}),t.jsx(XP,{gap:"4px",p:"0 14px",d:"column",tutorialModule:{id:"chat",step:2},children:t.jsx(Li,{value:i,setValue:oP.setSearch,placeholder:"Поиск чатов"})}),t.jsx(be,{margin:"10px auto"}),t.jsx(QP,{tutorialModule:{id:"chat",step:0}})]})},JP=u.div.withConfig({componentId:"sc-csffye-0"})(["min-width:",";width:",";transition:0.2s width,0.2s min-width,0.2s padding,0.2s opacity;height:100%;color:var(--text);border-radius:20px 0 0 20px;overflow:hidden;border-right:1px solid #00000018;display:flex;flex-direction:column;background:var(--block-content);","{padding:0;border-radius:0;width:",";min-width:",";opacity:",";}"],({isOpen:e})=>e?"350px":"115px",({isOpen:e})=>e?"350px":"115px",V.isTablet,({chatId:e})=>e?"0":"100%",({chatId:e})=>e?"0":"100%",({chatId:e})=>e?"0":"1"),ZP=u.div.withConfig({componentId:"sc-csffye-1"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;padding:14px;.collapse-button{min-width:30px;height:30px;padding:2px;background:transparent;svg{width:17px;height:17px;}}@media (max-width:1000px){.collapse-button{display:none;}}"]);u.div.withConfig({componentId:"sc-csffye-2"})(["display:flex;flex-direction:row;gap:8px;"]);const e5=()=>{const[e,i]=z([pP.currentMessage,De.selectedChat]),n=s=>{qn.changed({...e,files:[...e.files,...s]})};return i!=null&&i.subject&&i.lastmessage.from==="opponent"?null:t.jsxs(t5,{children:[t.jsxs(i5,{children:[t.jsx(Kd,{setFiles:n}),t.jsx(Xd,{value:e.text,setValue:s=>qn.changed({...e,text:s}),placeholder:"Введите сообщение..."},i==null?void 0:i.id),t.jsx(j,{icon:t.jsx(Ol,{}),onClick:()=>qn.sended(),background:"transparent",isActive:!!li(e.text,{allowedTags:[]}).trim()})]}),t.jsx(n5,{hideHeader:!0,files:e.files,setFiles:s=>{qn.changed({...e,files:s})}})]})},t5=u.div.withConfig({componentId:"sc-1wrnb99-0"})(["display:flex;flex-direction:column;background:var(--block-content);padding:8px 16px;border-top:1px solid #00000018;gap:8px;max-width:100%;"]),i5=u.div.withConfig({componentId:"sc-1wrnb99-1"})(["display:flex;align-items:flex-end;gap:8px;"]),n5=u(ua).withConfig({componentId:"sc-1wrnb99-2"})(["padding:0 48px 0 46px;","{padding:0;}"],V.isMobile),s5=()=>t.jsxs(o5,{children:[t.jsx(MP,{}),t.jsx(BP,{}),t.jsx(e5,{})]}),o5=u.div.withConfig({componentId:"sc-1xn0ric-0"})(["width:100%;display:flex;flex-direction:column;position:relative;border-radius:20px;& > img{position:absolute;width:200px;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.4;}"]),gl=()=>{var n;const e=(n=ci(vn))==null?void 0:n.params,{data:i}=z(Ut.chats);return c.useEffect(()=>{pC.load()},[]),c.useEffect(()=>{if(!(e!=null&&e.chatId)){Ao.reset();return}Ao.set(e.chatId)},[e==null?void 0:e.chatId,i]),t.jsxs(a5,{children:[t.jsx(KP,{}),!(e!=null&&e.chatId)&&t.jsx(ig,{}),t.jsx(Ss,{children:t.jsx(an,{path:vn,children:t.jsx(s5,{})})})]})},a5=u.div.withConfig({componentId:"sc-182b33p-0"})(["display:flex;height:90%;max-width:1100px;margin:40px auto;background:var(--block);box-shadow:var(--very-mild-shadow);border-radius:12px;overflow:hidden;","{margin:0;height:100%;border-radius:0;max-width:100%;}"],V.isSmallTesktop),r5=()=>{const[e,i]=z([Se.tutorials,K.user]);if(!e)return null;const n=Object.values(e).filter(r=>{var l;return r.roles.includes(((l=i==null?void 0:i.currentUser)==null?void 0:l.user_status)||"")}).filter(r=>r.name),s=Object.keys(n).length,o=Object.values(n).reduce((r,l)=>l.completed?r+1:r,0),a=Math.round(o/s*100);return t.jsx($h,{value:a,size:"small",title:`Пройдено: ${o}/${s}`,coloring:!1,color:"green"})},l5=({action:e,...i})=>{const{isMobile:n,isTablet:s}=Xe();return t.jsx(Mi,{...i,onClick:e,icon:i.completed?t.jsx(Em,{}):t.jsx(Vl,{}),rightIcon:t.jsx(xt,{}),fancyBG:!n&&!s})},c5=e=>Object.entries(e),d5=()=>{const e=pt(),[i,n,s,o,a]=z([Se.tutorials,Se.tutorialState,xe.tutorialEnabled,xe.moduleRestarted,K.user]);return i?t.jsxs("div",{children:[t.jsx(L,{...lt,bottomGap:"8px",children:"Запустить программу обучения"}),t.jsx(p5,{children:c5(i).sort((r,l)=>r[1].index-l[1].index).filter(([,r])=>{var l;return r.roles.includes(((l=a==null?void 0:a.currentUser)==null?void 0:l.user_status)||"")}).map(([r,l])=>{if(l.name)return t.jsx(l5,{completed:l.completed,action:()=>{l.completed&&o(r),n||s(!0),e.push(l.path)},title:l.name,type:"link"},r)})})]}):null},p5=u.div.withConfig({componentId:"sc-146j841-0"})(["display:flex;flex-direction:column;gap:4px;"]),u5=()=>{const[e,i,n,s,o,a,r]=z([Se.tutorialState,xe.tutorialEnabled,xe.clearProgress,xe.getTutorialData,xe.sync,Uw.syncMutation.$pending,xe.clearAll]);c.useEffect(()=>{s()},[]);const l=z(Ge.evokeConfirm),[p,d]=c.useState(navigator.onLine),[h,f]=c.useState(!1),g=()=>{f(!0),d(navigator.onLine),navigator.onLine&&o(JSON.parse(localStorage.getItem(_i)||""))};return c.useEffect(()=>(window.addEventListener("online",g),window.addEventListener("offline",g),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",g)}),[]),e===null?t.jsxs(fn,{children:[t.jsx(L,{...lt,bottomGap:"4px",children:"Общее"}),t.jsx(Pe,{title:"Обучение",state:!!e,action:m=>i(m)})]}):t.jsxs(fn,{children:[h&&(p?a?t.jsx(L,{icon:t.jsx(g5,{}),size:4,align:"left",iconColor:y.orange.main,style:{color:y.orange.main},children:"Синхронизация"}):t.jsx(L,{icon:t.jsx(Am,{}),iconColor:"var(--greenMain)",size:4,align:"left",style:{color:"var(--greenMain)"},children:"Синхронизировано"}):t.jsx(L,{size:4,align:"left",style:{color:y.red.main},children:"Нет подключения к интернету"})),t.jsxs("div",{children:[t.jsx(L,{...lt,bottomGap:"4px",children:"Общее"}),t.jsx(Pe,{title:"Обучение",state:!!e,action:m=>i(m)}),t.jsx(r5,{})]}),t.jsx(d5,{}),t.jsxs("div",{children:[t.jsx(L,{...lt,bottomGap:"4px",children:"Необратимые действия"}),t.jsx(fl,{onClick:()=>{l({message:"Прогресс обучения будет сброшен. Вы хотите продолжить?",onConfirm:()=>{n(),Ge.closeConfirm()}})},text:"Сбросить прогресс",background:y.red.main,textColor:"white"}),!N&&t.jsx(fl,{onClick:()=>{l({message:"Ваш аккаунт будет удален из базы обучния. Продолжить?",onConfirm:()=>{r(),Ge.closeConfirm()}})},text:"Сбросить все (для теста)",background:y.red.main,textColor:"white"})]})]})},fl=u(j).withConfig({componentId:"sc-1fx8h7l-0"})(["margin:8px;"]),h5=ks(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),g5=u(Pm).withConfig({componentId:"sc-1fx8h7l-1"})(["animation:"," 1s infinite linear;"],h5),ng="/login",f5="/forgot-password",m5="/medical-certificate",x5="/vaccination",tn="/all",Qa="/home",Xa="/profile",gi="/chat",vn=gi+"/:chatId",sg="/electronic-interaction-agreement",xs="/payments",fi="/schedule",og="/all-students",b5="/all-students/:filter",Rn="/all-teachers",w5="/all-teachers/:filter",Ka="/feedback",ag="/cant-access",rg="/memo-freshmen",lg="/get-your-login",cg="/memo-teacher",Me="/configurations",Ja=Me+"/:id",v5=Me+"/settings-appearance",y5=Me+"/settings-personal",j5=Me+"/settings-home-page",k5=Me+"/settings-customize-menu",_5=Me+"/settings-notifications",C5=Me+"/settings-tutorial",S5="/instructions",dg="/project-activity",I5="/softskills",pg="/alerts",ug="/lk-notifications",hg="/helpful-information",$i=fi+"/:page/:filter",gg=fi+"/current",T5=fi+"/semestr",E5=fi+"/session",P5=fi+"/retake",A5=hg+"/:infoType";var N5=(e=>(e.GENERAL="Основное",e.FINANCES_DOCS="Кадровая среда",e.LEARNING_ACTIVITIES="Учебная деятельность",e.OTHER="Находится в разработке",e.COMMUNICATION="Коммуникация",e.SCIENCE="Научная деятельность",e))(N5||{});const D5=[{id:0,title:"",icon:"",path:ng,Component:a2},{id:1,title:"",icon:"",path:f5,Component:S_},{id:2,title:"Обратная связь",icon:t.jsx(sn,{}),path:Ka,Component:Md},{id:3,title:"Не получается войти в Личный кабинет",icon:t.jsx(ei,{}),path:ag,Component:__},{id:4,title:"Узнать свой логин ЕУЗ",icon:"",path:lg,Component:R_},{id:5,title:"Вниманию студентов 1 курса!",icon:"",path:rg,Component:z_},{id:6,title:"Вниманию сотрудников!",icon:"",path:cg,Component:F_}],fg={all:{id:"all",title:"Все разделы",icon:t.jsx(Nm,{}),path:tn,Component:j_,color:"lightGreen",isTemplate:!1,show:!1,group:"GENERAL",withoutBackButton:!0,pageSize:"big"},doclist:{id:"doclist",title:"Ознакомление с документами",icon:t.jsx(O,{}),path:za,Component:L_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},alerts:{id:"alerts",title:"Новости",icon:t.jsx(Fl,{}),path:pg,Component:I_,color:"purple",isTemplate:!1,group:"COMMUNICATION",keywords:["Оповещения"]},home:{id:"home",title:"Главная",icon:t.jsx(Xl,{}),path:Qa,Component:T_,color:"blue",isTemplate:!1,group:"GENERAL",keywords:["домой"],withoutHeader:!0},settings:{id:"settings",title:"Настройки",icon:t.jsx(Qo,{}),path:Me,Component:tP,color:"lightGreen",isTemplate:!0,show:!0,group:"GENERAL"},profile:{id:"profile",title:"Профиль",icon:t.jsx($l,{}),path:Xa,Component:P_,color:"purple",isTemplate:!1,group:"GENERAL",withoutHeader:!0},"lk-notifications":{id:"lk-notifications",title:"Уведомления",icon:t.jsx(_s,{}),path:ug,Component:$_,color:"orange",isTemplate:!1,group:"GENERAL",keywords:["Оповещения"]},"electronic-interaction-agreement":{id:"electronic-interaction-agreement",title:"Соглашение об электронном взаимодействии",shortTitle:"Соглашение об электр...",icon:t.jsx(Ml,{}),path:sg,Component:C_,color:"blue",isTemplate:!1,group:"GENERAL",pageSize:"small"},chat:{id:"chat",title:"Сообщения",icon:t.jsx(ar,{}),path:gi,Component:gl,color:"red",group:"COMMUNICATION",keywords:["чат","сообщения","написать"],pageSize:"big",isTemplate:!1,planeHeader:!1,hiddenTitle:!0},"specific-chat":{id:"specific-chat",title:"Сообщения",icon:t.jsx(ar,{}),path:vn,Component:gl,color:"red",pageSize:"big",isTemplate:!1,planeHeader:!1,hiddenTitle:!0,group:"COMMUNICATION",isSubPage:!0,show:!1},schedule:{id:"schedule",title:"Расписание",icon:t.jsx(Bt,{}),path:fi,menuPath:gg,Component:$d,color:"pink",isTemplate:!0,show:!0,group:"LEARNING_ACTIVITIES",pageSize:"large"},"all-students":{id:"all-students",title:"Студенты",icon:t.jsx(ki,{}),path:og,Component:Fd,color:"lightBlue",isTemplate:!1,group:"COMMUNICATION",keywords:["одногруппники","ученики"]},feedback:{id:"feedback",title:"Обратная связь",icon:t.jsx(sn,{}),path:Ka,Component:Md,color:"blue",isTemplate:!1,group:"COMMUNICATION"},instructions:{id:"instructions",title:"Полезная информация",icon:t.jsx(Dm,{}),path:S5,Component:E_,color:"blue",isTemplate:!1,group:"GENERAL",show:!1},vaccination:{id:"vaccination",title:"Вакцинация",icon:t.jsx(zl,{}),path:x5,Component:()=>(de.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=vaccination")},[]),null),color:"blue",isTemplate:!1,group:"GENERAL",keywords:["медицинская","справка","грипп","dfrwbyfwbz"],isOldLkPage:!0,show:!N}},O5={"schedule-current":{id:"schedule-current",title:"Текущее расписание",shortTitle:"Текущее",icon:t.jsx(Bt,{}),path:gg,Component:A_,color:"pink",isTemplate:!1,show:!1,group:"OTHER",pageSize:"large"},"schedule-semestr":{id:"schedule-semestr",title:"Расписание на семестр",shortTitle:"Семестр",icon:t.jsx(Jo,{}),path:T5,Component:N_,color:"orange",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"},"schedule-session":{id:"schedule-session",title:"Расписание сессии",shortTitle:"Сессия",icon:t.jsx(Wl,{}),path:E5,Component:D_,color:"red",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"},"schedule-retake":{id:"schedule-retake",title:"Пересдачи",icon:t.jsx(ys,{}),path:P5,Component:O_,color:"red",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"}},mg={"schedule-filter":{id:"schedule-filter",title:"Расписание",icon:t.jsx(Bt,{}),path:$i,Component:$d,color:"pink",isTemplate:!1,show:!1,group:"OTHER",pageSize:"large"},...O5,"filtered-all-students":{id:"filtered-all-students",title:"Все студенты",icon:t.jsx(ki,{}),path:b5,Component:Fd,color:"blue",isTemplate:!1,show:!1,group:"OTHER"},"filtered-all-teachers":{id:"filtered-all-teachers",title:"Все сотрудники",icon:t.jsx(ki,{}),path:w5,Component:k_,color:"blue",isTemplate:!1,show:!1,group:"OTHER"},"settings-appearance":{id:"settings-appearance",title:"Настройки. Внешний вид",icon:t.jsx(Om,{}),path:v5,Component:q2,color:"purple",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Внешний вид",fallbackPrevPage:Me,backButtonText:"Настройки"},"settings-personal":{id:"settings-personal",title:"Настройки. Аккаунт",icon:t.jsx(Lm,{}),path:y5,Component:V2,color:"pink",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Аккаунт",fallbackPrevPage:Me,backButtonText:"Настройки"},"settings-home-page":{id:"settings-home-page",title:"Настройки. Главная страница",icon:t.jsx(Xl,{}),path:j5,Component:p2,color:"blue",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Главная страница",fallbackPrevPage:Me,backButtonText:"Настройки"},"settings-customize-menu":{id:"settings-customize-menu",title:"Настройки. Меню",icon:t.jsx(Rm,{}),path:k5,Component:u2,color:"red",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Меню",fallbackPrevPage:Me,backButtonText:"Настройки"},"settings-notifications":{id:"settings-notifications",title:"Настройки. Уведомления",icon:t.jsx(_s,{}),path:_5,Component:g2,color:"orange",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Уведомления",fallbackPrevPage:Me,backButtonText:"Настройки"},"settings-tutorial":{id:"settings-tutorial",title:"Настройки. Обучение",icon:t.jsx(Ul,{}),path:C5,Component:u5,color:"green",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Обучение",fallbackPrevPage:Me,backButtonText:"Настройки"},"useful-info-template":{id:"useful-info-template",title:"Полезная информация",icon:"",path:A5,Component:Ta,color:"grey",isTemplate:!0,show:!1}},xg=I({name:"load",sid:"-j15bef"}),Za=vs({and:{effect:async({currentUser:e})=>{const{data:i}=await Fx((e==null?void 0:e.guid)??"");return{...i.data,id:(e==null?void 0:e.guid)??""}},source:K.user},or:{name:"loadFx",sid:"-eig4dk"}}),L5=Sl(Za,null,{name:"$peTeacher",sid:"-re5m8w"});v({and:[{clock:xg,target:Za}],or:{sid:"1dijsf"}});const R5=Za.pending,z5={load:xg},kN={peTeacher:L5,isLoading:R5},bg=I({name:"loadDivisions",sid:"geqed"}),wg=W(kx,{name:"loadDivisionsFx",sid:"r8zouz"});v({and:[{clock:bg,target:wg}],or:{sid:"-bth0w0"}});const vg=$([],{name:"$hrDivisions",sid:"ity2yg"}),_N=Oe({and:[vg,e=>e.map(i=>i.divisionName)],or:{name:"$hrDivisionsSuggestions",sid:"-kfuh61"}});v({and:[{clock:wg.doneData,target:vg}],or:{sid:"-d0844n"}});function yg(e){const{pathname:i}=Mt();c.useEffect(()=>{e==null||e.scrollTo(0,0)},[i])}const F5=()=>{const{allRoutes:e}=dt.useMenu();return e?t.jsxs(Ss,{children:[Object.values(e).map(({path:i,Component:n,isTemplate:s})=>t.jsx(an,{path:i,component:n,exact:!s},i)),t.jsx(jt,{exact:!0,to:Qa})]}):null},M5=de.memo(F5),$5=u.div.withConfig({componentId:"sc-1onvp4g-0"})(["height:fit-content;opacity:",";visibility:",";transform:",";position:absolute;width:220px;left:",";top:",";background:var(--block);border-radius:var(--brLight);box-shadow:var(--very-mild-shadow);transition:0.2s transform,0.2s opacity,0.2s visibility;z-index:4;padding:8px;color:var(--text);@media (max-width:500px){width:calc(100vw - 20px);left:50%;transform:",";bottom:10px;top:auto;padding:16px;}"],({isVisible:e})=>e?1:0,({isVisible:e})=>e?"visible":"hidden",({isVisible:e})=>e?"translateY(0)":"translateY(20px)",({left:e})=>e+"px",({top:e})=>e+"px",({isVisible:e})=>e?"translateY(0) translateX(-50%)":"translateY(20px) translateX(-50%)"),B5=()=>{const{open:e,content:i,position:n}=Z0.useContextMenu(),s=c.useRef(null);return Oi(s,()=>$e.close()),t.jsx(ro,{isOpen:e,children:t.jsx($5,{isVisible:e,ref:s,left:n.x,top:n.y,onClick:o=>{o.stopPropagation()},children:i})})},jg=200,H5=5e3,U5=()=>{const{visibleNotifications:e}=Gt.useLkNotifications(),[i,n]=c.useState(null),s=c.useRef(),o=a=>(s.current=void 0,()=>{n(a),setTimeout(()=>{Ei.clearVisibleById(a)},jg)});return c.useEffect(()=>{var a,r;e.length&&s.current===void 0&&(s.current=setTimeout(o((a=e[0])==null?void 0:a.id),((r=e[0])==null?void 0:r.duration)??H5))},[e]),{handleClose:o,closing:i}},W5=u.div.withConfig({componentId:"sc-bpx6y2-0"})(["position:absolute;width:320px;max-width:500px;bottom:10px;right:10px;z-index:100;display:flex;flex-direction:column-reverse;padding:10px;padding-top:0;@media (max-width:1000px){width:90%;flex-direction:column;left:50%;transform:translateX(-50%);top:10px;bottom:auto;}"]),G5=u.div.withConfig({componentId:"sc-bpx6y2-1"})(["border-radius:var(--brLight);background:var(--block);color:var(--text);display:flex;flex-direction:column;justify-content:center;box-shadow:0 0 50px #00000521;transition:0.2s;animation:"," ","s forwards;@keyframes open{0%{padding:0px;height:0px;margin-top:0px;opacity:0;transform:scale(0.9);}100%{padding:8px;height:65px;margin-top:8px;opacity:1;transform:scale(1);}}@keyframes close{0%{height:65px;padding:8px;opacity:1;margin-top:8px;transform:scale(1);}100%{height:0px;opacity:0;padding:0px;margin-top:0px;transform:scale(0.9);}}"],({open:e})=>e?"open":"close",jg/1e3);u.div.withConfig({componentId:"sc-bpx6y2-2"})(["height:4px;border-radius:3px;background:",";animation:",";@keyframes decrease{0%{width:100%;}100%{width:0%;}}"],y.blue.main,({started:e,duration:i})=>e&&`decrease ${i/1e3}s linear forwards`);const V5=()=>{const{visibleNotifications:e}=Gt.useLkNotifications(),{closing:i,handleClose:n}=U5();return t.jsx(W5,{children:e.map(s=>t.jsx(G5,{onClick:n(s.id),open:i!==s.id,children:t.jsx(zu,{...s,fullText:!1,maxLetters:19,closeAnimation:!1,onClose:n(s.id)})},s.id))})},ml=u.div.withConfig({componentId:"sc-13zg4xi-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;background:",";z-index:100;display:flex;justify-content:center;align-items:center;animation:",";animation-delay:0.8s;background-size:100% 10000%;flex-direction:column;.loading-circle{width:40px;height:40px;bottom:40px;position:absolute;opacity:0.7;}@keyframes logo{0%{transform:translateY(0px);opacity:1;}30%{transform:translateY(5px);opacity:1;}100%{opacity:0;transform:translateY(-10px);}}@keyframes load_finished{0%{background-size:10% 100%;opacity:0;visibility:hidden;}50%{background-size:10% 1000%;opacity:1;visibility:visible;}100%{background-size:100% 10000%;opacity:1;visibility:visible;}}img{animation:",";animation-delay:",";width:100px;}"],({color:e})=>`linear-gradient(360deg, ${e} 50%, var(--theme))`,({$loading:e})=>!e&&"load_finished 1.2s forwards ease-in-out reverse",({$loading:e})=>!e&&"logo 0.7s forwards ease-in-out",({$loading:e})=>e?"0s":"1s"),q5=({loading:e})=>{const{data:{user:i},error:n}=ke.useUser(),s=i?ot(i==null?void 0:i.fullName):y.blue.main,o=()=>Ux.getUserFx(JSON.parse(localStorage.getItem(q.Token)??"")),a=()=>ce.logout();return n?t.jsx(ml,{$loading:!0,color:s,children:t.jsx(je,{text:n,children:t.jsxs(E,{d:"column",gap:"8px",children:[t.jsx(j,{onClick:o,text:"Попробовать снова",icon:t.jsx(ys,{}),width:"200px"}),t.jsx(j,{onClick:a,textColor:"var(--theme-mild-opposite)",text:"Выйти",width:"200px",background:"var(--theme)"})]})})}):t.jsxs(ml,{color:s,$loading:e,children:[t.jsx(Ds,{short:!0,width:"100px"}),e&&t.jsx(ut,{})]})},Y5=u.div.withConfig({componentId:"sc-7gkguq-0"})(["width:100%;height:5px;background:var(--almostTransparentOpposite);border-radius:10px;overflow:hidden;.inner-line{height:5px;transition:0.2s;width:",";background:var(--reallyBlue);animation:",";animation-play-state:",";@keyframes filling{0%{width:0%;}100%{width:100%;}}}"],({filled:e})=>e??"0%",({playing:e})=>e!==null&&"10s filling linear forwards",({playing:e})=>e?"running":"paused"),Q5=({filled:e,playing:i,isLast:n,onClose:s})=>{const{currentPage:o}=Wa.useStory();return t.jsx(Y5,{filled:e,playing:i,children:t.jsx("div",{className:"inner-line",onAnimationEnd:()=>n?s():Qt.changeCurrentPage({value:o+1})})})},X5=u(As).withConfig({componentId:"sc-vzuuz1-0"})(["position:absolute;top:30px;left:0;padding:0px 30px;z-index:2;svg{min-width:20px;height:20px;}"]),K5=({playing:e,pages:i,onClose:n})=>{const{currentPage:s}=Wa.useStory();return t.jsxs(X5,{height:"10px",verticalAlign:"center",direction:"horizontal",width:"100%",children:[Array(i).fill(0).map((o,a)=>t.jsx(Q5,{onClose:n,isLast:a+1===i,playing:s===a?e:null,filled:s>a?100:s===a?void 0:0},a)),e?t.jsx(Fm,{}):t.jsx(zm,{}),t.jsx(j,{minWidth:"25px",width:"25px",height:"25px",icon:t.jsx(St,{}),onClick:n})]})},J5=e=>`translate(${e.horizontal==="center"?"-50%":"0px"}, ${e.vertical==="center"?"-50%":"0px"})})`,Z5=u(Tt).withConfig({componentId:"sc-11839ai-0"})(["overflow:hidden;position:relative;background:",";display:flex;justify-content:",";align-items:center;user-select:none;@media (max-width:700px){border-radius:0px;}"],({background:e})=>e,({imageAlign:e})=>(e==null?void 0:e.horizontal)==="left"?"flex-start":(e==null?void 0:e.horizontal)==="right"?"flex-end":"center"),eA=u.div.withConfig({componentId:"sc-11839ai-1"})(["width:80%;height:fit-content;position:absolute;left:",";right:",";bottom:",";top:",";display:flex;flex-direction:column;gap:7px;color:",";transform:",";text-align:",";"],({align:e})=>e.horizontal==="left"?"30px":e.horizontal==="center"?"50%":"auto",({align:e})=>e.horizontal==="right"?"30px":e.horizontal==="center"?"50%":"auto",({align:e})=>e.vertical==="bottom"?"30px":e.vertical==="center"?"50%":"auto",({align:e})=>e.vertical==="top"?"30px":e.vertical==="center"?"50%":"auto",({color:e})=>e??"var(--text)",({align:e})=>J5(e),({textAlign:e})=>e??"left"),tA=({background:e,align:i,image:n,color:s,title:o,text:a,children:r,setPlaying:l,link:p,imageAlign:d,imageSize:h={width:"auto",height:"100%"},textAlign:f="left"})=>{const g=pt();return t.jsxs(Z5,{imageAlign:d,onClick:()=>l(m=>!m),background:e,align:i,padding:"0",height:"100%",color:s,children:[n&&t.jsx(la,{src:n,loading:!1,width:h.width,height:h.height}),t.jsxs(eA,{imageAlign:d,onClick:()=>l(m=>!m),background:e,align:i,color:s,children:[t.jsx(L,{size:2,align:f,children:o}),t.jsx(se,{fontSize:"1.1em",align:f,children:a}),!!(p!=null&&p.text)&&t.jsx(j,{onClick:()=>{g.push(p.to),Qt.close()},text:p.text}),r&&t.jsx("div",{className:"content-children",children:r})]})]})},iA=u.div.withConfig({componentId:"sc-tnji4s-0"})(["padding:15px;width:100%;max-width:400px;height:100%;max-height:750px;transition:0.2s;transform:scale(",");opacity:",";visibility:",";position:relative;display:flex;@media (max-width:700px){padding:0;}"],({isOpen:e})=>e?1:.95,({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden"),xl=u.div.withConfig({componentId:"sc-tnji4s-1"})(["position:absolute;top:50px;left:",";right:",";height:calc(100% - 65px);display:flex;justify-content:center;align-items:center;width:25%;z-index:3;opacity:0;svg{width:30px;height:30px;color:var(--text);background:var(--almostTransparentOpposite);border-radius:var(--brLight);}@media (min-width:1001px){&:hover{opacity:1;background:",";}}@media (max-width:1000px){left:",";right:",";&:active{opacity:1;background:",";}}"],({left:e})=>e??"auto",({right:e})=>e??"auto",({left:e})=>e?"linear-gradient(90deg, var(--almostTransparentOpposite), transparent)":"linear-gradient(90deg, transparent, var(--almostTransparentOpposite))",({left:e})=>`calc(${e} - 15px)`??"auto",({right:e})=>`calc(${e} - 15px)`??"auto",({left:e})=>e?"linear-gradient(90deg, var(--almostTransparentOpposite), transparent)":"linear-gradient(90deg, transparent, var(--almostTransparentOpposite))"),nA=()=>{const{pages:e,isOpen:i,currentPage:n}=Wa.useStory(),s=c.useRef(null);Oi(s,()=>Qt.close());const[o,a]=c.useState(!0),r=e[n];return e.length===0?null:t.jsx(ro,{isOpen:i,children:t.jsx(iA,{isOpen:i,ref:s,children:e.length!==0&&t.jsxs(t.Fragment,{children:[t.jsx(K5,{pages:e.length,onClose:()=>Qt.close(),playing:o}),t.jsx(xl,{left:"15px",onClick:()=>{n!==0&&Qt.changeCurrentPage({value:n-1}),a(!0)},children:t.jsx(jn,{})}),t.jsx(tA,{setPlaying:a,currentPage:n,...r}),t.jsx(xl,{right:"15px",onClick:()=>{n!==e.length-1?Qt.changeCurrentPage({value:n+1}):Qt.close(),a(!0)},children:t.jsx(xt,{})})]})})})},kg=I({name:"getElectronicInteraction",sid:"r9fh1m"}),_g=I({name:"postElectronicInteraction",sid:"iwql6m"}),Cg=I({name:"changeDone",sid:"-xe3ofi"}),Sg=I({name:"changeCompleted",sid:"l90b28"}),zn=W(async()=>{const i=(await vx())[0];if((i==null?void 0:i.result)!=="ok")throw new Error},{name:"postElectronicInteractionFx",sid:"-ezfxrp"});v({and:[{clock:zn.doneData,fn:()=>({message:"Форма отправлена успешно",type:"success"}),target:G.evokePopUpMessage}],or:{sid:"-56man9"}});v({and:[{clock:zn.doneData,fn:()=>!0,target:Cg}],or:{sid:"-4qo9fs"}});v({and:[{clock:zn.failData,fn:()=>({message:"Не удалось подписать",type:"failure"}),target:G.evokePopUpMessage}],or:{sid:"-4nxagz"}});const yn=W(async()=>{try{return(await wx())[0]}catch(e){throw new Error(e)}},{name:"getElectronicInteractionFx",sid:"qiy9m"});v({and:[{clock:_g,target:zn}],or:{sid:"-3qxmvb"}});v({and:[{clock:kg,target:yn}],or:{sid:"-3d6s1a"}});const sA=yn.pending,oA=zn.pending,aA=$(!1,{name:"$completed",sid:"-q8ea71"}).on(Sg,(e,i)=>i),rA=$(!1,{name:"$done",sid:"-cuopmg"}).on(Cg,(e,i)=>i),lA=$(null,{name:"$error",sid:"-6xp7g8"}).on(yn,()=>null).on(yn.failData,(e,i)=>i.message),cA=$(null,{name:"$electronicInteractionStore",sid:"-wkvhgj"}).on(yn.doneData,(e,i)=>i).on(K.userGuid,()=>null),dA={$error:lA,$electronicInteractionStore:cA,$completed:aA,$done:rA,$loading:sA,$workerLoading:oA},bl={getElectronicInteraction:kg,postElectronicInteraction:_g,changeCompleted:Sg},pA=()=>{const{data:{user:e}}=ke.useUser(),{notifications:i,loading:n,loaded:s}=Gt.useLkNotifications(),o=z(ue.userSettings),[a]=z([dA.$electronicInteractionStore]),r=o==null?void 0:o.notifications;c.useEffect(()=>{bl.getElectronicInteraction(),a&&!a.status&&Ei.add(Iu("electronic-interaction","electronic-interaction"))},[a==null?void 0:a.status]),c.useEffect(()=>{a||bl.getElectronicInteraction()},[a]),c.useEffect(()=>{e&&r&&Object.values(r).some(Boolean)&&!s&&!n&&(Tu(r,[{id:"schedule",type:"schedule",title:"Скоро пара!",text:"Осталось меньше 15 мин."}]).length,Ei.initialize({settings:r}))},[e,r,n,s]),c.useEffect(()=>{Wt.changeNotifications({page:"lk-notifications",notifications:i.length})},[i])},uA=()=>{const{data:{user:e}}=ke.useUser(),[i,n]=z([Se.heroVisited,Se.tutorialState]),[s,o]=c.useState(!1),a=r=>{const l=localStorage.getItem("lastLocalAccess")||r,p=new Date(qm);new Date(r)<p&&new Date(l)<p&&(i||n)&&(localStorage.setItem("lastLocalAccess",new Date().toISOString()),o(!0))};return c.useEffect(()=>{e&&a(e.lastaccess)},[e]),s},hA=()=>{const e=Yc(),{open:i}=H(),n=uA();return pA(),c.useEffect(()=>{n&&n&&i(t.jsx(xh,{}),"Что нового")},[n]),{currentPage:e}},gA=u.div.withConfig({componentId:"sc-5qiuwq-0"})(["display:flex;width:100%;max-height:100%;flex:1;z-index:3;background:var(--theme);overflow:hidden;position:relative;@media (max-width:1000px){font-size:0.9em;}"]),fA=u.div.withConfig({componentId:"sc-5qiuwq-1"})(["position:relative;overflow-x:hidden;overflow-y:scroll;scrollbar-gutter:stable;padding-top:",";width:100%;flex:1;@media (max-width:1000px){margin-bottom:var(--mobile-bottom-menu-height);}"],({withHeader:e})=>e?"var(--header-height)":"0"),mA="/assets/tutorial-picture-652f946f.jpg",xA=u.div.withConfig({componentId:"sc-12ow9dl-0"})(["position:fixed;width:100%;height:100%;z-index:5;background-color:rgba(0,0,0,0.4);display:flex;justify-content:center;align-items:end;padding:8px;@media (min-width:1000px){justify-content:center;align-items:center;}"]),bA=u.div.withConfig({componentId:"sc-12ow9dl-1"})(["display:flex;flex-direction:column;gap:20px;@media (min-width:1000px){width:60ch;max-width:600px;padding:40px 40px 40px 60px;}"]),wA=u.div.withConfig({componentId:"sc-12ow9dl-2"})(["min-width:100%;position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:15px;backdrop-filter:blur(6.8px);background:rgba(95,109,236,0.7);padding:16px;@media (min-width:1000px){padding:0;bottom:auto;min-width:0;max-width:90%;flex-direction:row;}animation:"," 150ms ease-in forwards;"],({deleted:e})=>e?Sa:""),vA=u.h2.withConfig({componentId:"sc-12ow9dl-3"})(["margin-top:32px;margin-bottom:16px;color:#f4f4f4;font-size:20px;font-weight:600;line-height:normal;@media (min-width:1000px){margin-bottom:40px;}"]),bi=u.p.withConfig({componentId:"sc-12ow9dl-4"})(["font-weight:600;font-size:16px;line-height:139%;color:#f4f4f4;margin-bottom:20px;"]),yA=u.div.withConfig({componentId:"sc-12ow9dl-5"})(["margin:auto 0 0 0;display:flex;justify-content:space-between;"]),jA=()=>{const[e,i]=c.useState(!1),[n,s,o,a]=z([Se.heroVisited,Se.tutorialState,xe.tutorialEnabled,xe.setHeroVisited]),{data:{user:r}}=ke.useUser(),{isMobile:l,isTablet:p}=Xe();return s!==null||n&&!e?null:t.jsx(xA,{onMouseUp:()=>a(!0),children:t.jsxs(wA,{onMouseUp:d=>d.stopPropagation(),deleted:e,children:[t.jsx(kA,{src:mA}),t.jsxs(bA,{children:[(r==null?void 0:r.user_status)==="staff"?t.jsxs(t.Fragment,{children:[t.jsx(bi,{children:"В Личном кабинете появилось обучение, которое знакомит с основными разделами и рассказывает о возможностях Личного кабинета."}),t.jsx(bi,{children:"Следить за прогрессом прохождения можно в настройках Личного кабинета. Также в настройках можно напрямую запусить обучение по разделу."}),!l&&!p&&t.jsx(bi,{children:"Связь со студентами и сотрудниками, доступ к корпоративным контактным данным, цифровые сервисы - все в одном месте."})]}):t.jsxs(t.Fragment,{children:[t.jsx(vA,{children:"Привет!"}),t.jsx(bi,{children:"В Личном кабинете появилось обучение. Пройдя его, ты познакомишься с основными разделами и возможностями Личного кабинета, которые сделают твое обучение удобнее."}),t.jsx(bi,{children:"Следить за прогрессом прохождения можно в настройках Личного кабинета. Также в настройках можно напрямую запустить обучение по разделу."}),!l&&!p&&t.jsx(bi,{children:"Отслеживай расписание, заказывай справки, проводи оплаты, общайся с сотрудниками, преподавателями и студентами - все в одном месте."})]}),t.jsxs(yA,{children:[t.jsx(j,{padding:"16px 24px",background:"none",height:"52px",fontSize:"16px",textColor:"#B5BDFF",hoverTextColor:"#9EA8F8",text:"Отказаться",onClick:()=>{o(!1),a(!0),i(!0),setTimeout(()=>{i(!1)},150)}}),t.jsx(j,{padding:"16px 36px",text:"Поехали!",fontSize:"16px",height:"52px",background:y.blue.light1,hoverBackground:"#6E7AE0",textColor:"white",onClick:()=>{o(!0),a(!0),i(!0),setTimeout(()=>{i(!1)},150)}})]})]})]})})},kA=u.img.withConfig({componentId:"sc-10jbk67-0"})(["object-fit:cover;aspect-ratio:1;position:absolute;width:72px;border-radius:50%;right:24px;top:24px;background-size:20%;@media (min-width:1000px){scale:1;position:relative;width:50%;max-width:500px;border-radius:0;height:auto;top:0;right:0;}"]),_A=He(XI),CA=()=>{const{data:{user:e}}=ke.useUser(),i=c.useRef(null),{allRoutes:n}=dt.useMenu(),{currentPage:s}=hA(),[o,a]=c.useState(!1),r=l=>{a(l.currentTarget.scrollTop>0)};return yg(i.current),t.jsxs(t.Fragment,{children:[t.jsx(q5,{loading:!e||!n}),t.jsx(nA,{}),t.jsx(_A,{}),t.jsxs(gA,{children:[t.jsx(OI,{headerVisible:(s==null?void 0:s.hiddenTitle)||o,currentPage:s}),t.jsx(fA,{ref:i,onScroll:r,withHeader:!(s!=null&&s.withoutHeader),children:t.jsx(_c,{children:t.jsx(c.Suspense,{fallback:null,children:t.jsx(M5,{})})})}),t.jsx(kE,{})]}),t.jsx(nT,{}),t.jsx(JI,{}),t.jsx(oT,{}),t.jsx(B5,{}),t.jsx(PE,{}),t.jsx(jA,{}),t.jsx(V5,{})]})},SA=de.memo(CA),IA=()=>{const e=nd(JSON.stringify(Cr));xe.setRoles([]);const i=localStorage.getItem(ia);return e!==Number(i)?xe.initialized([...Cr]):xe.getTutorialData()},TA=()=>{const i=Mt().pathname,[n,s,o,a]=z([Se.tutorials,Se.currentModule,xe.setCurrentTutorial,xe.resetStep]);c.useEffect(()=>{if(n){const r=Object.values(n).find(l=>l.path===i);if(!r){o(null);return}(s==null?void 0:s.id)!==r.id&&(o(r.id),a())}},[n,i])},EA=()=>{const{data:{isAuthenticated:e,user:i}}=ke.useUser();return yg(window),c.useEffect(()=>{window.location.href==="https://e.mospolytech.ru/?p=children#/home"&&window.location.replace("https://e.mospolytech.ru/old/index.php?p=children")},[window.location.href]),c.useEffect(()=>{e&&(kt.getUserDataApplicationsFx(),i!=null&&i.guid&&IA(),(i==null?void 0:i.user_status)==="staff"&&(ht.effects.getFx(),kt.getWorkerPosts(),Js.getSubdivisions(),bg()),z5.load())},[e,i]),TA(),e?t.jsx(SA,{}):t.jsx(c.Suspense,{fallback:null,children:t.jsxs(Ss,{children:[D5.map(({path:n,Component:s},o)=>t.jsx(an,{path:n,component:s,exact:!0},o)),t.jsx(jt,{exact:!0,to:ng})]})})},PA=()=>(c.useEffect(()=>{Kl()},[]),t.jsx(y0,{children:t.jsx(Mm,{basename:"/",children:t.jsx(_c,{children:t.jsx(EA,{})})})}));Cl.render(t.jsxs(de.StrictMode,{children:[t.jsx(_T,{}),t.jsx(PA,{})]}),document.getElementById("root"));export{ee as $,m1 as A,Fs as B,Hr as C,VA as D,V as E,Os as F,E as G,be as H,qt as I,qC as J,Yt as K,y as L,Z as M,Li as N,$v as O,Et as P,Rx as Q,qA as R,Ze as S,Mi as T,LA as U,ut as V,Qe as W,se as X,Ge as Y,kN as Z,Ln as _,YA as a,he as a$,Vs as a0,E0 as a1,je as a2,aN as a3,rN as a4,zA as a5,FA as a6,$A as a7,MA as a8,HA as a9,dt as aA,A5 as aB,rI as aC,hg as aD,jN as aE,Te as aF,Di as aG,It as aH,Ht as aI,tN as aJ,_N as aK,ab as aL,xr as aM,dk as aN,Yk as aO,sN as aP,Qk as aQ,iN as aR,_k as aS,nN as aT,Na as aU,i_ as aV,vg as aW,oN as aX,ed as aY,Db as aZ,o1 as a_,BA as aa,RA as ab,GA as ac,WA as ad,me as ae,QA as af,ke as ag,zs as ah,AI as ai,g1 as aj,eN as ak,_n as al,Ei as am,lo as an,fs as ao,JA as ap,He as aq,yN as ar,Xc as as,Tt as at,Mo as au,Ne as av,Jc as aw,pa as ax,lI as ay,dI as az,K as b,E5 as b$,Wp as b0,xs as b1,N5 as b2,KA as b3,Hu as b4,rw as b5,zo as b6,dl as b7,vt as b8,dA as b9,UI as bA,CI as bB,M as bC,bo as bD,lN as bE,Zd as bF,uN as bG,hN as bH,gN as bI,yt as bJ,pN as bK,dN as bL,cN as bM,Me as bN,RS as bO,Lu as bP,y5 as bQ,ce as bR,vp as bS,wp as bT,w2 as bU,k2 as bV,Zs as bW,AE as bX,rc as bY,O5 as bZ,P5 as b_,bl as ba,Ae as bb,at as bc,jP as bd,ot as be,Se as bf,xe as bg,jE as bh,wN as bi,fN as bj,nE as bk,qu as bl,Ua as bm,vN as bn,Jt as bo,X as bp,gv as bq,wv as br,ue as bs,Xe as bt,pg as bu,zS as bv,wt as bw,ph as bx,kr as by,bN as bz,Ce as c,T5 as c0,Ju as c1,xN as c2,Dn as c3,$i as c4,ta as c5,mN as c6,LT as c7,gg as c8,RT as c9,hs as cA,jT as cB,On as cC,la as cD,V0 as cE,ZA as cF,x1 as cG,Bn as cH,u1 as cI,h1 as cJ,p1 as cK,Uc as cL,Mw as cM,zT as ca,ih as cb,wi as cc,UT as cd,hh as ce,HT as cf,mh as cg,AT as ch,lT as ci,pE as cj,oE as ck,Ie as cl,Qu as cm,th as cn,md as co,hn as cp,GT as cq,Zc as cr,Ux as cs,Gt as ct,_5 as cu,VS as cv,sb as cw,XA as cx,DA as cy,NA as cz,G as d,kt as e,Qn as f,ie as g,L as h,et as i,Sn as j,N as k,oe as l,UA as m,OA as n,pr as o,We as p,j as q,Pt as r,Be as s,La as t,H as u,Kt as v,jo as w,ga as x,Pe as y,z5 as z};
