var se=(o,n,t)=>new Promise((e,r)=>{var l=s=>{try{a(t.next(s))}catch(d){r(d)}},i=s=>{try{a(t.throw(s))}catch(d){r(d)}},a=s=>s.done?e(s.value):Promise.resolve(s.value).then(l,i);a((t=t.apply(o,n)).next())});import{r as j,s as Y,i as ie,j as I,c_ as Le}from"./vendor-04d91f24.js";import{s as E,e as k,T as ke}from"./article-0a97b959.js";import{f as Z,a5 as Ee,dk as je,I as $,h as ce,B as Fe,S as We,dl as He}from"./index-08ea44a0.js";function N(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function U(o){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},U(o)}function De(o,n){if(U(o)!=="object"||o===null)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var e=t.call(o,n||"default");if(U(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}function Ie(o){var n=De(o,"string");return U(n)==="symbol"?n:String(n)}function de(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,Ie(e.key),e)}}function B(o,n,t){return n&&de(o.prototype,n),t&&de(o,t),Object.defineProperty(o,"prototype",{writable:!1}),o}function v(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function K(o,n){if(n&&(U(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}function G(o){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(o)}function ne(o,n){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},ne(o,n)}function X(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),n&&ne(o,n)}function p(o,n,t){return n=Ie(n),n in o?Object.defineProperty(o,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[n]=t,o}function Ue(o,n){var t;typeof n!="undefined"?t=n:typeof window!="undefined"?t=window:typeof self!="undefined"?t=self:t=global;var e=typeof t.document!="undefined"&&t.document.attachEvent;if(!e){var r=function(){var _=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(u){return t.setTimeout(u,20)};return function(u){return _(u)}}(),l=function(){var _=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(u){return _(u)}}(),i=function(u){var T=u.__resizeTriggers__,C=T.firstElementChild,y=T.lastElementChild,M=C.firstElementChild;y.scrollLeft=y.scrollWidth,y.scrollTop=y.scrollHeight,M.style.width=C.offsetWidth+1+"px",M.style.height=C.offsetHeight+1+"px",C.scrollLeft=C.scrollWidth,C.scrollTop=C.scrollHeight},a=function(u){return u.offsetWidth!=u.__resizeLast__.width||u.offsetHeight!=u.__resizeLast__.height},s=function(u){if(!(u.target.className&&typeof u.target.className.indexOf=="function"&&u.target.className.indexOf("contract-trigger")<0&&u.target.className.indexOf("expand-trigger")<0)){var T=this;i(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=r(function(){a(T)&&(T.__resizeLast__.width=T.offsetWidth,T.__resizeLast__.height=T.offsetHeight,T.__resizeListeners__.forEach(function(C){C.call(T,u)}))})}},d=!1,f="",c="animationstart",h="Webkit Moz O ms".split(" "),S="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{var m=t.document.createElement("fakeelement");if(m.style.animationName!==void 0&&(d=!0),d===!1){for(var z=0;z<h.length;z++)if(m.style[h[z]+"AnimationName"]!==void 0){g=h[z],f="-"+g.toLowerCase()+"-",c=S[z],d=!0;break}}}var w="resizeanim",x="@"+f+"keyframes "+w+" { from { opacity: 0; } to { opacity: 0; } } ",R=f+"animation: 1ms "+w+"; "}var A=function(u){if(!u.getElementById("detectElementResize")){var T=(x||"")+".resize-triggers { "+(R||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',C=u.head||u.getElementsByTagName("head")[0],y=u.createElement("style");y.id="detectElementResize",y.type="text/css",o!=null&&y.setAttribute("nonce",o),y.styleSheet?y.styleSheet.cssText=T:y.appendChild(u.createTextNode(T)),C.appendChild(y)}},b=function(u,T){if(e)u.attachEvent("onresize",T);else{if(!u.__resizeTriggers__){var C=u.ownerDocument,y=t.getComputedStyle(u);y&&y.position=="static"&&(u.style.position="relative"),A(C),u.__resizeLast__={},u.__resizeListeners__=[],(u.__resizeTriggers__=C.createElement("div")).className="resize-triggers";var M='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var L=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return M}});u.__resizeTriggers__.innerHTML=L.createHTML("")}else u.__resizeTriggers__.innerHTML=M;u.appendChild(u.__resizeTriggers__),i(u),u.addEventListener("scroll",s,!0),c&&(u.__resizeTriggers__.__animationListener__=function(D){D.animationName==w&&i(u)},u.__resizeTriggers__.addEventListener(c,u.__resizeTriggers__.__animationListener__))}u.__resizeListeners__.push(T)}},O=function(u,T){if(e)u.detachEvent("onresize",T);else if(u.__resizeListeners__.splice(u.__resizeListeners__.indexOf(T),1),!u.__resizeListeners__.length){u.removeEventListener("scroll",s,!0),u.__resizeTriggers__.__animationListener__&&(u.__resizeTriggers__.removeEventListener(c,u.__resizeTriggers__.__animationListener__),u.__resizeTriggers__.__animationListener__=null);try{u.__resizeTriggers__=!u.removeChild(u.__resizeTriggers__)}catch(C){}}};return{addResizeListener:b,removeResizeListener:O}}var ue,fe;function he(o,n){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,e)}return t}function Ge(o){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?he(t,!0).forEach(function(e){p(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):he(t).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}var xe=(fe=ue=function(o){X(n,o);function n(){var t,e;N(this,n);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return e=K(this,(t=G(n)).call.apply(t,[this].concat(l))),p(v(e),"state",{height:e.props.defaultHeight||0,width:e.props.defaultWidth||0}),p(v(e),"_parentNode",void 0),p(v(e),"_autoSizer",void 0),p(v(e),"_window",void 0),p(v(e),"_detectElementResize",void 0),p(v(e),"_onResize",function(){var a=e.props,s=a.disableHeight,d=a.disableWidth,f=a.onResize;if(e._parentNode){var c=e._parentNode.offsetHeight||0,h=e._parentNode.offsetWidth||0,S=e._window||window,g=S.getComputedStyle(e._parentNode)||{},m=parseInt(g.paddingLeft,10)||0,z=parseInt(g.paddingRight,10)||0,w=parseInt(g.paddingTop,10)||0,x=parseInt(g.paddingBottom,10)||0,R=c-w-x,A=h-m-z;(!s&&e.state.height!==R||!d&&e.state.width!==A)&&(e.setState({height:c-w-x,width:h-m-z}),f({height:c,width:h}))}}),p(v(e),"_setRef",function(a){e._autoSizer=a}),e}return B(n,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Ue(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,r=e.children,l=e.className,i=e.disableHeight,a=e.disableWidth,s=e.style,d=this.state,f=d.height,c=d.width,h={overflow:"visible"},S={};return i||(h.height=0,S.height=f),a||(h.width=0,S.width=c),j.createElement("div",{className:l,ref:this._setRef,style:Ge({},h,{},s)},r(S))}}]),n}(j.Component),p(ue,"propTypes",null),fe);p(xe,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function re(o,n){(n==null||n>o.length)&&(n=o.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=o[t];return e}function Ne(o){if(Array.isArray(o))return re(o)}function Be(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function $e(o,n){if(o){if(typeof o=="string")return re(o,n);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return re(o,n)}}function Ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qe(o){return Ne(o)||Be(o)||$e(o)||Ve()}function J(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={};return function(t){var e=t.callback,r=t.indices,l=Object.keys(r),i=!o||l.every(function(s){var d=r[s];return Array.isArray(d)?d.length>0:d>=0}),a=l.length!==Object.keys(n).length||l.some(function(s){var d=n[s],f=r[s];return Array.isArray(f)?d.join(",")!==f.join(","):d!==f});n=r,i&&a&&e(r)}}var le=function(o){X(n,o);function n(t,e){var r;return N(this,n),r=K(this,G(n).call(this,t,e)),r._loadMoreRowsMemoizer=J(),r._onRowsRendered=r._onRowsRendered.bind(v(r)),r._registerChild=r._registerChild.bind(v(r)),r}return B(n,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=J(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var e=this.props.children;return e({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var r=this,l=this.props.loadMoreRows;e.forEach(function(i){var a=l(i);a&&a.then(function(){Ze({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:i.startIndex,stopIndex:i.stopIndex})&&r._registeredChild&&Qe(r._registeredChild,r._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(e){var r=e.startIndex,l=e.stopIndex;this._lastRenderedStartIndex=r,this._lastRenderedStopIndex=l,this._doStuff(r,l)}},{key:"_doStuff",value:function(e,r){var l,i=this,a=this.props,s=a.isRowLoaded,d=a.minimumBatchSize,f=a.rowCount,c=a.threshold,h=Je({isRowLoaded:s,minimumBatchSize:d,rowCount:f,startIndex:Math.max(0,e-c),stopIndex:Math.min(f-1,r+c)}),S=(l=[]).concat.apply(l,qe(h.map(function(g){var m=g.startIndex,z=g.stopIndex;return[m,z]})));this._loadMoreRowsMemoizer({callback:function(){i._loadUnloadedRanges(h)},indices:{squashedUnloadedRanges:S}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),n}(j.PureComponent);p(le,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});le.propTypes={};function Ze(o){var n=o.lastRenderedStartIndex,t=o.lastRenderedStopIndex,e=o.startIndex,r=o.stopIndex;return!(e>t||r<n)}function Je(o){for(var n=o.isRowLoaded,t=o.minimumBatchSize,e=o.rowCount,r=o.startIndex,l=o.stopIndex,i=[],a=null,s=null,d=r;d<=l;d++){var f=n({index:d});f?s!==null&&(i.push({startIndex:a,stopIndex:s}),a=s=null):(s=d,a===null&&(a=d))}if(s!==null){for(var c=Math.min(Math.max(s,a+t-1),e-1),h=s+1;h<=c&&!n({index:h});h++)s=h;i.push({startIndex:a,stopIndex:s})}if(i.length)for(var S=i[0];S.stopIndex-S.startIndex+1<t&&S.startIndex>0;){var g=S.startIndex-1;if(!n({index:g}))S.startIndex=g;else break}return i}function Qe(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof o.recomputeGridSize=="function"?o.recomputeGridSize:o.recomputeRowHeights;t?t.call(o,n):o.forceUpdate()}function Q(){return Q=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}return o},Q.apply(this,arguments)}function Re(o){var n,t,e="";if(typeof o=="string"||typeof o=="number")e+=o;else if(typeof o=="object")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]&&(t=Re(o[n]))&&(e&&(e+=" "),e+=t);else for(n in o)o[n]&&(e&&(e+=" "),e+=n);return e}function be(){for(var o,n,t=0,e="";t<arguments.length;)(o=arguments[t++])&&(n=Re(o))&&(e&&(e+=" "),e+=n);return e}function pe(o){var n=o.cellCount,t=o.cellSize,e=o.computeMetadataCallback,r=o.computeMetadataCallbackProps,l=o.nextCellsCount,i=o.nextCellSize,a=o.nextScrollToIndex,s=o.scrollToIndex,d=o.updateScrollOffsetForScrollToIndex;(n!==l||(typeof t=="number"||typeof i=="number")&&t!==i)&&(e(r),s>=0&&s===a&&d())}function Ye(o,n){if(o==null)return{};var t={},e=Object.keys(o),r,l;for(l=0;l<e.length;l++)r=e[l],!(n.indexOf(r)>=0)&&(t[r]=o[r]);return t}function Ke(o,n){if(o==null)return{};var t=Ye(o,n),e,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(r=0;r<l.length;r++)e=l[r],!(n.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(o,e)&&(t[e]=o[e])}return t}var Xe=function(){function o(n){var t=n.cellCount,e=n.cellSizeGetter,r=n.estimatedCellSize;N(this,o),p(this,"_cellSizeAndPositionData",{}),p(this,"_lastMeasuredIndex",-1),p(this,"_lastBatchedIndex",-1),p(this,"_cellCount",void 0),p(this,"_cellSizeGetter",void 0),p(this,"_estimatedCellSize",void 0),this._cellSizeGetter=e,this._cellCount=t,this._estimatedCellSize=r}return B(o,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,r=t.estimatedCellSize,l=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=r,this._cellSizeGetter=l}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),r=e.offset+e.size,l=this._lastMeasuredIndex+1;l<=t;l++){var i=this._cellSizeGetter({index:l});if(i===void 0||isNaN(i))throw Error("Invalid size returned for cell ".concat(l," of value ").concat(i));i===null?(this._cellSizeAndPositionData[l]={offset:r,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[l]={offset:r,size:i},r+=i,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),e=t.offset+t.size,r=this._cellCount-this._lastMeasuredIndex-1,l=r*this._estimatedCellSize;return e+l}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,r=e===void 0?"auto":e,l=t.containerSize,i=t.currentOffset,a=t.targetIndex;if(l<=0)return 0;var s=this.getSizeAndPositionOfCell(a),d=s.offset,f=d-l+s.size,c;switch(r){case"start":c=d;break;case"end":c=f;break;case"center":c=d-(l-s.size)/2;break;default:c=Math.max(f,Math.min(d,i));break}var h=this.getTotalSize();return Math.max(0,Math.min(h-l,c))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,r=t.offset,l=this.getTotalSize();if(l===0)return{};var i=r+e,a=this._findNearestCell(r),s=this.getSizeAndPositionOfCell(a);r=s.offset+s.size;for(var d=a;r<i&&d<this._cellCount-1;)d++,r+=this.getSizeAndPositionOfCell(d).size;return{start:a,stop:d}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,r){for(;e<=t;){var l=e+Math.floor((t-e)/2),i=this.getSizeAndPositionOfCell(l).offset;if(i===r)return l;i<r?e=l+1:i>r&&(t=l-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var r=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=r,r*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(r,0,t):this._exponentialSearch(r,t)}}]),o}(),et=15e5,tt=16777100,ot=function(){return typeof window!="undefined"},nt=function(){return!!window.chrome},rt=function(){return ot()&&nt()?tt:et},Se=function(){function o(n){var t=n.maxScrollSize,e=t===void 0?rt():t,r=Ke(n,["maxScrollSize"]);N(this,o),p(this,"_cellSizeAndPositionManager",void 0),p(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Xe(r),this._maxScrollSize=e}return B(o,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,r=t.offset,l=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),a=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:i});return Math.round(a*(i-l))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,r=e===void 0?"auto":e,l=t.containerSize,i=t.currentOffset,a=t.targetIndex;i=this._safeOffsetToOffset({containerSize:l,offset:i});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:l,currentOffset:i,targetIndex:a});return this._offsetToSafeOffset({containerSize:l,offset:s})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,r=t.offset;return r=this._safeOffsetToOffset({containerSize:e,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:r})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,r=t.offset,l=t.totalSize;return l<=e?0:r/(l-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,r=t.offset,l=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(l===i)return r;var a=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:l});return Math.round(a*(i-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,r=t.offset,l=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(l===i)return r;var a=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:i});return Math.round(a*(l-e))}}]),o}(),V=-1,F=1;function it(o){var n=o.cellCount,t=o.overscanCellsCount,e=o.scrollDirection,r=o.startIndex,l=o.stopIndex;return e===F?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(n-1,l+t)}:{overscanStartIndex:Math.max(0,r-t),overscanStopIndex:Math.min(n-1,l)}}function ge(o){var n=o.cellSize,t=o.cellSizeAndPositionManager,e=o.previousCellsCount,r=o.previousCellSize,l=o.previousScrollToAlignment,i=o.previousScrollToIndex,a=o.previousSize,s=o.scrollOffset,d=o.scrollToAlignment,f=o.scrollToIndex,c=o.size,h=o.sizeJustIncreasedFromZero,S=o.updateScrollIndexCallback,g=t.getCellCount(),m=f>=0&&f<g,z=c!==a||h||!r||typeof n=="number"&&n!==r;m&&(z||d!==l||f!==i)?S(f):!m&&g>0&&(c<a||g<e)&&s>t.getTotalSize()-c&&S(g-1)}function lt(o){for(var n=o.cellCache,t=o.cellRenderer,e=o.columnSizeAndPositionManager,r=o.columnStartIndex,l=o.columnStopIndex,i=o.deferredMeasurementCache,a=o.horizontalOffsetAdjustment,s=o.isScrolling,d=o.isScrollingOptOut,f=o.parent,c=o.rowSizeAndPositionManager,h=o.rowStartIndex,S=o.rowStopIndex,g=o.styleCache,m=o.verticalOffsetAdjustment,z=o.visibleColumnIndices,w=o.visibleRowIndices,x=[],R=e.areOffsetsAdjusted()||c.areOffsetsAdjusted(),A=!s&&!R,b=h;b<=S;b++)for(var O=c.getSizeAndPositionOfCell(b),_=r;_<=l;_++){var u=e.getSizeAndPositionOfCell(_),T=_>=z.start&&_<=z.stop&&b>=w.start&&b<=w.stop,C="".concat(b,"-").concat(_),y=void 0;A&&g[C]?y=g[C]:i&&!i.has(b,_)?y={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(y={height:O.size,left:u.offset+a,position:"absolute",top:O.offset+m,width:u.size},g[C]=y);var M={columnIndex:_,isScrolling:s,isVisible:T,key:C,parent:f,rowIndex:b,style:y},L=void 0;(d||s)&&!a&&!m?(n[C]||(n[C]=t(M)),L=n[C]):L=t(M),!(L==null||L===!1)&&x.push(L)}return x}const at=!!(typeof window!="undefined"&&window.document&&window.document.createElement);var q;function st(o){if((!q&&q!==0||o)&&at){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),q=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return q}function Oe(){var o=this.constructor.getDerivedStateFromProps(this.props,this.state);o!=null&&this.setState(o)}function Ae(o){function n(t){var e=this.constructor.getDerivedStateFromProps(o,t);return e!=null?e:null}this.setState(n.bind(this))}function Me(o,n){try{var t=this.props,e=this.state;this.props=o,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,e)}finally{this.props=t,this.state=e}}Oe.__suppressDeprecationWarning=!0;Ae.__suppressDeprecationWarning=!0;Me.__suppressDeprecationWarning=!0;function ct(o){var n=o.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if(typeof o.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function")return o;var t=null,e=null,r=null;if(typeof n.componentWillMount=="function"?t="componentWillMount":typeof n.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof n.componentWillReceiveProps=="function"?e="componentWillReceiveProps":typeof n.UNSAFE_componentWillReceiveProps=="function"&&(e="UNSAFE_componentWillReceiveProps"),typeof n.componentWillUpdate=="function"?r="componentWillUpdate":typeof n.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),t!==null||e!==null||r!==null){var l=o.displayName||o.name,i=typeof o.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+i+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(e!==null?`
  `+e:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof o.getDerivedStateFromProps=="function"&&(n.componentWillMount=Oe,n.componentWillReceiveProps=Ae),typeof n.getSnapshotBeforeUpdate=="function"){if(typeof n.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=Me;var a=n.componentDidUpdate;n.componentDidUpdate=function(d,f,c){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:c;a.call(this,d,f,h)}}return o}var P;typeof window!="undefined"?P=window:typeof self!="undefined"?P=self:P={};var dt=P.requestAnimationFrame||P.webkitRequestAnimationFrame||P.mozRequestAnimationFrame||P.oRequestAnimationFrame||P.msRequestAnimationFrame||function(o){return P.setTimeout(o,1e3/60)},ut=P.cancelAnimationFrame||P.webkitCancelAnimationFrame||P.mozCancelAnimationFrame||P.oCancelAnimationFrame||P.msCancelAnimationFrame||function(o){P.clearTimeout(o)},ve=dt,ft=ut,me=function(n){return ft(n.id)},ht=function(n,t){var e;Promise.resolve().then(function(){e=Date.now()});var r=function i(){Date.now()-e>=t?n.call():l.id=ve(i)},l={id:ve(r)};return l},_e,Ce;function ze(o,n){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,e)}return t}function W(o){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ze(t,!0).forEach(function(e){p(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):ze(t).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}var pt=150,oe={OBSERVED:"observed",REQUESTED:"requested"},St=function(){return null},ae=(Ce=_e=function(o){X(n,o);function n(t){var e;N(this,n),e=K(this,G(n).call(this,t)),p(v(e),"_onGridRenderedMemoizer",J()),p(v(e),"_onScrollMemoizer",J(!1)),p(v(e),"_deferredInvalidateColumnIndex",null),p(v(e),"_deferredInvalidateRowIndex",null),p(v(e),"_recomputeScrollLeftFlag",!1),p(v(e),"_recomputeScrollTopFlag",!1),p(v(e),"_horizontalScrollBarSize",0),p(v(e),"_verticalScrollBarSize",0),p(v(e),"_scrollbarPresenceChanged",!1),p(v(e),"_scrollingContainer",void 0),p(v(e),"_childrenToDisplay",void 0),p(v(e),"_columnStartIndex",void 0),p(v(e),"_columnStopIndex",void 0),p(v(e),"_rowStartIndex",void 0),p(v(e),"_rowStopIndex",void 0),p(v(e),"_renderedColumnStartIndex",0),p(v(e),"_renderedColumnStopIndex",0),p(v(e),"_renderedRowStartIndex",0),p(v(e),"_renderedRowStopIndex",0),p(v(e),"_initialScrollTop",void 0),p(v(e),"_initialScrollLeft",void 0),p(v(e),"_disablePointerEventsTimeoutId",void 0),p(v(e),"_styleCache",{}),p(v(e),"_cellCache",{}),p(v(e),"_debounceScrollEndedCallback",function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})}),p(v(e),"_invokeOnGridRenderedHelper",function(){var i=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:i,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})}),p(v(e),"_setScrollingContainerRef",function(i){e._scrollingContainer=i}),p(v(e),"_onScroll",function(i){i.target===e._scrollingContainer&&e.handleScrollEvent(i.target)});var r=new Se({cellCount:t.columnCount,cellSizeGetter:function(a){return n._wrapSizeGetter(t.columnWidth)(a)},estimatedCellSize:n._getEstimatedColumnSize(t)}),l=new Se({cellCount:t.rowCount,cellSizeGetter:function(a){return n._wrapSizeGetter(t.rowHeight)(a)},estimatedCellSize:n._getEstimatedRowSize(t)});return e.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:l,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:F,scrollDirectionVertical:F,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(t,e.state)),t.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(t,e.state)),e}return B(n,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.alignment,l=r===void 0?this.props.scrollToAlignment:r,i=e.columnIndex,a=i===void 0?this.props.scrollToColumn:i,s=e.rowIndex,d=s===void 0?this.props.scrollToRow:s,f=W({},this.props,{scrollToAlignment:l,scrollToColumn:a,scrollToRow:d});return{scrollLeft:this._getCalculatedScrollLeft(f),scrollTop:this._getCalculatedScrollTop(f)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var r=e.scrollLeft,l=r===void 0?0:r,i=e.scrollTop,a=i===void 0?0:i;if(!(a<0)){this._debounceScrollEnded();var s=this.props,d=s.autoHeight,f=s.autoWidth,c=s.height,h=s.width,S=this.state.instanceProps,g=S.scrollbarSize,m=S.rowSizeAndPositionManager.getTotalSize(),z=S.columnSizeAndPositionManager.getTotalSize(),w=Math.min(Math.max(0,z-h+g),l),x=Math.min(Math.max(0,m-c+g),a);if(this.state.scrollLeft!==w||this.state.scrollTop!==x){var R=w!==this.state.scrollLeft?w>this.state.scrollLeft?F:V:this.state.scrollDirectionHorizontal,A=x!==this.state.scrollTop?x>this.state.scrollTop?F:V:this.state.scrollDirectionVertical,b={isScrolling:!0,scrollDirectionHorizontal:R,scrollDirectionVertical:A,scrollPositionChangeReason:oe.OBSERVED};d||(b.scrollTop=x),f||(b.scrollLeft=w),b.needToResetStyleCache=!1,this.setState(b)}this._invokeOnScrollMemoizer({scrollLeft:w,scrollTop:x,totalColumnsWidth:z,totalRowsHeight:m})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var r=e.columnIndex,l=e.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,l):l}},{key:"measureAllCells",value:function(){var e=this.props,r=e.columnCount,l=e.rowCount,i=this.state.instanceProps;i.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),i.rowSizeAndPositionManager.getSizeAndPositionOfCell(l-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.columnIndex,l=r===void 0?0:r,i=e.rowIndex,a=i===void 0?0:i,s=this.props,d=s.scrollToColumn,f=s.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(l),c.rowSizeAndPositionManager.resetCell(a),this._recomputeScrollLeftFlag=d>=0&&(this.state.scrollDirectionHorizontal===F?l<=d:l>=d),this._recomputeScrollTopFlag=f>=0&&(this.state.scrollDirectionVertical===F?a<=f:a>=f),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var r=e.columnIndex,l=e.rowIndex,i=this.props.columnCount,a=this.props;i>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(W({},a,{scrollToColumn:r})),l!==void 0&&this._updateScrollTopForScrollToRow(W({},a,{scrollToRow:l}))}},{key:"componentDidMount",value:function(){var e=this.props,r=e.getScrollbarSize,l=e.height,i=e.scrollLeft,a=e.scrollToColumn,s=e.scrollTop,d=e.scrollToRow,f=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState(function(g){var m=W({},g,{needToResetStyleCache:!1});return m.instanceProps.scrollbarSize=r(),m.instanceProps.scrollbarSizeMeasured=!0,m}),typeof i=="number"&&i>=0||typeof s=="number"&&s>=0){var h=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:s});h&&(h.needToResetStyleCache=!1,this.setState(h))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var S=l>0&&f>0;a>=0&&S&&this._updateScrollLeftForScrollToColumn(),d>=0&&S&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:s||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,r){var l=this,i=this.props,a=i.autoHeight,s=i.autoWidth,d=i.columnCount,f=i.height,c=i.rowCount,h=i.scrollToAlignment,S=i.scrollToColumn,g=i.scrollToRow,m=i.width,z=this.state,w=z.scrollLeft,x=z.scrollPositionChangeReason,R=z.scrollTop,A=z.instanceProps;this._handleInvalidatedGridSize();var b=d>0&&e.columnCount===0||c>0&&e.rowCount===0;x===oe.REQUESTED&&(!s&&w>=0&&(w!==this._scrollingContainer.scrollLeft||b)&&(this._scrollingContainer.scrollLeft=w),!a&&R>=0&&(R!==this._scrollingContainer.scrollTop||b)&&(this._scrollingContainer.scrollTop=R));var O=(e.width===0||e.height===0)&&f>0&&m>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):ge({cellSizeAndPositionManager:A.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:w,scrollToAlignment:h,scrollToIndex:S,size:m,sizeJustIncreasedFromZero:O,updateScrollIndexCallback:function(){return l._updateScrollLeftForScrollToColumn(l.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):ge({cellSizeAndPositionManager:A.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:R,scrollToAlignment:h,scrollToIndex:g,size:f,sizeJustIncreasedFromZero:O,updateScrollIndexCallback:function(){return l._updateScrollTopForScrollToRow(l.props)}}),this._invokeOnGridRenderedHelper(),w!==r.scrollLeft||R!==r.scrollTop){var _=A.rowSizeAndPositionManager.getTotalSize(),u=A.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:w,scrollTop:R,totalColumnsWidth:u,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&me(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,r=e.autoContainerWidth,l=e.autoHeight,i=e.autoWidth,a=e.className,s=e.containerProps,d=e.containerRole,f=e.containerStyle,c=e.height,h=e.id,S=e.noContentRenderer,g=e.role,m=e.style,z=e.tabIndex,w=e.width,x=this.state,R=x.instanceProps,A=x.needToResetStyleCache,b=this._isScrolling(),O={boxSizing:"border-box",direction:"ltr",height:l?"auto":c,position:"relative",width:i?"auto":w,WebkitOverflowScrolling:"touch",willChange:"transform"};A&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var _=R.columnSizeAndPositionManager.getTotalSize(),u=R.rowSizeAndPositionManager.getTotalSize(),T=u>c?R.scrollbarSize:0,C=_>w?R.scrollbarSize:0;(C!==this._horizontalScrollBarSize||T!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=C,this._verticalScrollBarSize=T,this._scrollbarPresenceChanged=!0),O.overflowX=_+T<=w?"hidden":"auto",O.overflowY=u+C<=c?"hidden":"auto";var y=this._childrenToDisplay,M=y.length===0&&c>0&&w>0;return j.createElement("div",Q({ref:this._setScrollingContainerRef},s,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:be("ReactVirtualized__Grid",a),id:h,onScroll:this._onScroll,role:g,style:W({},O,{},m),tabIndex:z}),y.length>0&&j.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:d,style:W({width:r?"auto":_,height:u,maxWidth:_,maxHeight:u,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},f)},y),M&&S())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=e.cellRenderer,i=e.cellRangeRenderer,a=e.columnCount,s=e.deferredMeasurementCache,d=e.height,f=e.overscanColumnCount,c=e.overscanIndicesGetter,h=e.overscanRowCount,S=e.rowCount,g=e.width,m=e.isScrollingOptOut,z=r.scrollDirectionHorizontal,w=r.scrollDirectionVertical,x=r.instanceProps,R=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,A=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,b=this._isScrolling(e,r);if(this._childrenToDisplay=[],d>0&&g>0){var O=x.columnSizeAndPositionManager.getVisibleCellRange({containerSize:g,offset:A}),_=x.rowSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:R}),u=x.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:g,offset:A}),T=x.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:R});this._renderedColumnStartIndex=O.start,this._renderedColumnStopIndex=O.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var C=c({direction:"horizontal",cellCount:a,overscanCellsCount:f,scrollDirection:z,startIndex:typeof O.start=="number"?O.start:0,stopIndex:typeof O.stop=="number"?O.stop:-1}),y=c({direction:"vertical",cellCount:S,overscanCellsCount:h,scrollDirection:w,startIndex:typeof _.start=="number"?_.start:0,stopIndex:typeof _.stop=="number"?_.stop:-1}),M=C.overscanStartIndex,L=C.overscanStopIndex,H=y.overscanStartIndex,D=y.overscanStopIndex;if(s){if(!s.hasFixedHeight()){for(var ee=H;ee<=D;ee++)if(!s.has(ee,0)){M=0,L=a-1;break}}if(!s.hasFixedWidth()){for(var te=M;te<=L;te++)if(!s.has(0,te)){H=0,D=S-1;break}}}this._childrenToDisplay=i({cellCache:this._cellCache,cellRenderer:l,columnSizeAndPositionManager:x.columnSizeAndPositionManager,columnStartIndex:M,columnStopIndex:L,deferredMeasurementCache:s,horizontalOffsetAdjustment:u,isScrolling:b,isScrollingOptOut:m,parent:this,rowSizeAndPositionManager:x.rowSizeAndPositionManager,rowStartIndex:H,rowStopIndex:D,scrollLeft:A,scrollTop:R,styleCache:this._styleCache,verticalOffsetAdjustment:T,visibleColumnIndices:O,visibleRowIndices:_}),this._columnStartIndex=M,this._columnStopIndex=L,this._rowStartIndex=H,this._rowStopIndex=D}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&me(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=ht(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var e=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var r=this,l=e.scrollLeft,i=e.scrollTop,a=e.totalColumnsWidth,s=e.totalRowsHeight;this._onScrollMemoizer({callback:function(f){var c=f.scrollLeft,h=f.scrollTop,S=r.props,g=S.height,m=S.onScroll,z=S.width;m({clientHeight:g,clientWidth:z,scrollHeight:s,scrollLeft:c,scrollTop:h,scrollWidth:a})},indices:{scrollLeft:l,scrollTop:i}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?!!e.isScrolling:!!r.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var r=e.scrollLeft,l=e.scrollTop,i=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:l});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return n._getCalculatedScrollLeft(e,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=n._getScrollLeftForScrollToColumnStateUpdate(e,r);l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return n._getCalculatedScrollTop(e,r)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,r=this._cellCache,l=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var i=this._rowStartIndex;i<=this._rowStopIndex;i++)for(var a=this._columnStartIndex;a<=this._columnStopIndex;a++){var s="".concat(i,"-").concat(a);this._styleCache[s]=e[s],l&&(this._cellCache[s]=r[s])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=n._getScrollTopForScrollToRowStateUpdate(e,r);l&&(l.needToResetStyleCache=!1,this.setState(l))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var l={};e.columnCount===0&&r.scrollLeft!==0||e.rowCount===0&&r.scrollTop!==0?(l.scrollLeft=0,l.scrollTop=0):(e.scrollLeft!==r.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==r.scrollTop&&e.scrollToRow<0)&&Object.assign(l,n._getScrollToPositionStateUpdate({prevState:r,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=r.instanceProps;l.needToResetStyleCache=!1,(e.columnWidth!==i.prevColumnWidth||e.rowHeight!==i.prevRowHeight)&&(l.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:n._getEstimatedColumnSize(e),cellSizeGetter:n._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:n._getEstimatedRowSize(e),cellSizeGetter:n._wrapSizeGetter(e.rowHeight)}),(i.prevColumnCount===0||i.prevRowCount===0)&&(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&e.isScrolling===!1&&i.prevIsScrolling===!0&&Object.assign(l,{isScrolling:!1});var a,s;return pe({cellCount:i.prevColumnCount,cellSize:typeof i.prevColumnWidth=="number"?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:typeof e.columnWidth=="number"?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){a=n._getScrollLeftForScrollToColumnStateUpdate(e,r)}}),pe({cellCount:i.prevRowCount,cellSize:typeof i.prevRowHeight=="number"?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:typeof e.rowHeight=="number"?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){s=n._getScrollTopForScrollToRowStateUpdate(e,r)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=e.isScrolling===!0,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),i.scrollbarSize===void 0?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,l.instanceProps=i,W({},l,{},a,{},s)}},{key:"_getEstimatedColumnSize",value:function(e){return typeof e.columnWidth=="number"?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return typeof e.rowHeight=="number"?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var r=e.prevState,l=e.scrollLeft,i=e.scrollTop,a={scrollPositionChangeReason:oe.REQUESTED};return typeof l=="number"&&l>=0&&(a.scrollDirectionHorizontal=l>r.scrollLeft?F:V,a.scrollLeft=l),typeof i=="number"&&i>=0&&(a.scrollDirectionVertical=i>r.scrollTop?F:V,a.scrollTop=i),typeof l=="number"&&l>=0&&l!==r.scrollLeft||typeof i=="number"&&i>=0&&i!==r.scrollTop?a:{}}},{key:"_wrapSizeGetter",value:function(e){return typeof e=="function"?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,r){var l=e.columnCount,i=e.height,a=e.scrollToAlignment,s=e.scrollToColumn,d=e.width,f=r.scrollLeft,c=r.instanceProps;if(l>0){var h=l-1,S=s<0?h:Math.min(h,s),g=c.rowSizeAndPositionManager.getTotalSize(),m=c.scrollbarSizeMeasured&&g>i?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:d-m,currentOffset:f,targetIndex:S})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,r){var l=r.scrollLeft,i=n._getCalculatedScrollLeft(e,r);return typeof i=="number"&&i>=0&&l!==i?n._getScrollToPositionStateUpdate({prevState:r,scrollLeft:i,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,r){var l=e.height,i=e.rowCount,a=e.scrollToAlignment,s=e.scrollToRow,d=e.width,f=r.scrollTop,c=r.instanceProps;if(i>0){var h=i-1,S=s<0?h:Math.min(h,s),g=c.columnSizeAndPositionManager.getTotalSize(),m=c.scrollbarSizeMeasured&&g>d?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:l-m,currentOffset:f,targetIndex:S})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,r){var l=r.scrollTop,i=n._getCalculatedScrollTop(e,r);return typeof i=="number"&&i>=0&&l!==i?n._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:i}):{}}}]),n}(j.PureComponent),p(_e,"propTypes",null),Ce);p(ae,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:lt,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:st,noContentRenderer:St,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:it,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:pt,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});ct(ae);var gt=1;function vt(o){var n=o.cellCount,t=o.overscanCellsCount,e=o.scrollDirection,r=o.startIndex,l=o.stopIndex;return t=Math.max(1,t),e===gt?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(n-1,l+t)}:{overscanStartIndex:Math.max(0,r-t),overscanStopIndex:Math.min(n-1,l+1)}}var we,Te,Pe=(Te=we=function(o){X(n,o);function n(){var t,e;N(this,n);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return e=K(this,(t=G(n)).call.apply(t,[this].concat(l))),p(v(e),"Grid",void 0),p(v(e),"_cellRenderer",function(a){var s=a.parent,d=a.rowIndex,f=a.style,c=a.isScrolling,h=a.isVisible,S=a.key,g=e.props.rowRenderer,m=Object.getOwnPropertyDescriptor(f,"width");return m&&m.writable&&(f.width="100%"),g({index:d,style:f,isScrolling:c,isVisible:h,key:S,parent:s})}),p(v(e),"_setRef",function(a){e.Grid=a}),p(v(e),"_onScroll",function(a){var s=a.clientHeight,d=a.scrollHeight,f=a.scrollTop,c=e.props.onScroll;c({clientHeight:s,scrollHeight:d,scrollTop:f})}),p(v(e),"_onSectionRendered",function(a){var s=a.rowOverscanStartIndex,d=a.rowOverscanStopIndex,f=a.rowStartIndex,c=a.rowStopIndex,h=e.props.onRowsRendered;h({overscanStartIndex:s,overscanStopIndex:d,startIndex:f,stopIndex:c})}),e}return B(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var r=e.alignment,l=e.index;if(this.Grid){var i=this.Grid.getOffsetForCell({alignment:r,rowIndex:l,columnIndex:0}),a=i.scrollTop;return a}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var r=e.columnIndex,l=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:l,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.columnIndex,l=r===void 0?0:r,i=e.rowIndex,a=i===void 0?0:i;this.Grid&&this.Grid.recomputeGridSize({rowIndex:a,columnIndex:l})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,r=e.className,l=e.noRowsRenderer,i=e.scrollToIndex,a=e.width,s=be("ReactVirtualized__List",r);return j.createElement(ae,Q({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:s,columnWidth:a,columnCount:1,noContentRenderer:l,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:i}))}}]),n}(j.PureComponent),p(we,"propTypes",null),Te);p(Pe,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:vt,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});const mt=({columns:o,tableHasSelect:n,padding:t})=>{const[e,r]=ie([E.sorts,k.sortPressed]);return I.jsxs(_t,{children:[n&&I.jsx(ye,{width:"36px",align:"center",className:"one"}),o.map(l=>{var i,a;return I.jsxs(ye,{padding:t,overflow:l.catalogs?"visible":"hidden",width:l.width,title:l.title,clickable:l.search,align:l.search?"space-between":l.align,showFull:l.showFull,className:(i=(a=l.priority)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"one",onClick:()=>l.sort&&r(l.field),children:[I.jsx("div",{children:l.title}),l.sort&&I.jsx(Le,{className:"icon",style:{color:e!=null&&e.length&&e.find(s=>s.field===l.field)?"var(--reallyBlue)":"var(--text)"}})]},l.field)})]})},_t=Y.div.withConfig({componentId:"sc-1uhqsgw-0"})(["display:flex;align-items:center;width:100%;font-weight:600;font-size:0.9em;z-index:10;.icon{cursor:pointer;}@media (max-width:650px){.four{display:none;}}@media (max-width:550px){font-size:0.8em;.three{display:none;}}@media (max-width:450px){.two{display:none;}}"]),ye=Y.div.withConfig({componentId:"sc-1uhqsgw-1"})(["width:",";min-width:",";padding:",";height:100%;text-align:",";cursor:",";overflow:",";display:flex;align-items:center;justify-content:center;gap:0.5rem;white-space:",";text-overflow:",";position:relative;@media (max-width:700px){padding:",";}"],({width:o})=>o!=null?o:"100%",({width:o})=>o!=null?o:"auto",({padding:o})=>o!=null?o:"20px",({align:o})=>o&&o,({clickable:o})=>o&&"pointer",({overflow:o})=>o!=null?o:"hidden",({showFull:o})=>o?"wrap":"nowrap",({showFull:o})=>o?"clip":"ellipsis",({clickable:o})=>!o&&"10px"),Rt=({columns:o,onRowClick:n})=>{const[t,e,r,l,i,a]=ie([k.selectArticle,E.selectedArticles,E.articles,E.totalCount,k.fetchArticles,k.tableOpened]);j.useEffect(()=>{a()},[]);function s({index:c}){return c<r.length}const d=({index:c,key:h,style:S})=>I.jsx("div",{style:S,children:r[c]?I.jsx(He,{onRowClick:n,padding:"10px",columns:o,el:r[c],index:c,selected:e==null?void 0:e.has(c),select:t,height:"100px"}):I.jsx(Z,{h:"100px",p:"0.5rem 1rem",jc:"flex-start",ai:"center",children:"Загрузка..."})},h),f=j.useRef(null);return j.useEffect(()=>{var c;r.length===0&&((c=f.current)===null||c===void 0||c.scrollToPosition(0))},[r]),I.jsxs(zt,{d:"column",jc:"flex-start",ai:"flex-start",position:"relative",h:"100%",w:"100%",children:[I.jsx(Ct,{}),I.jsx(mt,{columns:o,padding:"10px",tableHasSelect:!0}),l?I.jsx(wt,{children:I.jsx(le,{minimumBatchSize:ke,isRowLoaded:s,loadMoreRows:S=>se(void 0,[S],function*({startIndex:c,stopIndex:h}){i({startIndex:c,stopIndex:h})}),rowCount:l,children:({onRowsRendered:c,registerChild:h})=>I.jsx(xe,{children:({height:S,width:g})=>I.jsx(Pe,{ref:m=>{f.current=m,h(m)},onRowsRendered:c,height:S,rowCount:l,rowHeight:100,rowRenderer:d,width:g})})})}):I.jsx(Ee,{text:"Нет данных"})]})},Ct=()=>{const[o,n,t,e,r,l,i,a,s,d,f,c,h,S,g]=ie([E.articleTitle,E.publicationYear,E.publisher,E.quotesCount,E.isScopusCheck,E.isWoSCheck,k.setArticleTitle,k.setPublicationYear,k.setPublisher,k.setQuotesCount,k.setIsScopusCheck,k.setIsWoSCheck,E.filtersApplied,k.filtersApplied,k.filtersReset]);return I.jsx(Z,{ai:"center",jc:"space-between",gap:"1rem",p:"0.5rem 10px",children:I.jsxs(je,{title:"Поиск",height:h?120:80,noIcon:!0,children:[I.jsxs(Z,{ai:"flex-end",jc:"space-between",gap:"1rem",p:"0 0.25rem",children:[I.jsx($,{value:o,setValue:i,placeholder:"Название",title:"Название"}),I.jsx($,{value:n,setValue:a,placeholder:"Год",title:"Год"}),I.jsx($,{value:t,setValue:s,placeholder:"Издательство",title:"Издательство"}),I.jsx($,{value:e,setValue:d,placeholder:"Количество цитат",title:"Количество цитат"}),I.jsx(ce,{checked:r,setChecked:f,text:"Scopus"}),I.jsx(ce,{checked:l,setChecked:c,text:"WoS"}),I.jsx(Fe,{text:"Найти",onClick:()=>S()})]}),h&&I.jsx(We,{align:"right",padding:"0 0.25rem",onClick:()=>g(),children:"Сбросить фильтры"})]})})},zt=Y(Z).withConfig({componentId:"sc-aqa1d9-0"})(["width:100%;box-shadow:var(--block-shadow);border-radius:var(--brLight);color:var(--text);background:var(--block-content);overflow:hidden;"]),wt=Y.div.withConfig({componentId:"sc-aqa1d9-1"})(["height:100%;width:100%;"]);export{Rt as S};
