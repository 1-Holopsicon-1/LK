import{j as e,r as d}from"./vendor-1d6bafc4.js";import{aL as p,ab as g,T as h,aF as j,aM as f,a1 as m,Q as P,y as b,R as k,Z as O,aN as L,aO as R}from"./index-0f16aa88.js";const x={Основное:0,"Кадровая среда":1,"Учебная деятельность":2,Коммуникация:3,"Находится в разработке":4},E=r=>r?Object.values(r).reduce((a,t)=>{const n=t!=null&&t.group?p[t.group]:p.OTHER;return a[n]||(a[n]={}),a[n][t.id]=t,a},{}):{},S=({title:r,links:o,doNotShow:a,restricted:t,orientation:n,background:c,shadow:u=!0,mode:l})=>e.jsxs(g,{d:"column",children:[e.jsx(h,{size:4,align:"left",bottomGap:!0,children:r}),e.jsxs(g,{gap:"8px",$wrap:!0,children:[Object.values(o).map(s=>{if((s==null?void 0:s.show)!==!1&&a!==(s==null?void 0:s.id))return e.jsx(j,{background:c,orientation:n,restricted:t,mode:l,shadow:u,...s,color:s.color.length?s.color:"blue"},s.id)}),a!=="all"&&e.jsx(f,{})]})]}),F=()=>{const{visibleRoutes:r,allRoutes:o}=m.useMenu(),[a,t]=d.useState(null),[n,c]=d.useState(""),u=d.useMemo(()=>E(r),[r]),{data:{user:l}}=P.useUser();return r?e.jsx(b,{padding:"10px",children:e.jsxs(k,{children:[e.jsx(O,{placeholder:"Поиск разделов",whereToSearch:o??{},searchEngine:L,setResult:t,setExternalValue:c,validationCheck:!0,loadingOnType:!0}),!a&&e.jsx(g,{d:"column",gap:"24px",children:n.length===0&&Object.keys(u).sort((s,i)=>x[s]-x[i]).map(s=>{const i=u[s];return e.jsx(S,{title:s==="Кадровая среда"&&(l==null?void 0:l.user_status)==="stud"?"Договоры и оплаты":s,doNotShow:"all",align:"left",links:i},s)})}),e.jsx(R,{pages:a})]})}):null};export{F as default};
