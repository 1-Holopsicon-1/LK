var b=Object.defineProperty,h=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var n=(e,t,i)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,c=(e,t)=>{for(var i in t||(t={}))g.call(t,i)&&n(e,i,t[i]);if(o)for(var i of o(t))F.call(t,i)&&n(e,i,t[i]);return e},p=(e,t)=>h(e,x(t));import{r as l,j as s}from"./vendor-00bea631.js";import{s as N,B as j,F as v,I as S,S as q,aj as y,j as _,c as A}from"./index-ed5dff92.js";const E=[{id:0,title:"Сироты или оставшиеся без попечения родителей"},{id:1,title:"Инвалиды"},{id:2,title:"Члены многодетной семьи"},{id:3,title:"Имеющие на иждивении ребёнка"},{id:4,title:"Участники военных действий"},{id:5,title:"Родители – инвалиды, пенсионеры"},{id:6,title:"Члены неполной семьи"},{id:7,title:"Хроническое заболевание"}],k=[{id:0,title:"Выплату прошу производить наличным путем"},{id:1,title:"Выплату производить безналичным путем на расчетный счет открытый в ПАО Сбербанк:"}],B=e=>({title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)",data:[{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",editable:!0,required:!0,value:e.phone},{title:"Email",type:"email",fieldName:"email",value:e.email,editable:!0,required:!0},{title:"Основание для получения дотации",fieldName:"justification_grant",value:"",type:"select",width:"100%",editable:!0,required:!0,items:E},{title:"Прошу назначить меня на получение материальной поддержки остронуждающимся студентам в связи с тем, что:",fieldName:"reason",value:"",editable:!0,required:!0,placeholder:"Укажите причину"},{title:"Номер членского профсоюзного билета",fieldName:"union_card_number",value:"",editable:!0,required:!0},{title:"Адрес по месту регистрации:",fieldName:"registration_address",value:"",editable:!0,required:!0,placeholder:"(индекс, область, город, улица, дом, корпус, квартира)"},{title:"Гражданин иностранного государства",fieldName:"is_foreigner",type:"checkbox",value:"",editable:!0},{title:"Способ выплаты",fieldName:"payment_method",value:"",type:"select",width:"100%",editable:!0,required:!0,items:k},{title:"Расчетный счет, 20 цифр",fieldName:"payment_account",value:"",width:"100%",editable:!0,placeholder:""}],documents:{files:[],fieldName:"docs",maxFiles:4,required:!0},alert:"Загрузите документы, подтверждающие право на получение дотации"}),O=()=>{var u;const[e,t]=l.useState(null),[i,d]=l.useState(!1),[m,f]=l.useState(!1),a=i!=null?i:!1,{data:{dataUserApplication:r}}=N.useApplications();return l.useEffect(()=>{r&&t(B(r))},[r]),s.jsx(j,{isDone:a,children:!!e&&!!t&&s.jsxs(v,{children:[s.jsx(S,p(c({},e),{collapsed:a,setData:t})),s.jsx(q,{text:a?"Отправлено":"Отправить",action:()=>y(_.PR_DONATE,[e],f,d),isLoading:m,completed:i,setCompleted:d,repeatable:!1,buttonSuccessText:"Отправлено",isDone:a,isActive:A(e)&&!!((u=e==null?void 0:e.documents)!=null&&u.files.length),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{O as default};
