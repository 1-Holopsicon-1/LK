var f=Object.defineProperty,b=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var p=(a,e,t)=>e in a?f(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,n=(a,e)=>{for(var t in e||(e={}))S.call(e,t)&&p(a,t,e[t]);if(d)for(var t of d(e))y.call(e,t)&&p(a,t,e[t]);return a},m=(a,e)=>b(a,x(e));import{r,j as o}from"./vendor-3c67dcca.js";import{ad as h,aa as v,F,I as A,S as g,ab as N,cI as _,ac as j}from"./index-8d1215d3.js";const I=[{id:0,title:"Сведения о поступлении в образовательную организацию"},{id:1,title:"Сведения об отчислении из образовательной организации"},{id:2,title:"Сведения об уходе в академический отпуск"},{id:3,title:"Сведения о выходе из академического отпуска"}],E=a=>{const{surname:e,name:t,patronymic:l,email:u,phone:c,divisions_crs:s}=a;return{title:"Заверенные копии документов по воинскому учету из личного дела",data:[{title:"ФИО",fieldName:"fio",value:e+" "+t+" "+l,editable:!1},{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",value:c,required:!0},{title:"Email",type:"email",fieldName:"email",value:u,editable:!0,required:!0},{title:"Выберите подразделение",value:null,type:"select",fieldName:"stuctural_subdivision",items:s.map(i=>({id:+i.id,title:i.name+" "+i.contact})),width:"100%",editable:!0,required:!0,isSpecificSelect:!0},{title:"Запрашиваемые документы",value:null,type:"select",fieldName:"doc_type",items:I,width:"100%",editable:!0,required:!0},{title:"Документы предоставляются в военные комиссариаты Российской Федерации, суды",value:!1,type:"checkbox",fieldName:"to_commissariats_or_courts",width:"100%",editable:!0},{title:"Комментарий",type:"textarea",fieldName:"comment",value:"",editable:!0}]}},M=()=>{const[a,e]=r.useState(null),[t,l]=r.useState(!1),[u,c]=r.useState(!1),s=t!=null?t:!1,{data:{dataUserApplication:i}}=h.useApplications();return r.useEffect(()=>{i&&e(E(i))},[i]),o.jsx(v,{isDone:s,children:!!a&&!!e&&o.jsxs(F,{noHeader:!0,children:[o.jsx(A,m(n({},a),{collapsed:s,setData:e})),o.jsx(g,{text:s?"Отправлено":"Отправить",action:()=>N(_.MILITARY_COPIES,[a],c,l),isLoading:u,completed:t,setCompleted:l,repeatable:!1,buttonSuccessText:"Отправлено",isDone:s,isActive:j(a),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{M as default};
