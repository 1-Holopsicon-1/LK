import{r as s,j as i}from"./vendor-8312535b.js";import{s as f,de as F,B as g,F as x,I as c,S as j,aj as S,j as h,c as d}from"./index-3ed27df5.js";const b=e=>{const{phone:o,email:t}=e;return{title:"Контактные данные",data:[{title:"ФИО",value:`${e.surname} ${e.name} ${e.patronymic}`,fieldName:"fio",width:"100%",editable:!1},{title:"Телефон",value:o,fieldName:"phone",type:"tel",width:"100%",editable:!0,required:!0,mask:!0},{title:"Email",value:t,fieldName:"email",type:"email",width:"100%",editable:!0,required:!0}]}},N=()=>{const[e,o]=s.useState(null),[t,n]=s.useState(null),[r,u]=s.useState(!1),[m,p]=s.useState(!1),a=r!=null?r:!1,{data:{dataUserApplication:l}}=f.useApplications();return s.useEffect(()=>{l&&(o(b(l)),n(F({config:{title:"Предоставление справок о группе здоровья",issueDateFieldName:"date_of_issue",organizationFieldName:"organization",docsFieldName:"docs"}})))},[l]),i.jsx(g,{isDone:a,children:!!e&&!!t&&i.jsxs(x,{noHeader:!0,children:[i.jsx(c,{...e,collapsed:a,setData:o}),i.jsx(c,{...t,collapsed:a,setData:n}),i.jsx(j,{text:a?"Отправлено":"Отправить",action:()=>S(h.MEDICAL_CERT_086,[e,t],p,u,!0),isLoading:m,completed:r,setCompleted:u,repeatable:!1,buttonSuccessText:"Отправлено",isDone:a,isActive:d(e)&&d(t),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{N as default};
