import{r as l,j as r}from"./vendor-0c76c893.js";import{X as n,Q as m,R as c,F as f,I as b,S as x,V as v,k as y,q as k}from"./index-1840b39c.js";const F=e=>{const{surname:t,name:a,patronymic:s}=e;return{title:"Заявление на перенос отпуска",data:[{title:"ФИО",value:t+" "+a+" "+s,fieldName:"fio",mask:!0,editable:!0,required:!0},{title:"Должность",value:null,fieldName:"post",editable:!0,mask:!0,required:!0},{title:"Причина переноса",value:null,fieldName:"reason",editable:!0,mask:!0,required:!0},{title:"Период отпуска (до переноса):",type:"date-interval",value:["",""],fieldName:"before_postpone",editable:!0,mask:!0,required:!0,minValueInput:n(14)},{title:"Период отпуска (после переноса):",type:"date-interval",value:["",""],fieldName:"after_postpone",editable:!0,mask:!0,required:!0,minValueInput:n(14)},{title:"Место работы",type:"select",fieldName:"employment",value:null,editable:!0,required:!0,width:"100%",items:[{id:0,title:"Основное"},{id:1,title:"По совместительству"}]},{title:"Комментарий к заявке",type:"textarea",fieldName:"commentary",value:"",editable:!0}]}},A=()=>{var u;const[e,t]=l.useState(null),{data:{dataUserApplication:a}}=m.useApplications(),[s,o]=l.useState(!1),[p,d]=l.useState(!1),i=s??!1;return l.useEffect(()=>{a&&t(F(a))},[a]),r.jsx(c,{isDone:i,children:!!e&&!!t&&r.jsxs(f,{children:[r.jsx(b,{...e,collapsed:i,setData:t}),r.jsx(x,{text:"Отправить",action:()=>v(y.HOLIDAY_POSTPONED,[e],d,o),isLoading:p,completed:s,setCompleted:o,repeatable:!1,buttonSuccessText:"Отправлено",isDone:i,isActive:k(e)&&(((u=e.optionalCheckbox)==null?void 0:u.value)??!0),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{A as default};
