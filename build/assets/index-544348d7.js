import{r as b,s as g,j as e,R as E,L as y,at as C,b$ as B,aO as M,T as U}from"./vendor-3b6459b9.js";import{L as D,K as F,U as w,a8 as I,X as S,b8 as T,bI as N,bJ as H,bK as _,bL as f,bM as $,bc as K,bN as z,bO as G,bk as J,Y as V,bP as Y,bQ as Q,t as j,O as x,bR as v,bS as X,bT as q,V as Z,ac as ee,J as te,f as se,aA as re,a0 as ae,W as ne,bU as ie}from"./index-b517f30d.js";const oe=t=>t==="Male"?"Мужской":"Женский",k=b.memo(ce),le=g.div`
    width: 100%;
`;function ce({user:t}){const{status:s,sex:a,birthday:l,code:n,faculty:h,course:u,group:c,specialty:p,specialization:m,degreeLength:L,educationForm:O,finance:W,degreeLevel:A,enterYear:P,subdivisions:i,authorIDs:o}=t,R=[{key:"Статус",value:s},{key:"Пол",value:oe(a)},{key:"Дата рождения",value:l},{key:"Код студента",value:n},{key:"Факультет",value:h},{key:"Курс",value:u},{key:"Группа",value:c},{key:"Направление",value:p},{key:"Специализация",value:m},{key:"Срок обучения",value:L},{key:"Форма обучения",value:O},{key:"Вид финансирования",value:W},{key:"Сведения о трудоустройстве",value:!!(i!=null&&i.length)&&(i==null?void 0:i.map((r,d)=>e.jsxs(E.Fragment,{children:[e.jsxs("div",{style:{width:"100%",marginTop:"5px",lineHeight:"1.8rem"},children:[r.subdivision&&e.jsxs("div",{children:["Подразделение: ",r.subdivision]}),r.post&&e.jsxs("div",{children:["Должность: ",r.post]}),r.wage&&r.jobType&&e.jsxs("div",{children:["Ставка: ",r.wage,"; ",r.jobType]})]}),d<i.length-1&&e.jsx(D,{margin:"16px 0",width:"100%"})]},d)))},{key:"Уровень образования",value:A},{key:"Год набора",value:P},{key:"Авторские идентификаторы",value:!!o&&e.jsxs("div",{style:{width:"100%",marginTop:"5px",lineHeight:"1.8rem"},children:[o.wosReasearcher&&e.jsxs("div",{children:["Web of Science Researcher ID: ",o.wosReasearcher]}),o.scopus&&e.jsxs("div",{children:["Scopus Author ID: ",o.scopus]}),o.eLibrary&&e.jsxs("div",{children:["eLibrary Author ID: ",o.eLibrary]})]})}];return e.jsx(le,{children:R.map(({key:r,value:d})=>!!d&&e.jsx(F,{keyStr:r,value:d,direction:typeof d=="object"?"vertical":"horizontal"},r))})}const de=g.div`
    display: flex;
    flex-direction: column;
    gap: 16px;
`,xe=g.div``,he=({orders:t})=>e.jsxs(de,{children:[!(t!=null&&t.length)&&e.jsx(w,{children:"Нет приказов"}),t==null?void 0:t.map(s=>e.jsx(xe,{children:s},s))]}),ue=b.memo(he),pe=({pages:t,currentPage:s})=>{const{data:{user:a}}=I.useUser();return a?e.jsx(S,{children:e.jsx(T,{height:"100%",noAppearanceInMobile:!0,maxWidth:"750px",children:t[s]})}):null},je=({pages:t,user:s,currentPage:a,setCurrentPage:l})=>{const{fullName:n,avatar:h,user_status:u,degreeLevel:c}=s,p=u==="stud"?"Студент":"Сотрудник",m=()=>{Z.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:ee.logout})};return e.jsxs(N,{children:[e.jsx(H,{fullName:n,width:"calc(100% + 32px)",height:"210px",baseScale:1.5}),e.jsxs(_,{children:[e.jsxs(f,{maxWidth:"530px",height:"180px",orientation:"vertical",children:[e.jsx($,{children:e.jsx(K,{name:n,avatar:h,width:"110px",height:"110px",marginRight:"0",border:!0,avatarModal:!0})}),e.jsxs(z,{children:[e.jsxs(G,{children:[e.jsx("b",{children:n}),e.jsx(w,{maxWidth:"100%",width:"100%",align:"center",fontSize:"0.9rem",children:e.jsx(J,{words:[p,c??""]})})]}),e.jsx(V,{sliderWidth:"100%",pages:t,currentPage:a,setCurrentPage:l,appearance:!1})]})]}),e.jsx(f,{maxWidth:"250px",height:"fit-content",children:e.jsxs(Y,{children:[e.jsx(y,{to:Q,children:e.jsx(j,{background:x.white.transparent2,icon:e.jsx(v,{width:"30px",background:x.grey.main,children:e.jsx(C,{})}),width:"100%",height:"73px",text:"Настройки",direction:"vertical",shrinkTextInMobile:!0})}),e.jsx(X,{type:"v-button"}),e.jsx(y,{to:q,children:e.jsx(j,{background:x.white.transparent2,icon:e.jsx(v,{width:"30px",background:x.purple.main,children:e.jsx(B,{})}),text:"Изменить",width:"100%",height:"73px",direction:"vertical",shrinkTextInMobile:!0})}),e.jsx(j,{background:x.white.transparent2,icon:e.jsx(v,{width:"30px",background:x.red.main,children:e.jsx(M,{})}),text:"Выйти",height:"73px",onClick:m,width:"calc(50% - 5px)",direction:"vertical",shrinkTextInMobile:!0})]})})]})]})},ge=()=>{const t=U();return e.jsxs(te,{d:"column",gap:"20px",children:[e.jsx("p",{children:"Отображение контактных данных скоро станет доступным. Для того, чтобы в дальнейшем увидеть эти данные, необходимо их актуализировать."}),e.jsx(j,{background:"var(--reallyBlue)",textColor:"#fff",text:"Перейти к заполнению контактных данных",minWidth:"35px",height:"36px",onClick:()=>{t.replace(se)}})]})},me=g.div`
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    align-items: center;
`,ye=()=>{const{data:{user:t},error:s}=I.useUser(),{allRoutes:a}=re.useMenu(),[l,n]=b.useState(0);if(!t||!a)return null;if(s)return e.jsx(ae,{text:s});const h=[{title:"Учетная карточка",content:e.jsx(k,{user:t})},{title:"Приказы",content:e.jsx(ue,{orders:t.orders})}],u=[{title:"Учетная карточка",content:e.jsx(k,{user:t})},{title:"Контактные данные",content:e.jsx(ge,{})}],c=t.user_status==="stud"?h:u;return e.jsx(ne,{load:function(){},loading:!1,data:[],error:null,children:e.jsxs(me,{children:[e.jsx(je,{user:t,currentPage:l,setCurrentPage:n,pages:c}),e.jsx(S,{children:e.jsx(T,{height:"100%",maxWidth:"750px",children:e.jsx(ie,{})})}),e.jsx(pe,{currentPage:l,pages:c.map(p=>p.content)})]})})};export{ye as default};
