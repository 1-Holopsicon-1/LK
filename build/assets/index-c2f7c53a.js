import{u as S,y,x as D,bV as b,r as a,j as e,F as w}from"./vendor-4af360a6.js";import{E as z,G as E,a2 as M,ct as c,ar as R,F as q,M as A,I as d,C as $,S as I,aw as L,d as B,N as n}from"./index-9e567fbd.js";const T=()=>z.get(`?getRequestMedicalCertificate&token=${E()}`),C=S(),N=y(async()=>(await T()).data);D({clock:C,target:N});b(N,null);const W={load:C},G=[{id:0,title:"г. Москва, ул. Малая Семеновская, д. 12"},{id:1,title:"г. Москва, ул. 7-я Парковая, д. 9/26"},{id:2,title:"г. Москва, ул. 1-я Дубровская, д. 16А, стр. 2"},{id:3,title:"г. Москва, ул. 800-летия Москвы, д. 28, к."},{id:4,title:"г. Москва, ул. Михалковская, д. 7, корп. 3"},{id:5,title:"г. Москва, ул. Бориса Галушкина, д. 9"},{id:6,title:"г. Москва, ул. Павла Корчагина, д. 20А, к. 3"},{id:7,title:"г. Москва, Рижский проезд, д. 15, к. 2"},{id:8,title:"г. Москва, Рижский проезд, д. 15, к. 1"},{id:9,title:"г. Москва, 1-й Балтийский переулок, д. 6/21, к. 3"}],V=t=>{const{phone:s,email:i}=t;return{title:"Предоставление медицинских справок",data:[{title:"ФИО",value:`${t.surname} ${t.name} ${t.patronymic}`,fieldName:"fio",width:"100%",editable:!1},{title:"Телефон",value:s,fieldName:"phone",type:"tel",width:"100%",editable:!0,required:!0,mask:!0},{title:"Email",value:i,fieldName:"email",type:"email",width:"100%",editable:!0,required:!0},{title:"Адрес общежития",value:null,fieldName:"address",type:"select",items:G,width:"100%",editable:!0,required:!0},{title:"Комната",fieldName:"room",value:"",editable:!0,required:!0}]}},J=()=>{const[t,s]=a.useState(null),[i,u]=a.useState(null),[o,m]=a.useState(null),[l,f]=a.useState(null),[F,v]=a.useState(!1),[r,p]=a.useState(null),[h,x]=a.useState(!1),[j,k]=a.useState(!1),_=h??!1,{data:{dataUserApplication:g}}=M.useApplications();return a.useEffect(()=>{g&&s(V(g))},[g]),a.useEffect(()=>{W.load(),u(c({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}})),m(c({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}})),f(c({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}})),p(c({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}}))},[]),e.jsx(R,{isDone:!1,children:e.jsxs(q,{children:[e.jsx(A,{type:"info",title:"Информация",icon:e.jsx(w,{}),children:"Данный раздел предназначен для загрузки медицинских документов, необходимых для проживания в общежитии."}),t&&s&&e.jsx(d,{...t,setData:s}),i&&u&&e.jsx(d,{...i,setData:u}),o&&m&&e.jsx(d,{...o,setData:m}),l&&f&&e.jsx(d,{...l,setData:f}),r&&p&&e.jsx(d,{...r,setData:p}),e.jsx($,{checked:F,setChecked:v,text:"Я подтверждаю подлинность предоставленных документов"}),e.jsx(I,{text:_?"Отправлено":"Отправить",action:()=>{L(B.MEDICAL_CERT,[t,i,o,l,r],k,x)},isLoading:j,completed:h,setCompleted:x,repeatable:!1,buttonSuccessText:"Отправлено",isDone:_,isActive:!!F&&!!t&&!!o&&!!l&&!!r&&!!i&&n(t)&&n(o)&&n(l)&&n(r)&&n(i),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{J as default};
