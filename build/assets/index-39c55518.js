import{r as e,j as p}from"./vendor-08ab745b.js";import{f as x,ag as C,ah as j,ai as A,B as E,F as k,I as y,S as B,aj as _,A as D,c as P}from"./index-0892b83f.js";const F=(t=[])=>t.map(s=>({id:s.guid,title:s.name})),O=(t,s,n,m,r,h,l,S,u,f,d,g,i)=>{const o=F(t.head_div);return{title:"Внесение изменений данных подразделения в телефонном справочнике",data:[{fieldName:"guid",title:"Наименование подразделения",value:x(o,s)||F(t.head_div)[0],onChange:a=>n(a.title),editable:o.length>1,width:"100",required:!0,type:"select",items:o,isSpecificSelect:!0},{fieldName:"email",value:m,onChange:r,title:"Общая корпоративная электронная почта",type:"email"},{fieldName:"phone_direct",title:"Общий прямой телефон",type:"tel",value:h,onChange:l,mask:!0},{fieldName:"phone_inner",title:"Общий внутренний телефон",type:"innerPhone",value:S,onChange:u,mask:!0},{fieldName:"address",title:"Адрес рабочего места",type:"select",value:x(C,f),items:C,onChange:a=>{d(a.title),i(j(a.title))},width:"100",editable:!0,required:!0},{fieldName:"room",title:"Номер кабинета",type:"cabinet",mask:!0,value:g,onChange:i,editable:!0,required:!0}]}},M=()=>{const[t,s]=e.useState(null),[n,m]=e.useState(""),[r,h]=e.useState(""),[l,S]=e.useState(""),[u,f]=e.useState(""),[d,g]=e.useState(""),[i,o]=e.useState(""),[a,v]=e.useState(!1),[I,N]=e.useState(!1),c=a??!1,{data:{user:b}}=A.useUser();return e.useEffect(()=>{b&&s(O(b,n,m,r,h,l,S,u,f,d,g,i,o))},[b?.guid,n,r,l,u,d,i]),p.jsx(E,{isDone:c,children:!!t&&!!s&&p.jsxs(k,{noHeader:!0,children:[p.jsx(y,{...t,collapsed:c,setData:s}),p.jsx(B,{text:c?"Отправлено":"Отправить",action:()=>_(D.EDIT_PHONEBOOK_SUBDIVISION,[t],N,v,!0),isLoading:I,completed:a,setCompleted:v,repeatable:!1,buttonSuccessText:"Отправлено",isDone:c,isActive:P(t),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{M as default};
