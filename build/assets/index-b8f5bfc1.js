import{j as e,r as d}from"./vendor-4af360a6.js";import{aO as p,p as g,T as h,aI as j,aP as f,ai as m,U as P,r as b,t as k,af as O,aQ as R,aR as E}from"./index-2ef5f28f.js";const x={Основное:0,"Кадровая среда":1,"Учебная деятельность":2,Коммуникация:3,"Находится в разработке":4},L=r=>r?Object.values(r).reduce((a,t)=>{const n=t!=null&&t.group?p[t.group]:p.OTHER;return a[n]||(a[n]={}),a[n][t.id]=t,a},{}):{},S=({title:r,links:o,doNotShow:a,restricted:t,orientation:n,background:c,shadow:u=!0,mode:l})=>e.jsxs(g,{d:"column",children:[e.jsx(h,{size:4,align:"left",bottomGap:!0,children:r}),e.jsxs(g,{gap:"8px",$wrap:!0,children:[Object.values(o).map(s=>{if((s==null?void 0:s.show)!==!1&&a!==(s==null?void 0:s.id))return e.jsx(j,{background:c,orientation:n,restricted:t,mode:l,shadow:u,...s,color:s.color.length?s.color:"blue"},s.id)}),a!=="all"&&e.jsx(f,{})]})]}),w=()=>{const{visibleRoutes:r,allRoutes:o}=m.useMenu(),[a,t]=d.useState(null),[n,c]=d.useState(""),u=d.useMemo(()=>L(r),[r]),{data:{user:l}}=P.useUser();return r?e.jsx(b,{padding:"10px",children:e.jsxs(k,{children:[e.jsx(O,{placeholder:"Поиск разделов",whereToSearch:o??{},searchEngine:R,setResult:t,setExternalValue:c,validationCheck:!0,loadingOnType:!0}),!a&&e.jsx(g,{d:"column",gap:"24px",children:n.length===0&&Object.keys(u).sort((s,i)=>x[s]-x[i]).map(s=>{const i=u[s];return e.jsx(S,{title:s==="Кадровая среда"&&(l==null?void 0:l.user_status)==="stud"?"Договоры и оплаты":s,doNotShow:"all",align:"left",links:i},s)})}),e.jsx(E,{pages:a})]})}):null};export{w as default};
