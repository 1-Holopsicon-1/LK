import{s as m,r as P,j as e,R as B,aa as k,bq as N,ck as H,br as q,a5 as O,cm as U,cT as I,cl as $}from"./vendor-08ab745b.js";import{H as _,K as z,X as W,ai as A,_ as L,bu as R,b_ as G,b$ as K,c0 as Y,c1 as w,c2 as J,c3 as Q,c4 as V,as as X,bC as Z,a0 as ee,c5 as se,c6 as te,q as y,L as h,c7 as b,c8 as ie,c9 as ne,Y as re,ca as ae,G as T,M as oe,h as S,T as C,cb as ce,cc as le,cd as de,ce as xe,cf as he,aJ as ue,a2 as pe,W as ge,cg as je}from"./index-0892b83f.js";const me=s=>s==="Male"?"Мужской":"Женский",E=P.memo(ve),fe=m.div.withConfig({componentId:"sc-p4s4cd-0"})(["width:100%;"]);function ve({user:s}){const{status:t,sex:i,birthday:a,code:o,faculty:u,course:p,group:g,specialty:r,specialization:d,degreeLength:j,educationForm:f,finance:c,degreeLevel:M,enterYear:D,subdivisions:v,authorIDs:l}=s,F=[{key:"Статус",value:t},{key:"Пол",value:me(i)},{key:"Дата рождения",value:a},{key:"Код студента",value:o},{key:"Факультет",value:u},{key:"Курс",value:p},{key:"Группа",value:g},{key:"Направление",value:r},{key:"Специализация",value:d},{key:"Срок обучения",value:j},{key:"Форма обучения",value:f},{key:"Вид финансирования",value:c},{key:"Сведения о трудоустройстве",value:!!v?.length&&v?.map((n,x)=>e.jsxs(B.Fragment,{children:[e.jsxs("div",{style:{width:"100%",marginTop:"5px",lineHeight:"1.8rem"},children:[n.subdivision&&e.jsxs("div",{children:["Подразделение: ",n.subdivision]}),n.post&&e.jsxs("div",{children:["Должность: ",n.post]}),n.wage&&n.jobType&&e.jsxs("div",{children:["Ставка: ",n.wage,"; ",n.jobType]})]}),x<v.length-1&&e.jsx(_,{margin:"16px 0",width:"100%"})]},x))},{key:"Уровень образования",value:M},{key:"Год набора",value:D},{key:"Авторские идентификаторы",value:!!l&&e.jsxs("div",{style:{width:"100%",marginTop:"5px",lineHeight:"1.8rem"},children:[l.wosReasearcher&&e.jsxs("div",{children:["Web of Science Researcher ID: ",l.wosReasearcher]}),l.scopus&&e.jsxs("div",{children:["Scopus Author ID: ",l.scopus]}),l.eLibrary&&e.jsxs("div",{children:["eLibrary Author ID: ",l.eLibrary]})]})}];return e.jsx(fe,{children:F.map(({key:n,value:x})=>!!x&&e.jsx(z,{keyStr:n,value:x,direction:typeof x=="object"?"vertical":"horizontal"},n))})}const ye=m.div.withConfig({componentId:"sc-guqxj3-0"})(["display:flex;flex-direction:column;gap:16px;"]),be=m.div.withConfig({componentId:"sc-guqxj3-1"})([""]),ke=({orders:s})=>e.jsxs(ye,{children:[!s?.length&&e.jsx(W,{children:"Нет приказов"}),s?.map(t=>e.jsx(be,{children:t},t))]}),Ie=P.memo(ke),we=({pages:s,currentPage:t})=>{const{data:{user:i}}=A.useUser();return i?e.jsx(L,{padding:"0 0 10px 0",children:e.jsx(R,{height:"100%",noAppearanceInMobile:!0,maxWidth:"750px",children:s[t]})}):null},Te=({pages:s,user:t,currentPage:i,setCurrentPage:a})=>{const{fullName:o,avatar:u,user_status:p,degreeLevel:g}=t,r=p==="stud"?"Студент":"Сотрудник",d=()=>{re.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:ae.logout})};return e.jsxs(G,{children:[e.jsx(K,{fullName:o,width:"calc(100% + 32px)",height:"210px",baseScale:1.5}),e.jsxs(Y,{children:[e.jsxs(w,{maxWidth:"530px",height:"180px",orientation:"vertical",children:[e.jsx(J,{children:e.jsx(Q,{name:o,avatar:u,width:"110px",height:"110px",marginRight:"0",border:!0,avatarModal:!0})}),e.jsxs(V,{children:[e.jsxs(X,{children:[e.jsx("b",{children:o}),e.jsx(W,{maxWidth:"100%",width:"100%",align:"center",fontSize:"0.9rem",children:e.jsx(Z,{words:[r,g??""]})})]}),e.jsx(ee,{sliderWidth:"100%",pages:s,currentPage:i,setCurrentPage:a,appearance:!1})]})]}),e.jsx(w,{maxWidth:"250px",height:"fit-content",children:e.jsxs(se,{children:[e.jsx(k,{to:te,children:e.jsx(y,{background:h.white.transparent2,icon:e.jsx(b,{width:"30px",background:h.grey.main,children:e.jsx(N,{})}),width:"100%",height:"73px",text:"Настройки",direction:"vertical",shrinkTextInMobile:!0})}),e.jsx(ie,{type:"v-button"}),e.jsx(k,{to:ne,children:e.jsx(y,{background:h.white.transparent2,icon:e.jsx(b,{width:"30px",background:h.purple.main,children:e.jsx(H,{})}),text:"Изменить",width:"100%",height:"73px",direction:"vertical",shrinkTextInMobile:!0})}),e.jsx(y,{background:h.white.transparent2,icon:e.jsx(b,{width:"30px",background:h.red.main,children:e.jsx(q,{})}),text:"Выйти",height:"73px",onClick:d,width:"calc(50% - 5px)",direction:"vertical",shrinkTextInMobile:!0})]})})]})]})},Se=({user:s})=>{const t=O();return e.jsxs(T,{d:"column",gap:"1rem",children:[e.jsx(oe,{type:"info",children:"Корпоративную электронную почту и внутренний телефон можно изменить, отправив запрос в техническую поддержку."}),s.subdivisions?.map((i,a)=>e.jsxs(T,{d:"column",gap:"8px",ai:"flex-start",children:[e.jsx(S,{align:"left",size:3,children:i.subdivision}),e.jsx(S,{align:"left",size:4,children:i.post}),e.jsx(C,{title:"Корпоративная электронная почта",icon:e.jsx(U,{}),description:s?.email_staff,rightIcon:e.jsx(I,{}),onClick:()=>t.push(ce)}),e.jsx(C,{title:"Внутренний телефон",icon:e.jsx($,{}),description:i.phone_inner,rightIcon:e.jsx(I,{}),onClick:()=>t.push(le)}),e.jsx(de,{}),e.jsx(xe,{subDivisionGuidStaff:i.guid_staff}),a<s.subdivisions.length-1&&e.jsx(_,{margin:"16px 0",width:"100%"})]},a))]})},Ce=m.div.withConfig({componentId:"sc-1aqajbb-0"})(["display:flex;flex-direction:column;gap:12px;width:100%;align-items:center;"]),Oe=()=>{const{data:{user:s},error:t}=A.useUser(),i=O(),o=he().get("page"),{allRoutes:u}=ue.useMenu();if(!s||!u)return null;if(t)return e.jsx(pe,{text:t});const p=[{title:"Учетная карточка",content:e.jsx(E,{user:s}),id:"userCard"},{title:"Приказы",content:e.jsx(Ie,{orders:s.orders}),id:"orders"}],g=[{title:"Учетная карточка",content:e.jsx(E,{user:s}),id:"userCard"},{title:"Контактные данные",content:e.jsx(Se,{user:s}),id:"contactDetails"}],r=s.user_status==="stud"?p:g,d=r.findIndex(c=>c.id===o)||0,j=d===-1?0:d,f=c=>{i.push({search:`?page=${r[c].id}`})};return e.jsx(ge,{load:function(){},loading:!1,data:[],error:null,children:e.jsxs(Ce,{children:[e.jsx(Te,{user:s,currentPage:j,setCurrentPage:f,pages:r}),e.jsx(L,{children:e.jsx(R,{height:"100%",maxWidth:"750px",children:e.jsx(je,{})})}),e.jsx(we,{currentPage:j,pages:r.map(c=>c.content)})]})})};export{Oe as default};
