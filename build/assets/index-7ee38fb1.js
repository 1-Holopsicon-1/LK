import{aa as e,m as c}from"./index-a5eecfde.js";import{h as n,d as i,g as l,e as u}from"./vendor-1714f5a3.js";const A=()=>e.get(`?getAppRequests&token=${c()}`),g=()=>e.get(`?getAppData&token=${c()}`),d=async t=>{const{data:a}=await e.post("Dismissal.Post",t);return a.result},s={listApplication:null,error:null,dataUserApplication:null},o=n(async()=>{const t=await A();try{return t.data.reverse()}catch{throw new Error("Не удалось загрузить заявления")}}),r=n(async()=>{const t=await g();try{return t.data}catch{throw new Error("Не удалось загрузить информацию о пользователе")}}),p=n(async t=>{const a=await d(t);if(a==="ok")return"ok";throw new Error(a)}),w=i();l({from:p.doneData,to:o});u(s).on(r,t=>({...t,error:null})).on(r.doneData,(t,a)=>({...t,dataUserApplication:a})).on(r.failData,(t,a)=>({...t,error:a.message})).on(o,t=>({...t,error:null})).on(o.doneData,(t,a)=>({...t,listApplication:a})).on(o.failData,(t,a)=>({...t,error:a.message})).on(w,()=>({...s}));const f={getApplicationsFx:o,getUserDataApplicationsFx:r,postApplicationFx:p};export{f as e};
