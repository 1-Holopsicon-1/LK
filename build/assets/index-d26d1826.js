var rf=Object.defineProperty,lf=Object.defineProperties;var cf=Object.getOwnPropertyDescriptors;var io=Object.getOwnPropertySymbols;var Gr=Object.prototype.hasOwnProperty,Vr=Object.prototype.propertyIsEnumerable;var Wr=(e,t,i)=>t in e?rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,f=(e,t)=>{for(var i in t||(t={}))Gr.call(t,i)&&Wr(e,i,t[i]);if(io)for(var i of io(t))Vr.call(t,i)&&Wr(e,i,t[i]);return e},_=(e,t)=>lf(e,cf(t));var Je=(e,t)=>{var i={};for(var o in e)Gr.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&io)for(var o of io(e))t.indexOf(o)<0&&Vr.call(e,o)&&(i[o]=e[o]);return i};var T=(e,t,i)=>new Promise((o,s)=>{var a=c=>{try{l(i.next(c))}catch(u){s(u)}},r=c=>{try{l(i.throw(c))}catch(u){s(u)}},l=c=>c.done?o(c.value):Promise.resolve(c.value).then(a,r);l((i=i.apply(e,t)).next())});import{p as S,s as p,r as d,j as n,F as Bn,a as fi,b as cn,c as Bi,H as Gs,d as yt,z as Ps,e as Y,x as w,h as R,u as rt,f as $t,o as ni,g as df,i as qr,k as Qr,l as ut,m as J,n as Ct,v as Fo,q as F,t as Nt,w as uf,y as hc,I as pf,A as hf,B as gf,C as mf,D as wa,E as Bo,G as L,J as ff,S as Un,K as Ae,L as Pn,R as pe,M as xi,N as Hn,O as St,P as As,Q as xf,T as vo,U as vf,V as bf,W as gc,X as mc,Y as _a,Z as fc,_ as Yr,$ as yf,a0 as wf,a1 as _f,a2 as jf,a3 as Uo,a4 as we,a5 as wt,a6 as Wt,a7 as xc,a8 as bo,a9 as kf,aa as ue,ab as Cf,ac as Bt,ad as vc,ae as bc,af as yo,ag as Sf,ah as If,ai as Ho,aj as yc,ak as Tf,al as Ef,am as Pf,an as Af,ao as Nf,ap as Df,aq as Of,ar as wc,as as Lf,at as _c,au as jc,av as kc,aw as Cc,ax as Sc,ay as zf,az as Rf,aA as $f,aB as Mf,aC as Ff,aD as Bf,aE as Uf,aF as Hf,aG as Wf,aH as Gf,aI as Vf,aJ as qf,aK as vn,aL as Qf,aM as ja,aN as Ui,aO as Ic,aP as wo,aQ as Gt,aR as ka,aS as _o,aT as Et,aU as An,aV as Yf,aW as Kf,aX as Jf,aY as Xf,aZ as Zf,a_ as e0,a$ as le,b0 as t0,b1 as Tc,b2 as Vs,b3 as n0,b4 as i0,b5 as o0,b6 as vi,b7 as s0,b8 as a0,b9 as bn,ba as Kr,bb as r0,bc as l0,bd as Ec,be as li,bf as Pc,bg as oo,bh as c0,bi as d0,bj as Ac,bk as Nc,bl as u0,bm as Wo,bn as Dc,bo as Ca,bp as Oc,bq as Go,br as de,bs as Jr,bt as Lc,bu as go,bv as p0,bw as h0,bx as g0,by as m0,bz as f0,bA as x0,bB as v0,bC as b0,bD as y0,bE as w0,bF as _0,bG as j0,bH as k0,bI as C0,bJ as S0,bK as I0,bL as T0,bM as E0,bN as P0,bO as A0,bP as N0,bQ as D0,bR as O0,bS as L0,bT as z0,bU as R0,bV as zc,bW as $0,bX as M0,bY as Sa,bZ as Rc,b_ as F0,b$ as B0,c0 as U0,c1 as H0,c2 as W0,c3 as G0,c4 as V0,c5 as q0,c6 as $c,c7 as Ia,c8 as Q0,c9 as Ta,ca as qs,cb as Y0,cc as K0,cd as bi,ce as J0,cf as X0,cg as Z0,ch as Mc,ci as ex,cj as Fc,ck as tx,cl as nx,cm as Vo,cn as yi,co as ix,cp as Bc,cq as Uc,cr as ox,cs as Ns,ct as sx,cu as ax,cv as rx,cw as lx,cx,cy as dx,cz as ux,cA as px,cB as Hc,cC as Xr,cD as hx,cE as gx,cF as mx,cG as fx,cH as xx,cI as vx,cJ as bx}from"./vendor-3c67dcca.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();const Wc=S({name:"appStarted",sid:"-buvb0l"}),yx=p.div.withConfig({componentId:"sc-1iflyta-0"})(["display:grid;grid-template-rows:",";overflow:hidden;transition:0.2s;width:100%;margin-bottom:",";"],({isOpen:e})=>e?"1fr":"0fr",({bottomMargin:e,isOpen:t})=>e&&t?"12px":"0"),wx=p.div.withConfig({componentId:"sc-1iflyta-1"})([""]),_x=p.div.withConfig({componentId:"sc-1iflyta-2"})(["min-height:0;min-width:0;transform:scale(",");transition:0.2s transform;opacity:",";"],({isOpen:e})=>e?"1":"0.98",({isOpen:e})=>e?"1":"0"),Gc=({title:e,children:t,bottomMargin:i,forceState:o=!1})=>{const[s,a]=d.useState(o);d.useEffect(()=>{a(o)},[o]);const r=()=>a(l=>!l);return n.jsxs(yx,{isOpen:s,bottomMargin:i,onClick:r,children:[e&&n.jsx(wx,{children:e}),n.jsx(_x,{isOpen:s,children:t})]})},ye=p.div.withConfig({componentId:"sc-w7ek6q-0"})(["width:",";height:",";min-height:",";background:var(--almostTransparentOpposite);margin:",";"],({direction:e="horizontal",width:t})=>e==="horizontal"?t!=null?t:"90%":"0.5px",({direction:e="horizontal",width:t})=>e==="horizontal"?"0.5px":t!=null?t:"90%",({direction:e="horizontal",width:t})=>e==="horizontal"?"0.5px":t!=null?t:"90%",({margin:e})=>e!=null?e:"5px auto"),jx="/assets/sad-emoji-0c60bf90.gif",re=p.span.withConfig({componentId:"sc-7972u0-0"})(["width:",";min-width:",";max-width:",";font-size:",";font-weight:500;opacity:0.7;text-align:",";color:",";display:",";line-height:",";word-wrap:break-word;overflow-wrap:normal;padding:",";"],({width:e})=>e!=null?e:"fit-content",({width:e})=>e!=null?e:"fit-content",({maxWidth:e})=>e!=null?e:"fit-content",({fontSize:e})=>e!=null?e:"0.8em",({align:e})=>e!=null?e:"left",({color:e})=>e,({visible:e})=>!(e==null||e)&&"none",({lineHeight:e})=>e,({padding:e})=>e),kx=p.div.withConfig({componentId:"sc-m2dj25-0"})(["width:100%;height:100%;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--text);line-height:1.7rem;span{font-weight:500;}.image{margin-bottom:10px;img,& > svg{min-width:",";height:",";}& > svg{margin:20px 0;opacity:0.6;}}.error-content{margin-top:20px;}"],({size:e})=>e!=null?e:"100px",({size:e})=>e!=null?e:"100px");function ke({text:e,image:t,size:i,children:o}){return n.jsxs(kx,{size:i,children:[n.jsx("div",{className:"image",children:typeof t=="string"||!t?n.jsx("img",{src:t||jx,alt:"груфтим("}):t}),n.jsx(re,{fontSize:"1rem",align:"center",maxWidth:"500px",width:"auto",children:e}),o&&n.jsx("div",{className:"error-content",children:o})]})}const A=p.div.withConfig({componentId:"sc-sw1tlu-0"})(["position:",";width:",";max-width:",";height:",";max-height:",";gap:",";display:flex;align-items:",";justify-content:",";flex-direction:",";flex-wrap:",";padding:",";margin:",";border-radius:",";cursor:",";:hover{background:",";}"],({position:e})=>e,({w:e})=>e!=null?e:"100%",({mw:e})=>e,({h:e})=>e!=null?e:"fit-content",({mh:e})=>e,({gap:e})=>e!=null?e:"0",({ai:e})=>e!=null?e:"center",({jc:e})=>e!=null?e:"flex-start",({d:e})=>e!=null?e:"row",({$wrap:e})=>e&&"wrap",({p:e})=>e,({m:e})=>e,({brad:e})=>e,({cursor:e})=>e,({hoverBackground:e})=>e);var Re=(e=>(e.Dark="dark",e.Light="light",e))(Re||{});const Cx="Не удалось загрузить информацию. Проверьте соединение и попробуйте ещё раз",Vc=8,Ea=["home","settings","all"],qc=["all"],Pa=["home","settings","all"],Qc="https://lk.eseur.ru/signup",Sx="https://mospolytech.ru/obuchauschimsya/izmenenie-uslovij-obucheniya-i-vosstanovlenie",C={green:{dark3:"#106c3f",dark2:"#188851",dark1:"#27b56e",main:"#3cd288",light1:"#49e698",light2:"#58f3a6",light3:"#a1ffd1",transparent1:"#a7ffd38a",transparent2:"#a7ffd35c",transparent3:"#4ad18e1f"},lightGreen:{dark3:"#166363",dark2:"#207878",dark1:"#2e9b9b",main:"#40c5c5",light1:"#66dfdf",light2:"#8bf1f1",light3:"#a3fbfb",transparent1:"#98e8e899",transparent2:"#a3fbfb59",transparent3:"#a3fbfb29"},blue:{dark3:"#3d4695",dark2:"#3742b1",dark1:"#4552c9",main:"#5f6dec",light1:"#7c88f5",light2:"#99a3ff",light3:"#bac0ff",transparent1:"#bac0ffa3",transparent2:"#bac0ff42",transparent3:"#bac0ff17"},lightBlue:{dark3:"#5278cd",dark2:"#668de4",dark1:"#789ff6",main:"#9cbbff",light1:"#b9cfff",light2:"#ceddff",light3:"#e0e9ff",transparent1:"#e0e9ffba",transparent2:"#e0e9ff6b",transparent3:"#e0e9ff29"},darkBlue:{dark3:"#211d69",dark2:"#272279",dark1:"#2e2891",main:"#3831a5",light1:"#443cc5",light2:"#5850d4",light3:"#beb9ff",transparent1:"#7f77ff78",transparent2:"#7f77ff78",transparent3:"#7f77ff12"},purple:{dark3:"#5c3381",dark2:"#7434af",dark1:"#8b4ac7",main:"#a85fec",light1:"#bd7cfa",light2:"#ce99ff",light3:"#dcb7ff",transparent1:"#dcb7ff99",transparent2:"#dcb7ff5c",transparent3:"#dcb7ff2b"},pink:{dark3:"#8d4370",dark2:"#a62b77",dark1:"#c34191",main:"#ec5fb6",light1:"#fd84cf",light2:"#ffa8de",light3:"#ffbce5",transparent1:"#ffbce59e",transparent2:"#ffbce561",transparent3:"#ffbce530"},red:{dark3:"#8f454b",dark2:"#bf3641",dark1:"#cf4b56",main:"#ec5f6b",light1:"#ff7b86",light2:"#ff98a1",light3:"#ffbbc1",transparent1:"#ffbbc194",transparent2:"#ffbbc159",transparent3:"#ffbbc133"},orange:{dark3:"#815b32",dark2:"#a76821",dark1:"#ca8231",main:"#ee9e44",light1:"#fcb566",light2:"#ffc686",light3:"#ffd7ab",transparent1:"#ffd7ab99",transparent2:"#ffd7ab54",transparent3:"#ffd7ab4a"},grey:{dark3:"#353535",dark2:"#484848",dark1:"#646464",main:"#797979",light1:"#979797",light2:"#bdbdbd",light3:"#d5d5d5",transparent1:"#d5d5d5a3",transparent2:"#d5d5d559",transparent3:"#d5d5d521"},white:{dark3:"",dark2:"",dark1:"",main:"#fff",light1:"",light2:"",light3:"",transparent1:"",transparent2:"#80808014",transparent3:"#ffffff17"}},en={monday:{full:"Понедельник",short:"Пн"},tuesday:{full:"Вторник",short:"Вт"},wednesday:{full:"Среда",short:"Ср"},thursday:{full:"Четверг",short:"Чт"},friday:{full:"Пятница",short:"Пт"},saturday:{full:"Суббота",short:"Сб"}},kN={Зачтено:C.green,"Не зачтено":C.red,Отлично:C.green,Хорошо:C.blue,Удовлетворительно:C.orange,Неудовлетворительно:C.red,"Не явился":C.red,default:C.red},CN={Зачтено:5,"Не зачтено":2,Отлично:5,Хорошо:4,Удовлетворительно:3,"Не явился":2,Неудовлетворительно:2},q="https://e.mospolytech.ru/old",Ix="2023-10-03T10:43:43",dn={info:{icon:Bn,color:"blue",title:"Информация"},alert:{icon:fi,color:"orange",title:"Внимание!"},failure:{icon:cn,color:"red",title:"Ошибка"},success:{icon:Bi,color:"green",title:"Успешно"},tip:{icon:Gs,color:"grey",title:"Подсказка"},hint:{icon:Gs,color:"white",title:"Подсказка"},hrFailure:{icon:cn,color:"red",title:"Ошибка"}},Tx={"-":"red",А:"lightGreen",Б:"purple",В:"green",Г:"pink",Д:"blue",Е:"blue",Ё:"red",Ж:"blue",З:"lightGreen",И:"pink",Й:"lightBlue",К:"lightGreen",Л:"green",М:"red",Н:"green",О:"purple",П:"blue",Р:"lightBlue",С:"orange",Т:"pink",У:"lightGreen",Ф:"blue",Х:"green",Ч:"purple",Ц:"green",Ш:"red",Щ:"red",Ъ:"purple",Ы:"green",Ь:"blue",Э:"red",Ю:"orange",Я:"green",A:"lightGreen",B:"purple",C:"green",D:"pink",E:"purple",F:"blue",G:"red",H:"blue",I:"lightGreen",J:"pink",K:"lightGreen",L:"green",M:"red",N:"green",O:"purple",P:"blue",Q:"lightBlue",R:"orange",S:"blue",T:"lightGreen",U:"blue",V:"green",W:"purple",X:"red",Y:"red",Z:"purple"},Zr={jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",csv:"text/csv"},Ex=10,Yc="(max-width: 766px)",Px="(min-width: 767px)",Kc="(max-width: 1000px)",Jc="(max-width: 1380px)",Xc="(min-width: 1381px)",X={isMobile:`@media ${Yc}`,isNotMobile:`@media ${Px}`,isTablet:`@media ${Kc}`,isSmallTesktop:`@media ${Jc}`,isMiddleTesktop:`@media ${Xc}`},Ax=[{query:Yc,title:"isMobile",value:"mobile"},{query:Kc,title:"isTablet",value:"tablet"},{query:Jc,title:"isSmallDesktop",value:"smallDesktop"},{query:Xc,title:"isMiddleDesktop",value:"middleDesktop"}],Aa={minute:6e4,ten_seconds:1e4,thirty_seconds:3e4},Oe=!0,Na="tHash",wi="tProgressHash",Nn="tProgress",qo="tProgressDate";console.log("Running on production",Oe);const Nx=p.button.withConfig({componentId:"sc-45v2xp-0"})(["display:flex;align-items:center;justify-content:",";border:none;color:",";background:",";padding:",";font-size:",";border-radius:10px;cursor:pointer;font-weight:600;transition:0.2s transform;width:",";min-width:",";text-decoration:none;flex-direction:",";opacity:",";height:",";",";&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:isactive{transform:scale(0.95);}&:hover{background:",";filter:brightness(0.9);color:",";}.text{margin-top:",";}.icon{margin-right:",";width:",";min-width:",";height:",";display:flex;align-items:center;justify-content:center;background:transparent;svg{width:100%;height:100%;max-width:18px;max-height:18px;margin-right:0 !important;}}","{font-size:12px;height:",";position:",";z-index:",";bottom:10px;right:10px;.text{margin-top:",";}.icon{width:",";min-width:",";margin-right:",";height:",";svg{max-width:23px;}}span{display:",";}}"],({align:e="center"})=>e,({textColor:e})=>e||"var(--text)",({isChosen:e,background:t})=>e?"var(--reallyBlue)":t!=null?t:"var(--search)",({padding:e})=>e!=null?e:"10px",({fontSize:e})=>e,({width:e})=>e||"fit-content",({minWidth:e})=>e&&e,({direction:e})=>e==="vertical"&&"column",({isActive:e})=>e?1:.5,({height:e="40px"})=>e,({flipped:e})=>e&&"transform: rotate(180deg);",({hoverBackground:e,isChosen:t,background:i})=>e!=null?e:t?"var(--blue)":i!=null?i:"var(--search)",({hoverTextColor:e})=>e,({direction:e,text:t})=>e==="vertical"&&t&&"6px",({text:e,direction:t})=>e&&t==="horizontal"?"7px":"0",({direction:e,text:t})=>e==="vertical"||!t?"20px":"fit-content",({direction:e,text:t})=>e==="vertical"||!t?"20px":"fit-content",({direction:e,text:t})=>e==="vertical"||!t?"20px":"15px",X.isTablet,({height:e="36px"})=>e,({fixedInMobile:e})=>e&&"absolute",({fixedInMobile:e})=>e&&"5",({direction:e,shrinkTextInMobile:t})=>e==="vertical"&&!t?"4px":"0px",({direction:e})=>e==="vertical"?"30px":"15px",({direction:e})=>e==="vertical"?"30px":"15px",({shrinkTextInMobile:e,text:t,direction:i})=>e||i==="vertical"||!t?"0px":"7px",({direction:e})=>e==="vertical"?"30px":"15px",({shrinkTextInMobile:e})=>e?"none":"flex");var te=(e=>(e.OldSettings="NewSettings",e.Settings="SettingsV2",e.HomeRoutes="HomeRoutes",e.Token="Token",e.JWT="JWT",e.JWTRefresh="JWTRefresh",e.Version="Version",e.SavePassword="SavePassword",e.SearchHistory="SearchHistory",e))(te||{});const yn=()=>localStorage.getItem(te.JWT)||sessionStorage.getItem(te.JWT),Wn=e=>{const i=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(window.atob(i).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(o)},Dx=()=>{var e;return JSON.parse((e=localStorage.getItem(te.SavePassword))!==null&&e!==void 0?e:"true")},Dn=e=>t=>T(void 0,null,function*(){var i;const o=(i=t==null?void 0:t.config)!==null&&i!==void 0?i:{};if(t.request.status===401)if(o._retry)ce.logout();else{o._retry=!0;const s=localStorage.getItem(te.JWTRefresh);try{const{accessToken:a,refreshToken:r}=yield Vx(s!=null?s:"");return Dx()?(localStorage.setItem(te.JWT,a),localStorage.setItem(te.JWTRefresh,r)):(sessionStorage.setItem(te.JWT,a),sessionStorage.setItem(te.JWTRefresh,r)),e(o)}catch(a){(yield qx()).status===200&&ce.logout()}}return Promise.reject(t)}),Hi=e=>(e.headers||(e.headers={}),e.headers.Authorization=`Bearer ${yn()}`,e),Ox=`${q}/lk_api.php`,Lx="https://api.mospolytech.ru/serviceforfrontpersonnelorders",zx="api.mospolytech.ru/auth",ie=yt.create({baseURL:Ox,withCredentials:!0}),Ge=yt.create({baseURL:Lx}),Rx=yt.create({baseURL:zx});Ge.interceptors.request.use(Hi);function Da(e){return e.isAxiosError}function oe(){var e,t;return(e=(t=localStorage.getItem(te.Token))!==null&&t!==void 0?t:sessionStorage.getItem(te.Token))!==null&&e!==void 0?e:""}const $x=({login:e,password:t})=>ie.post("",`ulogin=${encodeURIComponent(e)}&upassword=${encodeURIComponent(t)}`),Mx=e=>ie.get(`?getUser&token=${e}`),Fx=e=>ie.get(`?getADName&fio=${e.fio}&pn=${e.pn}`),el=e=>T(void 0,null,function*(){const t=new FormData;return t.set("avatar",e!=null?e:""),t.set("token",oe()),ie.post("?changeAvatar=1",t,{headers:{"Content-Type":"multipart/form-data"}})}),Bx=(e,t)=>T(void 0,null,function*(){const i=new FormData;return i.set("old_pass",e),i.set("new_pass",t),ie.post(`?changeADPass=1&token=${oe()}`,i,{headers:{"Content-Type":"multipart/form-data"}})}),Ux=e=>T(void 0,null,function*(){const t=new FormData;return t.set("email",e),t.set("token",oe()),ie.post("?changeEmail=1",t,{headers:{"Content-Type":"multipart/form-data"}})}),Hx=e=>T(void 0,null,function*(){const t=new FormData;return t.set("phone",e),t.set("token",oe()),ie.post("?changePhone=1",t,{headers:{"Content-Type":"multipart/form-data"}})}),Wx=e=>T(void 0,null,function*(){var t,i,o,s;const a=new FormData;return a.set("token",oe()),a.set("phone",e.phone_staff||""),a.set("allow_mobphone_in",(t=(i=e.allow_mobphone_in)===null||i===void 0?void 0:i.toString())!==null&&t!==void 0?t:"false"),a.set("allow_mobphone_out",(o=(s=e.allow_mobphone_out)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"false"),ie.post("?changeStaffPhone=1",a,{headers:{"Content-Type":"multipart/form-data"}})}),Gx=e=>T(void 0,null,function*(){const t=new FormData;t.set("token",oe()),t.set("guid",e.guid_staff),t.set("room",e.room),t.set("address",e.address);const{data:i}=yield ie.post("?changeStaffAddress=1",t,{headers:{"Content-Type":"multipart/form-data"}});if(i.result!=="ok")throw new Error}),Vx=e=>T(void 0,null,function*(){const{data:t}=yield yt.post("https://api.mospolytech.ru/auth/token/reissue",{refresh_token:e});return{accessToken:t.access_token,refreshToken:t.refresh_token}}),qx=()=>T(void 0,null,function*(){return Rx.get("/health")}),Qx=e=>ie.get(`?getSchedule&group=${e}&token=${oe()}`),Yx=e=>ie.get(`?getScheduleTeacher&fio=${e}&token=${oe()}`),Kx=()=>ie.get(`?getSchedule&session=1&token=${oe()}`),Jx=e=>ie.get(`?getScheduleTeacher&fio=${e}&session=1&token=${oe()}`),Xx=()=>ie.get(`?getPayments&token=${oe()}`),Zx=e=>ie.get(`?signAgreement=${e}&token=${oe()}`),ev=e=>ie.get(`?signContract=${e}&token=${oe()}`),tv=o=>T(void 0,[o],function*({agreementId:e,userEmail:t,clientEmail:i}){const s=new FormData;s.append("guid_agreement",e),s.append("email_student",t),s.append("email_client",i);const{data:a}=yield ie.post(`?mailCode4Agreement=1&token=${oe()}`,s,{headers:{"Content-Type":"multipart/form-data"}});if(a.result!=="ok")throw new Error(a.error_text);return a}),nv=o=>T(void 0,[o],function*({agreementId:e,userPass:t,clientPass:i}){const{data:s}=yield ie.get(`?signAgreement=${e}&token=${oe()}&pass_student=${t}&pass_client=${i}`);if(s[0].result!=="ok")throw new Error(s[0].error_text);return s}),iv=i=>T(void 0,[i],function*({clientGuid:e,clientEmail:t}){const o=new FormData;o.append("guid_client",e),o.append("email_client",t);const{data:s}=yield ie.post(`?mailCode4Client=1&token=${oe()}`,o,{headers:{"Content-Type":"multipart/form-data"}});if(s.result!=="ok")throw new Error(s.error_text);return s}),ov=i=>T(void 0,[i],function*({clientGuid:e,clientPass:t}){const{data:o}=yield ie.get(`?setPEPAcceptClient&client_guid=${e}&client_pass=${t}&token=${oe()}`);if(o[0].result!=="ok")throw new Error(o[0].error_text);return o}),sv=()=>T(void 0,null,function*(){return(yield ie.get(`?getPEPStatus&token=${oe()}`)).data}),av=()=>T(void 0,null,function*(){return(yield ie.get(`?setPEPAccept&token=${oe()}`)).data}),rv=()=>ie.get(`?getAppRequests&token=${oe()}`),Zc=()=>ie.get(`?getAppData&token=${oe()}`),lv=()=>T(void 0,null,function*(){var e;return yield Ge.get(`/Dismissal.GetAllHistory?employeeGuid=${Wn((e=yn())!==null&&e!==void 0?e:"").IndividualGuid}`)}),cv=()=>T(void 0,null,function*(){const{data:e}=yield Ge.get("/AnotherPlaceWork.GetDivisions");return e.divisions}),dv=e=>T(void 0,null,function*(){const{formId:t,args:i}=e,o=new FormData;o.set("token",oe()),o.set("saveAppData",t);for(const[a,r]of Object.entries(i))o.set(a,r);const{data:s}=yield ie.post(`?saveAppData=${t}`,o,{headers:{"Content-Type":"multipart/form-data"}});return s}),uv=()=>Ge.get(`?getAppRequests&token=${oe()}`),pv=()=>Ge.get(`?getAppData&token=${oe()}`),hv=e=>Ge.post("Dismissal.Post",e),gv=()=>T(void 0,null,function*(){return(yield ie.get(`?getAdminLinks&token=${oe()}`)).data}),mv=e=>T(void 0,null,function*(){return(yield ie.get(`?PDinfo&token=${oe()}`)).data}),fv=()=>ie.get(`?getPhoneBookDivisions&token=${oe()}`),ed=(e,t,i,o)=>ie.get(`?getStaff&search=${e}&division=${t}&page=${i}&perpage=${o}&token=${oe()}`),Qo=e=>ie.get(`?getDivs=${e}&page=1&token=${oe()}`),td=(e,t,i,o)=>ie.get(`?getStudents&search=${e}&group=${t}&page=${i}&perpage=${o}&token=${oe()}`),Qs=e=>T(void 0,null,function*(){return yield ie.get(`?getGroups=${e}&perpage=30&page=1&token=${oe()}`)}),xv="https://api.mospolytech.ru/allowanceservice/",vv=xv,Ue=yt.create({baseURL:vv});Ue.interceptors.request.use(Hi);Ue.interceptors.response.use(e=>e,Dn(Ue));const bv=e=>T(void 0,null,function*(){try{const{data:t}=yield Ue.post("/Allowance/GetAllAllowances",{employeeId:e}).catch(i=>{var o;throw new Error((i==null||(o=i.response)===null||o===void 0?void 0:o.data)||i.message)});return t}catch(t){throw new Error(t)}}),yv=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/Allowance/CreateAllowance",e);return t}),wv=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/Allowance/GetAllSubordinateEmployeesOfInitiator",{initiatorEmployeeId:e});return t}),_v=o=>T(void 0,[o],function*({allowanceId:e,role:t,userId:i}){const{data:s}=yield Ue.post(`/Allowance/GetEmployeesInAllowanceBy${t}`,{allowanceId:e,[`${t.toLowerCase()}EmployeeId`]:i});return s}),jv=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/Allowance/SetVerdictToAllowanceEmployee",e);return t}),kv=()=>T(void 0,null,function*(){const{data:e}=yield Ue.get("/Allowance/GetRolesOfPersonal");return e}),nd=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/Handbook/GetHandbook",{handbookName:e});return t}),Cv=e=>T(void 0,null,function*(){const t=new FormData;t.append("file",e);const{data:i}=yield Ue.post("/File/UploadFile",t);return i}),Sv=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/File/DeleteFile",{fileId:e});return t}),Iv=()=>T(void 0,null,function*(){const{data:e}=yield Ue.get("/Allowance/GetNotifications");return e}),Tv=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/Allowance/ReadNotification",{notificationId:e});return t}),Ev=()=>T(void 0,null,function*(){const{data:e}=yield Ue.post("/Allowance/ReadAllNotifications");return e}),Pv=()=>T(void 0,null,function*(){const{data:e}=yield Ue.get("/Allowance/GetAllowancesToConfirm");return e}),Av=e=>T(void 0,null,function*(){const{data:t}=yield Ue.post("/Allowance/ConfirmAllowance",e);return t}),Nv=()=>ie.get(`?getNotifications&token=${oe()}`),Dv=e=>ie.get(`?clearNotificationById=${e}&token=${oe()}`),Ov=()=>ie.get(`?clearAllNotifications&token=${oe()}`),Lv=Ps.object({type:Ps.string(),detail:Ps.string()}),zv="https://api.mospolytech.ru/physedjournal/",Ie=yt.create({baseURL:zv});Ie.interceptors.request.use(Hi);Ie.interceptors.response.use(e=>e,Dn(Ie));Ie.interceptors.response.use(e=>e,e=>{var t;const i=Lv.safeParse((t=e.response)===null||t===void 0?void 0:t.data);return i.success?Promise.reject(new id(i.data.type,i.data.detail)):Promise.reject(e)});class id extends Error{constructor(t,i){super("Во время запроса произошла ошибка"),this.type=t,this.detail=i}}const SN=(e,t)=>e instanceof id&&e.type!="unknown-error"?e.detail:t,Rv=40,$v=e=>{const t={};return e["group.groupName"]&&(t.groupNumber=e["group.groupName"].value),e.group&&(t.groupNumber=e.group.value),e.fullName&&(t.fullName=e.fullName.value),e.course&&(t.course=e.course.value),t},IN=(e,t,i=Rv)=>Ie.get("/student",{params:f({page:e+1,pageSize:i},$v(t))}),TN=e=>Ie.get(`/student/${e}`),EN=e=>Ie.post("/points/visit",e),PN=e=>Ie.delete(`/points/visit/${e}`),AN=e=>Ie.post("/points/other",e),NN=e=>Ie.delete(`/points/other/${e}`),DN=e=>Ie.post("/points/standard",e),ON=e=>Ie.delete(`/points/standard/${e}`),LN=e=>Ie.post("/competition",{competitionName:e}),zN=e=>Ie.delete("/competition",{params:{competitionName:e}}),RN=()=>Ie.get("/competition"),Mv=e=>Ie.get(`/teacher/${e}`),$N=e=>Ie.get("/group",{params:{curatorGuid:e}}),MN=e=>Ie.post("/student/archive",{studentGuid:e}),FN=e=>Ie.post("/student/health-group",e),BN=e=>Ie.post("/student/specialization",e);function Fv({name:e,surname:t,patronymic:i}){return`${t} ${e} ${i}`}const Bv=()=>{localStorage.removeItem(te.Token),localStorage.removeItem(te.JWT),localStorage.removeItem(te.JWTRefresh),sessionStorage.removeItem(te.Token),sessionStorage.removeItem(te.JWT),localStorage.removeItem(te.JWTRefresh)};var Ds;const Mt=(Ds=localStorage.getItem(te.Token))!==null&&Ds!==void 0?Ds:"",Ft=()=>{var e;return JSON.parse((e=localStorage.getItem(te.SavePassword))!==null&&e!==void 0?e:"true")},Yo=Y(e=>T(void 0,null,function*(){try{const{data:a}=yield $x(e),r=new FormData;r.set("ulogin",e.login),r.set("upassword",e.password),r.set("auth_action","userlogin");try{yield yt.post("/old",r)}catch(l){}if(Bv(),Ft()){var t,i;localStorage.setItem(te.Token,a.token),localStorage.setItem(te.JWT,(t=a==null?void 0:a.jwt)!==null&&t!==void 0?t:""),localStorage.setItem(te.JWTRefresh,(i=a.jwt_refresh)!==null&&i!==void 0?i:"")}else{var o,s;sessionStorage.setItem(te.Token,a.token),sessionStorage.setItem(te.JWT,(o=a==null?void 0:a.jwt)!==null&&o!==void 0?o:""),localStorage.setItem(te.JWTRefresh,(s=a.jwt_refresh)!==null&&s!==void 0?s:"")}return a}catch(a){throw new Error(navigator.onLine?"Неверный логин или пароль":"Потеряно соединение с интернетом")}}),{name:"getUserTokenFx",sid:"-e169qm"}),tn=Y(e=>T(void 0,null,function*(){try{const[t,i]=yield Promise.all([Mx(e.token),Zc()]),o=t.data.user,{name:s,surname:a,patronymic:r}=o;return{currentUser:_(f({},o),{guid:i.data.guid_person,fullName:Fv({name:s,surname:a,patronymic:r})}),isAuthenticated:!!e,error:null,savePassword:Ft()}}catch(t){throw console.log(t),new Error(`Возникла какая-то ошибка: ${t.message}`)}}),{name:"getUserFx",sid:"-jwv5r7"}),Ys=Y(e=>T(void 0,null,function*(){try{return(yield Fx(e)).data}catch(t){throw console.log(t),new Error("Возникла какая-то ошибка")}}),{name:"getLoginEuzFx",sid:"bigpzn"}),od=Y(()=>{Ft()?(localStorage.removeItem(te.Token),localStorage.removeItem(te.JWT),localStorage.removeItem(te.JWTRefresh)):(sessionStorage.removeItem(te.Token),sessionStorage.removeItem(te.JWT),sessionStorage.removeItem(te.JWTRefresh)),localStorage.removeItem(Na),localStorage.removeItem(Nn),localStorage.removeItem(qo),localStorage.removeItem(wi)},{name:"logoutFx",sid:"4h4324"}),sd=e=>{const t=localStorage.getItem(te.SavePassword),i=e!=null?e:JSON.parse(t!=null?t:"true");return localStorage.setItem(te.SavePassword,i.toString()),i},ad=S({name:"login",sid:"4ue10z"}),Oa=S({name:"logout",sid:"zef25s"}),rd=S({name:"clear",sid:"v39e31"}),ld=S({name:"update",sid:"davw09"}),cd=S({name:"updateBulk",sid:"-coga5m"}),dd=S({name:"changeSavePassword",sid:"-h8i797"});w({and:[{clock:ad,target:Yo}],or:{sid:"hxtekp"}});w({and:[{clock:Yo.doneData,target:tn}],or:{sid:"i00ky5"}});w({and:[{clock:Oa,target:od}],or:{sid:"idrfs6"}});Mt&&Ft()?tn({token:Mt,jwt:localStorage.getItem(te.JWT)}):od();const Uv={currentUser:null,error:null,isAuthenticated:!!(Mt!=null&&Mt.length),savePassword:Ft(),loginEuz:""};sd();const La=R(Uv,{name:"$userStore",sid:"-5zr6k7"}).on(tn,e=>_(f({},e),{error:null})).on(tn.doneData,(e,t)=>t).on(tn.failData,(e,t)=>({error:t.message,currentUser:null,isAuthenticated:!!(Mt!=null&&Mt.length),savePassword:Ft()})).on(Yo.failData,(e,t)=>({error:t.message,isAuthenticated:null,currentUser:null,savePassword:Ft()})).on(Oa,()=>({error:"",isAuthenticated:null,currentUser:null,savePassword:Ft()})).on(dd,(e,{savePassword:t})=>_(f({},e),{savePassword:sd(t)})).on(Ys,e=>_(f({},e),{error:null})).on(Ys.doneData,(e,t)=>_(f({},e),{loginEuz:t})).on(tn.failData,(e,t)=>_(f({},e),{error:t.message})).on(ld,(e,{key:t,value:i})=>_(f({},e),{currentUser:e.currentUser?_(f({},e.currentUser),{[t]:i}):null})).on(cd,(e,t)=>_(f({},e),{currentUser:e.currentUser?f(f({},e.currentUser),t):null})).on(rd,e=>_(f({},e),{currentUser:null})),Hv=La.map(({currentUser:e})=>{var t;return(t=e==null?void 0:e.guid)!==null&&t!==void 0?t:null}),Te={useUser:()=>{const{currentUser:e,error:t,isAuthenticated:i,savePassword:o,loginEuz:s}=rt(La);return{data:{user:e,isAuthenticated:i,savePassword:o,loginEuz:s},loading:rt(Yo.pending),error:t}}},ce={login:ad,logout:Oa,changeSavePassword:dd,clear:rd,update:ld,updateBulk:cd},Wv={getUserFx:tn,getLoginEuzFx:Ys},ne={user:La,userGuid:Hv},tl={message:"",type:"success",isOpen:!1,time:2e3},Gv=()=>$t(Vv),ud=S({name:"evokePopUpMessage",sid:"x5m2"}),pd=S({name:"openPopUpMessage",sid:"bjmva0"}),Vv=R(tl,{name:"$popUpstore",sid:"sdh220"}).on(ud,(e,{message:t,type:i,time:o=2e3,onClick:s})=>({isOpen:!0,message:t,type:i,time:o,onClick:s})).on(pd,(e,{isOpen:t})=>_(f({},e),{isOpen:t})).on(ne.userGuid,()=>f({},tl)),qv={usePopUpMessage:Gv},Q={evokePopUpMessage:ud,openPopUpMessage:pd},hd="/assets/loading-c8041cd3.gif",Qv=()=>n.jsx(Yv,{src:hd,alt:"loading",className:"loading-circle"}),Yv=p.img.withConfig({componentId:"sc-1vou73h-0"})(["position:relative;transform:none;left:auto;top:auto;width:30px;height:30px;"]);function E(e){const D=e,{icon:t,text:i,onClick:o,width:s,minWidth:a,background:r,textColor:l,hoverBackground:c,align:u,isChosen:h,padding:g,shrinkTextInMobile:m,fixedInMobile:x,direction:b="horizontal",isActive:v=!0,height:y,notActiveClickMessage:j,flipped:I,forwardedRef:k,loading:P}=D,$=Je(D,["icon","text","onClick","width","minWidth","background","textColor","hoverBackground","align","isChosen","padding","shrinkTextInMobile","fixedInMobile","direction","isActive","height","notActiveClickMessage","flipped","forwardedRef","loading"]),W=G=>{v?o==null||o(G):j&&Q.evokePopUpMessage({type:"failure",message:j,time:1e4})};return n.jsx(Nx,_(f({text:!!i,onClick:W,isChosen:h,width:s,minWidth:a,background:r,padding:g,textColor:l,shrinkTextInMobile:m,hoverBackground:c,align:u,direction:b,isActive:P?!1:v,fixedInMobile:x,height:y,flipped:I,ref:k},$),{children:P?n.jsx(Qv,{}):n.jsxs(n.Fragment,{children:[!!t&&n.jsx("div",{className:"icon",children:t}),n.jsx("span",{className:"text",children:i})]})}))}const Ks=e=>{switch(e){case"center":return"center";case"right":return"flex-end";case"evenly":return"space-evenly"}return"flex-start"},nl=e=>{switch(e){case"center":return"center";case"bottom":return"flex-end";case"space-between":return"space-between"}return"flex-start"},Kv=p.div.withConfig({componentId:"sc-1g0azvr-0"})(["padding:",";position:",";width:",";height:",";min-width:",";.bottom-wrapper{margin-top:5px;display:flex;align-items:center;justify-content:center;gap:10px;}"],({padding:e})=>e!=null?e:"0",({position:e})=>e!=null?e:"relative",({width:e})=>e!=null?e:"100%",({height:e})=>e!=null?e:"fit-content",({minWidth:e})=>e),Jv=["wrap","horizontalAlign","verticalAlign","innerPadding","scroll","wrapOnMobile"],Ko=p.div.withConfig({shouldForwardProp:e=>!Jv.includes(e)}).withConfig({componentId:"sc-1g0azvr-1"})(["display:flex;flex-direction:",";max-height:100%;align-items:center;height:",";justify-content:",";align-items:",";gap:",";width:",";min-width:",";color:var(--text);font-size:",";overflow-x:",";flex-wrap:",";padding:",";scroll-behavior:smooth;::-webkit-scrollbar{display:",";}@media (max-width:1000px){flex-wrap:",";overflow-x:auto;}"],({direction:e})=>(e!=null?e:"vertical")==="vertical"&&"column",({height:e})=>e!=null?e:"fit-content",({direction:e,horizontalAlign:t,verticalAlign:i})=>(e!=null?e:"vertical")==="vertical"?nl(i):Ks(t),({direction:e,horizontalAlign:t,verticalAlign:i})=>(e!=null?e:"vertical")==="vertical"?Ks(t):nl(i),({gap:e})=>(e!=null?e:5)+"px",({width:e})=>e!=null?e:"100%",({minWidth:e,width:t})=>e!=null?e:t,({fontSize:e})=>e!=null?e:"1em",({scroll:e})=>e&&"auto",({wrap:e})=>e&&"wrap",({innerPadding:e})=>e!=null?e:"0",({direction:e})=>e==="horizontal"&&"none",({wrapOnMobile:e})=>e?"wrap":"nowrap"),Xv=p.div.withConfig({componentId:"sc-1xqpwpa-0"})(["width:",";min-width:",";height:",";border-radius:",";background:var(--almostTransparent);margin:",";animation:",";@keyframes skeleton{0%{opacity:1;}50%{opacity:0.6;}100%{opacity:1;}}"],({size:e})=>e?e.width:"100px",({size:e})=>e?e.width:"100px",({size:e,shape:t})=>e?t==="circle"?e.width:e.height:"20px",({shape:e})=>e==="circle"?"100%":"10px",({margin:e})=>e,({pulse:e})=>e&&"skeleton 1s infinite");function ee({shape:e,size:t,margin:i="10px 0",pulse:o=!0}){return n.jsx(Xv,{pulse:o,size:t,shape:e,margin:i})}const Zv=p(Ko).withConfig({componentId:"sc-j33f83-0"})(["height:100%;"]),eb=({direction:e,shapes:t,horizontalAlign:i,verticalAlign:o})=>n.jsx(Zv,{direction:e,horizontalAlign:i,verticalAlign:o,children:t.map((s,a)=>d.createElement(ee,_(f({},s),{key:a})))}),Yt=e=>({display:"flex",alignItems:"center",justifyContent:"center",width:e});function tb({size:e,children:t,width:i}){switch(e){case 1:return n.jsx("h1",{className:"title",style:Yt(i),children:t});case 2:return n.jsx("h2",{className:"title",style:Yt(i),children:t});case 3:return n.jsx("h3",{className:"title",style:Yt(i),children:t});case 4:return n.jsx("h4",{className:"title",style:Yt(i),children:t});case 5:return n.jsx("h5",{className:"title",style:Yt(i),children:t});case 6:return n.jsx("h6",{className:"title",style:Yt(i),children:t});default:return n.jsx("h1",{className:"title",style:Yt(i),children:t})}}const nb=p.div.withConfig({componentId:"sc-15eib47-0"})(["width:100%;text-align:",";margin-bottom:",";display:inline-flex;align-items:center;justify-content:",";svg{min-width:",";height:",";margin-right:8px;color:",";}"],({align:e})=>e,({bottomGap:e})=>typeof e=="string"?e:e?"10px":"0",({align:e})=>e?e==="left"?"flex-start":e==="right"?"flex-end":e:"center",({size:e})=>`${58-e*10}px`,({size:e})=>`${58-e*10}px`,({iconColor:e})=>e),ib=p.span.withConfig({componentId:"sc-15eib47-1"})(["color:var(--red);margin-right:5px;"]),ob=p.div.withConfig({componentId:"sc-15eib47-2"})(["display:flex;align-items:center;justify-content:space-between;column-gap:10px;width:",";"],({width:e})=>e);function M(e){const{icon:t,iconColor:i,children:o,size:s=1,required:a,width:r,style:l,align:c="center",bottomGap:u=!1,visible:h=!0}=e;return h?n.jsxs(nb,{style:l,size:s,className:"title-wrapper",align:c,bottomGap:u,iconColor:i,children:[t,n.jsxs(tb,{size:s,width:r,children:[a&&n.jsx(ib,{children:"*"}),n.jsx(ob,{width:r,children:o})]})]}):null}const sb=(e,t,i)=>i?"#fff":e?C[dn[t].color].dark3:C[dn[t].color].light3,ab=p.div.withConfig({componentId:"sc-7u4k5f-0"})(["width:",";max-width:",";color:",";background:",";width:",";min-width:",";max-width:",";font-size:",";padding:",";border-radius:var(--brLight);position:relative;display:flex;flex-direction:column;gap:10px;font-weight:500;justify-content:flex-end;line-height:",";align-items:",";.close-button{position:absolute;top:5px;right:5px;border-radius:100%;width:30px;height:30px;}.info-text{display:flex;flex-direction:column;gap:",";}a{text-decoration:underline;color:",";}"],({width:e})=>e!=null?e:"100%",({maxWidth:e})=>e!=null?e:"none",({type:e,isLightTheme:t,solidBackground:i})=>sb(t,e,i),({type:e,solidBackground:t})=>C[dn[e].color][t?"main":"transparent3"],({width:e})=>e!=null?e:"100%",({minWidth:e})=>e!=null?e:"none",({maxWidth:e})=>e!=null?e:"none",({fontSize:e})=>e!=null?e:"0.8em",({padding:e})=>e!=null?e:"10px",({lineHeight:e})=>e,({align:e})=>e==="left"?"flex-start":e==="center"?"center":"flex-end",({gap:e})=>e!=null?e:0,({type:e,isLightTheme:t})=>C[dn[e].color][t?"main":"light2"]),rb=e=>({appearance:{theme:window.matchMedia("(prefers-color-scheme: dark)").matches?Re.Dark:Re.Light},customizeMenu:{pages:e?Pa:Ea},homePage:{pages:["settings","profile","chat","schedule","payments","project-activity","all-students"],hasSchedule:!0,hasPayment:!0,hasNews:!0},notifications:{all:!0,messages:!0,applications:!0,doclist:!0,newVersion:!0,news:!0,schedule:!0},syncAcrossAllDevices:!1}),gd=e=>`${te.Settings}-${e}`,lb="https://api.mospolytech.ru/config/",En=yt.create({baseURL:lb});En.interceptors.request.use(Hi);En.interceptors.response.use(e=>T(void 0,null,function*(){var t;return(e==null||(t=e.data)===null||t===void 0||(t=t.errors)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.extensions)===null||t===void 0?void 0:t.code)==="AUTH_NOT_AUTHENTICATED"?yield Dn(En)(e):e}),Dn(En));const cb=ni({appearance:ni({theme:df([Re.Light,Re.Dark])}),customizeMenu:ni({pages:qr(Qr())}),homePage:ni({pages:qr(Qr()),hasSchedule:ut(),hasPayment:ut(),hasNews:ut()}),notifications:ni({all:ut(),messages:ut(),newVersion:ut(),schedule:ut(),news:ut(),applications:ut(),doclist:ut()}),syncAcrossAllDevices:ut()}),db=()=>T(void 0,null,function*(){const{data:e}=yield En.get("",{signal:AbortSignal.timeout(5e3)});return cb.parse(e)}),ub=e=>T(void 0,null,function*(){const{data:t}=yield En.post("",e);return t}),Jo=J({sid:"-ijhf03",fn:()=>Ct({handler:db}),name:"serverSettingsQuery",method:"createQuery"});w({and:[{clock:ne.user,filter:({currentUser:e})=>!!e,target:Jo.start}],or:{sid:"u6xq0w"}});const za=S({name:"update",sid:"-hcq4dy"}),pb=Y(({settings:e,userId:t})=>{localStorage.setItem(gd(t),JSON.stringify(e))},{name:"saveUsersSettingsLocalFx",sid:"-by3t4p"}),md=Y(e=>ub(e),{name:"saveSettingsGlobalFx",sid:"e26uy5"}),fd=Fo({and:{source:{userStore:ne.user,serverSettingsQueryData:Jo.$data},effect:({userStore:{currentUser:e},serverSettingsQueryData:t})=>{const i=e==null?void 0:e.guid,o=localStorage.getItem(gd(i!=null?i:"")),s=rb((e==null?void 0:e.user_status)==="staff");if(t!=null&&t.syncAcrossAllDevices)return t;if(!o){var a,r,l,c,u,h,g,m,x;const v=localStorage.getItem(te.OldSettings);if(!v)return s;const j=JSON.parse(v)[(a=e==null?void 0:e.id)!==null&&a!==void 0?a:""];return j?{homePage:{pages:(r=j==null?void 0:j["settings-home-page"].property.pages)!==null&&r!==void 0?r:s.homePage.pages,hasNews:(l=j==null?void 0:j["settings-home-page"].property.news)!==null&&l!==void 0?l:s.homePage.hasNews,hasSchedule:(c=j==null?void 0:j["settings-home-page"].property.widgetSchedule)!==null&&c!==void 0?c:s.homePage.hasPayment,hasPayment:(u=j==null?void 0:j["settings-home-page"].property.widgetPayment)!==null&&u!==void 0?u:s.homePage.hasPayment},appearance:(h=j==null||(g=j["settings-appearance"])===null||g===void 0?void 0:g.property)!==null&&h!==void 0?h:s.appearance,customizeMenu:(m=j==null?void 0:j["settings-customize-menu"].property)!==null&&m!==void 0?m:s.customizeMenu,notifications:(x=j==null?void 0:j["settings-notifications"].property)!==null&&x!==void 0?x:s.notifications,syncAcrossAllDevices:s.syncAcrossAllDevices}:s}const b=JSON.parse(o);return _(f({},b),{syncAcrossAllDevices:!1})}},or:{name:"getSettingsFx",sid:"zfc407"}});w({and:[{source:{userStore:ne.user,isServerSettingsLoaded:Jo.$finished},filter:({userStore:e,isServerSettingsLoaded:t})=>!!(e.currentUser&&t),fn:({userStore:e})=>e,target:fd}],or:{sid:"-i0288q"}});const un=R(null,{name:"$userSettings",sid:"djovoc"}).on(fd.doneData,(e,t)=>t).reset(ne.userGuid),xd=un.map(e=>e==null?void 0:e.appearance.theme),hb=Y(e=>{document.documentElement.setAttribute("data-theme",e)},{name:"setThemeToDocument",sid:"d36ila"});w({and:[{clock:xd,filter:Boolean,target:hb}],or:{sid:"-h0blo9"}});w({and:[{source:{settings:un,userStore:ne.user},filter:({userStore:e,settings:t})=>!!e.currentUser&&!!t,fn:({settings:e,userStore:t})=>{var i,o;return{settings:e,userId:(i=(o=t.currentUser)===null||o===void 0?void 0:o.guid)!==null&&i!==void 0?i:""}},target:pb}],or:{sid:"-gm0y8v"}});w({and:[{source:{settings:un,userStore:ne.user,isSettingsLoadedFromServer:Jo.$succeeded},filter:({userStore:e,settings:t,isSettingsLoadedFromServer:i})=>!!(e.currentUser&&(t!=null&&t.syncAcrossAllDevices)&&i),fn:({settings:e})=>e,target:md}],or:{sid:"61zcpa"}});w({and:[{clock:za,source:un,filter:Boolean,fn:(e,t)=>f(f({},e),t),target:un}],or:{sid:"6yz0ay"}});w({and:[{clock:za,source:un,filter:(e,t)=>"syncAcrossAllDevices"in t&&!!e,fn:(e,t)=>f(f({},e),t),target:md}],or:{sid:"7h47vv"}});const ge={userSettings:un,theme:xd},qe={update:za},gb=()=>n.jsx(eb,{shapes:[{shape:"rect",size:{width:"200px",height:"13px"},margin:"0"},{shape:"rect",size:{width:"100px",height:"12px"},margin:"5px 0"},{shape:"rect",size:{width:"120px",height:"12px"},margin:"0"}],direction:"vertical",horizontalAlign:"left"});function ve({type:e,children:t,icon:i,width:o,minWidth:s,maxWidth:a,title:r,onClose:l,padding:c,fontSize:u,gap:h,lineHeight:g,solidBackground:m=!1,align:x="left",visible:b=!0,loading:v=!1}){if(!b)return null;const y=F(ge.userSettings);return n.jsxs(ab,{isLightTheme:(y==null?void 0:y.appearance.theme)===Re.Light,className:"message",closable:!!l,type:e,align:x,width:o,minWidth:s,maxWidth:a,padding:c,fontSize:u,gap:h,lineHeight:g,solidBackground:m,children:[n.jsx(M,{size:4,align:x,icon:i===null?null:i!=null?i:dn[e].icon({}),children:r!=null?r:dn[e].title}),l&&n.jsx(E,{onClick:l,icon:n.jsx(Nt,{}),className:"close-button"}),t&&n.jsx("div",{className:"info-text",children:t}),v&&n.jsx(gb,{})]})}const mb=p.div.withConfig({componentId:"sc-12bwuta-0"})(["max-height:400px;overflow-y:auto;"]),fb=({error:e})=>n.jsx(n.Fragment,{children:n.jsx(ke,{text:e.message,image:n.jsx(uf,{}),children:n.jsxs(A,{mw:"500px",d:"column",gap:"16px",children:[n.jsx(ye,{}),n.jsx(Gc,{title:n.jsx(ve,{type:"failure",fontSize:"0.95rem",title:n.jsxs(A,{children:[n.jsx("span",{children:"Суть ошибки"}),n.jsx(hc,{})]})}),children:n.jsx(ve,{type:"failure",fontSize:"0.95rem",title:"",icon:"",children:n.jsx(mb,{children:e.stack})})})]})})}),xb=/Cannot access 'get' before initialization/,vb=/Failed to fetch dynamically imported module/,bb=2,il="reloadCount";class vd extends d.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){var o;console.error("Uncaught error:",t,i);const s=(o=Number(sessionStorage.getItem("reloadCount")))!==null&&o!==void 0?o:0;s<bb&&t!==null&&t!==void 0&&t.message&&(vb.test(t.message)||xb.test(t.message))&&(sessionStorage.setItem(il,`${s+1}`),window.location.reload())}render(){return this.state.hasError?n.jsx(fb,{error:this.state.error}):(sessionStorage.setItem(il,"0"),this.props.children)}}const bd=S({name:"close",sid:"jt4tnx"}),yd=S({name:"open",sid:"gxr3sv"}),yb=R(!1,{name:"$isModalOpen",sid:"-2d2og0"}).on(yd,()=>!0).on(bd,()=>!1),ol={close:bd,open:yd},wb={$isModalOpen:yb},Ra=d.createContext({isOpen:!1,component:void 0,back:()=>{},close:()=>{},open:()=>{},title:void 0,canBack:!1}),_b=({children:e})=>{const[t,i]=d.useState(!1),[o,s]=d.useState([]),[a,r]=d.useState([]),l=F(wb.$isModalOpen),c=a.length>1,u=d.useCallback(()=>{c&&(a.pop(),o.pop(),r([...a]),s([...o]))},[a,r]),h=d.useCallback((v,y)=>{v&&(t?(r(()=>[...a,v]),s(()=>[...o,y!=null?y:""])):(r(()=>[v]),s(y?[y]:[])),i(()=>!0),ol.open())},[r,i,a,t]),g=d.useCallback(()=>{i(()=>!1),ol.close()},[r,i]),m=d.useMemo(()=>a[a.length-1],[a]),x=d.useMemo(()=>o[o.length-1],[o]),b=d.useCallback(v=>{v&&r([...a,v])},[]);return d.useEffect(()=>{l!==t&&i(l)},[l]),n.jsx(Ra.Provider,{value:{back:u,open:h,close:g,isOpen:t,canBack:c,component:m,title:x,setComponent:b},children:e})},K=()=>{const o=d.useContext(Ra),{open:e,isOpen:t}=o,i=Je(o,["open","isOpen"]);return f({open:e,isOpen:t},i)},Dt=p.div.withConfig({componentId:"sc-1d238v1-0"})(["display:flex;align-items:",";justify-content:",";background:",";line-height:",";border-radius:var(--brLight);flex-direction:",";box-shadow:",";padding:",";height:",";max-width:",";width:",";color:var(--text);gap:",";max-height:",";min-height:",";.list{width:100%;display:flex;height:100%;flex-direction:column;overflow-y:auto;padding-right:5px;}","{flex-direction:column;box-shadow:",";border-radius:",";padding:",";background:",";}"],({alignItems:e})=>e!=null?e:"center",({justifyContent:e})=>e!=null?e:"space-between",({background:e})=>e!=null?e:"var(--block)",({lineHeight:e})=>e,({orientation:e})=>e==="vertical"?"column":"row",({shadow:e})=>(e!=null?e:!0)&&"var(--very-mild-shadow)",({padding:e})=>e!=null?e:"20px",({height:e})=>e!=null?e:"330px",({maxWidth:e})=>e!=null?e:"800px",({width:e})=>e!=null?e:"100%",({gap:e})=>e!=null?e:"0",({maxHeight:e})=>e,({minHeight:e})=>e,X.isMobile,({noAppearanceInMobile:e})=>e&&"none",({noAppearanceInMobile:e})=>e&&"none",({noAppearanceInMobile:e})=>e&&"6px",({noAppearanceInMobile:e})=>e&&"transparent"),jb=p.img.withConfig({componentId:"sc-1x2uh6l-0"})(["width:40px;"]);function Ot(e){return n.jsx(jb,_(f({},e),{src:hd,alt:"loading",className:"loading-circle"}))}const kb="/assets/logo-4d9aa449.png",Cb="/assets/mospolytech-logo-white-b1e4f630.png",Sb=p.div.withConfig({componentId:"sc-1bbepw4-0"})(["width:",";height:fit-content;display:flex;justify-content:center;img{filter:invert(var(--invert));width:100%;}"],({width:e})=>e!=null?e:"100%");function Xo({width:e,className:t,short:i=!1}){return n.jsx(Sb,{width:e,className:t!=null?t:"logo",children:n.jsx("img",{src:i?Cb:kb,alt:"Logo"})})}const Ib=p.img.withConfig({componentId:"sc-1j5d4xx-0"})([""]);function $a({loading:e,src:t,height:i,width:o,alt:s=""}){return e?n.jsx(ee,{shape:"rect",size:{width:o,height:i},margin:"0"}):n.jsx(Ib,{src:t,alt:s,height:i,width:o})}const Tb=p.div.withConfig({componentId:"sc-saptpr-0"})([".wrapper{position:relative;width:",";height:",";}.circle-blue{position:absolute;width:",";height:",";border-radius:50%;background:",";animation:expand 0.4s cubic-bezier(0.77,0,0.175,1) forwards;}.circle-blue-shadow{position:absolute;width:",";height:",";border-radius:50%;opacity:1;}.circle-white{position:absolute;top:3px;left:3px;width:",";height:",";transform:scale(0);border-radius:50%;background:var(--block);animation:expand 0.4s 0.5s cubic-bezier(0.77,0,0.175,1) forwards;}@keyframes expand{0%{transform:scale(0);}100%{transform:scale(1);}}.check-svg{position:absolute;width:",";height:",";top:-18px;left:-20px;width:50px;height:50px;top:-13px;left:-14px;transform-origin:center;animation:0.4s cubic-bezier(0.77,0,0.175,1) 0.4s 1 both scaleCheck;}.check-poly{fill:transparent;stroke-width:3;stroke-dasharray:36px 36px;stroke:",";animation:1s cubic-bezier(0.77,0,0.175,1) 0.4s 1 both drawCheck;}@keyframes scaleCheck{0%{opacity:0;}1%{opacity:1;}100%{transform:scale(0.8);}}@keyframes drawCheck{0%{stroke-dashoffset:36px;}100%{stroke-dashoffset:0;}}"],({size:e})=>e,({size:e})=>e,({size:e})=>e,({size:e})=>e,({color:e})=>e!=null?e:"var(--blue)",({size:e})=>e,({size:e})=>e,({size:e})=>`calc(${e} - 6px)`,({size:e})=>`calc(${e} - 6px)`,({size:e})=>`calc(${e} + 10px)`,({size:e})=>`calc(${e} + 10px)`,({color:e})=>e!=null?e:"var(--blue)");function Ma({size:e,color:t,forwardedRef:i}){return n.jsx(Tb,{ref:i,size:e,color:t?C[t].main:void 0,children:n.jsxs("div",{className:"wrapper",children:[n.jsx("div",{className:"circle-blue",children:n.jsx("div",{className:"circle-white"})}),n.jsx("div",{className:"circle-blue-shadow"}),n.jsx("svg",{className:"check-svg",width:e,height:e,viewBox:`0 0 ${e} ${e}`,children:n.jsx("polyline",{className:"check-poly",points:"26 37 34 43 47 27",strokeLinecap:"round"})})]})})}const Eb=p.div.withConfig({componentId:"sc-k8mqiv-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}textarea{border:none;color:var(--text);outline:none;background:",";height:100%;width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:35px;min-height:36px;height:fit-content;max-height:120px;overflow-x:hidden;resize:none;&::placeholder{font-weight:500;}&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e!=null?e:"100%",({width:e})=>e,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({textAreaAppearance:e})=>e?"var(--search)":"transparent",({textAreaAppearance:e})=>e?"10px":"0");function Pb(e){const{value:t,setValue:i,width:o,placeholder:s,required:a,title:r,textAreaAppearance:l=!0,isActive:c=!0}=e;return n.jsxs(Eb,{isActive:c,width:o,textAreaAppearance:l,children:[n.jsx(M,{size:5,required:a,align:"left",bottomGap:"5px",visible:!!r,children:r}),n.jsx("textarea",{onChange:u=>i(u.target.value),placeholder:s,required:a,value:t})]})}const Ab=p.button.withConfig({componentId:"sc-r09aw-0"})(["position:relative;width:",";padding:10px;box-sizing:border-box;opacity:",";color:#fff;font-weight:600;display:flex;align-items:center;justify-content:center;height:",";min-height:",";border-radius:10px;position:relative;overflow:hidden;border:none;cursor:pointer;background:",";animation:",";@keyframes pulsing{0%{outline:0px solid var(--blue);}100%{outline:10px solid transparent;}}&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}@keyframes button-animation-in{0%{opacity:0;transform:scale(0.95);}50%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(0.95);}}@keyframes short-button-animation-in{0%{opacity:0;transform:scale(0.95);}100%{opacity:1;transform:scale(1);}}@keyframes button-animation-out{0%{opacity:0;transform:scale(0.95);}100%{opacity:1;transform:scale(1);}}.inner-button{z-index:1;.inner-button-success{animation:",";}.inner-button-text{animation:button-animation-out 0.5s forwards;}}&::before{content:'';position:absolute;display:block;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--green);width:",";height:",";border-radius:100%;transition:0.6s;z-index:0;}.loading-circle{position:relative;transform:none;left:auto;top:auto;width:30px;height:30px;}@media (max-width:1000px){font-size:0.8em;height:36px;}"],({width:e})=>e!=null?e:"100%",e=>e.isLoading?.5:1,({height:e})=>e!=null?e:"40px",({height:e})=>e!=null?e:"40px",({isDone:e,background:t,isActive:i})=>e?i?"var(--green)":"var(--greenTransparent)":t!=null?t:i?"var(--blue)":"var(--blueTransparent)",({pulsing:e})=>e&&"1s pulsing infinite",({repeatable:e})=>e?"button-animation-in 2s forwards":"short-button-animation-in 2s forwards",e=>e.completed?"2000px":"0",e=>e.completed?"2000px":"0"),xt=({text:e,action:t,width:i,height:o,setCompleted:s,background:a,buttonSuccessText:r="Готово",popUpSuccessMessage:l="Успешно",popUpFailureMessage:c="Nope",pulsing:u,isDone:h=!1,isActive:g=!0,isLoading:m=!1,completed:x=!1,repeatable:b=!0,alerts:v=!0})=>{d.useEffect(()=>{x&&v&&(Q.evokePopUpMessage({message:l,type:"success"}),b&&s&&setTimeout(()=>{s(!1)},2e3))},[x,s]);const y=()=>{if(g&&!h&&!m)return t();v&&Q.evokePopUpMessage({message:c,type:"failure"})};return n.jsx(Ab,{isLoading:m,background:a,className:"submit-button",completed:x,isActive:g&&!h&&!x,onClick:y,isDone:h,width:i,height:o,repeatable:b,tabIndex:g&&!h?0:-1,pulsing:u&&!h,disabled:x,children:n.jsx("div",{className:"inner-button",children:x?n.jsxs("div",{className:"inner-button-success",children:[n.jsx(pf,{})," ",r]}):m?n.jsx(Ot,{}):n.jsx("div",{className:"inner-button-text",children:e})})})},jo={small:"32px",middle:"36px",big:"44px"},kt=e=>({size:t})=>e[t],Os=(e,t)=>{var i;return(t==null?void 0:t.length)===0?null:(i=e.find(o=>o.title===t))!==null&&i!==void 0?i:null},Nb=[{id:"0",title:"ул. Большая Семёновская, 38"},{id:"1",title:"ул. Прянишникова, 2А"},{id:"2",title:"ул. Автозаводская, 16"},{id:"3",title:"ул. Павла Корчагина, 22"},{id:"4",title:"ул. Михалковская, 7"},{id:"5",title:"ул. Садовая-Спасская, 6"},{id:"6",title:"ул. Малая Семеновская, 12"},{id:"7",title:"ул. Лефортовский вал, 26"},{id:"8",title:"ул. 1-я Дубровская, 16а"},{id:"9",title:"ул. 7-я Парковая, 9/26"},{id:"10",title:"ул. 800-летия Москвы, 28 корп. 1"},{id:"11",title:"ул. Михалковская, 7, корп. 3"},{id:"12",title:"ул. Бориса Галушкина, 9"},{id:"13",title:"ул. Павла Корчагина, 20А, корп. 3"},{id:"14",title:"Рижский проезд, 15, корп. 1"},{id:"15",title:"Рижский проезд, 15, корп. 2"},{id:"16",title:"1-й Балтийский переулок, 6/21, корп. 3"}],Ee=[...Nb],Db={БС:"БС",ПР:"ПР",АВ:"АВ",ПК:"ПК",МИХ:"МИХ",СС:"СС",РП:"РП",БАЛТ:"БАЛТ",Д:"Д",ПАРК:"ПАРК",ВЛМ:"ВЛМ",БГ:"БГ",МС:"МС","":""},Js=e=>{const t=()=>e===Ee[0].title,i=()=>e===Ee[1].title,o=()=>e===Ee[2].title,s=()=>e===Ee[3].title||e===Ee[13].title,a=()=>e===Ee[4].title,r=()=>e===Ee[5].title,l=()=>e===Ee[16].title,c=()=>e===Ee[14].title||e===Ee[15].title,u=()=>e===Ee[8].title,h=()=>e===Ee[9].title,g=()=>e===Ee[10].title,m=()=>e===Ee[12].title,x=()=>e===Ee[6].title;return t()?"БС":i()?"ПР":o()?"АВ":s()?"ПК":a()?"МИХ":r()?"СС":c()?"РП":l()?"БАЛТ":u()?"Д":h()?"ПАРК":g()?"ВЛМ":m()?"БГ":x()?"МС":""},UN=e=>{const t=Js(e);return t?t+" ":""},Ob=(e,t)=>e.length>8?e.substring(0,8):e.length===3&&(t==null?void 0:t.length)===2?e+"-":e.length===3&&(t==null?void 0:t.length)===4?e.substring(0,2):e,Lb=e=>{const t=e.target.selectionStart;let i=e.target.value.replace(/\D/g,""),o="";if(!i.length)return"";if(e.target.value.length!==t){var s;return/\D/g.test((s=e.nativeEvent.data)!==null&&s!==void 0?s:"")?i:e.target.value}return i[0]!=="7"&&(i="7"+i),o="+7"+" ",i.length&&(o+="("+i.substring(1,4)),i.length>=5&&(o+=") "+i.substring(4,7)),i.length>=8&&(o+="-"+i.substring(7,9)),i.length>=10&&(o+="-"+i.substring(9,11)),o},sl=(e,t,i,o,s,a=4)=>{var r;return t+=i.substring(0,a),!o||!((r=o[0])!==null&&r!==void 0&&(r=r.toLowerCase())!==null&&r!==void 0&&r.match(/[а-я]/))?t:(t+=o[0].toLowerCase(),t.substring(0,s.length+a+2))},zb=(e,t)=>{var i,o;const s=e.replace(/\D/g,""),a=e.match(new RegExp("(?<=\\d)[а-яА-Я]"));let r=t+" ";switch(t){case"БС":const l=e.substring(3).match(/^[а-яА-Я]{1,2}/);return!l||!((i=l[0])!==null&&i!==void 0&&(i=i.toUpperCase())!==null&&i!==void 0&&i.match(/^(А|Б|В|НД?D?)$/))?r:(r+=l[0].toUpperCase(),(l[0].length===1?e[3]&&!e[5]&&e[4]===" ":e[4]&&!e[6]&&e[5]===" ")?r+" ":(s.length>0&&(r+=" "),r+=s.substring(0,3),!a||!((o=a[0])!==null&&o!==void 0&&(o=o.toLowerCase())!==null&&o!==void 0&&o.match(/[а-я]/))?r:(r+=a[0].toLowerCase(),r.substring(0,10))));case"ПК":return sl(e,r,s,a,t,3);case"АВ":case"ПР":case"СС":case"МИХ":return sl(e,r,s,a,t);case"":return e;default:return r+e.substring(t.length+1)}},Rb=e=>e.replace(/\D/g,"").substring(0,4),on={groupMask:Ob,phoneMask:Lb,cabinetMask:zb,innerPhoneMask:Rb},$b=(e,t,i,o,s,a,r,l)=>{const[c,u]=d.useState(i),[h,g]=d.useState(o!=null?o:!1);d.useEffect(()=>{u(i)},[i]);const m=d.useCallback(y=>y.replace(/@\.*/,"@mospolytech.ru").replace(/mospolytech.ru?/,""),[i]);return{inputType:c,danger:h,phoneMaskKeyDown:y=>{y.key==="Backspace"&&(e[1]==="7"&&e.length<=4||e[0]==="8"&&e.length<=3)&&t("")},buttonOnClick:()=>u(y=>y==="password"?"text":"password"),handleOnChange:y=>{if(l)if(r)t(r(y.target.value,e));else if(i==="tel")t(on.phoneMask(y));else if(i==="email")t(m(y.target.value));else if(i==="cabinet"){const I=Object.keys(Db).find(k=>y.target.value.startsWith(k));t(on.cabinetMask(y.target.value,I||""))}else t(i==="innerPhone"?on.innerPhoneMask(y.target.value):y.target.value);else t(y.target.value);if(i==="date"&&(s||a)){const j=new Date(y.target.value);let I=!1;if(s){const k=new Date(s);I=j<k}if(a&&!I){const k=new Date(a);I=j>k}g(I)}}}},Mb=p.div.withConfig({componentId:"sc-lq59rg-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.left-icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}.message{margin-bottom:5px;}input{border:none;color:var(--text);outline:none;background:",";width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:",";height:",";max-height:",";border:",";&::placeholder{font-weight:500;}&:focus-visible{outline:",";}&:focus:not(:focus-visible){outline:none;}}.loading-circle{position:absolute;bottom:5px;right:5px;width:25px;height:25px;}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:",";color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e!=null?e:"100%",({minWidth:e,width:t})=>e!=null?e:t,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({inputAppearance:e})=>e?"var(--theme-1)":"transparent",({leftIcon:e,inputAppearance:t})=>e?"30px":t?"10px":"0",({inputAppearance:e})=>e?"35px":"0",kt(jo),kt(jo),({danger:e})=>e&&`2px solid ${C.red.main}`,({inputAppearance:e})=>e&&"4px solid var(--almostTransparentOpposite)",({inputAppearance:e})=>e?"var(--search2)":"transparent"),Pe=d.forwardRef(function(t,i){const{value:o,setValue:s,leftIcon:a,title:r,required:l,width:c,minWidth:u,customMask:h,placeholder:g="Введите сюда",type:m="text",danger:x,alertMessage:b,loading:v=!1,isActive:y=!0,inputAppearance:j=!0,mask:I=!1,autocomplete:k=!1,minValue:P=void 0,maxValue:$=void 0,minLength:W=void 0,maxLength:D=void 0,hideCross:G=!1,stepSize:V=.1,size:H="middle",onClear:U}=t,{inputType:B,buttonOnClick:ae,danger:be,handleOnChange:Ne,phoneMaskKeyDown:Se}=$b(o,s,m,x,P,$,h,I),_e=o&&m==="date"?hf(new Date(o),"yyyy-MM-dd"):o!=null?o:"";return n.jsxs(Mb,{leftIcon:!!a,isActive:y,inputAppearance:j,width:c,danger:be,minWidth:u,size:H,children:[n.jsx(M,{size:5,align:"left",visible:!!r,bottomGap:"5px",required:l,children:r}),n.jsx(ve,{type:"alert",visible:!!b,icon:n.jsx(gf,{}),title:b!=null?b:""}),a&&n.jsx("span",{className:"left-icon",children:a}),n.jsx("input",{id:g,min:P,max:$,minLength:W,maxLength:D,step:V!=null?V:void 0,type:B,placeholder:g,value:_e,autoComplete:k?"on":"off",onKeyDown:tt=>m==="tel"&&Se(tt),onChange:Ne,required:l,readOnly:!y,ref:i}),m!=="password"?!!(o!=null&&o.length)&&y&&(v?n.jsx(Ot,{}):!G&&n.jsx(E,{icon:n.jsx(Nt,{}),onClick:U!=null?U:()=>s(""),tabIndex:-1})):n.jsx(E,{icon:B==="password"?n.jsx(mf,{}):n.jsx(wa,{}),tabIndex:-1,onClick:ae})]})}),Fb=p.div.withConfig({componentId:"sc-1e8ovcm-0"})(["user-select:none;min-width:56px;height:30px;.checkbox{display:none;}.toggle-body{width:100%;height:100%;display:block;position:relative;background:var(--theme-2);cursor:pointer;border-radius:50px;padding:4px;transition:0.2s background;}.toggle-circle{height:100%;background:#fff;width:22px;display:block;border-radius:100%;transition:0.2s;}.checkbox:checked + .toggle-body .toggle-circle{margin-left:calc(100% - 22px);}.checkbox:checked + .toggle-body{background:#6290e4;}.checkbox:active + .toggle-body .toggle-circle{transform:scale(0.9);}"]),Bb="/assets/thinking-emoji-f3c10f79.gif",Ub=["loading"],Hb=p.div.withConfig({shouldForwardProp:e=>!Ub.includes(e)}).withConfig({componentId:"sc-1c80rzu-0"})(["position:relative;width:100%;padding:10px;height:100%;.loading{width:100%;height:100%;position:absolute;top:0;left:0;transition:0.2s;opacity:",";visibility:",";transform:scale(",");display:flex;align-items:center;justify-content:center;z-index:5;img{width:40px;}}.content{transition:0.2s;opacity:",";visibility:",";height:100%;}.reload{display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text);& > * + *{margin-top:10px;}}@media (max-width:550px){padding:10px;}"],({loading:e})=>e?1:0,({loading:e})=>e?"visible":"hidden",({loading:e})=>e?"1":"0.98",({loading:e})=>e?0:1,({loading:e})=>e?"hidden":"visible"),ko=({children:e,load:t,error:i,data:o,deps:s=[],noDataCheck:a=!1,loadEveryVisit:r=!1})=>(d.useEffect(()=>{(!o||r)&&t()},s),n.jsxs(Hb,{loading:!!i||!o,children:[n.jsx("span",{className:"loading",children:i?n.jsx("div",{className:"reload",children:n.jsx(ke,{text:i,image:a&&Bb,children:!a&&n.jsx(E,{onClick:()=>t(),text:"Загрузить снова",icon:n.jsx(Bo,{})})})}):n.jsx(Ot,{})}),n.jsx("div",{className:"content",children:e})]})),Wb=p.a.withConfig({componentId:"sc-jdcjy5-0"})(["display:flex;align-items:center;justify-content:",";border:none;color:",";background:",";padding:",";border-radius:10px;cursor:pointer;font-weight:600;transition:0.2s transform;width:",";text-decoration:none;font-size:0.8em;height:",";min-height:",";opacity:",";pointer-events:",";button{outline:none;}&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:active{transform:scale(0.95);}&:hover{background:",";filter:brightness(0.9);color:",";}svg{margin-right:",";width:15px;height:15px;}@media (max-width:1000px){font-size:12px;height:36px;svg{width:14px;height:14px;}}"],({align:e})=>e!=null?e:"center",({textColor:e})=>e||"var(--text)",({isChosen:e,background:t})=>e?"var(--blue)":t!=null?t:"var(--search)",({padding:e})=>e!=null?e:"10px",({width:e})=>e||"fit-content",({height:e="40px"})=>e,({minHeight:e="40px"})=>e,({isActive:e})=>e?1:.5,({isActive:e})=>!e&&"none",({hoverBackground:e,isChosen:t,background:i})=>e!=null?e:t?"var(--blue)":i!=null?i:"var(--search)",({hoverTextColor:e})=>e,({text:e})=>e?"7px":"0"),Gb=({icon:e,text:t,onClick:i,width:o,background:s,textColor:a,align:r,href:l,height:c,minHeight:u,padding:h,isActive:g=!0,isChosen:m=!1})=>n.jsxs(Wb,{text:!!t,onClick:x=>g&&i&&i(x),isChosen:m,width:o,background:s,textColor:a,href:l,align:r,isActive:g,height:c,padding:h,minHeight:u,children:[!!e&&e,t&&n.jsx("span",{children:t})]}),pn=d.memo(Gb),Fa=p.div.withConfig({componentId:"sc-1ur01ep-0"})(["width:100%;height:fit-content;max-width:",";padding:20px;border-radius:var(--brLight);background:var(--block);box-shadow:var(--block-shadow);display:flex;flex-direction:column;row-gap:20px;padding-top:",";@media (max-width:1000px){box-shadow:none;padding:10px 0px;background:transparent;}"],({maxWidth:e})=>e!=null?e:"700px",({noHeader:e})=>e?"20px":"80px"),Vb=p.a.withConfig({componentId:"sc-1lxo6dx-0"})(["display:flex;align-items:center;justify-content:flex-start;column-gap:5px;text-decoration:none;color:var(--text);padding:5px;border-radius:var(--brLight);.title{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold;font-size:0.8em;}.icon{display:flex;align-items:center;justify-content:center;min-width:28px;width:28px;height:28px;svg{width:21px;height:21px;}}"]),qb=({title:e,link:t,type:i})=>n.jsxs(Vb,{href:t,target:"_blank",children:[n.jsx("div",{className:"icon",children:i==="document"?n.jsx(L,{}):n.jsx(ff,{})}),n.jsx("div",{className:"title",children:e})]}),Qb=p.label.withConfig({componentId:"sc-1b034ry-0"})(["transition:0.1s;opacity:",";transform:scale(",");display:flex;align-items:center;opacity:",";cursor:pointer;input[type='checkbox']{display:none;}.checkbox-text{user-select:none;white-space:pre-wrap;font-size:",";margin-left:8px;}&:hover > .checkbox-square{box-shadow:0 0 1px 5px var(--theme-3);}"],({invisibleOnFalse:e,checked:t})=>e?t?1:0:1,({invisibleOnFalse:e,checked:t})=>e?t?1:.8:1,({isActive:e})=>!e&&.7,({fontSize:e})=>e!=null?e:"1rem"),Yb=p.div.withConfig({componentId:"sc-1b034ry-1"})(["min-width:16px;width:16px;height:16px;border:2px solid var(--grey);border-radius:6px;display:flex;align-items:center;justify-content:center;transition:0.1s box-shadow;.checkbox:checked + &{background:var(--reallyBlue);border:2px solid var(--reallyBlue);}svg{color:#fff;width:13px;height:13px;}&:focus-visible{outline:4px solid var(--theme-4);}&:focus:not(:focus-visible){outline:none;}"]),lt=({text:e,checked:t,setChecked:i,fontSize:o,visible:s=!0,isActive:a=!0,invisibleOnFalse:r=!1})=>{if(!s)return null;const l=()=>{a&&i(!t)};return n.jsxs(Qb,{checked:t,invisibleOnFalse:r,fontSize:o,isActive:a,className:"checkbox",onClick:c=>c.stopPropagation(),children:[n.jsx("input",{className:"checkbox",type:"checkbox",checked:t,onChange:l}),n.jsx(Yb,{tabIndex:0,className:"checkbox-square",children:t&&n.jsx(Bi,{})}),e&&n.jsx("div",{className:"checkbox-text",children:e})]})},hn=p.span.withConfig({componentId:"sc-1qnplef-0"})(["color:#fff;background:",";position:",";box-shadow:",";top:",";left:",";right:",";outline:",";font-size:0.6em;border-radius:10px;display:flex;justify-content:center;align-items:center;transform:translate(-50%,-50%);width:fit-content;padding:0 5px;min-width:16px;font-weight:bold;height:16px;display:",";&::before{content:'';background:",";display:block;width:100%;height:16px;border-radius:10px;position:absolute;inset:0;top:0px;z-index:-1;animation:",";}@keyframes pulse-animation{0%{transform:scale(1);opacity:1;}90%{transform:scale(2);opacity:0;}100%{transform:scale(1);opacity:0;}}"],({color:e})=>C[e!=null?e:"red"].light1,({position:e})=>e!=null?e:"absolute",({color:e,shadow:t})=>t&&`0 0 35px ${C[e!=null?e:"red"].main}`,({top:e})=>e!=null?e:"50%",({left:e})=>e!=null?e:"auto",({right:e})=>e!=null?e:"50%",({outline:e})=>e,({visible:e})=>!e&&"none",({color:e})=>C[e!=null?e:"red"].light1,({pulsing:e})=>e?"pulse-animation 1s infinite linear":"none"),Xs=e=>e.split(" ").map(t=>t[0]),ht=(e,t)=>{const i=Xs(e),o=C[Tx[i[0]]];return o==null?void 0:o[t!=null?t:"main"]},Kb=(e,t=265,i=200)=>(e.preventDefault(),{x:e.clientX<window.innerWidth/2?e.clientX:e.clientX-t,y:e.clientY<window.innerHeight/2?e.clientY:e.clientY-i}),Jb={open:!1,content:null,type:"left-click",position:{x:0,y:0}},Xb=()=>rt(Zb),wd=S({name:"open",sid:"-wfpi1u"}),_d=S({name:"close",sid:"-wdkoya"}),jd=S({name:"changePosition",sid:"-o97fsi"}),Zb=R(Jb,{name:"$contextMenuStore",sid:"8g6rv0"}).on(wd,(e,{content:t,e:i,height:o,type:s="left-click"})=>({position:Kb(i,220,o),open:!0,content:t,type:s})).on(_d,e=>_(f({},e),{open:!1})).on(jd,(e,{position:t})=>_(f({},e),{position:t})),Ye={open:wd,close:_d,changePosition:jd},ey={useContextMenu:Xb},al={isOpen:!1,message:null,onConfirm:()=>null,onReject:()=>null},ty=()=>$t(ny),kd=S({name:"evokeConfirm",sid:"-pu33lb"}),Cd=S({name:"closeConfirm",sid:"pyvl9s"}),ny=R(al,{name:"$confirm",sid:"-3b3bt0"}).on(kd,(e,{message:t,onReject:i,onConfirm:o,isSubmitSuccess:s})=>({isOpen:!0,message:t,onConfirm:o,onReject:i,isSubmitSuccess:s})).on(Cd,e=>_(f({},e),{isOpen:!1})).on(ne.userGuid,()=>f({},al)),iy={useConfirm:ty},nt={evokeConfirm:kd,closeConfirm:Cd},oy="Jun 26 2024 12:00:00 GMT+0300",Sd="Jun 28 2024 12:00:00 GMT+0300",sy="Подача заявок открыта с 12:00 26 июня до 12:00 28 июня!",HN=e=>{const t=new Date;return t<new Date(oy)?sy:t>new Date(Sd)?"Подача заявок закрыта":""},rl={message:"",type:"success",isOpen:!1,time:2e3},Id=S({name:"evokePopUpMessage",sid:"-w0lm76"}),Td=S({name:"openPopUpMessage",sid:"-zezpg0"}),Ed=S({name:"clearStore",sid:"-j3lgvb"});R(rl,{name:"$popUpstore",sid:"7lm213"}).on(Id,(e,{message:t,type:i,time:o=2e3,onClick:s})=>({isOpen:!0,message:t,type:i,time:o,onClick:s})).on(Td,(e,{isOpen:t})=>_(f({},e),{isOpen:t})).on(Ed,()=>f({},rl));const Vt={evokePopUpMessage:Id,openPopUpMessage:Td,clearStore:Ed},ll={listApplication:null,error:null,dataUserApplication:null},ci=Y(()=>T(void 0,null,function*(){const e=yield uv();try{return e.data.reverse()}catch(t){throw new Error("Не удалось загрузить заявления")}}),{name:"getApplicationsFx",sid:"tybprn"}),mo=Y(()=>T(void 0,null,function*(){const e=yield pv();try{return e.data}catch(t){throw new Error("Не удалось загрузить информацию о пользователе")}}),{name:"getUserDataApplicationsFx",sid:"-ny1ocy"}),Zo=Y(e=>T(void 0,null,function*(){return yield hv(e)}),{name:"postApplicationFx",sid:"l7zpyo"});w({and:[{clock:Zo.doneData,fn:e=>{const t=e.data.dismissalResponse;return t.isError?{message:t.errorString,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:Vt.evokePopUpMessage}],or:{sid:"-ds2jr9"}});w({and:[{clock:Zo.fail,fn:()=>({message:"Не удалось отправить форму. Попробуйте позже",type:"hrFailure",time:3e5}),target:Vt.evokePopUpMessage}],or:{sid:"-cuj3k8"}});const ay=S({name:"clearStore",sid:"wrw6pq"});Un({and:{from:Zo.doneData,to:ci},or:{sid:"-ccdvzb"}});R(ll,{name:"$applicationsStore",sid:"-2f4djn"}).on(mo,e=>_(f({},e),{error:null})).on(mo.doneData,(e,t)=>_(f({},e),{dataUserApplication:t})).on(mo.failData,(e,t)=>_(f({},e),{error:t.message})).on(ci,e=>_(f({},e),{error:null})).on(ci.doneData,(e,t)=>_(f({},e),{listApplication:t})).on(ci.failData,(e,t)=>_(f({},e),{error:t.message})).on(ay,()=>f({},ll));const ry={getApplicationsFx:ci,getUserDataApplicationsFx:mo,postApplicationFx:Zo},cl={listApplication:null,error:null,dataUserApplication:null,dataWorkerApplication:null},Co=Y(()=>T(void 0,null,function*(){const e=yield lv();try{return e.data}catch(t){throw new Error("Не удалось загрузить информацию о пользователе")}}),{name:"getWorkerPostsFx",sid:"pwe8rj"}),di=Y(()=>T(void 0,null,function*(){const e=yield rv();try{return e.data.reverse()}catch(t){throw new Error("Не удалось загрузить заявления")}}),{name:"getApplicationsFx",sid:"-nmy8wp"}),ui=Y(()=>T(void 0,null,function*(){const e=yield Zc();try{return e.data}catch(t){throw new Error("Не удалось загрузить информацию о пользователе")}}),{name:"getUserDataApplicationsFx",sid:"-meik6r"}),Ba=Y(e=>T(void 0,null,function*(){const t=yield dv(e);if(t.result==="ok")return"ok";throw new Error(t.error_text)}),{name:"postApplicationFx",sid:"tvfs23"}),ly=()=>{const{listApplication:e,dataUserApplication:t,dataWorkerApplication:i,error:o}=$t(Pd);return{data:{listApplication:e,dataUserApplication:t,dataWorkerApplication:i},loading:$t(ui.pending),workerLoading:$t(Ae({and:[Co.pending,ry.postApplicationFx.pending,(s,a)=>s||a],or:{name:"workerLoading",sid:"-qy8hlf"}})),error:o}};Un({and:{from:Ba.doneData,to:di},or:{sid:"-tk9r3i"}});w({and:[{clock:Ba.failData,fn:e=>({message:`Не удалось отправить форму. Ошибка: ${e.message}`,type:"failure",time:3e4}),target:Q.evokePopUpMessage}],or:{sid:"-ti2kq2"}});const Pd=R(cl,{name:"$applicationsStore",sid:"dx8185"}).on(ui,e=>_(f({},e),{error:null})).on(ui.doneData,(e,t)=>_(f({},e),{dataUserApplication:t})).on(ui.failData,(e,t)=>_(f({},e),{error:t.message})).on(di,e=>_(f({},e),{error:null})).on(di.doneData,(e,t)=>_(f({},e),{listApplication:t})).on(di.failData,(e,t)=>_(f({},e),{error:t.message})).on(Co,e=>_(f({},e),{error:null})).on(Co.doneData,(e,t)=>_(f({},e),{dataWorkerApplication:t})).on(ne.userGuid,()=>f({},cl)),Ua={useApplications:ly},Zs={getApplicationsFx:di,getUserDataApplicationsFx:ui,postApplicationFx:Ba,getWorkerPosts:Co},WN={applications:Pd},xe=(e,t="long")=>{if(!e)return"";switch(t){case"long":return new Date(Date.parse(e)).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"});case"short":return new Date(Date.parse(e)).toLocaleDateString("ru",{month:"short",day:"numeric"});case"numeric":return new Date(Date.parse(e)).toLocaleDateString("ru",{year:"numeric",month:"2-digit",day:"2-digit"});case"weird":const i=e.getMonth()<10?`0${e.getMonth()+1}`:`${e.getMonth()+1}`;return`${e.getFullYear()}-${i}-${e.getDate()}`;case"extraWeird":const o=e.getMonth()<9?`0${e.getMonth()+1}`:`${e.getMonth()+1}`,s=e.getDate()<10?`0${e.getDate()}`:`${e.getDate()}`;return`${e.getFullYear()}-${o}-${s}`;default:return new Date(Date.parse(e)).toLocaleDateString("ru",{month:"short",day:"numeric"})}},dl=(e,t)=>{if(t){const i=new Date(Date.parse(t));return i.setDate(i.getDate()+e),xe(i,"extraWeird")}else{const i=new Date;return i.setDate(i.getDate()+e),xe(i,"extraWeird")}},zt=({config:e})=>({title:e.title,data:[{title:"Дата выдачи",type:"date",value:"",editable:!0,fieldName:e.issueDateFieldName,required:!0,minValueInput:dl(-30*11),maxValueInput:dl(0)},{title:"Организация, выдавшая справку",type:"textarea",fieldName:e.organizationFieldName,value:"",editable:!0,required:!0}],documents:{files:[],fieldName:e.docsFieldName,required:!0,maxFiles:1,allowedTypes:["pdf"]}}),so={kvdCert:zt({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}}),fluorographyCert:zt({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}}),vichRwCert:zt({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}}),graftCert:zt({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}})},et=(e,t)=>{var i;const o=!((i=e.documents)!==null&&i!==void 0&&i.required)||!!e.documents.files.length,s=cy(e);return!e.data.find(a=>{var r;if(a.type==="date"&&(a.maxValueInput||a.minValueInput)){var l,c;const h=new Date((l=(c=a.value)===null||c===void 0?void 0:c.toString())!==null&&l!==void 0?l:0);if(a.minValueInput){const g=new Date(a.minValueInput);if(h<g)return!0}if(a.maxValueInput){const g=new Date(a.maxValueInput);if(h>g)return!0}}const u=(r=a.value)===null||r===void 0||(r=r.toString())===null||r===void 0?void 0:r.length;return a.minValueLength&&u&&u<a.minValueLength?!0:t&&a.specialType&&!Object.values(t).includes(a.specialType)?null:a.type!=="checkbox-docs"?!a.value&&a.required:a.required&&!a.items.find(h=>!!h.files.length)})&&o&&s};function cy(e){if(!e.addNew)return!0;const t=!e.data.length,i=e.default[0].every(o=>{var s;return!o.required||((s=e.optionalCheckbox)===null||s===void 0?void 0:s.value)});return!!(t&&i||!t&&e.data.every(o=>o.every(s=>!s.required||s.value)))}p.div.withConfig({componentId:"sc-1f20f07-0"})(["display:flex;align-items:flex-start;justify-content:center;position:relative;.message{position:absolute;right:",";left:",";top:",";bottom:",";}.circle + .message{top:",";left:",";right:",";bottom:auto;}.circle{min-width:",";min-height:",";background:",";outline:6px solid ",";margin:6px;border-radius:100%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:0.8em;font-weight:bold;cursor:pointer;}"],({direction:e})=>e==="vertical"?"calc(100% + 10px)":"auto",({direction:e})=>"auto",({direction:e})=>e==="vertical"?"0%":"auto",({direction:e})=>e==="vertical"?"auto":"calc(100% + 10px)",({direction:e})=>e==="vertical"?"0%":"calc(100% + 10px)",({direction:e})=>e==="vertical"?"calc(100% + 10px)":"auto",({direction:e})=>e==="vertical"?"100%":"auto",({type:e})=>e==="big"?"30px":"20px",({type:e})=>e==="big"?"30px":"20px",({reached:e,current:t})=>t?"var(--reallyBlue)":e?C.green.main:C.grey.main,({reached:e,current:t})=>t?C.blue.transparent3:e?C.green.transparent3:C.grey.transparent3);const dy=p.div.withConfig({componentId:"sc-1pl20gt-0"})(["min-width:",";background:var(--almostTransparentOpposite);border-radius:10px;height:",";overflow:hidden;width:100%;.inside-line{height:",";border-radius:10px;width:",";background:",";}"],({direction:e,distance:t})=>e==="vertical"?"5px":(t!=null?t:100)+"px",({direction:e,distance:t})=>e==="vertical"?(t!=null?t:100)+"px":"5px",({direction:e,filled:t})=>e==="vertical"?(t!=null?t:100)+"%":"5px",({direction:e,filled:t})=>e==="vertical"?"100%":(t!=null?t:100)+"%",({reached:e})=>e?C.green.main:"none"),uy=({distance:e,filled:t,reached:i,direction:o})=>n.jsx(dy,{direction:o,distance:e,reached:i,filled:t,children:n.jsx("div",{className:"inside-line"})}),py=300,es=({defaultValue:e,onDebounce:t,onClear:i,triggerOn:o,triggerDelay:s,deps:a=[],delay:r=py})=>{const[l,c]=d.useState(e!=null?e:""),[u,h]=d.useState(""),[g,m]=d.useState(!1);return d.useEffect(()=>{if(l!==null)if(l.length){m(!0);const x=setTimeout(()=>T(void 0,null,function*(){yield t(l),h(l),m(!1)}),r);return()=>clearTimeout(x)}else u.length!==0&&(i==null||i(l),c(""),m(!1))},[l]),d.useEffect(()=>{var x;if(a.length&&(!((x=o==null?void 0:o(l))!==null&&x!==void 0)||x)){m(!0);const b=setTimeout(()=>T(void 0,null,function*(){yield t(l),m(!1)}),s!=null?s:r);return()=>clearTimeout(b)}},[...a]),[l,c,g]},Be=(e,t)=>{if(!e.length)return"";const i=t!=null?t:!0,o=e.replace(/\s/g,"").replace(/\$/g,"s").replace(/-/g,"").toLowerCase();return i?o.replace(/[,'._/]/g,""):o},Ad=e=>{const t={a:"ф",b:"и",c:"с",d:"в",e:"у",f:"а",g:"п",h:"р",i:"ш",j:"о",k:"л",l:"д",m:"ь",n:"т",o:"щ",p:"з",q:"й",r:"к",s:"ы",t:"е",u:"г",v:"м",w:"ц",x:"ч",y:"н",z:"я","[":"х","{":"Х","]":"ъ","}":"Ъ","'":"э",";":"ж",",":"б",".":"ю","<":"Б",">":"Ю",":":"Ж",'"':"Э"};let i="";for(let o=0;o<e.length;o++){const s=Be(e.charAt(o),!1),a=t[s]?o===0?t[s].toUpperCase():t[s]:s;i+=a}return i},Nd=e=>/[A-Za-z]/.test(e),hy=p.span.withConfig({componentId:"sc-fcxzak-0"})(["color:var(--blue);font-weight:500;border-radius:2px;cursor:pointer;&:hover{background:",";}&:focus-visible{background:",";outline:none;}&:focus:not(:focus-visible){outline:none;}"],C.blue.transparent2,C.blue.transparent2),Dd=({value:e,setValue:t,visible:i=!0})=>{if(e.length===0||!i||!Nd(e))return null;const o=Ad(e),s=()=>t(o);return n.jsxs(re,{width:"100%",maxWidth:"100%",onClick:s,children:["Возможно, вы имели в виду ",n.jsx(hy,{tabIndex:10,children:o})]})};function Gn(e,t){d.useEffect(()=>{const i=o=>{const s=e==null?void 0:e.current;!s||s.contains(o.target)||t(o)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}},[e,t])}function Ut(e,t,i=0){return e>t?i:e<i?t:e}const gy=p.div.withConfig({componentId:"sc-19hjk36-0"})(["display:flex;flex-direction:column;row-gap:8px;width:",";position:relative;"],({width:e})=>e!=null?e:"100%"),my=p(Dt).withConfig({componentId:"sc-19hjk36-1"})(["position:absolute;top:45px;z-index:10;height:auto;width:100%;left:0;overflow-y:auto;"]),fy=p.div.withConfig({componentId:"sc-19hjk36-2"})(["padding:8px 12px;width:100%;display:flex;align-items:center;gap:8px;font-weight:",";color:",";background:",";font-size:0.85rem;.icon{display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;}}&:hover{background:",";}"],({selected:e})=>e?"600":"500",({selected:e})=>e?"#fff":"var(--text)",({selected:e})=>e?C.blue.main:"transparent",({selected:e})=>e?C.blue.main:"var(--theme-1)"),Vn=({value:e,width:t,placeholder:i,inputAppearance:o,loading:s,hints:a,leftIcon:r,focusOn:l,setValue:c,customMask:u,onHintClick:h,validationCheck:g=!1,size:m="middle"})=>{const[x,b]=d.useState(0),[v,y]=d.useState(!1),j=d.useRef(null),I=d.useRef(null),k=d.useRef(null);Gn(j,()=>y(!1)),d.useEffect(()=>{l&&setTimeout(()=>{var D;return(D=k.current)===null||D===void 0?void 0:D.focus()},50)},[l]);const P=D=>{var G;if((((G=a==null?void 0:a.length)!==null&&G!==void 0?G:0)>0||s)&&y(!0),D.key==="ArrowDown"){var V,H;(V=I.current)===null||V===void 0||V.scrollIntoView({block:"start",behavior:"smooth"}),typeof x=="number"&&b(Ut(x+1,((H=a==null?void 0:a.length)!==null&&H!==void 0?H:1)-1,0))}else if(D.key==="ArrowUp"){var U,B;(U=I.current)===null||U===void 0||U.scrollIntoView({block:"end",behavior:"smooth"}),typeof x=="number"&&b(Ut(x-1,((B=a==null?void 0:a.length)!==null&&B!==void 0?B:1)-1,0))}else D.key==="Enter"?(a!=null&&a[x!=null?x:0].title&&c(a==null?void 0:a[x!=null?x:0].title),y(!1),h==null||h(a==null?void 0:a[x!=null?x:0])):b(0)},$=D=>()=>{var G;b(D),c((G=a==null?void 0:a[D].title)!==null&&G!==void 0?G:""),y(!1),h==null||h(a==null?void 0:a[D])},W=()=>{a!=null&&a.length&&y(!0)};return n.jsxs(gy,{width:t,onKeyDown:P,onMouseDown:W,ref:j,children:[n.jsx(Pe,{size:m,value:e,placeholder:i,leftIcon:r!=null?r:n.jsx(Pn,{}),inputAppearance:o,setValue:c,loading:s,width:t,mask:!0,customMask:u,ref:k}),n.jsx(Dd,{setValue:c,value:e,visible:g}),v&&n.jsx(my,{height:"fit-content",maxWidth:"100%",maxHeight:"250px",width:"100%",onKeyDown:P,padding:"0",orientation:"vertical",children:a==null?void 0:a.map(({title:D,icon:G},V)=>{const H=x===V;return n.jsxs(fy,{onClick:$(V),ref:H?I:null,selected:H,children:[G&&n.jsx("div",{className:"icon",children:G}),n.jsx("span",{children:D})]},D+V)})})]})},Ha=({whereToSearch:e,searchEngine:t,setResult:i,inputAppearance:o,setExternalValue:s,hints:a,width:r,loadingOnType:l=!1,placeholder:c="Поиск по меню",validationCheck:u=!1})=>{const h=y=>{i(t(y,e))},g=()=>{i(null)},[m,x,b]=es({onDebounce:h,onClear:g}),v=y=>{x(y),s&&s(y)};return n.jsx(Vn,{value:m!=null?m:"",setValue:v,inputAppearance:o,placeholder:c,validationCheck:u,loading:l?b:!1,hints:a,width:r})},xy=({id:e,isToggled:t,setIsToggled:i})=>n.jsxs(Fb,{children:[n.jsx("input",{type:"checkbox",name:e,id:e,className:"checkbox",checked:t,onChange:i}),n.jsx("label",{className:"toggle-body",htmlFor:e,children:n.jsx("span",{className:"toggle-circle"})})]}),Od=p.div.withConfig({componentId:"sc-54ypew-0"})(["width:8px;height:8px;border-radius:100%;margin:3px;"]),vy=p(Od).withConfig({componentId:"sc-54ypew-1"})(["background:var(--almostTransparentOpposite);"]),by=p(Od).withConfig({componentId:"sc-54ypew-2"})(["transition:0.2s;left:0;position:absolute;background:",";transform:",";"],({color:e})=>C[e!=null?e:"blue"].main,({current:e})=>`translateX(${e*16}px)`),Ld=({amount:e,current:t,color:i,direction:o="horizontal"})=>isNaN(e)||e<=1?null:n.jsxs($e,{direction:o,gap:2,width:"fit-content",minWidth:"fit-content",verticalAlign:"center",horizontalAlign:"center",children:[Array(e).fill(0).map((s,a)=>n.jsx(vy,{},a)),n.jsx(by,{color:i,current:t})]}),yy=p.div.withConfig({componentId:"sc-18zd6l5-0"})(["display:flex;flex-direction:column;justify-content:center;"]),wy=({checkbox:e,loadfile:t,docVisible:i})=>n.jsxs(yy,{children:[n.jsx(lt,f({},e)),i&&n.jsx(Ga,f({},t))]}),_y=p.div.withConfig({componentId:"sc-1ml0vvo-0"})(["width:100%;display:flex;align-items:center;gap:5px;flex-direction:column;.date-interval-inputs{width:100%;display:flex;align-items:center;gap:10px;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),zd=({title:e,required:t,dates:i,setDates:o,valid:s,setValid:a,diff:r,minValue:l})=>{if(d.useEffect(()=>{a(new Date(i[0])<=new Date(i[1])||!i[0].length||!i[1].length)},[i]),r!=null){const c=new Date(i[0]),u=new Date(c);u.setDate(c.getDate()+r),i[1]=xe(u,"extraWeird")}return n.jsxs(_y,{children:[n.jsx(M,{size:5,align:"left",visible:!!e,required:t,children:e}),n.jsx(ve,{title:"Внимание",type:"alert",icon:n.jsx(fi,{}),visible:!s,children:"Дата начала не может быть больше даты конца"}),n.jsxs("div",{className:"date-interval-inputs",children:[n.jsx(Pe,{value:i[0],danger:!s,setValue:c=>o([c,i[1]]),type:"date",minValue:l}),n.jsx(Pe,{value:i[1],setValue:c=>o([i[0],c]),type:"date",danger:!s})]})]})},Wi=()=>{const[e,t]=d.useState({width:0,height:0}),i=()=>{t({width:window.innerWidth,height:window.innerHeight})};return d.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]),e},jy=(e,t)=>{var i,o,s,a,r;const{width:l}=Wi(),c=d.useRef(null),[u,h]=d.useState(!1),[g,m]=d.useState(!1),[x,b]=d.useState(0),[v,y]=d.useState(0),j=(i=(o=c.current)===null||o===void 0?void 0:o.clientWidth)!==null&&i!==void 0?i:1,I=Math.ceil(((s=(a=c.current)===null||a===void 0?void 0:a.scrollWidth)!==null&&s!==void 0?s:0)/(j+(e!=null?e:0)));return d.useEffect(()=>{c.current&&(c.current.scrollLeft=x,c.current.clientWidth<c.current.scrollWidth?(h(!0),m(!0)):(m(!1),h(!1)))},[x,(r=c.current)===null||r===void 0?void 0:r.clientWidth,l,t]),{listRef:c,leftArrow:u,rightArrow:g,setScrollLeft:b,pageOffset:j,amountOfPages:I,currentPage:v,setCurrentPage:y,handleScroll:P=>{y(Math.ceil(P.currentTarget.scrollLeft/(j+(e!=null?e:0))))}}},ky=e=>{const Se=e,{title:t,children:i,gap:o,width:s,height:a,padding:r,fontSize:l,wrap:c,onAdd:u,onWatchMore:h,onDelete:g,showPages:m,innerPadding:x,minWidth:b,wrapOnMobile:v,position:y,direction:j="vertical",verticalAlign:I="top",horizontalAlign:k="left",scroll:P=!0,visible:$=!0,forwardedRef:W}=Se,D=Je(Se,["title","children","gap","width","height","padding","fontSize","wrap","onAdd","onWatchMore","onDelete","showPages","innerPadding","minWidth","wrapOnMobile","position","direction","verticalAlign","horizontalAlign","scroll","visible","forwardedRef"]);if(!$)return null;const{listRef:G,leftArrow:V,rightArrow:H,handleScroll:U,setScrollLeft:B,pageOffset:ae,amountOfPages:be,currentPage:Ne}=jy(o,i);return n.jsxs(Kv,{ref:W,padding:r,position:y,width:s,minWidth:b,height:a,children:[n.jsxs(M,{size:4,align:"left",bottomGap:!0,visible:!!t,width:"calc(fit-content + 50px)",children:[t,u&&n.jsx(E,{icon:n.jsx(xi,{}),width:"35px",height:"15px",background:C.grey.transparent3,textColor:"var(--reallyBlue)",onClick:u}),h&&n.jsx(E,{width:"50px",height:"15px",background:C.blue.transparent3,textColor:C.blue.light1,onClick:h,text:"Ещё"}),g&&n.jsx(E,{width:"fit-content",height:"15px",background:C.grey.transparent3,textColor:"var(--reallyBlue)",onClick:g,text:"Удалить"})]}),n.jsx(Ko,_(f({verticalAlign:I,horizontalAlign:k,direction:j,ref:G,gap:o,width:s,height:a,fontSize:l,wrap:c,innerPadding:x,scroll:P,wrapOnMobile:v,onScroll:U},D),{children:i})),(H||V)&&n.jsxs("div",{className:"bottom-wrapper",children:[V&&n.jsx(E,{background:"transparent",minWidth:"40px",height:"25px",icon:n.jsx(Hn,{}),className:"left-button",textColor:C.grey.main,onClick:()=>{B(_e=>{var tt,ot;return Ut(_e-ae-(o!=null?o:0),(tt=(ot=G.current)===null||ot===void 0?void 0:ot.scrollWidth)!==null&&tt!==void 0?tt:0)})}}),m&&n.jsx(Ld,{direction:"horizontal",current:Ne,amount:be}),H&&n.jsx(E,{background:"transparent",minWidth:"40px",height:"25px",icon:n.jsx(St,{}),className:"right-button",textColor:C.grey.main,onClick:()=>{B(_e=>{var tt,ot;return Ut(_e+ae+(o!=null?o:0),(tt=(ot=G.current)===null||ot===void 0?void 0:ot.scrollWidth)!==null&&tt!==void 0?tt:0)})}})]})]})},$e=pe.memo(ky),Cy=e=>e*1024*1024,Sy=(e,t)=>{var i;return((i=t==null?void 0:t.map(o=>Zr[o]))!==null&&i!==void 0?i:Object.values(Zr)).indexOf(e.type)!==-1},Rd="jpg, png, pdf",ul=(e,t,i,o,s=Ex)=>{if(i&&t.length+e.length>i)return Q.evokePopUpMessage({message:`Нельзя загрузить больше ${i} файлов`,type:"failure"}),t;for(let r=0;r<e.length;r++){if(Sy(e[r],o))return e[r].size>Cy(s)?(Q.evokePopUpMessage({message:`Размер файла слишком большой. Максимальный размер файла: ${s} MB`,type:"failure",time:1e4}),t):[...t,e[r]];var a;return console.log(e[r]),Q.evokePopUpMessage({message:`Неверный формат файла. Доступные форматы: ${(a=o==null?void 0:o.map(l=>l).join(", "))!==null&&a!==void 0?a:Rd}`,type:"failure",time:5e3}),t}},Iy=p.label.withConfig({componentId:"sc-1j2y5lo-0"})(["width:100%;min-height:150px;border-radius:var(--brLight);transition:0.2s border;border:",";background:",";display:flex;justify-content:center;align-items:center;flex-direction:column;cursor:",";pointer-events:",";opacity:",";position:relative;.info{display:flex;flex-wrap:wrap;gap:5px;padding:4px;border-radius:var(--brLight);background:red;pointer-events:none;width:calc(100% + 6px);.info-item{padding:5px 10px;background:var(--block);border-radius:5px;display:flex;align-items:center;justify-content:center;font-size:0.7em;font-weight:600;pointer-events:none;}}input[type='file']{display:none;}.message{display:flex;justify-content:center;align-items:center;flex-direction:column;opacity:0.7;color:var(--text);pointer-events:none;padding:0 0.5rem;b{font-weight:600;margin-bottom:4px;text-align:center;}.front-icon{z-index:2;}.icons-behind{z-index:1;position:absolute;filter:grayscale(1);opacity:0.7;transform:scale(0.8);& .icon-1{opacity:0;animation:",";}& .icon-2{opacity:0;animation:",";}@keyframes behind-1{0%{opacity:0;transform:translate(10px,-15px) rotate(0deg);}100%{opacity:1;transform:translate(-3px,-15px) rotate(-10deg);}}@keyframes behind-2{0%{opacity:0;transform:translate(-10px,-15px) rotate(0deg);}100%{opacity:1;transform:translate(3px,-15px) rotate(10deg);}}}svg{width:40px;height:40px;margin-bottom:10px;transition:0.2s;animation:",";@keyframes jumping{0%{transform:translateY(0%);}100%{transform:translateY(-5%) scale(1.1);}}}}"],({showPulse:e})=>e?`2px dashed ${C.blue.main}`:`2px dashed ${C.grey.main}`,({showPulse:e})=>e?C.blue.transparent3:"",({isActive:e})=>e&&"pointer",({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.4,({showPulse:e})=>e?"behind-1 0.5s forwards":"",({showPulse:e})=>e?"behind-2 0.5s forwards":"",({showPulse:e})=>e?"jumping 1s forwards":""),gt=({words:e})=>{if(!e.length)return null;const t=e.filter(i=>i.length!==0);return n.jsx(n.Fragment,{children:t.map((i,o)=>i+(o===t.length-1?"":" • "))})},Ty=({files:e,maxFiles:t,setFiles:i,isActive:o,formats:s,maxFileSizeInMegaBytes:a})=>{const r=d.useRef(null),[l,c]=d.useState(!1),u=b=>{const v=b.target.files;v!=null&&v.length&&i(ul(v,e,t,s,a))},h=b=>{b.preventDefault()},g=b=>{b.preventDefault(),c(!1);const v=b.dataTransfer.files;v.length&&i(ul(v,e,t,s,a))},m=b=>{b.preventDefault(),c(!0)},x=b=>{b.preventDefault(),c(!1)};return n.jsxs(Iy,{isActive:o,showPulse:l,onDragOver:b=>o&&h(b),onDragEnter:b=>o&&m(b),onDragLeave:b=>o&&x(b),onDrop:b=>o&&g(b),topPadding:!!t,children:[n.jsx("input",{type:"file",name:"",id:"",ref:r,onChange:u,accept:s==null?void 0:s.map(b=>`.${b}`).join(", ")}),n.jsxs("div",{className:"message",children:[n.jsx(As,{className:"front-icon"}),n.jsxs("div",{className:"icons-behind",children:[n.jsx(As,{className:"icon-1"}),n.jsx(As,{className:"icon-2"})]}),n.jsx("b",{children:"Нажмите сюда или перетащите файл"}),n.jsx(re,{align:"center",children:n.jsx(gt,{words:[`Форматы: ${s?s.join(", "):Rd}`,t?`Макс. файлов: ${t}`:""]})})]})]})},Ey=e=>{if(e===0)return"0 Bytes";const t=1024,i=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+i[o]},Py=(e,t,i)=>(e.preventDefault(),e.stopPropagation(),[...i.filter(s=>s.name!==t)]),Ay=p.div.withConfig({componentId:"sc-pc8war-0"})(["width:100%;padding:6px;display:flex;justify-content:space-between;align-items:center;background:",";border-radius:var(--brLight);.loading-circle{position:relative;transform:none;left:auto;top:auto;width:20px;height:20px;}.file-body{display:flex;gap:8px;align-items:center;cursor:pointer;.name-and-size{display:flex;flex-direction:column;.file-name{font-size:0.8em;word-break:break-all;}}.image-container{padding:8px;display:flex;align-items:center;justify-content:center;background:var(--theme);border-radius:var(--brLight);svg{width:20px;height:20px;}}}"],C.grey.transparent3),Ny=({file:e,files:t,setFiles:i})=>{const{open:o}=K(),s=(r,l)=>{r.preventDefault(),r.stopPropagation();const c=new FileReader;c.onloadend=()=>{o(n.jsx($a,{src:c.result,loading:!1,width:"500px",height:""}))},l&&c.readAsDataURL(l)},a=r=>nt.evokeConfirm({message:"Вы уверены, что хотите удалить файл?",onConfirm:()=>i(Py(r,e.name,t))});return n.jsxs(Ay,{onClick:r=>r.preventDefault(),children:[n.jsxs("div",{className:"file-body",onClick:r=>e.type.includes("image")&&s(r,e),children:[n.jsx("div",{className:"image-container",children:e.type.includes("image")?n.jsx(xf,{}):n.jsx(vo,{})}),n.jsxs("div",{className:"name-and-size",children:[n.jsx("b",{className:"file-name",children:e.name}),n.jsx(re,{fontSize:"0.7em",children:Ey(e.size)})]})]}),n.jsx(E,{icon:n.jsx(Nt,{}),height:"30px",width:"30px",background:"transparent",onClick:a})]})},Wa=({files:e,setFiles:t,hideHeader:i,className:o})=>{const s=i?{}:{title:"Список файлов",visible:!!e.length,onDelete:()=>{nt.evokeConfirm({message:"Вы уверены, что хотите удалить все файлы?",onConfirm:()=>t([])})}};return n.jsx($e,_(f({},s),{className:o,children:e.map(a=>n.jsx(Ny,{file:a,files:e,setFiles:t},a.name))}))},Ga=e=>n.jsxs($e,{gap:12,children:[n.jsx(Ty,f({},e)),n.jsx(Wa,{files:e.files,setFiles:e.setFiles})]}),Dy=({documents:e,optionalCheckbox:t,data:i,setData:o,optional:s,collapsed:a,confirmed:r,defaultOpenArea:l})=>{const[c,u]=d.useState(r===void 0),[h,g]=d.useState(!a),[m,x]=d.useState(!1),b=()=>{if(i[0]===void 0&&!(t!=null&&t.value)&&t!==null&&t!==void 0&&t.required)return Q.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3});Array.isArray(i[0])?e?t!=null&&t.required?e.files.length&&e.required||t.value?(o(k=>(k.confirmed=!0,f({},k))),u(!1),g(!1)):Q.evokePopUpMessage({message:"Необходимо загрузить файл. Если у вас нет соответствующего документа, отметье это галочкой",type:"failure",time:5e3}):!c&&!i.find(k=>!!k.find(P=>!P.value&&P.required))||t!=null&&t.value&&!e.required||e.files.length||!e.required?(o(k=>(k.confirmed=!0,f({},k))),u(!1),g(!1)):Q.evokePopUpMessage({message:"Необходимо загрузить файл",type:"failure",time:5e3}):t!=null&&t.value&&t.required||!i.length||!i.find(k=>!!k.find(P=>!P.value&&P.required))&&!i.find(k=>!!k.find(P=>{var $;return P.value.id==="not-chosen"&&!!(($=P.items)!==null&&$!==void 0&&$.length)}))?(o(k=>(k.confirmed=!0,f({},k))),u(!1),g(!1)):Q.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3}):e?t!=null&&t.required?e.files.length&&e.required||t.value?(o(k=>(k.confirmed=!0,f({},k))),u(!1),g(!1)):Q.evokePopUpMessage({message:"Необходимо загрузить файл. Если у вас нет соответствующего документа, отметьте это галочкой",type:"failure",time:5e3}):!c&&!i.find(k=>!k.value&&k.required)||t!=null&&t.value&&!e.required||e.files.length||!e.required?(o(k=>(k.confirmed=!0,f({},k))),u(!1),g(!1)):Q.evokePopUpMessage({message:"Необходимо загрузить файл",type:"failure",time:5e3}):t!=null&&t.value&&t.required||!i.find(k=>!k.value&&k.required)&&!i.find(k=>{var P;return k.value===null&&!!((P=k.items)!==null&&P!==void 0&&P.length)})?(o(k=>(k.confirmed=!0,f({},k))),u(!1),g(!1)):Q.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3})},v=()=>{o(k=>{const P=k.default[0].map($=>{var W;return{fieldName:(W=$.fieldName)!==null&&W!==void 0?W:"",title:$.title,value:$.type==="select"&&$!==null&&$!==void 0&&$.items?null:"",type:$.type,items:$.items,width:$.width,required:$.required,isSpecificSelect:$.isSpecificSelect}});return _(f({},k),{data:[...k.data,P]})})},y=k=>{o(P=>{const $=P.data.filter((W,D)=>k!==D);return _(f({},P),{data:$})})},j=k=>{o(P=>(P.documents&&(P.documents.files=[...k]),f({},P)))},I=()=>{t&&(t.value=!t.value),o(k=>_(f({},k),{optionalCheckbox:t}))};return d.useEffect(()=>{g(!m&&s?!1:a?!a:!!l)},[m,a]),{openArea:h,changeInputArea:c,included:m,setOpenArea:g,setIncluded:x,setChangeInputArea:u,handleRemove:y,handleAddNew:v,handleLoadFiles:j,handleConfirm:b,handleCheckbox:I}},Oy=p.div.withConfig({componentId:"sc-mwppph-0"})(["width:100%;display:flex;flex-direction:column;transition:0.2s row-gap;row-gap:",";.inputs{display:flex;flex-direction:column;row-gap:15px;transition:0.2s height,0.2s opacity,0.2s visibility;height:",";opacity:",";visibility:",";.data-line{display:flex;align-items:flex-end;column-gap:5px;}}"],({openArea:e})=>e?"15px":"0",({openArea:e})=>e?"auto":"0",({openArea:e})=>e?"1":"0",({openArea:e})=>e?"visible":"hidden"),ea=(e,t)=>{const i=e.find(o=>o.id.toString()===t[0]);return t.length&&i!==null&&i!==void 0&&i.children?(t.shift(),ea(i.children,t)):i?i.children:e},Ly=e=>{const{items:t,setSelected:i,onClick:o,selected:s,appearance:a=!0,multiple:r=!1,withSearch:l}=e,[c,u]=d.useState(""),[h,g]=d.useState(!1),m=d.useRef(null),x=d.useRef(null),[b,v]=d.useState([]),[y,j]=d.useState(t),[I,k]=d.useState(y),[P,$]=d.useState("");d.useEffect(()=>{j(t)});const W=d.useCallback(()=>{g(U=>!U)},[g]),D=d.useCallback(U=>{if(U.children){var B;b.push(U.id.toString()),j((B=ea(t,[...b]))!==null&&B!==void 0?B:[]),v([...b])}else{if(r)if(s)if(s.find(ae=>ae.id===U.id)){const ae=s.filter(be=>be.id!==U.id);ae.length?i(ae):i(null)}else i([...s,U]);else i([U]);else i(U),l&&u(U.title);!r&&W(),$(b.join("/"))}o==null||o(U)},[i,b]),G=d.useCallback(()=>{if(b.pop(),v([...b]),b.length===0)j(t);else{var U;j((U=ea(t,b))!==null&&U!==void 0?U:[])}},[b,j]);Gn(m,()=>{h&&W()}),d.useEffect(()=>{if(!l||!c){k(y);return}const U=setTimeout(()=>{k(y.filter(B=>B.title.toLowerCase().includes(c.toLowerCase())))},300);return()=>{clearTimeout(U)}},[y,c,l]);const V=d.useCallback(()=>{i(null),g(!1)},[]),H=d.useCallback(U=>{i(null),u(U),g(!0)},[]);return d.useEffect(()=>{r||u(s?s.title:"")},[s]),{handleOpen:W,refElement:m,isOpen:h,multiple:r,handleSelect:D,selectedRoute:P,currentItems:I,route:b,goBack:G,refItems:x,appearance:a,searchQuery:c,changeQuery:H,clearQuery:V}},zy=p.div.withConfig({componentId:"sc-1fwtyz-0"})(["display:flex;justify-content:space-between;align-items:center;min-height:",";padding:",";box-shadow:",";position:relative;background:var(--block-content);border-radius:6px;overflow:hidden;&:hover{filter:brightness(0.98);}"],kt(jo),({multiple:e})=>e?"5px 10px 5px 5px":"5px 10px",({appearance:e})=>e&&"var(--block-content-shadow)"),Ry=p.div.withConfig({componentId:"sc-ij5vqu-0"})(["max-width:",";width:100%;min-width:50px;min-height:",";position:relative;user-select:none;font-weight:599;white-space:nowrap;font-size:",";z-index:",";opacity:",";pointer-events:",";color:var(--text);cursor:pointer;transition:0.3s;&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:active{transform:translateY(3px);}"],({width:e})=>e!=null?e:"155px",kt(jo),({appearance:e})=>e&&"0.9em",({isOpen:e})=>e?5:2,({isActive:e})=>!e&&.7,({isActive:e})=>!e&&"none"),$y=p.header.withConfig({componentId:"sc-lxnhqo-0"})(["display:flex;align-items:center;width:calc(100% - 15px);column-gap:5px;overflow-x:auto;&::-webkit-scrollbar{display:none;}.single-header,.header-item{display:flex;align-items:center;}.header-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;}.not-chosen{font-size:",";opacity:",";&.multi{margin-left:5px;}}.header-item{background:",";color:",";border-radius:6px;padding:5px 10px;font-size:0.85em;min-width:fit-content;}.select-icon{float:left;display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}"],({appearance:e})=>e&&"0.9em",({appearance:e})=>e&&"0.6",C.blue.transparent2,C.blue.main),My=p.ul.withConfig({componentId:"sc-qv0atr-0"})(["max-width:",";width:100%;min-width:50px;min-height:60px;position:absolute;top:",";box-shadow:var(--very-mild-shadow);border-radius:6px;background:var(--block-content);user-select:none;max-height:250px;overflow-y:auto;overflow-x:hidden;opacity:0;transition:0.2s opacity,0.2s visibility,0.2s top,height 0.3s;&.open{opacity:1;visibility:visible;top:",";}&.close{opacity:0;visibility:hidden;display:none;top:36px;}"],({width:e})=>e!=null?e:"155px",({title:e})=>e?"80px":"46px",({title:e})=>e?"60px":"46px"),Ls=p.li.withConfig({componentId:"sc-8p0565-0"})(["list-style-type:none;background:var(",");color:",";min-height:30px;padding:5px 10px;display:flex;align-items:center;justify-content:space-between;.icon{display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}.select-item-title{overflow:hidden;white-space:pre-line;width:100%;text-overflow:ellipsis;}animation:fadeIn 0.4s forwards;&::before{content:'';display:block;position:absolute;margin-top:auto;margin-bottom:auto;margin-left:-7px;min-width:",";height:5px;border-radius:10px;background:var(--reallyBlue);}.back-button{display:flex;align-items:center;justify-content:flex-start;color:var(--blue);transition:0.2s transform;&:active{transform:translateX(-20px);}}@keyframes fadeIn{0%{opacity:0;transform:scale(1.04);}100%{opacity:1;transform:scale(1);}}"],({isSelected:e})=>e?"--reallyBlue":"",({isSelected:e})=>e?"#fff":"",({leadingToSelected:e})=>e?"5px":"0px"),Fy=["isOpen"],By=p(vf).withConfig({shouldForwardProp:e=>!Fy.includes(e)}).withConfig({componentId:"sc-4j7s4z-0"})(["transition:0.3s;min-width:15px;transform:rotateZ(",");"],({isOpen:e})=>e?"0deg":"180deg"),Uy=e=>{const{handleOpen:t,refElement:i,isOpen:o,multiple:s,handleSelect:a,selectedRoute:r,currentItems:l,route:c,goBack:u,refItems:h,appearance:g,searchQuery:m,changeQuery:x,clearQuery:b}=Ly(e),{isActive:v,width:y,title:j,required:I,selected:k,placeholder:P,size:$="middle",withSearch:W}=e,D=d.useRef(null);return n.jsxs(Ry,{onClick:t,appearance:g,ref:i,isOpen:o,isActive:v!=null?v:!0,width:y,size:$,children:[n.jsx(M,{size:4,align:"left",bottomGap:"5px",visible:!!j,required:I,children:j}),n.jsxs(zy,{multiple:s,appearance:g,size:$,children:[n.jsx($y,{appearance:g,children:s?k?k.map(G=>n.jsxs("div",{className:"header-item",children:[!!G.icon&&n.jsx("span",{className:"icon",children:G.icon}),n.jsx("span",{className:"header-title",children:G.title})]},G.id)):n.jsx("span",{className:"not-chosen multi",children:P!=null?P:"Не выбрано"}):W?n.jsx(Pe,{ref:D,inputAppearance:!1,isActive:v,value:m,setValue:x,onClear:()=>{var G;(G=D.current)===null||G===void 0||G.focus(),b()},placeholder:P}):n.jsx("div",{className:"single-header",children:k?n.jsxs(n.Fragment,{children:[!!k.icon&&n.jsx("span",{className:"select-icon",children:k.icon}),n.jsx("span",{className:"header-title",children:k.title})]}):n.jsx("span",{className:"not-chosen",children:P!=null?P:"Не выбрано"})})}),n.jsx(By,{isOpen:o})]}),n.jsxs(My,{width:y,ref:h,isOpen:o,className:o?"open":"close",itemsAmount:l.length+(c.length?1:0),title:j,children:[!!c.length&&n.jsx(Ls,{isSelected:!1,onClick:G=>{G.stopPropagation(),u()},children:n.jsxs("span",{className:"back-button",children:[n.jsx(Hn,{}),"Назад"]})},-1),l.length?l.map(({id:G,icon:V,title:H,children:U,data:B})=>n.jsxs(Ls,{onClick:ae=>{ae.stopPropagation(),a({id:G,icon:V,title:H,children:U,data:B})},isSelected:!s&&!!k&&(k.id?G===k.id:H===k.title),leadingToSelected:r.includes(G.toString()),children:[!!V&&n.jsx("span",{className:"icon",children:V}),n.jsx("span",{className:"select-item-title",children:H}),!!U&&n.jsx("span",{className:"right-icon",children:n.jsx(St,{})}),s&&!!k&&!!k.find(ae=>ae.title.includes(H))&&n.jsx("span",{className:"right-icon",children:n.jsx(Bi,{})})]},G!=null?G:H)):n.jsx(Ls,{onClick:G=>{G.stopPropagation()},isSelected:!1,children:n.jsx("span",{className:"select-item-title",children:"Не найдено"})})]})]})},Va=d.memo(Uy),Hy=p.div.withConfig({componentId:"sc-1p4newz-0"})(["padding:0px 12px;height:45px;width:100%;min-width:fit-content;display:flex;align-items:center;border-radius:var(--brLight);opacity:",";pointer-events:",";.icon{width:22px;height:22px;margin-right:10px;display:flex;justify-content:center;align-items:center;svg{width:22px;height:22px;opacity:0.4;}}& > label{display:flex;align-items:center;justify-content:space-between;width:100%;user-select:none;cursor:pointer;min-width:fit-content;gap:8px;b{color:var(--text);opacity:0.7;font-weight:500;font-size:0.85rem;}}&:hover{background:var(--theme-1);}"],({disabled:e})=>e?"0.5":"1",({disabled:e})=>e?"none":"all"),Fe=({title:e,state:t,action:i,icon:o,disabled:s})=>{const a=()=>{i(!t)};return n.jsxs(Hy,{disabled:s,children:[o&&n.jsx("div",{className:"icon",children:o}),n.jsxs("label",{children:[n.jsx("b",{children:e}),n.jsx(xy,{id:e,isToggled:t,setIsToggled:a},e)]})]},e)};p.div.withConfig({componentId:"sc-teqowe-0"})(["width:100%;h2{margin-top:10px;}"]);const Wy=p.div.withConfig({componentId:"sc-51ymr4-0"})([""]),Gy=({title:e,items:t,setChecked:i,setFiles:o})=>n.jsxs(Wy,{children:[n.jsx(M,{size:5,align:"left",bottomGap:!0,children:e}),t.map(({value:s,title:a,files:r,maxFiles:l,checkboxCondition:c,maxFileSizeInMegaBytes:u},h)=>n.jsx(wy,{checkbox:{checked:s,setChecked:()=>i(s,h),text:a},loadfile:{files:r,maxFiles:l,maxFileSizeInMegaBytes:u,isActive:!0,setFiles:g=>o(g,h)},docVisible:c==="straight"?s:!s},a))]}),Vy=({title:e,buttons:t,required:i=!1,current:o,setCurrent:s,isSpecificRadio:a=!1})=>n.jsxs("div",{children:[n.jsx(M,{visible:!!e,size:5,align:"left",bottomGap:!0,required:i,children:e}),n.jsxs($e,{children:[!a&&n.jsx(lt,{text:"Не выбрано",checked:o===null,setChecked:()=>s(null)},-1),t.map(r=>{const{id:l,title:c}=r;return n.jsx(lt,{text:c,checked:l===(o==null?void 0:o.id),setChecked:()=>s({id:l,title:a?l.toString():c})},l)})]})]}),qy=p.div.withConfig({componentId:"sc-1ywubg9-0"})(["width:100%;text-align:start;margin-top:-10px;margin-bottom:10px;.title{font-size:0.83em;font-weight:bold;}.value{font-size:0.83em;padding-left:10px;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),Qy=({title:e,value:t,visible:i})=>i?n.jsxs(qy,{children:[n.jsxs("span",{className:"title",children:[e,":"]})," ",n.jsx("span",{className:"value",children:t})]}):null,Yy=p.div.withConfig({componentId:"sc-n6paow-0"})(["transition:0.1s;opacity:",";transform:scale(",");display:flex;align-items:center;opacity:",";.hr-checkbox-text{user-select:none;white-space:pre-wrap;font-size:0.75em;}svg{color:var(--reallyBlue);background:var(--theme);border-radius:100%;padding:2px;}"],({invisibleOnFalse:e,checked:t})=>e?t?1:0:1,({invisibleOnFalse:e,checked:t})=>e?t?1:.8:1,({isActive:e})=>!e&&.7),Ky=({text:e,checked:t,setChecked:i,visible:o=!0,isActive:s=!0,invisibleOnFalse:a=!1})=>o?n.jsxs(Yy,{checked:t,invisibleOnFalse:a,onClick:()=>{s&&i(!t)},isActive:s,className:"checkbox",children:[n.jsx(E,{width:"25px",height:"25px",onClick:()=>null,icon:t||a?n.jsx(bf,{style:{maxWidth:"20px",width:"20px",height:"20px",maxHeight:"20px"}}):n.jsx(gc,{style:{maxWidth:"20px",width:"20px",height:"20px",maxHeight:"20px"}}),background:"transparent"}),e&&n.jsx("div",{className:"hr-checkbox-text",children:e})]}):null,Jy=p.div.withConfig({componentId:"sc-12u5ru-0"})(["width:100%;text-align:start;margin-top:5px;margin-bottom:15px;.title{font-size:1em;font-weight:bold;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),Xy=({title:e,visible:t})=>t?n.jsx(Jy,{children:n.jsx("span",{className:"title",children:e})}):null,Zy=p.div.withConfig({componentId:"sc-fko9m3-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.left-icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}.message{margin-bottom:5px;}input{border:none;color:var(--text);outline:none;background:",";height:100%;width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:",";max-height:36px;border:",";&::placeholder{font-weight:500;}&:focus-visible{outline:",";}&:focus:not(:focus-visible){outline:none;}}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e!=null?e:"100%",({minWidth:e,width:t})=>e!=null?e:t,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({inputAppearance:e})=>e?"var(--search)":"transparent",({leftIcon:e,inputAppearance:t})=>e?"30px":t?"10px":"0",({inputAppearance:e})=>e?"35px":"0",({danger:e})=>e&&`2px solid ${C.red.main}`,({inputAppearance:e})=>e&&"4px solid var(--almostTransparentOpposite)"),ew=p.ul.withConfig({componentId:"sc-fko9m3-1"})(["max-width:",";width:100%;min-width:50px;z-index:5;cursor:pointer;min-height:60px;position:absolute;top:",";box-shadow:var(--light-box-shadow);border-radius:var(--brLight);background:var(--block);user-select:none;max-height:250px;overflow-y:auto;overflow-x:hidden;opacity:0;transition:0.2s opacity,0.2s visibility,0.2s top,height 0.3s;&.open{opacity:1;visibility:visible;top:",";}&.close{opacity:0;visibility:hidden;top:36px;}"],({width:e})=>e!=null?e:"155px",({title:e})=>e?"80px":"46px",({title:e})=>e?"60px":"46px"),tw=p.li.withConfig({componentId:"sc-fko9m3-2"})(["list-style-type:none;background:var(",");color:",";min-height:30px;padding:5px 10px;display:flex;align-items:center;justify-content:space-between;.icon{display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}.select-item-title{overflow:hidden;white-space:pre-line;width:100%;text-overflow:ellipsis;}animation:fadeIn 0.4s forwards;&::before{content:'';display:block;position:absolute;margin-top:auto;margin-bottom:auto;margin-left:-7px;min-width:",";height:5px;border-radius:10px;background:var(--reallyBlue);}.back-button{display:flex;align-items:center;justify-content:flex-start;color:var(--blue);transition:0.2s transform;&:active{transform:translateX(-20px);}}@keyframes fadeIn{0%{opacity:0;transform:scale(1.04);}100%{opacity:1;transform:scale(1);}}"],({isSelected:e})=>e?"--reallyBlue":"",({isSelected:e})=>e?"#fff":"",({leadingToSelected:e})=>e?"5px":"0px"),nw=({value:e,setValue:t,leftIcon:i,title:o,required:s,width:a,minWidth:r,placeholder:l="Начните ввод...",danger:c,isActive:u=!0,inputAppearance:h=!0,suggestions:g})=>{const[m,x]=d.useState([]),[b,v]=d.useState(!0);return d.useEffect(()=>{if(e){const y=g.filter(j=>j.toLowerCase().includes(e.toLowerCase()));x(y)}else x([])},[e,g]),n.jsxs(Zy,{leftIcon:!!i,isActive:u,inputAppearance:h,width:a,danger:c,minWidth:r,children:[n.jsx(M,{size:5,align:"left",visible:!!o,bottomGap:"5px",required:s,children:o}),n.jsxs("div",{children:[n.jsx("input",{type:"text",value:e,onChange:y=>{t(y.target.value),v(!0)},placeholder:l}),m.length>0&&n.jsx(ew,{width:"100%",isOpen:b,className:b?"open":"close",itemsAmount:m.length,title:o,children:m.map((y,j)=>n.jsx(tw,{isSelected:!1,onClick:()=>{t(y),x([]),v(!1)},children:y},j))})]})]})},iw=p.div.withConfig({componentId:"sc-xn9fqk-0"})(["width:100%;text-align:start;margin-top:-20px;margin-bottom:-10px;padding:10px;.title{font-size:0.83em;font-weight:bold;color:#e27992;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),ow=({title:e,visible:t})=>t?n.jsx(iw,{children:n.jsx("span",{className:"title",children:e})}):null,pl=e=>{const{value:t,required:i,width:o,indexI:s,indexJ:a,type:r,suggestions:l,items:c,title:u,documents:h,changeInputArea:g,setData:m,mask:x,customMask:b,editable:v,placeholder:y,autocomplete:j,isSpecificRadio:I,specialType:k,specialFieldsNameConfig:P,minValueInput:$,maxValueInput:W,minValueLength:D,maxValueLength:G,diff:V,visible:H=!0,onChange:U,onKeyPress:B,onBlur:ae,onKeyDown:be,onKeyUp:Ne,onFocus:Se}=e,_e=v!=null?v:g&&!h,[tt,ot]=d.useState(!0),Lt=(Z,me,De)=>{U==null||U(Z),m(We=>(Array.isArray(We.data[0])?We.data[me][De!=null?De:0].value=Z:We.data[me].type==="checkbox-docs"?(We.data[me].items[De!=null?De:0].value=!!Z,We.data[me].value=!0):We.data[me].value=Z,f({},We)))},Xn=(Z,me,De)=>{U==null||U(Z),m(We=>(Array.isArray(We.data[0])?We.data[me][De!=null?De:0].value=Z:We.data[me].value=Z,f({},We)))},Zn=(Z,me,De)=>{m(We=>(We.data[me].items[De!=null?De:0].files=Z,f({},We)))},ei=Z=>{U==null||U(Z),m(me=>(me.data[s].value=Z,f({},me)))},ti=Z=>{U==null||U(Z),B==null||B(Z),ae==null||ae(Z),be==null||be(Z),Ne==null||Ne(Z),Se==null||Se(Z),m(me=>(me.data[s].value=Z,f({},me)))};return P&&k&&!Object.values(P).includes(k)?null:r!=="select"&&r!=="multiselect"||!c?r==="checkbox"?n.jsx(lt,{text:u,isActive:_e,checked:t,setChecked:Z=>Lt(Z,s,a)}):r==="hr-checkbox"?n.jsx(Ky,{text:u,isActive:_e,checked:t,setChecked:Z=>Lt(Z,s,a)}):r==="auto-complete-input"?n.jsx(nw,{title:u,suggestions:l!=null?l:[],required:i,value:t,placeholder:y!=null?y:u,setValue:Z=>Lt(Z,s,a)}):r==="textarea"?n.jsx(Pb,{value:t,title:u,setValue:Z=>Lt(Z,s,a),isActive:_e,textAreaAppearance:_e,placeholder:y!=null?y:u,required:i,width:o}):r==="checkbox-docs"?n.jsx(Gy,{title:u,items:c,setChecked:(Z,me)=>Lt(!Z,s,me),setFiles:(Z,me)=>Zn(Z,s,me)}):r==="date-interval"?H?n.jsx(zd,{title:u,required:i,dates:t,setDates:Z=>ti(Z),valid:tt,setValid:ot,minValue:$,diff:V}):null:r==="simple-text"?n.jsx(Qy,{title:u,value:t,visible:H}):r==="text-warning"?n.jsx(ow,{title:u,visible:H}):r==="text-header"?n.jsx(Xy,{title:u,visible:H}):r==="radio"?n.jsx(Vy,{buttons:c,title:u,required:i,current:t,setCurrent:ei,isSpecificRadio:I}):H?n.jsx(Pe,{value:t,title:u,minValue:$,maxValue:W,minLength:D,maxLength:G,customMask:b,setValue:Z=>Lt(Z,s,a),type:r,isActive:_e,inputAppearance:_e,hideCross:!_e,placeholder:y!=null?y:u,required:i,mask:x,width:o,autocomplete:j}):null:H?n.jsx(Va,{items:c,setSelected:Z=>Xn(Z,s,a),selected:t,isActive:_e,title:u,width:o,multiple:r==="multiselect",required:i}):null},sw=p.div.withConfig({componentId:"sc-52mhmj-0"})(["display:flex;align-items:center;justify-content:space-between;user-select:none;cursor:pointer;position:sticky;top:-2px;background:var(--block);z-index:3;width:100%;.title-and-icon{display:flex;align-items:center;}@media (max-width:1000px){background:transparent;position:relative;}"]),aw=({title:e,included:t,optional:i,confirmed:o,setOpenArea:s,setIncluded:a,collapsed:r,openArea:l})=>n.jsxs(sw,{onClick:()=>!r&&(t||!i)&&s(c=>!c),children:[n.jsxs("div",{className:"title-and-icon",children:[n.jsx(M,{size:3,align:"left",icon:o!==void 0?o?n.jsx(mc,{}):n.jsx(_a,{}):void 0,iconColor:o?"var(--green)":"var(--red)",children:e}),i&&n.jsx(lt,{checked:t,setChecked:a})]}),n.jsx(E,{icon:n.jsx(fc,{}),onClick:()=>null,background:"transparent",flipped:l})]}),rw=({confirmed:e,changeInputArea:t,setData:i,setChangeInputArea:o,handleConfirm:s})=>e?n.jsx(E,{onClick:()=>{i(a=>(a.confirmed=!1,f({},a))),o(!0)},text:"Изменить",icon:n.jsx(Yr,{}),textColor:C.blue.main,hoverBackground:C.blue.transparent3,background:"transparent",width:"130px"}):t?n.jsxs(n.Fragment,{children:[n.jsx(E,{onClick:s,text:"Сохранить",icon:n.jsx(yf,{}),textColor:C.blue.main,hoverBackground:C.blue.transparent3,background:"transparent",width:"130px"}),n.jsx(E,{onClick:()=>o(!1),text:"Отменить",icon:n.jsx(cn,{}),textColor:C.red.main,hoverBackground:C.red.transparent3,background:"transparent",width:"130px"})]}):n.jsxs(n.Fragment,{children:[n.jsx(E,{onClick:s,text:"Подтвердить",icon:n.jsx(wf,{}),textColor:C.green.main,hoverBackground:C.green.transparent3,background:"transparent",width:"130px"}),n.jsx(E,{onClick:()=>o(!0),text:"Изменить",icon:n.jsx(Yr,{}),textColor:C.blue.main,hoverBackground:C.blue.transparent3,background:"transparent",width:"130px"})]}),lw=e=>e.confirmed===void 0?null:n.jsx($e,{direction:"horizontal",horizontalAlign:"right",children:n.jsx(rw,_(f({},e),{confirmed:e.confirmed}))}),Jt=({title:e,hint:t,alert:i,data:o,optionalCheckbox:s,documents:a,setData:r,confirmed:l,optional:c=!1,addNew:u=!1,divider:h,collapsed:g,links:m,specialFieldsNameConfig:x,defaultOpenArea:b=!0})=>{var v,y;const{openArea:j,changeInputArea:I,included:k,setOpenArea:P,setIncluded:$,setChangeInputArea:W,handleRemove:D,handleAddNew:G,handleLoadFiles:V,handleConfirm:H,handleCheckbox:U}=Dy({documents:a,optionalCheckbox:s,data:o.filter(Boolean),setData:r,optional:c,collapsed:g,confirmed:l,defaultOpenArea:b});return n.jsxs(n.Fragment,{children:[n.jsxs(Oy,{openArea:j,children:[n.jsx(aw,{title:e,included:k,optional:c,confirmed:l,setOpenArea:P,setIncluded:$,collapsed:g}),n.jsxs("div",{className:"inputs",children:[n.jsx(ve,{type:"alert",visible:!!i,icon:n.jsx(fi,{}),children:i}),n.jsx(ve,{type:"info",visible:!!t&&(I||l===void 0),title:"Как заполнить",icon:n.jsx(Bn,{}),children:t}),Array.isArray(o[0])?o.map((B,ae)=>n.jsxs("div",{className:"data-line",children:[B.map((be,Ne)=>n.jsx(pl,f({documents:a,changeInputArea:I&&!(s!=null&&s.value),setData:r,indexI:ae,indexJ:Ne,specialFieldsNameConfig:x},be),Ne)),I&&u&&n.jsx(E,{icon:n.jsx(_f,{}),textColor:C.red.main,onClick:()=>D(ae),background:"transparent",isActive:!(s!=null&&s.value)})]},ae)):o.map((B,ae)=>n.jsx(pl,f({documents:a,changeInputArea:I&&!(s!=null&&s.value),setData:r,indexI:ae,specialFieldsNameConfig:x},B),ae)),u&&I&&n.jsx(E,{icon:n.jsx(jf,{}),text:"Добавить",onClick:G,background:"transparent",isActive:!(s!=null&&s.value)}),!!a&&I&&a.visible!==!1&&n.jsx(Ga,{files:a.files,setFiles:B=>V(B),maxFileSizeInMegaBytes:a.maxFileSizeInMegaBytes,maxFiles:a.maxFiles,formats:a.allowedTypes,isActive:a.checkboxCondition?a.checkboxCondition==="straight"?!!(s!=null&&s.value):!(s!=null&&s.value):!0}),(m==null?void 0:m.length)&&m.map(B=>d.createElement(qb,_(f({},B),{key:B.title}))),n.jsx(lt,{visible:!!s&&((v=s.visible)!==null&&v!==void 0?v:!0),text:s==null?void 0:s.title,isActive:(s==null?void 0:s.editable)||I,checked:(y=s==null?void 0:s.value)!==null&&y!==void 0?y:!1,setChecked:U}),n.jsx(lw,{confirmed:l,changeInputArea:I,setData:r,setChangeInputArea:W,handleConfirm:H})]})]}),h&&n.jsx(ye,{})]})},cw=p.div.withConfig({componentId:"sc-1pnt9cd-0"})(["color:#fff;cursor:pointer;background:",";outline:6px solid ",";min-width:30px;min-height:30px;margin:6px;border-radius:100%;display:flex;align-items:center;justify-content:center;font-size:0.8em;font-weight:bold;"],({reached:e})=>e?C.green.main:C.grey.main,({reached:e,current:t})=>t?C.blue.transparent1:e?C.green.transparent3:C.grey.transparent3),dw=p.div.withConfig({componentId:"sc-1pnt9cd-1"})(["display:flex;margin-bottom:-0.5rem;overflow-x:auto;"]),uw=p.div.withConfig({componentId:"sc-1pnt9cd-2"})(["width:",";display:flex;align-items:center;"],({lastElement:e})=>e?"42px":"100%"),pw=({stagesConfig:e})=>{const[t,i]=d.useState(0),[o,s]=d.useState({});d.useEffect(()=>{a(0)},[]);const a=r=>{s(l=>_(f({},l),{[t]:et(e[t][0].dataForm)})),i(r)};return d.useEffect(()=>{s(r=>_(f({},r),{[t]:et(e[t][0].dataForm)}))},[t]),n.jsxs(n.Fragment,{children:[n.jsx(dw,{children:e.map((r,l)=>n.jsxs(uw,{lastElement:l===e.length-1,children:[n.jsx(cw,{current:l===t,onClick:()=>a(l),reached:o[l],children:l+1}),l!==e.length-1&&n.jsx(uy,{direction:"horizontal",reached:o[l],filled:100,distance:40})]},l))}),n.jsx(n.Fragment,{children:e[t].map((r,l)=>d.createElement(Jt,_(f({},r.dataForm),{setData:c=>{r.setDataForm(c),s(u=>_(f({},u),{[t]:et(e[t][0].dataForm)}))},key:l})))}),n.jsxs(A,{jc:"space-between",children:[n.jsx(E,{text:"Назад",isActive:t>0,onClick:()=>{t!==0&&a(t-1)}}),n.jsx(E,{text:"Далее",isActive:t<e.length-1,onClick:()=>{t!==e.length-1&&a(t+1)}})]})]})},hw=()=>({title:"Дополнительно",data:[{title:"Комментарий",type:"textarea",fieldName:"comment",value:"",editable:!0}]}),gw=()=>({title:"Период предоставления льготы",hint:"Период предоставления льготы по плате за пользование жилым помещением соответствует дате подачи заявки и дате окончания действия документа",data:[{title:"Начало периода соответствия льготной категории",type:"date",value:"",fieldName:"beginning_of_benefit_period",editable:!0,required:!0},{title:"Окончание периода соответствия льготной категории",type:"date",value:"",fieldName:"end_of_benefit_period",editable:!0,required:!0},{title:"Отсутствует срок действия документа (бессрочный)",type:"checkbox",value:"",fieldName:"is_indefinite",editable:!0,required:!1}],documents:{files:[],required:!0,checkboxCondition:"reverse",fieldName:"invalidFiles",maxFiles:1,allowedTypes:["pdf"]}}),mw=()=>({title:"Адрес регистрации",data:[],hint:"Необходимо приложить скан-копию 2-3 страниц паспорта, а также страниц с регистрацией. Для иностранных студентов обязательно приложить перевод паспорта.",documents:{files:[],required:!0,fieldName:"registrationFiles",maxFiles:1,allowedTypes:["pdf"]}}),fw=e=>{const t=e.data.reduce((o,s)=>{if(!s.value)return o;if(s.type==="checkbox-docs"){var a;const r=(a=s.items)===null||a===void 0?void 0:a.reduce((l,c)=>{for(let u=0;u<c.files.length;u++)l[(c==null?void 0:c.fieldName)+`[${u}]`]=c.files[u];return l},{});o=Object.assign({},o,r)}else if(s.type==="select")o[s.fieldName]=s.isSpecificSelect?s.value.id:s.value.title||null;else{const r=!s.value||typeof s.value!="object";o[s.fieldName]=r?s==null?void 0:s.value:s.value.title}return o},{}),i=()=>{var o;const s={};if((o=e.documents)!==null&&o!==void 0&&o.fieldName)for(let r=0;r<e.documents.files.length;r++){var a;s[((a=e.documents)===null||a===void 0?void 0:a.fieldName)+`[${r}]`]=e.documents.files[r]}return s};return f(f({},t),i())},xw=(e,t,i=!1)=>{const o=t.map(l=>{if(i)return fw(l);if(Array.isArray(l.data[0])){var c;const u=l.data.map(g=>Object.assign({},...g==null?void 0:g.map(m=>hl(m)))),h={};return h[(c=l.id)!==null&&c!==void 0?c:e]=JSON.stringify(u),h}else return l.data.map(u=>hl(u))}).flat(),s=t.map(l=>{var c;const u={};if((c=l.documents)!==null&&c!==void 0&&c.fieldName)for(let g=0;g<l.documents.files.length;g++){var h;u[((h=l.documents)===null||h===void 0?void 0:h.fieldName)+`[${g}]`]=l.documents.files[g]}return u}),a=t.map(l=>{var c;const u={};if((c=l.optionalCheckbox)!==null&&c!==void 0&&c.fieldName){var h;u[(h=l.optionalCheckbox)===null||h===void 0?void 0:h.fieldName]=l.optionalCheckbox.value}return u});return Object.assign({},...o,...s,...a)},hl=e=>{var t;const i={};if(i[(t=e==null?void 0:e.fieldName)!==null&&t!==void 0?t:""]=vw(e),e.type==="multiselect"){var o;i[(o=e==null?void 0:e.fieldName)!==null&&o!==void 0?o:""]=JSON.stringify((e==null?void 0:e.value).map(a=>a.title))}if(e.type==="checkbox-docs"){var s;return(s=e.items)===null||s===void 0?void 0:s.reduce((a,r)=>{for(let l=0;l<r.files.length;l++)a[(r==null?void 0:r.fieldName)+`[${l}]`]=r.files[l];return a},{})}return e.type==="select"&&(i[e.fieldName]=e.isSpecificSelect?e.value.id:e.value.title||null),i},vw=e=>!e.value||typeof e.value!="object"?e==null?void 0:e.value:e.value.title,GN=e=>e.reduce((t,i,o)=>(t[`docs[${o}]`]=i,t),{}),qa=(e,t,i,o,s=!1)=>T(void 0,null,function*(){i(!0);const a=xw(e,t,s);try{yield Zs.postApplicationFx({formId:e,args:a}),i(!1),o(!0)}catch(r){i(!1)}}),Qa=p.div.withConfig({componentId:"sc-1ewdcum-0"})(["display:flex;align-items:",";justify-content:center;width:100%;max-height:",";padding:10px;color:var(--text);@media (max-width:1000px){margin-top:35px;}"],({isDone:e})=>e?"center":"flex-start",({isDone:e})=>e&&"100%");var ts=(e=>(e.USG_GETHOSTEL_O="usg_gethostel_o",e.USG_GETHOSTEL_OOZ="usg_gethostel_ooz",e.USG_GETHOSTEL_Z="usg_gethostel_z",e.USG_GETHOSTEL_AO="usg_gethostel_ao",e.USG_GETHOSTEL_BENEFIT="usg_gethostel_benefit",e.USG_GETHOSTEL_FAMILY="usg_gethostel_family",e.USG_CONTR_TERMINATION="usg_contr_termination",e.USG_RELOCATION_INNER="usg_relocation_inner",e.USG_RELOCATION="usg_relocation",e.ACCOMMODATION_FOR_GRADUATES="accommodation_for_graduates",e.OBUCH="obuch",e.STATUS_SOBES="status_sobes",e.SPRVIZOV="sprvizov",e.PERS_DATA="pers_data",e.PROPUSK_RESTORE="propusk_restore",e.PASSPORT_DATA="passport_data",e.DIPL_OTL="dipl_otl",e.STATUS_REGULAR="status_regular",e.OKID_LICAKKRED="okid_licakkred",e.MILDOCS="mildocs",e.MILITARY_REG="military_form_10",e.MILITARY_FORM_4="military_form_4",e.MILITARY_FORM_5="military_form_5",e.MILITARY_COPIES="military_copies",e.VOEN_UCH="voen_uch",e.PR_DONATE="pr_donate",e.PR_MATPOM="pr_matpom",e.PR_SOCSTIP="pr_socstip",e.HIGH_SCHOLARSHIP="high_scholarship",e.DOP_SOGL="dop_sogl",e.SEND_PAYMENT_EDU="send_payment_edu",e.FREE_REQUEST="free_request",e.CRS_VACATIONS="crs_vacations",e.CRS_ACADEMVAC="crs_academvac",e.CRS_EXTACADEMVAC="crs_extacademvac",e.CRS_EXPULSION="crs_expulsion",e.CRS_ATTESTAT="crs_attestat",e.MEDICAL_CERT="postRequestMedicalCertificate",e.STUD_EMPLOYMENT="stud_employment",e.FAMILY_CONTACTS="parent_contacts",e.MEDICAL_CERT_086="medical_cert_086",e.WORK_TRANSFER="",e.EXTRA_HOLIDAY_COLL="",e.HOLIDAY_PLANNING="",e.HOLIDAY_WORK="",e.DISMISSAL="",e.HOLIDAY_POSTPONED="",e.PART_TIME_EMPLOYMENT="",e))(ts||{}),bw=(e=>(e.EDIT_PHONEBOOK_SUBDIVISION="edit-phonebook-subdivision",e.EDIT_PHONEBOOK_INNER_PHONE="edit-phonebook-inner-phone",e.EDIT_PHONEBOOK_EMAIL="edit-phonebook-email",e.CONTACT_INFO_ACTUALIZATION="contact-info-actualization",e.DATA_VERIFICATION_ROUTE="data-verification",e.ISSUANCE_OF_LICENSES="issuance-of-licenses",e.GETTING_COMPUTER_EQUIPMENT="getting-computer-equipment",e.CONNECTING_COMPUTER="connecting-computer",e.PRINTER_MAINTENANCE="printer-maintenance",e.QUESTION_SED="question-sed",e.QUESTION_PERSONAL_ACCOUNT="question-personal-account",e.OTHER_IT_SERVICES="other-it-services",e.CERTIFICATE_FROM_PLACE_OF_WORK="certificate-from-the-place-of-work",e.VISA_CERTIFICATE="visa-certificate",e.CERTIFICATE_OF_WORK_EXPERIENCE="certificate-of-work-experience",e.NUMBER_OF_UNUSED_VACATION_DAYS="number-of-unused-vacation-days",e.INCREASE_ANTIPLAGIAT_LIMITS="increase-antiplagiat-limits",e.COPY_OF_EMPLOYMENT_RECORD="copy-of-the-employment-record",e.COPIES_OF_DOCUMENTS_FROM_PERSONAL_FILE="copies-of-documents-from-the-personal-file",e.WORK_ON_TERMS_OF_EXTERNAL_CONCURRENCY="work-on-the-terms-of-external-concurrency",e.CERTIFICATE_TIME_PARENTAL_LEAVE="certificate-time-parental-leave",e.COURIER="courier",e.PERSONA_INCOME_TAX_REFERENCE="persona-income-tax-reference",e.PAYMENT_OF_CHILD_BIRTH_ALLOWANCE="payment-of-child-birth-allowance",e.PAYMENT_FOR_CHILD_CARE="payment-for-child-care",e.LIVING_IN_RESIDENTIAL_PREMISES="living-in-residential-premises",e.GUESTS_ACCOMODATION_ON_CAMPUS="guests-accomodation-on-campus",e.GUESTS_PASSAGE_TO_CAMPUS="guests-passage-to-campus",e.RELOCATION="relocation",e.TERMINATION_OF_AGREEMENT="termination-of-agreement",e.ISSUANCE_OF_PASS="issuance-of-pass",e.GUEST_PASS="guest-pass",e.CERTIFICATION_AND_ISSUANCE_OF_DOCS="certification-and-issuance-of-documents",e.DEFERMENT_FROM_CONSCRIPTION="deferment-from-conscription",e.CERTIFIED_COPIES_OF_MILITARY_DOCS="certified-copies-of-military-docs",e.CHILDREN="children",e))(bw||{});const yw=[{id:0,title:"1 общежитие"},{id:1,title:"2 общежитие"},{id:2,title:"3 общежитие"},{id:3,title:"4 общежитие"},{id:4,title:"5 общежитие"},{id:5,title:"6 общежитие"},{id:6,title:"7 общежитие"},{id:7,title:"8 общежитие"},{id:8,title:"9 общежитие"},{id:9,title:"10 общежитие"}],ww=[{id:0,title:"имею постоянную регистрацию за пределами А-107 или не имею постоянную регистрацию"},{id:1,title:"имею постоянную регистрацию в пределах А-107"}],_w=e=>{const{surname:t,name:i,patronymic:o,group:s,email:a,phone:r}=e;return{title:"Контактная информация",data:[{title:"ФИО",fieldName:"fio",value:t+" "+i+" "+o,editable:!1},{title:"Учебная группа",fieldName:"group",type:"tel",value:s,editable:!1},{title:"Электронная почта",fieldName:"email",type:"email",value:a,editable:!0,required:!0},{title:"Телефон",fieldName:"phone",type:"tel",value:r,editable:!0,required:!0},{title:"Причина предоставления (в связи с)",type:"select",width:"100%",value:null,fieldName:"reason",placeholder:"укажите причину",editable:!0,required:!0,items:ww},{title:"Приоритетное общежитие",fieldName:"priority_hostel",value:null,type:"select",width:"100%",editable:!0,required:!0,items:yw}]}},jw=()=>{var e,t;const[i,o]=d.useState(null),[s,a]=d.useState(so.kvdCert),[r,l]=d.useState(so.fluorographyCert),[c,u]=d.useState(so.vichRwCert),[h,g]=d.useState(so.graftCert),{data:{dataUserApplication:m}}=Ua.useApplications(),{data:{user:x}}=Te.useUser(),[b,v]=d.useState(!1),[y,j]=d.useState(!1),[I,k]=d.useState(null),[P,$]=d.useState(null),[W,D]=d.useState(null),G=b!=null?b:!1;if((x==null?void 0:x.educationForm)!=="Недоступен")return n.jsx(ke,{text:"Сервис временно недоступен в связи с отсутствием свободных мест"});const V=!!i&&!!P&&!!I&&!!W;if(d.useEffect(()=>{m&&(o(_w(m)),k(gw()),$(mw()),D(hw()))},[m]),!V)return null;const H=[[{dataForm:i,setDataForm:o}],[{dataForm:P,setDataForm:$}],[{dataForm:s,setDataForm:a}],[{dataForm:r,setDataForm:l}],[{dataForm:c,setDataForm:u}],[{dataForm:h,setDataForm:g}]];return n.jsx(Qa,{isDone:G,children:n.jsxs(Fa,{children:[n.jsx(M,{size:4,align:"left",children:"Предоставление права проживания (очно-заочная форма)"}),n.jsx(pw,{stagesConfig:H}),n.jsx(xt,{text:"Отправить",action:()=>qa(ts.USG_GETHOSTEL_OOZ,[i,P,I,W,s,r,c,h],j,v),isLoading:y,completed:b,setCompleted:v,repeatable:!1,buttonSuccessText:"Отправлено",isDone:G,isActive:((e=(t=i.optionalCheckbox)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:!0)&&et(i)&&et(r)&&et(c)&&et(h)&&et(s),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},kw=[{id:0,title:"заключение врачебной комиссии медицинской организации"},{id:1,title:"копия военного билета с отметками о прохождении военной службы"}],Cw=e=>({title:"Выход из академического отпуска",data:[{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",editable:!0,required:!0,value:e.phone},{title:"Email",type:"email",fieldName:"email",value:e.email,editable:!0,required:!0},{title:"Дата выхода из академического отпуска:",type:"date",fieldName:"time-exit",value:"",editable:!0,required:!0},{fieldName:"",title:"Приказ о предоставлении академического отпуска:",type:"text-header",visible:!0,value:"Данные военного билета"},{title:"от:",type:"date",fieldName:"order-time",value:"",editable:!0,required:!0},{title:"№:",fieldName:"order-number",type:"text",value:null,editable:!0,required:!0},{title:"Приложения:",type:"select",fieldName:"attachments",width:"100",value:null,required:!0,editable:!0,items:kw},{title:"от:",type:"date",fieldName:"medical-report-time",value:"",specialType:"medicalReport",editable:!0,required:!0},{title:"№:",type:"text",fieldName:"medical-report-number",value:null,specialType:"medicalReport",editable:!0,required:!0},{title:"Количество листов подтверждающих документов:",type:"text",fieldName:"num_sheets",value:null,specialType:"medicalReport",editable:!0,required:!0},{title:"Комментарий к заявке",type:"textarea",fieldName:"comment",value:"",editable:!0}],documents:{files:[],fieldName:"docs",maxFiles:6,required:!0}}),Sw=e=>{const t=e.find(o=>o.fieldName==="attachments");let i=null;return t!=null&&t.value&&(t==null?void 0:t.value).title==="заключение врачебной комиссии медицинской организации"&&(i="medicalReport"),{reason_academic:i}},Iw=()=>{const[e,t]=d.useState(null),[i,o]=d.useState(!1),[s,a]=d.useState(!1),[r,l]=d.useState({}),c=i!=null?i:!1,{data:{dataUserApplication:u}}=Ua.useApplications();return d.useEffect(()=>{u&&t(Cw(u))},[u]),d.useEffect(()=>{e&&u&&l(Sw(e.data))},[e]),n.jsx(Qa,{isDone:c,children:!!e&&!!t&&n.jsxs(Fa,{children:[n.jsx(Jt,_(f({},e),{collapsed:c,setData:t,specialFieldsNameConfig:r})),n.jsx(xt,{text:c?"Отправлено":"Отправить",action:()=>qa(ts.CRS_EXTACADEMVAC,[e],a,o),isLoading:s,completed:i,setCompleted:o,repeatable:!1,buttonSuccessText:"Отправлено",isDone:c,isActive:et(e,r),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},Ze=({oldVersionUrl:e,errorText:t="Страница еще находится в разработке. Если вам она нужна, вернитесь к старому дизайну",buttonText:i="Перейти к старому дизайну",forceForward:o=!1,isRedirectButtonVisible:s=!0})=>(d.useEffect(()=>{o&&(window.location.href=`/old/?p=${e==null?void 0:e.slice(1,e.length)}`)},[]),n.jsx(ke,{text:t,children:s&&n.jsx("a",{href:`${q}/?p=${e==null?void 0:e.slice(1,e.length)}`,children:n.jsx(E,{text:i,icon:n.jsx(Uo,{}),width:"100%",background:"var(--reallyBlue)",textColor:"#fff",align:"left",padding:"10px"})})})),Tw=(e,t,i)=>{if(!e)return null;const o=e.dormitory.map(s=>s.id===t?_(f({},s),{can_sign:i}):s);return _(f({},e),{dormitory:o})},$d=e=>e.filter(t=>Number(t.balance_currdate)>0),Md=e=>e.filter(t=>Number(t.balance_currdate)<=0&&(!t.endDateFact||new Date(t.endDateFact).getTime()>Date.now())),Fd=S({name:"signAgreement",sid:"-ok9iih"}),Bd=S({name:"setCompleted",sid:"-3boqvc"}),On=Y(()=>T(void 0,null,function*(){const e=yield Xx();if(!e.data.contracts.education&&!e.data.contracts.dormitory)throw new Error("У вас нет данных по оплате");try{return e.data.contracts}catch(t){throw new Error("Не удалось загрузить оплату")}}),{name:"getPaymentsFx",sid:"4yi2y2"}),Ya=Y(e=>T(void 0,null,function*(){try{return yield ev(e),e}catch(t){throw new Error("Не удалось подписать конкракт. Причина: "+t)}}),{name:"signContractFx",sid:"m208hq"}),Gi=Y(e=>T(void 0,null,function*(){if((yield Zx(e)).data[0].result!=="ok")throw new Error}),{name:"signAgreementFx",sid:"yo4lpz"});w({and:[{clock:Gi.doneData,fn:()=>({message:"Успешно подписано",type:"success"}),target:Q.evokePopUpMessage}],or:{sid:"iv3ung"}});w({and:[{clock:Gi.failData,fn:()=>({message:"У вас нет данных по оплате",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"jb1vux"}});w({and:[{clock:Fd,target:Gi}],or:{sid:"jqzx2e"}});const Ud=S({name:"getPayments",sid:"2z1thb"}),Ew=Ae({and:[Gi.pending,On.pending,Boolean],or:{name:"$loading",sid:"-pc8xnj"}}),Pw=R(!1,{name:"$completed",sid:"8nelcf"}).on(Bd,(e,t)=>t),Aw=R(!1,{name:"$done",sid:"-8c2xjg"}).on(Gi.doneData,()=>!0),Nw=R(null,{name:"$error",sid:"-aq6gp8"}).on(On,()=>null).on(On.failData,(e,t)=>t.message).on(Ya.failData,(e,t)=>t.message),Vi=R(null,{name:"$paymentsStore",sid:"-c0yb6e"}).on(On.doneData,(e,t)=>t).on(Ya.doneData,(e,t)=>Tw(e,t,!1)).on(ne.userGuid,()=>null),Hd=Vi.map(e=>$d((e==null?void 0:e.dormitory)||[])),Wd=Vi.map(e=>Md((e==null?void 0:e.dormitory)||[])),Gd=Vi.map(e=>$d((e==null?void 0:e.education)||[])),Vd=Vi.map(e=>Md((e==null?void 0:e.education)||[])),qd=Ae({and:[Hd,Wd,(e,t)=>e.length+t.length],or:{name:"$combinedDormLength",sid:"qde16u"}}),Qd=Ae({and:[Gd,Vd,(e,t)=>e.length+t.length],or:{name:"$combinedEduLength",sid:"-ps8ego"}}),Dw=Ae({and:[qd,Qd,(e,t)=>e&&t?"both":e?"dormitory":t?"education":"none"],or:{name:"$paymentType",sid:"1mr1lw"}}),Le={$loading:Ew,$completed:Pw,$done:Aw,$error:Nw,$paymentsStore:Vi,contractsWithDebtDorm:Hd,contractsWithoutDebtDorm:Wd,contractsWithDebtEdu:Gd,contractsWithoutDebtEdu:Vd,combinedDormLength:qd,combinedEduLength:Qd,paymentType:Dw};w({and:[{clock:Ud,target:On}],or:{sid:"l6okuc"}});const Ka={getPaymentsFx:On,signContractFx:Ya},ta={signAgreement:Fd,setCompleted:Bd,getPayments:Ud},Yd=S({name:"signStarted",sid:"-iiv0dq"}),Kd=S({name:"emailsApproved",sid:"d2743c"}),Jd=S({name:"enterPasses",sid:"-9dgewt"}),Xd=S({name:"signAgreement",sid:"bbd2o3"}),Zd=S({name:"sendCodes",sid:"-ke1fhy"}),eu=S({name:"activateSignButton",sid:"138m3r"}),tu=S({name:"goBack",sid:"-9z5pk6"}),qi=Y(i=>T(void 0,[i],function*({clientEmail:e,userEmail:t}){if(!e||!t)throw new Error("Один из адресов e-mail пуст, введите адрес, затем подтвердите адреса");if(e===t)throw new Error("E-mail адреса не должны совпадать");return{clientEmail:e,userEmail:t}}),{name:"checkEmails",sid:"jns8en"}),ns=R(0,{name:"$step",sid:"eqtrpz"}).on(tu,e=>e-1),nu=R("",{name:"$userEmail",sid:"-brpi4s"}),iu=R("",{name:"$clientEmail",sid:"-gpcpes"}),Ow=R(!1,{name:"$signButtonActive",sid:"-b32zbf"}).on(eu,()=>!0),ou=R(!1,{name:"$signed",sid:"-2smwhg"});w({and:[{clock:Yd,fn:()=>0,target:ns}],or:{sid:"-lb6x52"}});w({and:[{clock:Kd,target:qi}],or:{sid:"-l8fy69"}});w({and:[{clock:qi.doneData,fn:({clientEmail:e})=>e,target:iu}],or:{sid:"-kup3c8"}});w({and:[{clock:qi.doneData,fn:({userEmail:e})=>e,target:nu}],or:{sid:"-kquj6p"}});w({and:[{clock:qi.done,fn:()=>1,target:ns}],or:{sid:"-kbgakl"}});w({and:[{clock:qi.fail,fn:({error:e})=>({message:e.message,type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-jx5n57"}});w({and:[{clock:Jd,fn:()=>2,target:ns}],or:{sid:"-jg40r0"}});const is=J({sid:"-gqojqy",fn:()=>we({handler:tv}),name:"sendAgreementCodesMutation",method:"createMutation"});w({and:[{clock:Zd,target:is.start}],or:{sid:"-jbpo04"}});w({and:[{clock:is.$succeeded,fn:()=>({message:"Пароли для подписания ЭЦП 3-х-сторонних доп.соглашений высланы на указанные адреса e-mail",type:"success"}),target:Q.evokePopUpMessage}],or:{sid:"-ixyt63"}});w({and:[{clock:is.$succeeded,target:eu}],or:{sid:"-ii0rym"}});w({and:[{clock:is.finished.failure,fn:({error:e})=>({message:yt.isAxiosError(e)?"Не удалось отправить коды для подписания соглашения.":"Не удалось отправить коды для подписания соглашения. "+e.message,type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-iftll6"}});const Qi=J({sid:"hdlrr6",fn:()=>we({handler:nv}),name:"signThirdPartyAgreementMutation",method:"createMutation"});w({and:[{clock:Xd,target:Qi.start}],or:{sid:"jjj8nz"}});w({and:[{clock:Qi.$succeeded,fn:()=>({message:"Доп.соглашение подписано",type:"success"}),target:Q.evokePopUpMessage}],or:{sid:"jxa3i0"}});w({and:[{clock:Qi.$succeeded,target:ta.getPayments}],or:{sid:"k1og8w"}});w({and:[{clock:Qi.finished.failure,fn:({error:e})=>({message:yt.isAxiosError(e)?"Один из паролей не введён или не совпадает с высланным, откорректируйте пароли":"Не удалось подписать соглашение: "+e.message,type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"kffb2x"}});ou.on(Qi.$succeeded,()=>!0);const Ln={signStarted:Yd,emailsApproved:Kd,sendCodes:Zd,signAgreement:Xd,enterPasses:Jd,goBack:tu},sn={step:ns,userEmail:nu,clientEmail:iu,signButtonActive:Ow,signed:ou},su=S({name:"getElectronicInteraction",sid:"r9fh1m"}),au=S({name:"postElectronicInteraction",sid:"iwql6m"}),ru=S({name:"changeDone",sid:"-xe3ofi"}),lu=S({name:"changeCompleted",sid:"l90b28"}),Yi=Y(()=>T(void 0,null,function*(){const t=(yield av())[0];if((t==null?void 0:t.result)!=="ok")throw new Error}),{name:"postElectronicInteractionFx",sid:"-ezfxrp"});w({and:[{clock:Yi.doneData,fn:()=>({message:"Форма отправлена успешно",type:"success"}),target:Q.evokePopUpMessage}],or:{sid:"-56man9"}});w({and:[{clock:Yi.doneData,fn:()=>!0,target:ru}],or:{sid:"-4qo9fs"}});w({and:[{clock:Yi.failData,fn:()=>({message:"Не удалось подписать",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-4nxagz"}});const _i=Y(()=>T(void 0,null,function*(){try{return(yield sv())[0]}catch(e){throw new Error(e)}}),{name:"getElectronicInteractionFx",sid:"qiy9m"});w({and:[{clock:au,target:Yi}],or:{sid:"-3qxmvb"}});w({and:[{clock:su,target:_i}],or:{sid:"-3d6s1a"}});const Lw=_i.pending,zw=Yi.pending,Rw=R(!1,{name:"$completed",sid:"-q8ea71"}).on(lu,(e,t)=>t),$w=R(!1,{name:"$done",sid:"-cuopmg"}).on(ru,(e,t)=>t),Mw=R(null,{name:"$error",sid:"-6xp7g8"}).on(_i,()=>null).on(_i.failData,(e,t)=>t.message),Fw=R(null,{name:"$electronicInteractionStore",sid:"-wkvhgj"}).on(_i.doneData,(e,t)=>t).on(ne.userGuid,()=>null),cu={$error:Mw,$electronicInteractionStore:Fw,$completed:Rw,$done:$w,$loading:Lw,$workerLoading:zw},na={getElectronicInteraction:su,postElectronicInteraction:au,changeCompleted:lu},du=S({name:"sendCodes",sid:"-j8sbgu"}),uu=S({name:"signAgreement",sid:"-w2zhhz"}),Bw=cu.$electronicInteractionStore.map(e=>e!=null&&e.clients.length?e.clients[0].status:null),Uw=R(0,{name:"$step",sid:"-2e0d0f"}),Ja=J({sid:"tuppl4",fn:()=>we({handler:iv}),name:"sendCodesMutation",method:"createMutation"}),pu=J({sid:"-rnn1mq",fn:()=>we({handler:ov}),name:"signAgreementMutation",method:"createMutation"});w({and:[{clock:du,target:Ja.start}],or:{sid:"-iqe0t4"}});w({and:[{clock:uu,target:pu.start}],or:{sid:"-io6ufo"}});w({and:[{clock:Ja.$succeeded,target:na.getElectronicInteraction}],or:{sid:"-iafzln"}});const VN={sendCodes:du,signAgreement:uu},Hw={step:Uw,thirdPartyInteractionAgreement:Bw},qN={sendCodes:Ja,signAgreement:pu},gl=(e,t)=>{var i;const o=e.split("/");return(i=t[e.slice(1,e.length)])!==null&&i!==void 0?i:Object.values(t).find(s=>{const a=s.path.split("/");for(let l=0;l<o.length;l++){var r;if(a[l]!==o[l]&&((r=a[l])===null||r===void 0?void 0:r[0])!==":")return!1}return!0})},hu=()=>{const e=wt(),{allRoutes:t}=bt.useMenu(),i=Wt(),o=t!=null?t:{},[s,a]=d.useState(gl(e.location.pathname,o));return d.useEffect(()=>{a(gl(i.pathname,o))},[i,o]),s},Ww={small:"600px",middle:"700px",big:"963px",large:"calc(100% - 35px)"},gu=e=>{var t;return Ww[(t=e==null?void 0:e.pageSize)!==null&&t!==void 0?t:"middle"]},Gw=p(Dt).withConfig({componentId:"sc-eq7p52-0"})(["position:relative;","{padding-top:",";}","{padding-top:",";}"],X.isNotMobile,({titleLen:e})=>e===0?"20px":e<60?"70px":"140px",X.isMobile,({hasCenterEl:e})=>e?"90px":"45px"),Vw=p.div.withConfig({componentId:"sc-eq7p52-1"})(["position:absolute;top:20px;right:20px;width:100%;display:flex;justify-content:flex-end;","{top:-4px;right:7px;}"],X.isMobile),qw=p.div.withConfig({componentId:"sc-eq7p52-2"})(["position:absolute;top:20px;left:50%;transform:translateX(-50%);display:flex;justify-content:flex-end;","{top:40px;}"],X.isMobile),wn=d.forwardRef(({children:e,topRightCornerElement:t,topCenterElement:i,padding:o,outerPadding:s,height:a},r)=>{var l,c,u;const h=hu(),g=gu(h);return n.jsx(Yn,{padding:s!=null?s:"0 0 10px 0",height:a,children:n.jsxs(Gw,{hasCenterEl:!!i,titleLen:(l=(c=h==null||(u=h.subPageHeaderTitle)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:h==null?void 0:h.title.length)!==null&&l!==void 0?l:0,justifyContent:"flex-start",height:"100%",orientation:"vertical",maxWidth:g,gap:"24px",ref:r,alignItems:"flex-start",noAppearanceInMobile:!0,padding:o,children:[t&&n.jsx(Vw,{children:t}),i&&n.jsx(qw,{children:i}),e]})})});wn.displayName="PageBlock";const Qw=p.div.withConfig({componentId:"sc-uv1246-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;flex-wrap:wrap;align-items:center;flex-direction:column;gap:32px;"]),Yw=p.div.withConfig({componentId:"sc-1ewi6no-0"})(["min-width:",";min-height:",";max-width:",";max-height:",";border-radius:",";display:flex;align-items:center;justify-content:center;position:relative;background:",";transition:0.2s;svg{color:#fff;width:100%;height:100%;scale:0.5;}"],({size:e})=>e+"px",({size:e})=>e+"px",({size:e})=>e+"px",({size:e})=>e+"px",({borderRadius:e})=>e!=null?e:"15px",({backgroud:e})=>C[e]?C[e].main:e),It=({children:e,color:t,borderRadius:i,badge:o,marginRight:s,size:a=38})=>{const r=o?isNaN(+o)?!0:+o>0:!1;return n.jsxs(Yw,{style:{marginRight:s},borderRadius:i,backgroud:t,size:a,className:"icon",children:[n.jsx(hn,{outline:"4px solid var(--block)",color:"red",top:"93%",left:"93%",visible:r,className:"notification-circle",children:o}),e]})},zs={data:null,preparedData:null,loading:!1,error:null},mu=({initialStore:e,api:t,prepareData:i,errorMessage:o=()=>Cx})=>{const s=e!=null?e:zs,a=()=>({data:rt(u).data,preparedData:rt(u).preparedData,loading:rt(r.pending),error:rt(u).error}),r=Y(h=>T(void 0,null,function*(){try{const g=yield t.get(h);return{data:g,preparedData:i?i(g):g}}catch(g){throw new Error(o(g))}}),{name:"getFx",sid:"-b9hj4e"}),l=Y(h=>T(void 0,null,function*(){try{var g;const m=yield(g=t.post)===null||g===void 0?void 0:g.call(t,h);return{data:m,preparedData:i?i(m):m}}catch(m){throw new Error(o(m))}}),{name:"postFx",sid:"-aimaf9"}),c=S({name:"clearStore",sid:"-vqshuk"}),u=R(s,{name:"$store",sid:"9y8x2d"}).on(r,h=>_(f({},h),{error:null})).on(l.pending,h=>_(f({},h),{loading:!0})).on(l.failData,(h,{message:g})=>_(f({},h),{error:g,loading:!1})).on(l.doneData,h=>_(f({},h),{error:null,loading:!1})).on(r.doneData,(h,{data:g,preparedData:m})=>_(f({},h),{data:g,preparedData:m})).on(r.failData,(h,g)=>_(f({},h),{error:g.message})).on(c,()=>f({},zs)).on(ne.userGuid,()=>f({},zs));return{selectors:{useData:a},effects:{getFx:r,postFx:l},events:{clearStore:c},store:u}},_t=mu({api:{get:gv}}),os=S({name:"addPageToHome",sid:"lkvuvg"}),ji=S({name:"deletePageFromHome",sid:"nxtipk"}),Kw=Ae({and:[ge.userSettings,e=>{var t;return Array.from(new Set([...qc,...(t=e==null?void 0:e.homePage.pages)!==null&&t!==void 0?t:[]]))}],or:{name:"$homePages",sid:"dfdpbq"}});w({and:[{clock:os,source:ge.userSettings,filter:e=>!!e,fn:(e,{pageId:t})=>({homePage:_(f({},e.homePage),{pages:[...e.homePage.pages,t]})}),target:qe.update}],or:{sid:"-n44dkl"}});w({and:[{clock:ji,source:ge.userSettings,filter:e=>!!e,fn:(e,{pageId:t})=>({homePage:_(f({},e.homePage),{pages:e.homePage.pages.filter(i=>i!==t)})}),target:qe.update}],or:{sid:"-mjrzm8"}});const ss=S({name:"addPageToSidebar",sid:"-f2thxq"}),So=S({name:"deletePageFromSidebar",sid:"-qzfx9p"}),zn=Ae({and:[ne.user,_t.store,({currentUser:e},{data:t})=>{if((e==null?void 0:e.status)==="")return Ea;const i=Pa;return Object.values(t!=null?t:{}).some(o=>o.length)?[...i,"download-agreements"]:i}],or:{name:"$requiredSidebarItems",sid:"-m4z2bj"}}),Xa=Ae({and:[zn,ge.userSettings,(e,t)=>Array.from(new Set([...e,...(t==null?void 0:t.customizeMenu.pages)||[]]))],or:{name:"$sidebarItems",sid:"-vjwndt"}});w({and:[{clock:ss,source:Xa,filter:e=>e.length>=Vc,fn:()=>({message:"Вы достигли максимального количества страниц в боковом меню",type:"failure",time:3e3}),target:Q.evokePopUpMessage}],or:{sid:"-l3jj8x"}});w({and:[{clock:ss,source:{settings:ge.userSettings,sidebarItems:Xa,requiredSidebarItems:zn},filter:({settings:e,sidebarItems:t,requiredSidebarItems:i},{pageId:o})=>!!e&&t.length<Vc&&!i.includes(o),fn:({settings:e},{pageId:t})=>({customizeMenu:_(f({},e.customizeMenu),{pages:[...e.customizeMenu.pages,t]})}),target:qe.update}],or:{sid:"-kly49d"}});w({and:[{clock:So,source:{settings:ge.userSettings,requiredSidebarItems:zn},filter:({settings:e,requiredSidebarItems:t},{pageId:i})=>!!e&&!t.includes(i),fn:({settings:e},{pageId:t})=>({customizeMenu:_(f({},e.customizeMenu),{pages:e.customizeMenu.pages.filter(i=>i!==t)})}),target:qe.update}],or:{sid:"-j6t92s"}});const Jw=e=>{const{id:t,icon:i,title:o,color:s}=e,[a,r,l]=F([Kw,Xa,zn]),c=a.includes(t),u=r.includes(t),h=l.includes(t),g=qc.includes(t),m=()=>{os({pageId:t}),Ye.close()},x=()=>{ss({pageId:t}),Ye.close()};return n.jsxs(Xw,{children:[n.jsxs("div",{className:"top",children:[n.jsx(It,{color:s,size:22,children:i}),n.jsx(Zw,{children:o})]}),n.jsx(ye,{}),!g&&(c?n.jsx(E,{text:"Убрать с главной",icon:n.jsx(cn,{}),width:"100%",align:"left",background:"var(--block)",onClick:()=>{ji({pageId:t}),Ye.close()}}):n.jsx(E,{text:"Добавить на главную",icon:n.jsx(xi,{}),width:"100%",align:"left",background:"var(--block)",onClick:m})),!h&&(u?n.jsx(E,{text:"Убрать из меню",icon:n.jsx(cn,{}),width:"100%",align:"left",background:"var(--block)",onClick:()=>{So({pageId:t}),Ye.close()}}):n.jsx(E,{text:"Добавить в меню",icon:n.jsx(xi,{}),width:"100%",align:"left",background:"var(--block)",onClick:x}))]})},Xw=p.div.withConfig({componentId:"sc-1kj8zre-0"})([".top{display:flex;align-items:center;gap:6px;padding:7px;}"]),Zw=p.span.withConfig({componentId:"sc-1kj8zre-1"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;font-size:0.8em;font-weight:500;"]),fu=({route:e})=>{var t;const i=C[e!=null&&(t=e.color)!==null&&t!==void 0&&t.length?e.color:"blue"].main,o=s=>{s.preventDefault(),s.stopPropagation(),Ye.open({e:s,height:105,content:n.jsx(Jw,f({},e))})};return n.jsx(E,{icon:n.jsx(xc,{}),textColor:i,className:"more-button",background:"transparent",onClick:o})},xu=(e,t)=>{if(e>=10&&e<=19)return t.fiveToNine;const i=e%10;return i===0?t.zero:i===1?t.one:i>=2&&i<=4?t.twoToFour:t.fiveToNine},vu=p(Dt).withConfig({componentId:"sc-18tgb3a-0"})(["position:relative;cursor:pointer;text-decoration:none;border-radius:var(--brLight);background:var(--block-content);.new{position:absolute;top:",";right:",";border-radius:",";background:",";font-size:0.7em;font-weight:bold;color:#fff;padding:5px 10px;}&[data-selected='true']{.outside{.more-button{opacity:1;visibility:visible;}.notification-circle{opacity:0;}.icon{box-shadow:0 20px 210px 60px ",";transform:",";}b{opacity:",";transform:",";color:",";}.notifications-title{opacity:1;transform:translateY(0px);}}}.more-button{position:absolute;top:",";left:",";right:",";transform:",";opacity:0;visibility:hidden;transition:0.2s;}.outside{position:static;width:100%;height:100%;overflow:hidden;gap:15px;display:flex;flex-direction:",";border-radius:var(--brLight);align-items:center;justify-content:",";padding:15px;.notifications-title{opacity:0;transform:translateY(20px);font-size:0.7em;position:absolute;transition:0.2s;bottom:25px;font-weight:bold;color:var(--text);right:",";}@media (min-width:1001px){&:hover{.more-button{opacity:1;visibility:visible;}.notification-circle{opacity:0;}.icon{box-shadow:0 20px 110px 60px ",";transform:",";}b{opacity:",";transform:",";color:",";}.notifications-title{opacity:1;transform:translateY(0px);}}}b{display:flex;align-items:center;font-size:0.8em;text-align:",";color:var(--text);transition:0.2s;font-weight:600;height:30px;}}"],({isVertical:e})=>e?"5px":"18px",({isVertical:e})=>e?"-5px":"50px",({isVertical:e})=>e?"var(--brLight) calc(var(--brLight) - 4px) calc(var(--brLight) - 4px) var(--brLight)":"var(--brLight)",C.red.light2,({color:e})=>C[e].main,({isVertical:e})=>e&&"scale(1.1) translateY(20px)",({hasNotifications:e,isVertical:t})=>t&&e&&0,({isVertical:e})=>e&&"scale(0.95) translateY(40%)",({isVertical:e})=>e?"#fff":"var(--text)",({isVertical:e})=>e?"5px":"50%",({isVertical:e})=>e?"5px":"auto",({isVertical:e})=>!e&&"10px",({isVertical:e})=>!e&&"translateY(-50%)",({isVertical:e})=>e?"column":"row",({isVertical:e})=>e?"center":"flex-start",({isVertical:e})=>!e&&"50px",({color:e})=>C[e].main,({isVertical:e})=>e&&"scale(1.1) translateY(20px)",({hasNotifications:e,isVertical:t})=>t&&e&&0,({isVertical:e})=>e&&"scale(0.95) translateY(40%)",({isVertical:e})=>e?"#fff":"var(--text)",({isVertical:e})=>e?"center":"left"),e1=p.div.withConfig({componentId:"sc-18tgb3a-1"})(["position:absolute;top:12px;left:12px;opacity:0.7;"]),ia=e=>{const{color:t,shadow:i,notifications:o,title:s,isNew:a,icon:r,isExternalPage:l,isOldLkPage:c,mode:u,id:h,orientation:g="vertical"}=e,m=g==="vertical",x=F(ge.userSettings);if(!x)return null;const b=x.homePage.pages.find(v=>v===h);return n.jsxs(vu,{padding:"0",width:"100%",maxWidth:"100%",height:m?"135px":"60px",isVertical:m,justifyContent:"center",shadow:i,color:t.length?t:"blue",hasNotifications:!!o,"data-selected":e.isActive,children:[(c||l)&&m&&n.jsxs(e1,{children:[c&&n.jsx(Uo,{title:"Раздел в старом ЛК"}),l&&n.jsx(bo,{title:"Раздел на внешнем ресурсе"})]}),n.jsxs("div",{className:"outside",children:[n.jsx(It,{badge:o==null?void 0:o.toString(),color:t.length?t:"blue",children:r!=null?r:n.jsx(kf,{})}),n.jsx("b",{title:s,children:s}),!!o&&n.jsxs("span",{className:"notifications-title",children:[o," ",xu(o,{one:"уведомление",zero:"уведомлений",twoToFour:"уведомления",fiveToNine:"уведомлений"})]})]}),u==="use"&&n.jsx(fu,{route:e}),u==="add"?b?n.jsx(E,{icon:n.jsx(Nt,{}),width:"80px",align:"center",textColor:"var(--red)",background:"var(--block)",onClick:()=>ji({pageId:h})}):n.jsx(E,{icon:n.jsx(xi,{}),width:"80px",textColor:"var(--green)",align:"center",background:"var(--block)",onClick:()=>os({pageId:h})}):null,a&&n.jsx("span",{className:"new",children:"New"})]})},t1=p(vu).withConfig({componentId:"sc-17rtccq-0"})(["box-shadow:none;color:var(--blue);background:transparent;"]),QN=()=>n.jsx(ue,{to:mi,onClick:()=>{At.changeOpen({isOpen:!1,currentPage:mi.slice(1,mi.length)})},children:n.jsx(t1,{padding:"0",width:"125px",height:"135px",isVertical:!0,justifyContent:"center",color:"blue",hasNotifications:!1,children:n.jsxs("div",{className:"outside",children:[n.jsx(It,{color:"blue",children:n.jsx(Cf,{})}),n.jsx("b",{children:"Все разделы"})]})})}),n1=p(ue).withConfig({componentId:"sc-1fmzc9s-0"})(["width:",";border-radius:var(--brLight);@media (max-width:500px){width:",";}"],({width:e})=>typeof e=="number"?`calc((700px / 5) * ${e} - ${e===2?22:15}px)`:e,({width:e})=>typeof e=="number"?`calc(33vw * ${e} - ${e===2?22:15}px)`:e),i1=p.div.withConfig({componentId:"sc-1fmzc9s-1"})(["width:",";"],({width:e})=>typeof e=="number"?`calc(125px * ${e} + ${(e-1)*10}px)`:e),bu=e=>{const{close:t}=K(),{menuPath:i,path:o,orientation:s="vertical",mode:a="use"}=e,r=s==="vertical"?17:50,l=1;if(a==="add")return n.jsx(i1,{width:s==="vertical"?l:"100%",children:n.jsx(ia,_(f({},e),{mode:a,maxWordLength:r}))});const c=()=>{t(),At.changeOpen({isOpen:!1,currentPage:o.slice(1,o.length)})};return n.jsx(n1,{ref:e.forwardedRef,to:i!=null?i:o,onClick:c,width:s==="vertical"?l:"100%",children:n.jsx(ia,_(f({},e),{maxWordLength:r,mode:a}))})},o1=p.div.withConfig({componentId:"sc-1rovv03-0"})(["width:100%;display:flex;flex-direction:column;gap:5px;"]),s1=({pages:e,showNotFound:t=!0})=>!e||!t&&Object.keys(e).length===0?null:!Object.keys(e).length&&t?n.jsx(ke,{text:"Ничего не было найдено"}):n.jsx(o1,{children:Object.values(e).map(i=>(i==null?void 0:i.show)!==!1&&d.createElement(bu,_(f({},i),{orientation:"horizontal",shadow:!1,key:i.id})))}),a1=p.div.withConfig({componentId:"sc-10p9gf-0"})(["width:100%;padding:15px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid ",";.payment-item-money{display:flex;align-items:center;color:var(--green);font-weight:500;}"],C.grey.transparent3),r1=({date:e,value:t})=>n.jsxs(a1,{children:[n.jsxs(A,{gap:"16px",children:[n.jsx(It,{color:"grey",size:33,children:n.jsx(Bt,{})}),n.jsxs(A,{d:"column",ai:"flex-start",children:[n.jsx("span",{className:"payment-item-date",children:"Платеж"}),n.jsx(re,{children:xe(e)})]})]}),n.jsxs("span",{className:"payment-item-money",children:["+",t," ",n.jsx(Bt,{})," "]})]}),l1=p.div.withConfig({componentId:"sc-1yrw9my-0"})(["display:flex;align-items:center;font-size:",";font-weight:",";color:",";svg{width:",";max-width:",";height:",";min-width:",";margin:0;stroke-width:0.2;}"],({fontSize:e})=>e,({fontWeight:e})=>e,({color:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e),yu=({children:e,size:t,color:i,fontWeight:o,forwardedRef:s})=>{const a=t==="small"?"1rem":t==="big"?"1.5rem":"1.2rem",r=t==="small"?"17px":t==="big"?"22px":"18px";return n.jsxs(l1,{ref:s,color:i,fontSize:a,iconSize:r,fontWeight:o,children:[e,n.jsx(Bt,{})]})},c1=e=>Number(e.replace(/,/g,".").replace(/\s/g,"")),d1=p.div.withConfig({componentId:"sc-uw6vbc-0"})(["width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;.payment-list{margin-bottom:10px;width:100%;overflow-y:auto;min-height:195px;height:195px;padding-right:5px;background:var(--block-content);box-shadow:var(--block-shadow);border-radius:7px;margin-top:10px;}"]),u1=({payments:e})=>{const t=e==null?void 0:e.reduce((i,o)=>i+c1(o.value),0).toFixed(1);return n.jsxs(d1,{children:[n.jsxs(A,{jc:"space-between",children:[n.jsx(M,{icon:n.jsx(vc,{}),size:4,align:"left",width:"fit-content",children:"Поступившие платежи"}),n.jsx(re,{fontSize:"1rem",width:"fit-content",children:n.jsx(yu,{size:"small",children:t})})]}),n.jsxs("div",{className:"payment-list",children:[!e.length&&n.jsx(ke,{size:"50px",text:"Нет платежей",image:n.jsx(bc,{})}),e.map((i,o)=>d.createElement(r1,_(f({},i),{key:o})))]})]})},p1=p.div.withConfig({componentId:"sc-1tvc08s-0"})(["display:flex;flex-wrap:wrap;flex-direction:",";justify-content:flex-start;align-items:",";width:100%;column-gap:5px;row-gap:5px;margin-top:10px;font-size:",";color:var(--text);.value{width:",";line-height:1.4rem;}strong{font-weight:600;}"],({direction:e})=>e==="vertical"&&"column",({direction:e})=>e==="vertical"?"flex-start":"center",({fontSize:e})=>e,({direction:e})=>e==="vertical"?"100%":"fit-content"),Xt=({keyStr:e,value:t,fontSize:i,visible:o=!0,direction:s="horizontal"})=>o?n.jsxs(p1,{direction:s,fontSize:i,children:[n.jsxs("strong",{children:[e,":"]}),n.jsx("span",{className:"value",children:t})]}):null,h1=()=>n.jsx(ve,{type:"tip",lineHeight:"1.7rem",maxWidth:"700px",fontSize:"0.83rem",children:n.jsxs("p",{children:["По возникновении технических проблем при подписании договоров и дополнительных соглашений обращайтесь на почту ",n.jsx("a",{href:"mailto:info@mospolytech.ru",children:"info@mospolytech.ru"})]})}),g1=e=>e.replace(/\B(?=(\d{3})+(?!\d))/g," "),m1=p.div.withConfig({componentId:"sc-msxfz5-0"})(["display:flex;width:100%;flex-direction:column;align-items:flex-start;height:330px;justify-content:space-between;.contract-info{display:flex;flex-direction:column;}p{margin:4px 0;}"]),f1=({contract:e})=>{var t;if(!e)return null;const{number:i,startDate:o,endDatePlan:s,contragent:a,sum:r,can_sign:l,file:c,student:u,signed_user_date:h}=e,{open:g}=K(),[m,x]=d.useState(!1),[b,v]=d.useState(!1),[y,j]=d.useState(!1),I=F(Le.$error),k=[{text:"Номер договора",info:i!=null?i:""},{text:"Начало действия",info:xe(o)},{text:"Действует до",info:xe(s)},{text:"Подписан",info:xe(h)},{text:"Заказчик",info:a||"Московский политех"},{text:"Обучающийся",info:u!=null?u:""},{text:"Сумма к оплате",info:(t=g1(r))!==null&&t!==void 0?t:""},{text:"Статус",info:""}],P=()=>{var D;navigator.clipboard.writeText((D=e==null?void 0:e.number)!==null&&D!==void 0?D:""),x(!0)},$=()=>{e&&(v(!0),Ka.signContractFx(e.id),v(!1),j(!0))},W=()=>{g(n.jsx(h1,{}),"Не получается подписать")};return n.jsxs(m1,{children:[n.jsx("div",{className:"contract-info",children:k.map(({info:D,text:G})=>n.jsx(Xt,{keyStr:G,value:D},D))}),l&&n.jsxs(A,{d:"column",gap:"8px",children:[n.jsxs(A,{gap:"8px",children:[n.jsx(xt,{text:"Подписать договор",buttonSuccessText:"Подписан",action:$,isLoading:b,completed:y,repeatable:!1,popUpFailureMessage:I!=null?I:"Не удалось подписать договор",setCompleted:j,popUpSuccessMessage:"Договор подписан",isActive:!0,pulsing:!0}),c&&n.jsx(pn,{onClick:()=>null,href:c!=null?c:"",icon:n.jsx(yo,{}),width:"45px"})]}),n.jsx(E,{onClick:W,text:"Не получается подписать?",background:"transparent",textColor:C.grey.main})]}),!l&&n.jsxs(A,{gap:"8px",children:[n.jsx(xt,{text:"Скопировать номер договора",action:P,isLoading:!1,completed:m,setCompleted:x,popUpSuccessMessage:"Номер договора скопирован в буфер",isActive:!0}),c&&n.jsx(pn,{onClick:()=>null,href:c!=null?c:"",icon:n.jsx(yo,{}),width:"45px"})]})]})},x1=p.div.withConfig({componentId:"sc-ina9yc-0"})(["display:flex;align-items:center;justify-content:space-between;user-select:none;cursor:pointer;position:sticky;top:-2px;background:var(--block);z-index:3;width:100%;.title-and-icon{display:flex;align-items:center;width:calc(100% - 30px);b{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap;font-weight:500;}svg{min-width:19px;height:19px;margin-right:7px;}}@media (max-width:1000px){background:transparent;position:relative;}"]),v1=({title:e,confirmed:t,setOpenArea:i,noIcon:o})=>n.jsxs(x1,{onClick:()=>i(s=>!s),children:[n.jsxs("div",{className:"title-and-icon",children:[!o&&(t?n.jsx(mc,{style:{color:"var(--green)"}}):n.jsx(_a,{style:{color:"var(--red)"}})),n.jsx("b",{children:e})]}),n.jsx(E,{icon:n.jsx(fc,{}),onClick:()=>null,background:"transparent"})]}),b1=p.div.withConfig({componentId:"sc-1xla5d1-0"})(["display:flex;flex-direction:column;transition:0.2s;width:100%;border-radius:var(--brLight);overflow:hidden;.inputs{padding:",";display:flex;flex-direction:column;row-gap:15px;transition:0.2s height,0.2s opacity,0.2s visibility,0.2s padding;height:",";opacity:",";visibility:",";}@media (max-width:500px){.inputs{height:",";}}"],({open:e})=>e?"15px 0":"0",({height:e,open:t})=>t?e+"px":"0",({open:e})=>e?"1":"0",({open:e})=>e?"visible":"hidden",({height:e,open:t})=>t?e+63+"px":"0"),y1=e=>{const{children:t,title:i,height:o,confirmed:s=!1,show:a=!1,noIcon:r}=e,[l,c]=d.useState(a);return n.jsxs(b1,{height:o,open:l,children:[n.jsx(v1,{title:i,confirmed:s,setOpenArea:c,noIcon:r}),n.jsx("div",{className:"inputs",children:t})]})},Rs=e=>e.reduce((t,i)=>(t[i.title]=i.mql.matches,t),{}),Me=()=>{var e;const t=Ax.map(({query:s,title:a})=>({mql:matchMedia(s),title:a})),[i,o]=d.useState(Rs(t));return d.useLayoutEffect(()=>(t.forEach(({mql:s})=>s.addEventListener("change",()=>{o(Rs(t))})),()=>t.forEach(({mql:s})=>s.removeEventListener("change",()=>{o(Rs(t))}))),[]),_(f({},i),{currentDevice:(e=Object.keys(i).find(s=>i[s]===!0))!==null&&e!==void 0?e:"desktop"})},ki=p.div.withConfig({componentId:"sc-1dia0f7-0"})(["width:100%;display:grid;grid-template-columns:",";grid-template-rows:",";row-gap:",";column-gap:",";padding:",";"],({columns:e})=>e,({rows:e})=>e,({rowGap:e})=>e,({columnGap:e})=>e,({padding:e})=>e),w1=({agreement:e})=>{const{isMobile:t}=Me(),[i,o]=F([sn.clientEmail,sn.userEmail]),[s,a]=d.useState(o||e.user_email),[r,l]=d.useState(i||e.client_email),{close:c}=K(),u=()=>{Ln.emailsApproved({clientEmail:r,userEmail:s})};return n.jsxs(n.Fragment,{children:[n.jsx(ve,{type:"info",children:"Проверьте e-mail, при необходимости откорректируйте, в случае отсутствия введите"}),n.jsxs(ki,{columns:t?"1fr":"1fr 1fr",rows:"1fr 1fr",rowGap:"8px",columnGap:"8px",children:[n.jsxs(M,{align:"left",size:4,children:[e.user_fio,":"]}),n.jsx(Pe,{type:"email",placeholder:"Ваш e-mail",value:s,setValue:a}),n.jsxs(M,{align:"left",size:4,children:[e.client_fio,":"]}),n.jsx(Pe,{type:"email",placeholder:"E-mail заказчика",value:r,setValue:l})]}),n.jsxs(A,{jc:"space-between",p:"8px 0 0 0",children:[n.jsx(E,{text:"Отмена",onClick:()=>{c()},textColor:C.red.main,background:"transparent",hoverBackground:C.red.transparent3}),n.jsx(E,{text:"Подтвердить",onClick:u,textColor:C.blue.main,background:"transparent",hoverBackground:C.blue.transparent3})]})]})},_1=({agreement:e})=>{const{isMobile:t}=Me(),[i,o,s,a,r]=F([sn.clientEmail,sn.userEmail,sn.signButtonActive,Ln.sendCodes,Ln.enterPasses]);return n.jsxs(n.Fragment,{children:[n.jsxs(ki,{columns:t?"1fr":"1fr 1fr",rows:"1fr 1fr",rowGap:"8px",columnGap:"8px",children:[n.jsxs(M,{align:"left",size:4,children:[e.user_fio,":"]}),n.jsx(M,{align:"left",size:4,children:o}),n.jsxs(M,{align:"left",size:4,children:[e.client_fio,":"]}),n.jsx(M,{align:"left",size:4,children:i})]}),n.jsxs(A,{d:"column",gap:"8px",children:[n.jsx(E,{text:"Получить пароли на e-mail",onClick:()=>a({agreementId:e.id,userEmail:o,clientEmail:i}),textColor:C.blue.main,background:"transparent",hoverBackground:C.blue.transparent3}),n.jsx(E,{text:"Ввести пароли",isActive:s,onClick:r,background:"var(--reallyBlue)",textColor:"#fff"})]})]})},j1=({agreement:e})=>{const{isMobile:t}=Me(),[i,o]=d.useState(""),[s,a]=d.useState(""),[r]=F([Ln.signAgreement]);return n.jsxs(n.Fragment,{children:[n.jsxs(ki,{columns:t?"1fr":"1fr 1fr",rows:"1fr 1fr",rowGap:"8px",columnGap:"8px",children:[n.jsxs(M,{align:"left",size:4,children:[e.user_fio,":"]}),n.jsx(Pe,{placeholder:"Ваш код",value:i,setValue:o}),n.jsxs(M,{align:"left",size:4,children:[e.client_fio,":"]}),n.jsx(Pe,{placeholder:"Код заказчика",value:s,setValue:a})]}),n.jsx(E,{text:"Подписать",onClick:()=>{r({agreementId:e.id,userPass:i,clientPass:s})},background:"var(--reallyBlue)",textColor:"#fff"})]})},k1=["Проверьте и подтвердите адреса e-mail","Получите на адреса e-mail пароли для подписания ЭЦП 3-х-стороннего доп.соглашения","Введите пароли для подписания ЭЦП 3-х-стороннего доп.соглашения"],C1=({agreement:e})=>{const{isMobile:t}=Me(),[i,o]=F([sn.step,Ln.goBack]),s=i===1;return n.jsxs(A,{w:t?"100%":"600px",d:"column",children:[n.jsxs(S1,{hasBack:s,children:[s&&n.jsx(E,{onClick:o,icon:n.jsx(Hn,{}),background:"transparent",textColor:"var(--theme-opposite)",width:"fit-content",align:"left",padding:"8px",height:"fit-content"}),n.jsx(M,{align:"left",size:3,children:k1[i]})]}),n.jsxs(A,{d:"column",gap:"24px",m:`${i===0?t?"2rem":"0.5rem":t?"5rem":"3rem"} 0 0 0`,children:[i===0&&n.jsx(w1,{agreement:e}),i===1&&n.jsx(_1,{agreement:e}),i===2&&n.jsx(j1,{agreement:e})]})]})},S1=p.div.withConfig({componentId:"sc-n0fq5u-0"})(["position:absolute;display:flex;align-items:center;top:16px;left:",";gap:15px;width:85%;"],({hasBack:e})=>e?"4px":"20px"),I1=p.div.withConfig({componentId:"sc-72blgj-0"})(["display:flex;align-items:center;@media (max-width:768px){flex-direction:column;gap:16px;}"]),T1=({data:e,isContractSigned:t})=>{const i=wt(),{isTablet:o}=Me(),{id:s,signed_user:a,name:r,can_sign:l,date:c,reason:u}=e,[h,g,m,x,b]=F([Le.$done,Le.$completed,Le.$loading,sn.signed,Hw.thirdPartyInteractionAgreement]),v=a||h||x?140:o?120:100,{open:y,close:j}=K();d.useEffect(()=>{x&&j()},[x]);const I=$=>{if($){if(!b){Q.evokePopUpMessage({message:"Чтобы продолжить, подпишите соглашение об электронном взаимодействии",type:"failure",time:1e4}),i.push(E5);return}Ln.signStarted(),y(n.jsx(C1,{agreement:e}));return}ta.signAgreement(s)},k=ta.setCompleted,P=e.sides==="3";return n.jsxs(y1,{height:v,title:r,confirmed:a||h||x,children:[n.jsxs(I1,{children:[n.jsxs(A,{d:"column",ai:"flex-start",gap:"4px",children:[n.jsx(M,{size:5,align:"left",children:r}),n.jsx(re,{children:xe(c)})]}),n.jsxs(A,{gap:"8px",w:"100%",jc:"flex-end",children:[n.jsx(pn,{href:e.file,onClick:()=>null,width:"40px",icon:n.jsx(yo,{}),isActive:!!e.file}),!(a||h||x)&&n.jsx(xt,{text:a||h||x?"Подписано":"Подписать",action:()=>I(P),isLoading:m,completed:g||x,isDone:a||h||x,width:"160px",setCompleted:k,isActive:!(a||h||x)&&!!l,popUpFailureMessage:l?"Согласие уже подписано":t?u:"Необходимо сначала подписать договор",popUpSuccessMessage:"Согласие успешно подписано"}),n.jsx(ve,{type:"success",title:"Подписано",icon:n.jsx(Bi,{}),align:"center",width:"130px",visible:(a||h||x)&&l})]})]}),(h||a||x)&&n.jsxs(re,{children:["Дата подписания: ",xe(e.signed_user_date||new Date),","," ",e.signed_user_time||`${new Date().getHours()}:${new Date().getMinutes()}`]})]})},E1=({electronicAgreements:e=[],isContractSigned:t})=>n.jsxs($e,{width:"100%",children:[n.jsx(M,{size:4,align:"left",icon:n.jsx(Sf,{}),bottomGap:!0,children:"Доп. соглашения"}),e.map((i,o)=>n.jsx(T1,{data:i,isContractSigned:t},o))]}),P1="https://api.mospolytech.ru/tutorial/api",it=yt.create({baseURL:P1});it.interceptors.request.use(Hi);it.interceptors.response.use(e=>T(void 0,null,function*(){var t;return(e==null||(t=e.data)===null||t===void 0||(t=t.errors)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.extensions)===null||t===void 0?void 0:t.code)==="FST_JWT_AUTHORIZATION_TOKEN_EXPIRED"?yield Dn(it)(e):e}),Dn(it));const A1=e=>T(void 0,null,function*(){const{data:t}=yield it.post("/tutorials/init",{tutorials:e});return t}),N1=()=>T(void 0,null,function*(){const{data:e}=yield it.get("/users/tutorials");return e}),D1=e=>T(void 0,null,function*(){const{data:t}=yield it.post("/users/tutorials",{tutorialId:e});return t}),O1=e=>T(void 0,null,function*(){const{data:t}=yield it.post("/users/rerun",{tutorialId:e});return t}),L1=e=>T(void 0,null,function*(){const{data:t}=yield it.post("/users/enableTutorial",{tutorialState:e});return t}),z1=()=>T(void 0,null,function*(){const{data:e}=yield it.post("/users/reset");return e}),R1=()=>T(void 0,null,function*(){const{data:e}=yield it.post("/users/call");return e}),$1=()=>T(void 0,null,function*(){const{data:e}=yield it.delete("/users/clear");return e}),M1=e=>T(void 0,null,function*(){const{data:t}=yield it.post("/users/sync",e);return t}),ml=["home","settings","chat","applications","payments","stud-project-activity"],F1=e=>({home:{index:0,path:"/home",name:"Главная",steps:[{title:"Главная",description:"На главной странице собрана основная информация приложения"},{title:"Поиск",description:"Здесь есть поиск для быстрого поиска информации, раздела или контента"},{title:"Меню быстрого доступа",description:"А также меню быстрого доступа к разделам. Его можно изменить или убрать в настройках"},{title:"Уведомления",description:"Просмотрите уведомления о важных событиях или сообщениях, щелкнув по иконке колокольчика. Уведомления можно выключить или изменить в настройках"},...e.includes("has widgets")?[{title:"Виджеты",description:"Используйте виджеты для быстрого доступа к информации или функциям, размещенным на главной странице. Виджеты можно изменить в настройках"}]:[]],roles:["stud","staff"]},chat:{index:1,path:"/chat",name:"Сообщения",steps:[{title:"Список диалогов",description:"Здесь будут указаны все ваши чаты"},{title:"Новое сообщение",description:"Чтобы создать новый чат, нажмите на эту кнопку"},{title:"Поиск",description:"Для быстрого поиска диалога можно воспользоваться поиском"}],roles:["stud","staff"]},payments:{index:2,path:"/payments",name:"Договоры и оплаты",steps:B1(e),roles:U1(e)},applications:{index:3,path:"/applications",name:"Цифровые сервисы",steps:[{title:"Цифровые сервисы",description:"В этом разделе можно заказать необходимую справку, подать заявление или запрос"},{title:"Цифровые сервисы",description:"В таблице можно посмотреть статус заявления и скачать файлы документов. Доступны поиск и фильтрация по запросам"},{title:"Цифровые сервисы",description:"В колонке «Структурное подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом"},{title:"Подать заявление",description:"Чтобы подать заявление, нажмите на эту кнопку"}],roles:["stud","staff"]},"stud-project-activity":{index:4,path:"/project-activity",name:"Проектная деятельность",steps:[{title:"Проектная деятельность",description:"В этом разделе можно узнать информацию о твоем проекте по проектной деятельности"},{title:"Проект",description:"Здесь указано название проекта и полезная информация"},{title:"Текущий семестр",description:"Раздел с текущим семестром. Для зачета нужно набрать 60 баллов"},{title:"Предыдущий семестр",description:'Если за предыдущий семсетр стоит "не зачтено", то нужно донабрать баллы в текущем семестре'},{title:"Итого",description:"В последнем разделе посчитано итоговое количество баллов и предварительная оценка"}],roles:["stud"]},settings:{index:5,path:"/configurations",name:"Настройки",steps:[{title:"Настройки",description:"Мы стараемся предоставить широкий набор настроек для персонализации Личного кабинета. В этом разделе можно все настроить под себя"},{title:"Аккаунт",description:"В этом разделе можно обновить контактную информацию, изменить фото профиля, поменять пароль или включить синхронизацию настроек между устройствами"},{title:"Меню",description:"В этом разделе можно изменить список разделов для быстрого доступа с боковой панели"},{title:"Внешний вид",description:"Пока что в этом разделе можно изменить только визуальную тему Личного кабинета, но скоро появится больше возможностей для персонализации"},{title:"Главная страница",description:"Здесь можно настроить разделы быстрого доступа домашней страницы и отображение виджетов"},{title:"Уведомления",description:"В этом разделе можно настроить получение и отображение уведомлений по темам"},{title:"Обучение",description:"В этом разделе можно выключить обучение, посмотреть прогресс обучения или запустить программу для выбранного раздела"}],roles:["stud","staff"]}}),B1=e=>{const t="Тут отображается задолженность или переплата по договору",i="Чтобы оплатить договор, нужно нажать на кнопку и отсканировать QR-код в банковском приложении. Если задолженности нет, то будет отображаться зеленая галочка";return[...e.includes("education")&&e.includes("dormitory")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору. У тебя есть договор на общежитие и на обучение. Их можно переключать в этом меню"},{title:"Задолженность",description:t},{title:"Оплата",description:i}]:e.includes("education")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору"},{title:"Задолженность",description:t},{title:"Оплата",description:i}]:e.includes("dormitory")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору"},{title:"Задолженность",description:t},{title:"Оплата",description:i}]:[]]},U1=e=>e.includes("education")||e.includes("dormitory")?["stud","staff"]:[];function wu(e){let t=0,i,o;if(e.length===0)return t;for(i=0;i<e.length;i++)o=e.charCodeAt(i),t=(t<<5)-t+o,t|=0;return t}const H1=Object.keys,W1=mu({api:{get:mv}}),_u=S({name:"tutorialEnabled",sid:"-2sv3dj"}),as=S({name:"setHeroVisited",sid:"-gm22ma"}),ju=S({name:"setTutorialState",sid:"-5jq2w"}),ku=S({name:"increasedInteractions",sid:"-3ivxzp"}),Ki=S({name:"moduleCompleted",sid:"-xkatcn"}),Za=S({name:"moduleRestarted",sid:"j4p4ed"}),Cu=S({name:"setCurrentTutorial",sid:"-q4fb5e"}),Su=S({name:"nextStep",sid:"-2eq4dv"}),Iu=S({name:"prevStep",sid:"zcpqjw"}),er=S({name:"resetStep",sid:"v08ni"}),tr=S({name:"getTutorialData",sid:"-p5z0x"}),nr=S({name:"clearProgress",sid:"-rx0b70"}),Tu=Y(({tutorials:e,hash:t})=>{localStorage.setItem(Nn,JSON.stringify(e)),localStorage.setItem(qo,new Date().toISOString()),t&&localStorage.setItem(wi,t.toString())},{name:"saveProgressLocally",sid:"-j6jccn"}),ir=R(!1,{name:"$tutorialState",sid:"-sh281"}).on(ju,(e,t)=>t).reset(ce.logout),G1=R(!1,{name:"$heroVisited",sid:"vnwair"}).on(as,(e,t)=>(localStorage.setItem("heroVisited",String(t)),t)).reset(ce.logout),rs=R(null,{name:"$currentModule",sid:"ge6608"}).on(Ki,e=>_(f({},e),{completed:!0})).reset(ce.logout),Ci=R(0,{name:"$currentStep",sid:"6hckgh"}).reset(er).reset(ce.logout),vt=R(null,{name:"$tutorials",sid:"7s25br"}).on(Ki,(e,t)=>e?_(f({},e),{[t]:_(f({},e[t]),{completed:!0})}):null).reset(ce.logout),Eu=R(0,{name:"$interactions",sid:"-fcpc1i"}).reset(ce.logout),or=S({name:"setRoles",sid:"-ocw0mr"}),gn=R([],{name:"$roles",sid:"s02h8w"}).on(or,(e,t)=>t).reset(ce.logout),ls=R(null,{name:"$userTutorialsData",sid:"hrnn7b"}).reset(ce.logout);w({and:[{clock:ge.userSettings,source:gn,filter:(e,t)=>!!t,fn:(e,t)=>t!=null&&t.homePage.hasPayment&&t!==null&&t!==void 0&&t.homePage.hasSchedule?[...e,"has widgets"]:e.filter(i=>i!=="has widgets"),target:gn}],or:{sid:"-6afpu4"}});w({and:[{clock:W1.store,source:gn,filter:e=>!e.includes("has PA last semester"),fn:(e,t)=>{var i;return((i=t.data)===null||i===void 0?void 0:i.last_semestr_result)!=="Данные отсутствуют"?[...e,"has PA last semester"]:e.filter(o=>o!=="has PA last semester")},target:gn}],or:{sid:"-66l5ol"}});w({and:[{clock:gn,fn:e=>F1(e),target:ls}],or:{sid:"-5r6x2h"}});w({and:[{clock:Ka.getPaymentsFx.doneData,source:gn,fn:(e,{dormitory:t,education:i})=>{const o=[...e];return t.length&&!o.includes("dormitory")&&o.push("dormitory"),i.length&&!o.includes("education")&&o.push("education"),o},target:or}],or:{sid:"-5ofy3o"}});w({and:[{clock:Su,source:{currentStep:Ci,currentModule:rs},fn:({currentStep:e,currentModule:t})=>{if(!t)return 0;const i=e+1;return(t==null?void 0:t.steps.length)<=i?0:i},target:Ci}],or:{sid:"-4sjvoq"}});w({and:[{clock:Iu,source:{currentStep:Ci,currentModule:rs},fn:({currentStep:e,currentModule:t})=>{if(!t)return 0;const i=e-1;return i<0?e:i},target:Ci}],or:{sid:"gcktz0"}});w({and:[{clock:Cu,source:vt,fn:(e,t)=>{if(!e||!t)return null;const i=e[t];return i!=null?i:null},target:rs}],or:{sid:"ha4a61"}});w({and:[{clock:Ki,target:er}],or:{sid:"hrpp5l"}});const Io=J({sid:"-4togy4",fn:()=>we({handler:O1}),name:"rerunModuleMutation",method:"createMutation"});w({and:[{clock:Za,target:Io.start}],or:{sid:"i73xrp"}});w({and:[{clock:Za,source:vt,fn:(e,t)=>!e||!t?null:_(f({},e),{[t]:_(f({},e[t]),{completed:!1})}),target:vt}],or:{sid:"i9b455"}});w({and:[{clock:Io.$succeeded,source:{id:Io.__.$latestParams,tutorials:vt},filter:Boolean,fn:({id:e,tutorials:t})=>!t||!e?null:_(f({},t),{[e]:_(f({},t[e]),{completed:!1})}),target:vt}],or:{sid:"j576k3"}});w({and:[{clock:Io.$failed,fn:()=>({message:"Не удалось перезапустить модуль",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"k4xt4k"}});const ct=J({sid:"149qpd",fn:()=>Ct({handler:N1}),name:"getTutorialDataQuery",method:"createQuery"});w({and:[{clock:tr,fn:()=>!!localStorage.getItem("heroVisited"),target:as}],or:{sid:"ukhae7"}});w({and:[{clock:tr,target:ct.start}],or:{sid:"uyrxtl"}});w({and:[{clock:ct.finished.success,fn:({result:{tutorialState:e}})=>e,target:ir}],or:{sid:"v0z471"}});w({and:[{clock:ct.finished.success,fn:({result:{tutorials:e,hash:t}})=>({tutorials:e,hash:t}),target:Tu}],or:{sid:"vhgxzv"}});w({and:[{clock:ct.finished.failure,target:[ju.prepend(()=>!1),as.prepend(()=>!0)]}],or:{sid:"w05y65"}});w({and:[{clock:ct.finished.success,source:ls,fn:(e,{result:{tutorials:t}})=>!e||!t?null:t.reduce((i,o)=>_(f({},i),{[o.id]:f(f({},e[o.id]),o)}),{}),target:vt}],or:{sid:"wdwt06"}});w({and:[{clock:ls,source:vt,fn:(e,t)=>{if(!t||!e)return null;const i=f({},e);return H1(e).forEach(o=>{i[o]=f(f({},e[o]),t[o])}),i},target:vt}],or:{sid:"xd3mza"}});w({and:[{clock:ct.finished.success,fn:({result:{interactions:e}})=>e,target:Eu}],or:{sid:"yan36b"}});const Pu=S({name:"initialized",sid:"8ebr73"}),oa=J({sid:"effxhg",fn:()=>we({handler:A1}),name:"updatedM",method:"createMutation"});w({and:[{clock:Pu,target:oa.start}],or:{sid:"ytc3cl"}});w({and:[{clock:oa.finished.success,source:oa.__.$latestParams,fn:e=>localStorage.setItem(Na,wu(JSON.stringify(e)).toString()),target:ct.start}],or:{sid:"yvj9q1"}});const V1=J({sid:"-vvr1dj",fn:()=>we({handler:R1}),name:"callInteractionMutation",method:"createMutation"});w({and:[{clock:ku,target:V1.start}],or:{sid:"-pr4w66"}});const Si=J({sid:"nezpso",fn:()=>we({handler:L1}),name:"changeTutorialStateMutation",method:"createMutation"});w({and:[{clock:_u,target:Si.start}],or:{sid:"-pbqnk2"}});w({and:[{clock:Si.$succeeded,source:Si.__.$latestParams,filter:Boolean,target:ir}],or:{sid:"-p9jh6m"}});w({and:[{clock:Si.$succeeded,target:ct.start}],or:{sid:"-oup15v"}});w({and:[{clock:Si.$failed,fn:()=>({message:"Не удалось сохранить данные о прохождении",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-oshusf"}});const cs=J({sid:"-pnyfi3",fn:()=>we({handler:z1}),name:"resetTutorialMutation",method:"createMutation"});w({and:[{clock:nr,target:cs.start}],or:{sid:"-oawfsv"}});const q1=Y(()=>{localStorage.removeItem(wi),localStorage.removeItem(Nn),localStorage.removeItem(qo)},{name:"clearLocalProgressFx",sid:"yo41xi"});w({and:[{clock:nr,target:q1}],or:{sid:"-nuem01"}});const Au=S({name:"clearAll",sid:"-e8pt7k"}),Nu=J({sid:"w8b7vu",fn:()=>we({handler:$1}),name:"clearMut",method:"createMutation"});w({and:[{clock:Au,target:Nu.start}],or:{sid:"-negksk"}});w({and:[{clock:Nu.$succeeded,fn:()=>{localStorage.clear()},target:ce.logout}],or:{sid:"-n0ppyj"}});w({and:[{clock:cs.$succeeded,target:ct.start}],or:{sid:"-mwv5t0"}});w({and:[{clock:cs.$succeeded,fn:()=>({message:"Прогресс успешно сброшен",type:"success"}),target:Q.evokePopUpMessage}],or:{sid:"-mj4ayz"}});w({and:[{clock:cs.$failed,fn:()=>({message:"Не удалось сбросить данные о прохождении",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-mepy83"}});const sr=J({sid:"-1f9d4w",fn:()=>we({handler:D1}),name:"completeModuleMutation",method:"createMutation"}),ar=S({name:"sync",sid:"-hht7in"}),ds=J({sid:"-5cm0ys",fn:()=>we({handler:M1}),name:"syncMutation",method:"createMutation"});w({and:[{clock:ct.finished.success,filter:({result:{hash:e}})=>!!localStorage.getItem(wi)&&!!localStorage.getItem(Nn)&&e!==Number(localStorage.getItem(wi)),fn:()=>{const e=JSON.parse(localStorage.getItem(Nn)||""),t=localStorage.getItem(qo)||"";return{tutorials:e,date:t}},target:ar}],or:{sid:"-ljdoei"}});w({and:[{clock:ar,target:ds.start}],or:{sid:"-aozr44"}});w({and:[{clock:ds.finished.success,fn:({result:e})=>e,target:Tu}],or:{sid:"-amskqo"}});w({and:[{clock:ds.finished.success,source:vt,filter:(e,{result:{tutorials:t}})=>!!(t!=null&&t.length),fn:(e,{result:{tutorials:t}})=>!e||!t?null:t.reduce((i,o)=>_(f({},i),{[o.id]:f(f({},e[o.id]),o)}),{}),target:vt}],or:{sid:"-a7ec4k"}});w({and:[{clock:Ki,target:sr.start}],or:{sid:"-95gj6n"}});w({and:[{clock:sr.$succeeded,target:ct.start}],or:{sid:"-8rpocm"}});w({and:[{clock:sr.$failed,fn:()=>({message:"Не удалось сохранить данные о прохождении",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-8pihz6"}});w({and:[{clock:ce.logout,target:[ct.reset]}],or:{sid:"-89kgrp"}});const ze={tutorialState:ir,currentModule:rs,currentStep:Ci,tutorials:vt,heroVisited:G1,interactions:Eu,roles:gn,userTutorials:ls},je={tutorialEnabled:_u,setHeroVisited:as,moduleCompleted:Ki,moduleRestarted:Za,setCurrentTutorial:Cu,getTutorialData:tr,nextStep:Su,prevStep:Iu,clearProgress:nr,resetStep:er,increasedInteractions:ku,initialized:Pu,clearAll:Au,sync:ar,setRoles:or},Q1={syncMutation:ds},fl={small:"30px",middle:"44px",big:"68px"},Du={small:"8px",middle:"10px",big:"16px"},Y1={small:"0.8rem",middle:"0.9rem",big:"1rem"},K1={small:"0.65rem",middle:"0.75rem",big:"0.85rem"},J1=p.div.withConfig({componentId:"sc-a0ws8d-0"})(["max-width:",";width:100%;min-height:calc("," + 6px);padding:",";display:flex;align-items:center;justify-content:flex-start;background:",";border-radius:",";overflow-y:hidden;overflow-x:auto;scroll-snap-type:x proximity;font-size:0.9em;.slider-body{position:relative;display:flex;align-items:center;width:100%;height:",";}&::-webkit-scrollbar{display:none;}&:active .currentPage{transform:scale(0.9);}","{font-size:11px;min-height:40px;.slider-body{height:34px;}}"],({sliderWidth:e})=>e!=null?e:"100%",kt(fl),({appearance:e})=>e&&"3px",({appearance:e})=>e&&"var(--almostTransparent)",kt(Du),kt(fl),X.isTablet),X1=p.div.withConfig({componentId:"sc-1tv7iem-0"})(["width:100%;height:100%;min-width:calc(100% / ",");padding:10px 15px;display:flex;align-items:center;justify-content:center;text-align:center;opacity:",";transition:0.2s opacity,0.2s transform;z-index:1;cursor:pointer;user-select:none;color:var(--text);& > b{word-break:normal;text-overflow:ellipsis;font-weight:600;font-size:",";}&:hover{filter:",";}&.active{opacity:1;}&:active{transform:scale(0.97);}","{& > b{font-size:",";}}"],({elementsVisible:e})=>e,({condition:e})=>e?.7:.3,kt(Y1),({condition:e})=>e&&"brightness(0.8)",X.isMobile,kt(K1)),Z1=({id:e,currentPage:t,setCurrentPage:i,pageTitle:o,elementsVisible:s,condition:a=!0,size:r})=>n.jsx(X1,{size:r,className:`SliderItem ${e===t?"active":""}`,onClick:()=>a&&i(e),elementsVisible:s,condition:a,children:n.jsx("b",{children:o})}),e_=d.memo(Z1),t_=p.span.withConfig({componentId:"sc-1qjycjp-0"})(["height:calc(100% - 0px);background:",";display:block;position:absolute;transition:0.3s left,0.2s transform;z-index:0;border-radius:calc("," - 3px);scroll-snap-align:center;left:",";width:",";@media (max-width:1000px){border-radius:calc(var(--brLight) - 2px);}"],({appearance:e})=>e?"var(--theme)":"var(--theme-1)",kt(Du),({currentPage:e,moreThanNeeded:t,pages:i,elementsVisible:o})=>`calc(${e*100/(t?o:i.length)}%)`,({moreThanNeeded:e,pages:t,elementsVisible:i})=>`calc(100% / ${e?i:t.length} - ${t.length>i?3:0}px)`),n_=({currentPage:e,pages:t,elementsVisible:i,appearance:o,size:s})=>{const a=d.useMemo(()=>t.length>i,[t.length,i]);return n.jsx(t_,{currentPage:e,appearance:o,moreThanNeeded:a,pages:t,elementsVisible:i,size:s})},i_=d.memo(n_),o_=({pages:e,currentPage:t,setCurrentPage:i,sliderWidth:o,appearance:s=!0,size:a="middle",forwardedRef:r})=>{const[l,c]=d.useState(5),u=d.useRef(null),{width:h}=Wi();return d.useEffect(()=>{var g,m;const x=(g=u==null||(m=u.current)===null||m===void 0?void 0:m.offsetWidth)!==null&&g!==void 0?g:h;x>800?c(5):x>600&&x<=800||x>400&&x<=600?c(4):x<=400&&c(3)},[h,u.current]),d.useEffect(()=>{r&&r(u.current)},[]),n.jsx(J1,{ref:u,elementsVisible:l,sliderWidth:o,appearance:s,size:a,children:n.jsxs("div",{className:"slider-body",children:[n.jsx(i_,{size:a,appearance:s,pages:e,currentPage:t,elementsVisible:l}),e.map((g,m)=>n.jsx(e_,{size:a,id:m,currentPage:t,setCurrentPage:i,pageTitle:g.title,condition:g.condition,elementsVisible:l},m))]})})},us=d.memo(o_),s_=({setAnimation:e})=>{const t=F(ze.currentModule),{isMobile:i,isTablet:o}=Me();return t?i||o?n.jsx(a_,{onClick:()=>{e("out"),setTimeout(()=>{je.moduleCompleted(t.id)},200)},children:n.jsx(If,{size:24})}):n.jsxs(r_,{onClick:()=>{e("out"),setTimeout(()=>{je.moduleCompleted(t.id)},200)},children:["Пропустить ",">"]}):null},Ou=p.button.withConfig({componentId:"sc-zweyx0-0"})(["position:absolute;color:#ffffff;z-index:6;background:transparent;border:none;font-size:18px;cursor:pointer;"]),a_=p(Ou).withConfig({componentId:"sc-zweyx0-1"})(["right:1.5em;top:0.5em;padding:1rem;"]),r_=p(Ou).withConfig({componentId:"sc-zweyx0-2"})(["right:2.5em;bottom:1.5em;"]),l_=({children:e,onSwipe:t})=>{const i=d.useRef(null),[o,s]=d.useState(0),[a,r]=d.useState(0),l=d.useCallback(u=>{i.current&&u.target instanceof HTMLElement&&i.current.contains(u.target)&&(u.preventDefault(),s(u.touches[0].clientX),r(u.touches[0].clientY))},[]),c=d.useCallback(u=>{if(!i.current||!(u.target instanceof HTMLElement)||!i.current.contains(u.target))return;u.preventDefault();const h=u.changedTouches[0].clientX,g=u.changedTouches[0].clientY,m=h-o,x=g-a;t({deltaX:m,deltaY:x})},[o,a,t]);return d.useEffect(()=>(window.addEventListener("touchstart",l),window.addEventListener("touchend",c),()=>{window.removeEventListener("touchstart",l),window.removeEventListener("touchend",c)}),[l,c]),n.jsx("div",{ref:i,children:e})};function c_(e,t=300){let i;const o=(...s)=>{i!==null&&clearTimeout(i),i=setTimeout(()=>{e(...s)},t)};return o.cancel=()=>{i!==null&&clearTimeout(i),i=null},o}const d_=()=>{const[e,t]=d.useState({width:0,height:0}),[i,o]=d.useState(null),[s,a]=d.useState(!1),r=d.useRef(!0),l=d.useRef(null);d.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const c=d.useCallback(u=>{if(l.current=u,!u)return;const h=()=>{if(!u||!r.current)return;const v=u.getBoundingClientRect();r.current&&(t({width:v.width,height:v.height}),o({top:v.top,left:v.left,right:v.right,bottom:v.bottom}))},g=c_(h,200),m=document.getElementById("root");if(!m)return;h();const x=new IntersectionObserver(([v])=>{r.current&&a(v.isIntersecting),v.isIntersecting&&x.unobserve(u)}),b=new MutationObserver(h);return b.observe(m,{childList:!0,subtree:!0}),x.observe(u),window.addEventListener("resize",h),window.addEventListener("scroll",g,!0),()=>{x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),window.removeEventListener("scroll",g,!0)}},[]);return d.useEffect(()=>()=>{c(null)},[c]),{dimensions:e,position:i,handleRef:c,visible:s,ref:l}};function u_({threshold:e=0,root:t=null,rootMargin:i="0%",freezeOnceVisible:o=!1,initialIsIntersecting:s=!1,onChange:a}={}){var r;const[l,c]=d.useState(null),[u,h]=d.useState(()=>({isIntersecting:s,entry:void 0})),g=d.useRef();g.current=a;const m=((r=u.entry)===null||r===void 0?void 0:r.isIntersecting)&&o;d.useEffect(()=>{if(!l||!("IntersectionObserver"in window)||m)return;let v;const y=new IntersectionObserver(j=>{const I=Array.isArray(y.thresholds)?y.thresholds:[y.thresholds];j.forEach(k=>{const P=k.isIntersecting&&I.some($=>k.intersectionRatio>=$);h({isIntersecting:P,entry:k}),g.current&&g.current(P,k),P&&o&&v&&(v(),v=void 0)})},{threshold:e,root:t,rootMargin:i});return y.observe(l),()=>{y.disconnect()}},[l,JSON.stringify(e),t,i,m,o]);const x=d.useRef(null);d.useEffect(()=>{var v;!l&&(v=u.entry)!==null&&v!==void 0&&v.target&&!o&&!m&&x.current!==u.entry.target&&(x.current=u.entry.target,h({isIntersecting:s,entry:void 0}))},[l,u.entry,o,m,s]);const b=[c,!!u.isIntersecting,u.entry];return b.ref=b[0],b.isIntersecting=b[1],b.entry=b[2],b}const Ke=e=>i=>{var o,s;const a=pe.useRef(null),{width:r}=Wi(),[l,c]=d.useState("in"),[u,h]=d.useState(0),g=document.getElementById("portal"),{dimensions:m,position:x,handleRef:b,visible:v,ref:y}=d_(),[j,I,k,P]=F([ze.tutorialState,ze.currentModule,ze.currentStep,ze.tutorials]),{isIntersecting:$,ref:W}=u_({threshold:.5}),D=I==null?void 0:I.steps[k];if(d.useEffect(()=>{b&&b(y.current)},[]),!g||!x||!j||!P||!I||!i.tutorialModule||!D)return n.jsx(e,f({forwardedRef:b},i));const{title:G,description:V}=D,{id:H,step:U,params:B}=i.tutorialModule,ae=I.completed,be=I?k===I.steps.length-1:0;if(!(B!=null&&B.noScroll)&&!v&&!ae&&I.id===H&&U===k&&!$&&y.current&&y.current.scrollIntoView({behavior:"smooth"}),!v||ae)return n.jsx(e,f({forwardedRef:b},i));const Ne=({deltaX:Se,deltaY:_e})=>{Math.abs(Se)>Math.abs(_e)||_e>0&&(c("out"),setTimeout(()=>{c("removed"),je.moduleCompleted(H)},200))};return n.jsxs(n.Fragment,{children:[n.jsx(e,f({forwardedRef:b},i)),(typeof U=="number"?U===k:U.some(Se=>Se===k))&&H===I.id&&yc.createPortal(n.jsxs(n.Fragment,{children:[n.jsx(l_,{onSwipe:Ne,children:n.jsx(p_,{onClick:()=>{h(u+1),u>1&&(c("out"),setTimeout(()=>{c("removed"),je.moduleCompleted(H)},200))}})}),n.jsx(m_,{dimensions:m,position:x,lastStep:l==="out",noPadding:(o=i.tutorialModule.params)===null||o===void 0?void 0:o.noPadding}),n.jsxs(f_,{ref:Se=>{Se&&(a.current=Se,W(Se))},pageWidth:r,dimensions:m,childPosition:x,relativePosition:((s=i.tutorialModule.params)===null||s===void 0?void 0:s.position)||"right",lastStep:l==="out",children:[n.jsx(M,{size:4,align:"left",children:G}),n.jsx(x_,{children:V}),n.jsxs(v_,{jc:"flex-end",gap:"20px",children:[n.jsx(xl,{disabled:k==0,onClick:()=>{je.prevStep()},children:n.jsx(Tf,{})}),n.jsxs("div",{children:[k+1," / ",I.steps.length]}),n.jsx(xl,{onClick:()=>{be?(c("out"),setTimeout(()=>{c("removed"),je.moduleCompleted(H)},200)):je.nextStep()},children:be?n.jsx(Ef,{}):n.jsx(Pf,{})})]})]}),n.jsx(s_,{setAnimation:Se=>c(Se)})]}),g)]})},p_=p.div.withConfig({componentId:"sc-18r58yd-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;z-index:4;"]),h_=Ho(["0%{opacity:0;}100%{opacity:1;}"]),rr=Ho(["0%{opacity:1;}100%{opacity:0;}"]),g_=Ho(["0%{background-color:rgba(0,0,0,0.66);}100%{background-color:rgba(0,0,0,0);}"]),m_=p.div.withConfig({componentId:"sc-18r58yd-1"})(["pointer-events:none;position:fixed;top:","px;left:","px;z-index:6;width:","px;height:","px;padding:",";border-radius:10px;box-shadow:rgba(0,0,0,0.66) 0px 0px 0px 10000px;animation:"," 0.2s ease-in forwards;"],({position:{top:e},noPadding:t})=>t?e:e-10,({position:{left:e},noPadding:t})=>t?e:e-10,({dimensions:{width:e},noPadding:t})=>t?e:e+20,({dimensions:{height:e},noPadding:t})=>t?e:e+20,({noPadding:e})=>e?"0":"10px",({lastStep:e})=>e?rr:g_),f_=p.div.withConfig({componentId:"sc-18r58yd-2"})(["position:fixed;z-index:6;bottom:0;left:0;width:calc(100% - 16px);margin:8px;padding:20px 30px;border-radius:15px;color:#f4f4f4;background:rgba(95,109,236,0.6);backdrop-filter:blur(6.5px);font-family:'Montserrat';font-style:normal;font-weight:600;font-size:16px;line-height:20px;@media (min-width:1000px){min-width:250px;width:20%;max-width:600px;top:","px;left:",";right:",";transform:translateY(",");bottom:auto;margin:10px;animation:"," 200ms ease-in forwards;}"],({dimensions:{height:e},childPosition:{top:t},relativePosition:i})=>{switch(i){case"bottom":return t+e+10;case"top":return t-30;default:return t-20}},({pageWidth:e,dimensions:{width:t},childPosition:{left:i},relativePosition:o})=>{switch(o){case"bottom":case"top":return e-i>250?i-20+"px":"auto";case"left":return"auto";case"right":return i+t+10+"px"}},({pageWidth:e,dimensions:{width:t},childPosition:{left:i,right:o},relativePosition:s})=>{switch(s){case"bottom":case"top":case"right":return e-i-t-20>250?"auto":"10px";case"left":return e-o+t+10+"px"}},({relativePosition:e})=>e==="top"?"-100%":"0",({lastStep:e})=>e?rr:h_),x_=p.div.withConfig({componentId:"sc-18r58yd-3"})(["margin-top:20px;font-size:12px;line-height:140%;"]),v_=p(A).withConfig({componentId:"sc-18r58yd-4"})(["margin-top:30px;left:0;"]),xl=p.button.withConfig({componentId:"sc-18r58yd-5"})(["max-width:26px;aspect-ratio:1;background-color:transparent;border:none;padding:0;color:#f4f4f4;:disabled{opacity:0.5;}:not(:disabled){cursor:pointer;}&:hover:not(:disabled){opacity:0.7;}&:focus{outline:none;}"]),sa=({debt:e,size:t="big",forwardedRef:i})=>{const o=e>0?C.red.main:C.green.main;return n.jsx(yu,{forwardedRef:i,size:t,color:o,fontWeight:"600",children:e>=0?e:`+${-e}`})},b_=Ke(sa),y_=p.div.withConfig({componentId:"sc-1mzs4rv-0"})(["display:flex;justify-content:center;align-items:center;img{border-radius:4px;}@media (max-width:1000px){width:100%;min-width:100%;}"]),ao=({qrCode:e})=>{const[t,i]=d.useState(!0);return d.useEffect(()=>{setTimeout(()=>{i(!1)},500)},[]),n.jsx(y_,{children:n.jsx($a,{loading:t,width:"300px",height:"300px",src:e!=null?e:""})})},w_=p.div.withConfig({componentId:"sc-5t3ts2-0"})(["@media (min-width:1001px){width:300px;}"]),__=({qr_current:e,qr_total:t,currentPage:i})=>i===0?n.jsx(ao,{qrCode:e}):i===1?n.jsx(ao,{qrCode:t}):n.jsx(w_,{children:n.jsx(Ts,{pages:[{title:"Текущая задолженность",content:n.jsx(ao,{qrCode:e})},{title:"Общая задолженность",content:n.jsx(ao,{qrCode:t})}],appearance:!1,currentPage:i})}),Lu=o=>{var s=o,{type:e="horizontal",forwardedRef:t}=s,i=Je(s,["type","forwardedRef"]);const{open:a}=K(),r="Оплатить через QR-code",l=`linear-gradient(45deg, ${C.green.main}, ${C.green.dark1})`,c=()=>{a(n.jsx(__,f({},i)),r)};return e==="vertical"?n.jsx(E,{onClick:c,width:"68px",height:"60px",direction:"vertical",text:"QR",icon:n.jsx(Af,{}),textColor:"#fff",background:l,forwardedRef:t}):n.jsx(E,{text:r,onClick:c,width:"100%",textColor:"#fff",background:l,forwardedRef:t})},j_=({currentPage:e,hasDebt:t,qr_current:i,qr_total:o,forwardedRef:s})=>{const{isMobile:a}=Me();return t?n.jsx(Lu,{forwardedRef:s,currentPage:e,type:a?"horizontal":"vertical",qr_current:i,qr_total:o}):n.jsx(Ma,{forwardedRef:s,color:"green",size:"40px"})},k_=Ke(j_),C_=p.div.withConfig({componentId:"sc-1gb0lvp-0"})(["width:100%;"]),S_=p.div.withConfig({componentId:"sc-1gb0lvp-1"})(["width:100%;padding:16px;background:var(--block-content);border-radius:6px;box-shadow:var(--block-shadow);"]),I_=p.div.withConfig({componentId:"sc-1gb0lvp-2"})(["display:flex;align-items:flex-end;justify-content:space-between;margin-top:20px;width:100%;margin-bottom:30px;@media (max-width:768px){flex-direction:column;align-items:flex-start;gap:20px;}"]),T_=p.div.withConfig({componentId:"sc-1gb0lvp-3"})(["display:flex;align-items:center;gap:1.1rem;height:35px;@media (max-width:768px){flex-direction:column;gap:0;align-items:flex-start;height:fit-content;}"]),E_=p.div.withConfig({componentId:"sc-1gb0lvp-4"})(["position:relative;"]),P_=e=>{const{data:t,index:i,isDormitory:o}=e,{balance_currdate:s,balance:a,endDatePlan:r,can_sign:l,bill:c,bill_next:u,qr_current:h,qr_total:g}=t,m=F(ze.roles),{open:x}=K(),[b,v]=d.useState(0),y=b===0?+s:+a,j=y>0,I=j?b===0?"Долг по договору":"Остаток по договору":y<0?"Переплата по договору":"У вас нет долга",k=b===0?`На ${xe(new Date)}`:`До ${xe(r)}`,P=i===0&&(m.includes("dormitory")&&m.includes("education")&&o||m.includes("dormitory")===o),$=()=>{x(n.jsx(f1,{contract:t}),"Реквизиты договора")};return n.jsxs(C_,{children:[n.jsx(M,{icon:n.jsx(Nf,{}),size:4,align:"left",bottomGap:!0,children:"Задолженность"}),n.jsxs(S_,{children:[n.jsx(us,{pages:[{title:"Текущая"},{title:"Общая"}],currentPage:b,setCurrentPage:v,appearance:!1}),n.jsxs(I_,{children:[n.jsxs(A,{d:"column",gap:"12px",ai:"flex-start",children:[n.jsx(b_,{debt:y,tutorialModule:P?{id:"payments",step:1}:void 0}),n.jsxs(A,{d:"column",gap:"4px",ai:"flex-start",children:[n.jsx(M,{size:3,align:"left",children:I}),n.jsx(re,{children:k})]})]}),n.jsx(k_,{currentPage:b,hasDebt:j,qr_current:h,qr_total:g,tutorialModule:P?{id:"payments",step:2,params:{position:"left"}}:void 0})]}),n.jsxs(T_,{children:[c&&n.jsx(pn,{text:"Квитанция на оплату",background:"transparent",textColor:C.grey.main,align:"left",width:"fit-content",href:c,padding:"0"}),u&&n.jsx(pn,{text:"Квитанция на оплату следующего периода",background:"transparent",textColor:C.grey.main,align:"left",width:"fit-content",href:u,padding:"0"}),n.jsxs(E_,{children:[n.jsx(E,{onClick:$,text:"Реквизиты договора",background:"transparent",textColor:C.grey.main,width:"fit-content",padding:"0",align:"left"}),n.jsx(hn,{right:"-25px",top:"10px",visible:l,pulsing:!0,children:"1"})]})]})]})]})},zu=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,Rn=(e,t)=>{switch(t){case"date":return xe(e,"numeric");case"rub":return e+" руб.";default:return e===void 0?"-":e}},A_=(e,t)=>{const i=Number(t==null?void 0:t.sum)||Number(t==null?void 0:t.sum_price),o=Number(t==null?void 0:t.sum_pay);if(!i&&i!==0||!o&&o!==0)return"-";const s=i-o;return s<=0?"Оплачено":`Ожидает оплаты (${Rn(String(s),"rub")})`},N_=()=>[{title:"Год",field:"year",width:"25%",render:(e,t)=>{const i=t==null?void 0:t.date_start;return i?new Date(i).toLocaleDateString("ru",{year:"numeric"}):"-"}},{title:"Месяц",field:"month",width:"25%",render:(e,t)=>{const i=t==null?void 0:t.date_start;if(!i)return"-";const o=new Date(i).toLocaleDateString("ru",{month:"long"});return zu(o)}},{title:"Оплатить до",field:"date_plan",type:"date",width:"25%",sort:!0},{title:"Статус",field:"sum_pay",width:"25%",render:A_}],D_=(e,t)=>{const[i,o]=d.useState(!1),[s,a]=d.useState(null);return d.useEffect(()=>{i&&setTimeout(()=>{o(!1),t==null||t(null)},200)},[i]),d.useEffect(()=>{setTimeout(()=>{s!==null&&(a(null),t==null||t(r=>(r&&delete r[s],f({},r))))},500)},[s]),{removeAll:i,removeOne:s,setRemoveAll:o,setRemoveOne:a}},$s=p.div.withConfig({componentId:"sc-27hbiu-0"})(["padding:",";background:",";font-size:0.7em;font-weight:600;color:",";border-radius:var(--brLight);display:flex;align-items:center;justify-content:space-around;height:26px;user-select:none;cursor:pointer;animation:",";.element-text{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}.remove{display:flex;align-items:center;justify-content:center;min-width:15px;height:15px;background:var(--theme);color:var(--blue);border-radius:100%;svg{width:10px;height:10px;}}@keyframes element-added{0%{padding:0;width:0px;max-width:0px;opacity:0;visibility:hidden;margin-right:0;}100%{padding:5px 10px;width:100px;max-width:100px;opacity:1;visibility:visible;margin-right:5px;}}@keyframes element-removed{0%{padding:5px 10px;width:100px;max-width:100px;opacity:1;visibility:visible;margin-right:5px;}100%{padding:0;width:0px;max-width:0px;opacity:0;visibility:hidden;margin-right:0;}}"],({remove:e})=>e?"0px":"5px 10px",({background:e})=>e!=null?e:C.blue.transparent3,({color:e})=>e!=null?e:"var(--reallyBlue)",({remove:e})=>e?"element-removed 0.2s forwards normal":"element-added 0.2s forwards normal"),O_=p.div.withConfig({componentId:"sc-27hbiu-1"})(["display:flex;align-items:center;flex-wrap:wrap;row-gap:5px;transition:0.2s;padding:",";opacity:",";min-height:",";visibility:",";transform:scale(",") translate(",");"],({padding:e})=>e!=null?e:"10px",({removeAll:e})=>e?"0":"1",({removeAll:e,height:t})=>e?"0px":t||"46px",({removeAll:e})=>e?"hidden":"visible",({removeAll:e})=>e?"0.95":"1",({removeAll:e})=>e?"-30px, 20px":"0, 0"),lr=({list:e,onAddElement:t,onRemoveAll:i,onRemoveOne:o,padding:s,height:a,setList:r,hideWithEmpty:l})=>{const c=Object.keys(e!=null?e:{}),{removeAll:u,removeOne:h,setRemoveAll:g,setRemoveOne:m}=D_(c,r);return!c.length&&l?null:n.jsxs(O_,{removeAll:u||closed,padding:s,height:a,children:[!!t&&n.jsxs($s,{onClick:t,background:"var(--reallyBlue)",color:"#fff",children:[n.jsx(xi,{}),"Добавить"]}),Object.values(e!=null?e:{}).map(x=>{if(x!=null&&x.id)return n.jsxs($s,{background:x.background,remove:h===x.id,children:[n.jsx("div",{className:"element-text",children:x.title}),n.jsx("div",{className:"remove",onClick:()=>{c.length===1?(g(!0),i==null||i()):m(x.id),o(x.id)},children:n.jsx(Nt,{})})]},x.id)}),!!c.length&&!!i&&n.jsx($s,{background:"var(--reallyBlue)",color:"#fff",onClick:()=>{i(),g(!0)},children:n.jsx("div",{className:"element-text",children:"Убрать все"})})]})},vl="Сортировка",bl=(e,t)=>t?e==null?void 0:e.filter(i=>!Object.values(t).find(o=>{var s,a;return i[(s=(a=o.column)===null||a===void 0?void 0:a.field)!==null&&s!==void 0?s:""]!==o.value.title})):e,L_=(e,t)=>e?Object.keys(e).find(i=>e[i].title===t):null,z_=e=>{const[t,i]=d.useState(null),[o,s]=d.useState(null),[a,r]=d.useState(null),[l,c]=d.useState(null),[u,h]=d.useState(e),g=d.useCallback(x=>{var b,v;s(y=>(y&&y[x]&&delete y[x],f({},y))),x===(t==null||(b=t.column)===null||b===void 0?void 0:b.field)&&i(null),x===(a==null||(v=a.column)===null||v===void 0?void 0:v.field)&&r(null)},[t,o,a]),m=d.useCallback(()=>{s(null),i(null),r(null)},[]);return d.useEffect(()=>{if(o)if(!l)c(x=>{var b,v,y;const j=Object.values(o)[0].column;return x={[(b=j==null?void 0:j.field)!==null&&b!==void 0?b:""]:{id:(v=j==null?void 0:j.field)!==null&&v!==void 0?v:"",title:"Фильтр: "+((y=j==null?void 0:j.title)!==null&&y!==void 0?y:"")}},f({},x)});else{const x=Object.values(o).find(b=>{var v,y;return!l[(v=(y=b.column)===null||y===void 0?void 0:y.field)!==null&&v!==void 0?v:""]});x&&c(b=>{var v,y,j,I;const k=(v=(y=x.column)===null||y===void 0?void 0:y.field)!==null&&v!==void 0?v:"",P="Фильтр: "+((j=(I=x.column)===null||I===void 0?void 0:I.title)!==null&&j!==void 0?j:"");return b&&(b[k]={id:k,title:P}),f({},b)})}t&&c(x=>{var b,v;const y=(b=(v=t.column)===null||v===void 0?void 0:v.field)!==null&&b!==void 0?b:"",j="Поиск";return x?x[y]={id:y,title:j}:x={[y]:{id:y,title:j}},f({},x)}),a&&c(x=>{var b,v;const y=(b=(v=a.column)===null||v===void 0?void 0:v.field)!==null&&b!==void 0?b:"",j=vl;return x?x[y]={id:y,title:j}:x={[y]:{id:y,title:j}},f({},x)})},[t,o,a]),d.useEffect(()=>{var x;const b=t==null?void 0:t.column,v=t==null||(x=t.column)===null||x===void 0?void 0:x.field;if(t&&v){const y=e==null?void 0:e.filter(j=>Be(Rn(j[v],b==null?void 0:b.type)).includes(Be(Rn(t.value,b==null?void 0:b.type))));h(y)}else h(e)},[t]),d.useEffect(()=>{o?h(bl(e,o)):(c(x=>f({},x)),h(e))},[o]),d.useEffect(()=>{var x,b;const v=(x=a==null||(b=a.column)===null||b===void 0?void 0:b.field)!==null&&x!==void 0?x:"";a?h(y=>{const j=[...y!=null?y:[]];return j==null||j.sort((I,k)=>k[v]<I[v]?a.value==="asc"?1:-1:k[v]>I[v]?a.value==="asc"?-1:1:0),j}):(c(y=>{const j=L_(y,vl);return y&&j&&delete y[j],f({},y)}),h(bl(e,o)))},[a==null?void 0:a.value]),d.useEffect(()=>{h(e)},[e]),{sort:a,setSort:r,search:t,setSearch:i,resultData:u,filter:o,setFilter:s,filterList:l,setFilterList:c,onRemoveOne:g,onRemoveAll:m}},R_=e=>{switch(e){case"desc":return Q.evokePopUpMessage({message:"Таблица отсортирована по убыванию",type:"info",time:5e3});case"asc":return Q.evokePopUpMessage({message:"Таблица отсортирована по возрастанию",type:"info",time:5e3});default:return Q.evokePopUpMessage({message:"Сортировка отключена",type:"info",time:5e3})}},$_=p.div.withConfig({componentId:"sc-1c55fql-0"})(["display:flex;align-items:center;width:100%;font-size:0.9em;cursor:pointer;background:",";height:",";&:hover{filter:brightness(0.98);}.five{display:none;}@media (max-width:650px){font-size:0.9em;.four{display:none;}}@media (max-width:550px){.three{display:none;}}@media (max-width:450px){.two{display:none;}}"],({even:e})=>e?`${C.blue.transparent3}`:"var(--theme)",({height:e})=>e),To=p.div.withConfig({componentId:"sc-1vnodu8-0"})(["width:",";min-width:",";padding:",";height:100%;text-align:",";cursor:",";overflow:",";display:block;white-space:",";text-overflow:",";position:relative;@media (max-width:700px){padding:",";}"],({width:e})=>e!=null?e:"100%",({width:e})=>e!=null?e:"auto",({padding:e})=>e!=null?e:"20px",({align:e})=>e&&e,({clickable:e})=>e&&"pointer",({overflow:e})=>e!=null?e:"hidden",({showFull:e})=>e?"wrap":"nowrap",({showFull:e})=>e?"clip":"ellipsis",({clickable:e})=>!e&&"10px"),M_=p.div.withConfig({componentId:"sc-1ci0v85-0"})(["display:flex;align-items:center;width:100%;font-weight:600;font-size:0.9em;z-index:10;.icon{position:absolute;top:50%;right:8px;transform:translateY(-50%);}.five{display:none;}@media (max-width:650px){.four{display:none;}}@media (max-width:550px){font-size:0.8em;.three{display:none;}}@media (max-width:450px){.two{display:none;}}"]),F_=p.div.withConfig({componentId:"sc-1tw76ix-0"})(["display:flex;align-items:center;"]),B_=({columns:e,search:t,setSearch:i,filter:o,setFilter:s,sort:a,setSort:r,tableHasSelect:l,padding:c})=>{const u=h=>()=>{h.search&&i({value:"",column:h}),h.sort&&r(g=>{const m=g!=null&&g.value?g.value==="desc"?"asc":null:"desc";return R_(m),m?{column:h,value:m}:null})};return n.jsxs(M_,{children:[l&&n.jsx(To,{width:"36px",align:"center",className:"one"}),e.map(h=>{var g,m,x,b,v,y;return n.jsxs(To,{padding:c,overflow:h.catalogs?"visible":"hidden",width:h.width,title:h.title,clickable:h.search,align:h.search?"space-between":h.align,showFull:h.showFull,className:(g=(m=h.priority)===null||m===void 0?void 0:m.toString())!==null&&g!==void 0?g:"one",onClick:u(h),children:[!h.catalogs&&h.title,!h.catalogs&&!h.sort&&h.search&&n.jsx(Pn,{className:"icon",style:{color:h.field===(t==null||(x=t.column)===null||x===void 0?void 0:x.field)?"var(--reallyBlue)":"var(--text)"}}),h.sort&&n.jsx(Df,{className:"icon",style:{color:h.field===(a==null||(b=a.column)===null||b===void 0?void 0:b.field)?"var(--reallyBlue)":"var(--text)"}}),h.catalogs&&n.jsx(F_,{children:n.jsx(Va,{appearance:!1,items:(v=h.catalogs)!==null&&v!==void 0?v:[],setSelected:j=>s(I=>(j&&(I=_(f({},I),{[h.field]:{column:h,value:j}})),I)),selected:o==null||(y=o[h.field])===null||y===void 0?void 0:y.value,placeholder:h.title})})]},h.field)})]})},U_=d.memo(B_),H_=({pages:e,condition:t,currentPage:i,setCurrentPage:o,align:s="center"})=>{const[a,r]=d.useState(i.toString());d.useEffect(()=>{a.length&&o(+a)},[a]),d.useEffect(()=>{r(i.toString())},[i]);const l=c=>{c.length?+c>=1&&+c<=e+1&&r((+c-1).toString()):r("")};return t?n.jsxs(A,{gap:"10px",jc:s==="left"?"flex-start":s==="right"?"flex-end":s,children:[n.jsx(E,{minWidth:"42px",height:"42px",background:"var(--theme)",icon:n.jsx(Hn,{}),onClick:()=>r(Ut(i-1,e).toString())}),n.jsxs(A,{w:"fit-content",gap:"6px",children:[n.jsx(Pe,{width:"12px",placeholder:"",value:a.length?(+a+1).toString():"",setValue:l,inputAppearance:!1,hideCross:!0}),"/"," ",n.jsx(re,{width:"fit-content",fontSize:"0.85rem",children:e+1})]}),n.jsx(E,{minWidth:"42px",height:"42px",background:"var(--theme)",icon:n.jsx(St,{}),onClick:()=>r(Ut(i+1,e).toString())})]}):null},W_=p.div.withConfig({componentId:"sc-ynnqlj-0"})(["@media (min-width:1001px){max-width:500px;}"]),G_=({obj:e,columns:t})=>n.jsx(W_,{children:t.map(i=>n.jsx(Xt,{keyStr:i.title,value:i.render?i.render(e[i.field],e):Rn(e[i.field],i.type)},i.title))}),Ru=({columns:e,columnsExtended:t,el:i,index:o,onRowClick:s,select:a,selected:r,padding:l,height:c})=>{const{open:u}=K(),h=()=>u(n.jsx(G_,{obj:i,columns:t||e}),"Информация");return n.jsxs($_,{even:o%2===0,onClick:()=>s?s(i):h(),height:c,children:[a&&n.jsx(To,{padding:"10px",width:"36px",className:"one",align:"center",onClick:g=>{g.stopPropagation()},children:n.jsx(lt,{setChecked:()=>{a(o)},checked:!!r})}),e.map(g=>{var m,x;return n.jsx(To,{padding:l,showFull:g.showFull,width:g.width,className:(m=(x=g.priority)===null||x===void 0?void 0:x.toString())!==null&&m!==void 0?m:"one",align:g.align,onClick:b=>{g.onClick&&(b.stopPropagation(),g.onClick(i))},children:g.render?g.render(Rn(i[g.field],g.type),i):Rn(i[g.field],g.type)},g.field)})]})},V_=p.div.withConfig({componentId:"sc-htpasl-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;.page-indicator{width:100px;background:var(--theme-1);padding:3px;border-radius:var(--brLight);display:flex;align-items:center;justify-content:center;font-size:0.9em;font-weight:600;}"]),q_=p.div.withConfig({componentId:"sc-htpasl-1"})(["width:100%;display:flex;justify-content:center;align-items:center;padding:20px 0;img{width:35px;height:35px;}"]),Q_=p.div.withConfig({componentId:"sc-htpasl-2"})(["padding:10px 0;display:flex;justify-content:center;align-items:center;"]),Y_=({data:e,loading:t,columns:i,columnsExtended:o,maxOnPage:s,onRowClick:a,filter:r,selected:l,select:c,pagination:u,innerPadding:h})=>{var g;const[m,x]=d.useState(0),b=u?u.pages:Math.ceil(((g=e==null?void 0:e.length)!==null&&g!==void 0?g:0)/(s!=null?s:1))-1,v=u?e:s?e==null?void 0:e.slice(m*s,(m+1)*s):e;return d.useEffect(()=>{x(0)},[r]),t?n.jsx(q_,{children:n.jsx(Ot,{})}):n.jsxs(V_,{children:[v==null?void 0:v.map((y,j)=>n.jsx(Ru,{padding:h,onRowClick:a,columns:i,columnsExtended:o,el:y,index:j,selected:l==null?void 0:l.has(j),select:c},j)),!(v!=null&&v.length)&&n.jsx(ke,{text:"Нет данных"}),b>0&&n.jsx(ye,{margin:"0",width:"100%"}),n.jsx(Q_,{children:n.jsx(H_,{pages:b,condition:!!s&&!!(v!=null&&v.length),currentPage:m,setCurrentPage:y=>{x(y),u==null||u.setPage(y)}})})]})},K_=p.div.withConfig({componentId:"sc-j476ej-0"})(["display:flex;align-items:center;gap:5px;transition:0.2s;padding:",";width:100%;height:",";opacity:",";visibility:",";"],({closed:e})=>e?"0px":"10px",({closed:e})=>e?"0px":"60px",({closed:e})=>e?"0":"1",({closed:e})=>e?"hidden":"visible"),J_=e=>{switch(e){case"date":return"date";case"rub":return"number";default:return"text"}},X_=({search:e,setSearch:t})=>{var i,o,s;return n.jsx(K_,{closed:!(e!=null&&e.column),children:n.jsx(Pe,{value:(i=e==null?void 0:e.value)!==null&&i!==void 0?i:"",setValue:a=>{t(e?_(f({},e),{value:a}):null)},width:"100%",type:J_(e==null||(o=e.column)===null||o===void 0?void 0:o.type),placeholder:e==null||(s=e.column)===null||s===void 0?void 0:s.title,leftIcon:n.jsx(Pn,{}),minWidth:"auto"})})},Z_=(e,t)=>{if(!e)return{};const i=t.reduce((o,{field:s})=>(o[s]=[],o),{});return e==null||e.forEach(o=>{Object.entries(o).forEach(([s,a])=>{i[s]&&a&&i[s].push(a)})}),i};function ej(e){return Object.keys(e).map(t=>({title:"",field:t}))}const tj=({footer:e,columns:t,data:i})=>{if(!e)return null;const o=e(Z_(i,t));return n.jsxs(n.Fragment,{children:[n.jsx(ye,{}),n.jsx(Ru,{onRowClick:()=>null,columns:ej(o),el:o,index:1})]})},nj=p.div.withConfig({componentId:"sc-s5rmq8-0"})(["width:100%;box-shadow:var(--block-shadow);border-radius:var(--brLight);color:var(--text);background:var(--block-content);overflow:hidden;"]),_n=({columns:e,columnsExtended:t,data:i,maxOnPage:o,onRowClick:s,footer:a,select:r,selected:l,loading:c=!1,forwardedRef:u,pagination:h,innerPadding:g})=>{const{sort:m,setSort:x,search:b,setSearch:v,resultData:y,filter:j,setFilter:I,filterList:k,setFilterList:P,onRemoveOne:$,onRemoveAll:W}=z_(i);return n.jsxs(nj,{ref:u,children:[n.jsx(lr,{hideWithEmpty:!0,setList:P,padding:"0 10px",list:k,onRemoveOne:$,onRemoveAll:W}),n.jsx(X_,{search:b,setSearch:v}),n.jsx(U_,{padding:g,sort:m,setSort:x,columns:e,search:b,setSearch:v,filter:j,setFilter:I,tableHasSelect:!!r}),n.jsx(Y_,{innerPadding:g,loading:c,onRowClick:s,filter:j,columns:e,columnsExtended:t,data:y,maxOnPage:o,select:r,selected:l,pagination:h}),n.jsx(tj,{footer:a,data:i,columns:e})]})},ij=({paygraph:e})=>n.jsxs(A,{d:"column",children:[n.jsx(M,{icon:n.jsx(Of,{}),size:4,align:"left",bottomGap:!0,children:"График платежей"}),n.jsx(_n,{columns:N_(),data:e!=null?e:[],maxOnPage:3})]}),oj=Ke(({forwardedRef:e,children:t})=>n.jsx(Qw,{ref:e,children:t})),sj=new Date(2022,0,1),ro=({contractsWithDebt:e,contractsWithoutDebt:t})=>{const i=F(ze.roles),o=(e==null?void 0:e.length)+(t==null?void 0:t.length);return!e&&!t?null:n.jsxs(oj,{tutorialModule:{id:"payments",step:!i.includes("dormitory")||!i.includes("education")?0:-1,params:{position:"top",noScroll:!0}},children:[e==null?void 0:e.map((s,a)=>n.jsxs(n.Fragment,{children:[n.jsx(yl,{contract:s,index:a}),a!==o-1&&n.jsx(ye,{margin:"0",width:"100%"})]})),t==null?void 0:t.map((s,a)=>n.jsxs(n.Fragment,{children:[n.jsx(yl,{contract:s,index:a}),e.length+a!==o-1&&n.jsx(ye,{margin:"0",width:"100%"})]}))]})};function yl({contract:e,index:t}){const{agreements:i,number:o,paygraph:s,payments:a,signed_user_date:r,type:l}=e,c=!0,u=i.filter(g=>new Date(g==null?void 0:g.date)>sj),h=l==="Общежитие";return n.jsxs(pe.Fragment,{children:[n.jsx(A,{gap:"8px",children:n.jsx(A,{w:"fit-content",children:n.jsxs(M,{size:3,align:"left",children:["Договор № ",o," от ",xe(r,"numeric")]})})}),n.jsx(P_,{data:e,index:t,isDormitory:h}),n.jsx(u1,{payments:a!=null?a:[]}),n.jsx(ij,{paygraph:s}),n.jsx(E1,{isContractSigned:c,electronicAgreements:u})]},o)}const cr=p.div.withConfig({componentId:"sc-1nwdjlx-0"})(["max-width:",";min-width:calc(100% / 3);width:100%;height:156px;background:var(--theme-2);border-radius:15px;padding:6px;display:flex;align-items:center;gap:6px;.payment-info{width:100%;height:100%;background:var(--block);border-radius:11px;padding:10px;display:flex;flex-direction:column;justify-content:space-between;position:relative;.top-info{a{position:absolute;top:6px;right:6px;}}}","{width:100%;min-width:100%;max-width:100%;}"],({fullWidth:e})=>e?"100%":"400px",X.isMobile),aj=()=>n.jsx(cr,{children:n.jsxs("div",{className:"payment-info education",children:[n.jsxs("div",{children:[n.jsx(ee,{shape:"rect",size:{width:"100px",height:"10px"},margin:"0 0 6px 0"}),n.jsx(ee,{shape:"rect",size:{width:"150px",height:"25px"},margin:"0"})]}),n.jsx(ee,{shape:"rect",size:{width:"100%",height:"35px"},margin:"0"})]})}),rj=()=>n.jsx(cr,{children:n.jsx(ke,{text:"Ошибка ",size:"70px"})}),wl=({data:e,debt:t,overpayment:i,section:o})=>{if(!e.length)return null;const{qr_current:s,qr_total:a}=e[0];return n.jsxs("div",{className:"payment-info",children:[n.jsxs("div",{className:"top-info",children:[n.jsx(re,{children:o}),n.jsx(sa,{size:"middle",debt:t||i}),!!t&&!!i&&n.jsx(sa,{debt:i,size:"small"}),n.jsx(ue,{to:Fi,children:n.jsx(E,{icon:n.jsx(Bn,{}),background:"transparent"})})]}),t>0&&n.jsx(Lu,{qr_current:s,qr_total:a}),t<=0&&n.jsx(ve,{type:"success",title:"Оплачено",width:"100%",align:"center",icon:n.jsx(Bi,{})})]})},_l=e=>{let t=0,i=0;return e.forEach(o=>{const s=Number(o.balance_currdate);s>0&&(t+=s),s<0&&(i+=s)}),{debt:t,overpayment:i}},lj=({forwardedRef:e,fullWidth:t})=>{const[i,o,s,a,r,l]=F([Le.$paymentsStore,Le.contractsWithDebtDorm,Le.contractsWithoutDebtDorm,Le.contractsWithDebtEdu,Le.contractsWithoutDebtEdu,Le.$error]);if(l)return n.jsx(rj,{});if(!i)return n.jsx(aj,{});if(i&&!i.dormitory.length&&!i.education.length)return null;const c=_l(i==null?void 0:i.dormitory),u=_l(i==null?void 0:i.education);return n.jsxs(cr,{ref:e,fullWidth:t,children:[n.jsx(wl,{data:[...o,...s],debt:c.debt,overpayment:c.overpayment,section:"Общежитие"}),n.jsx(wl,{data:[...a,...r],debt:u.debt,overpayment:u.overpayment,section:"Обучение"})]})},$u=()=>{const[e,t,i,o,s,a,r,l]=F([Le.$error,Le.$loading,Le.$paymentsStore,Le.paymentType,Le.contractsWithDebtDorm,Le.contractsWithoutDebtDorm,Le.contractsWithDebtEdu,Le.contractsWithoutDebtEdu]);return d.useEffect(()=>{Q.evokePopUpMessage({type:"alert",time:1e4,message:"В связи с техническими работами отображение данных по произведенным оплатам может быть не полным"})},[]),n.jsx(ko,{loading:t,load:Ka.getPaymentsFx,error:e,data:i,noDataCheck:!(i!=null&&i.dormitory.length),children:n.jsxs(wn,{children:[n.jsx(ve,{type:"alert",title:"Внимание!",children:"Ведутся доработки по информации о долге по оплате и суммам оплат"}),n.jsx(lj,{fullWidth:!0}),o==="none"&&n.jsx(ke,{text:"Нет данных"}),o==="both"&&n.jsx(Ts,{pages:[{title:"Общежитие",content:n.jsx(ro,{contractsWithDebt:s,contractsWithoutDebt:a})},{title:"Обучение",content:n.jsx(ro,{contractsWithDebt:r,contractsWithoutDebt:l})}],appearance:!1}),o==="dormitory"&&n.jsx(ro,{contractsWithDebt:s,contractsWithoutDebt:a}),o==="education"&&n.jsx(ro,{contractsWithDebt:r,contractsWithoutDebt:l})]})})},cj="modulepreload",dj=function(e){return"/"+e},jl={},N=function(t,i,o){if(!i||i.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(i.map(a=>{if(a=dj(a),a in jl)return;jl[a]=!0;const r=a.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!o)for(let h=s.length-1;h>=0;h--){const g=s[h];if(g.href===a&&(!r||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=r?"stylesheet":cj,r||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),r)return new Promise((h,g)=>{u.addEventListener("load",h),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},uj=d.lazy(()=>N(()=>import("./index-e1c15795.js"),["assets/index-e1c15795.js","assets/vendor-3c67dcca.js"])),pj=d.lazy(()=>N(()=>import("./index-972a6497.js"),["assets/index-972a6497.js","assets/vendor-3c67dcca.js"])),hj=d.lazy(()=>N(()=>import("./index-051b1ff1.js"),["assets/index-051b1ff1.js","assets/vendor-3c67dcca.js"])),gj=d.lazy(()=>N(()=>import("./index-4f613480.js"),["assets/index-4f613480.js","assets/vendor-3c67dcca.js"])),mj=d.lazy(()=>N(()=>import("./index-49e5ca1c.js"),["assets/index-49e5ca1c.js","assets/vendor-3c67dcca.js","assets/student-e2a90b0a.js"])),fj=d.lazy(()=>N(()=>import("./index-0e3588cf.js"),["assets/index-0e3588cf.js","assets/vendor-3c67dcca.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/consts-e6e5e9f0.js","assets/get-method-obstaing-bad4fac3.js","assets/get-reason-for-receiving-eb30f0b2.js"])),xj=d.lazy(()=>N(()=>import("./index-93c0f0eb.js"),["assets/index-93c0f0eb.js","assets/vendor-3c67dcca.js","assets/consts-e6e5e9f0.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-bad4fac3.js"])),vj=d.lazy(()=>N(()=>import("./index-788294f6.js"),["assets/index-788294f6.js","assets/vendor-3c67dcca.js","assets/consts-e6e5e9f0.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-bad4fac3.js"])),bj=d.lazy(()=>N(()=>import("./index-b743a47f.js"),["assets/index-b743a47f.js","assets/vendor-3c67dcca.js","assets/error-9ba433d1.js"])),yj=d.lazy(()=>N(()=>import("./index-923d19a5.js"),["assets/index-923d19a5.js","assets/vendor-3c67dcca.js","assets/index-974ef99c.js","assets/consts-e6e5e9f0.js"])),wj=d.lazy(()=>N(()=>import("./index-d486f530.js"),["assets/index-d486f530.js","assets/vendor-3c67dcca.js","assets/is-valid-url-08a91344.js","assets/BoldText-2a470e96.js"])),_j=d.lazy(()=>N(()=>import("./index-a693ada2.js"),["assets/index-a693ada2.js","assets/vendor-3c67dcca.js","assets/error-9ba433d1.js"])),jj=d.lazy(()=>N(()=>import("./index-57a66626.js"),["assets/index-57a66626.js","assets/vendor-3c67dcca.js"])),kj=d.lazy(()=>N(()=>import("./index-4d2bebc7.js"),["assets/index-4d2bebc7.js","assets/vendor-3c67dcca.js"])),Cj=d.lazy(()=>N(()=>import("./index-9bc52640.js"),["assets/index-9bc52640.js","assets/vendor-3c67dcca.js","assets/error-9ba433d1.js"])),Sj=d.lazy(()=>N(()=>import("./index-0f46fead.js"),["assets/index-0f46fead.js","assets/vendor-3c67dcca.js"])),Ij=d.lazy(()=>N(()=>import("./index-b85ca6dd.js"),["assets/index-b85ca6dd.js","assets/vendor-3c67dcca.js","assets/error-9ba433d1.js"])),Tj=d.lazy(()=>N(()=>import("./index-81310514.js"),["assets/index-81310514.js","assets/vendor-3c67dcca.js"])),Ej=d.lazy(()=>N(()=>import("./index-dd040fc3.js"),["assets/index-dd040fc3.js","assets/vendor-3c67dcca.js"])),Pj=d.lazy(()=>N(()=>import("./index-869a28d9.js"),["assets/index-869a28d9.js","assets/vendor-3c67dcca.js","assets/create-checkbox-field-690e451f.js"])),Aj=d.lazy(()=>N(()=>import("./index-84e4e551.js"),["assets/index-84e4e551.js","assets/vendor-3c67dcca.js"])),Nj=d.lazy(()=>N(()=>import("./index-7a62bcab.js"),["assets/index-7a62bcab.js","assets/vendor-3c67dcca.js"])),Dj=d.lazy(()=>N(()=>import("./index-c9698e26.js"),["assets/index-c9698e26.js","assets/vendor-3c67dcca.js"])),Oj=d.lazy(()=>N(()=>import("./index-b72ba55e.js"),["assets/index-b72ba55e.js","assets/vendor-3c67dcca.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/consts-e6e5e9f0.js","assets/get-method-obstaing-bad4fac3.js","assets/get-reason-for-receiving-eb30f0b2.js"])),Lj=d.lazy(()=>N(()=>import("./index-df32fefc.js"),["assets/index-df32fefc.js","assets/vendor-3c67dcca.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/consts-e6e5e9f0.js","assets/get-method-obstaing-bad4fac3.js","assets/get-reason-for-receiving-eb30f0b2.js"])),zj=d.lazy(()=>N(()=>import("./index-8932d3aa.js"),["assets/index-8932d3aa.js","assets/vendor-3c67dcca.js"])),Rj=d.lazy(()=>N(()=>import("./index-f4259839.js"),["assets/index-f4259839.js","assets/vendor-3c67dcca.js"])),$j=d.lazy(()=>N(()=>import("./index-9fff7582.js"),["assets/index-9fff7582.js","assets/vendor-3c67dcca.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/consts-e6e5e9f0.js","assets/get-method-obstaing-bad4fac3.js"])),Mj=d.lazy(()=>N(()=>import("./index-c56358c8.js"),["assets/index-c56358c8.js","assets/vendor-3c67dcca.js"])),Fj=d.lazy(()=>N(()=>import("./index-2e70c32b.js"),["assets/index-2e70c32b.js","assets/vendor-3c67dcca.js"])),Bj=d.lazy(()=>N(()=>import("./index-ade73e68.js"),["assets/index-ade73e68.js","assets/vendor-3c67dcca.js","assets/get-method-obtaining-fields-d749bbdf.js","assets/get-divisions-96cfa1b1.js","assets/consts-e6e5e9f0.js","assets/get-method-obstaing-bad4fac3.js"])),Uj=d.lazy(()=>N(()=>import("./index-0ef619d3.js"),["assets/index-0ef619d3.js","assets/vendor-3c67dcca.js"])),Hj=d.lazy(()=>N(()=>import("./index-3818b777.js"),["assets/index-3818b777.js","assets/vendor-3c67dcca.js"])),Wj=d.lazy(()=>N(()=>import("./index-abe442c8.js"),["assets/index-abe442c8.js","assets/vendor-3c67dcca.js"])),Gj=d.lazy(()=>N(()=>import("./index-47dab182.js"),["assets/index-47dab182.js","assets/vendor-3c67dcca.js"])),Vj=d.lazy(()=>N(()=>import("./index-cdfe0e42.js"),["assets/index-cdfe0e42.js","assets/vendor-3c67dcca.js"])),qj=d.lazy(()=>N(()=>import("./index-5c0987d9.js"),["assets/index-5c0987d9.js","assets/vendor-3c67dcca.js","assets/error-9ba433d1.js"])),Qj=d.lazy(()=>N(()=>import("./index-c640442c.js"),["assets/index-c640442c.js","assets/vendor-3c67dcca.js","assets/get-divisions-96cfa1b1.js"])),Yj=d.lazy(()=>N(()=>import("./index-19d7c552.js"),["assets/index-19d7c552.js","assets/vendor-3c67dcca.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-default-subdivision-17957fb0.js"])),Kj=d.lazy(()=>N(()=>import("./index-15446b28.js"),["assets/index-15446b28.js","assets/vendor-3c67dcca.js","assets/create-form-store-253807a7.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js"])),Mu=d.lazy(()=>N(()=>import("./index-62eca04d.js"),["assets/index-62eca04d.js","assets/vendor-3c67dcca.js"])),Fu=d.lazy(()=>N(()=>import("./index-f45453bb.js"),["assets/index-f45453bb.js","assets/vendor-3c67dcca.js","assets/index-53942296.js","assets/dev-mode-message-2b303514.js"])),Jj=d.lazy(()=>N(()=>import("./index-4e42ad52.js"),["assets/index-4e42ad52.js","assets/vendor-3c67dcca.js","assets/index-974ef99c.js","assets/consts-e6e5e9f0.js"])),Xj=d.lazy(()=>N(()=>import("./index-10574e7a.js"),["assets/index-10574e7a.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),Zj=d.lazy(()=>N(()=>import("./index-3c44216a.js"),["assets/index-3c44216a.js","assets/vendor-3c67dcca.js","assets/student-e2a90b0a.js"])),ek=d.lazy(()=>N(()=>import("./index-49e5ca1c.js"),["assets/index-49e5ca1c.js","assets/vendor-3c67dcca.js","assets/student-e2a90b0a.js"])),tk=d.lazy(()=>N(()=>import("./index-ee4746aa.js"),["assets/index-ee4746aa.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),nk=d.lazy(()=>N(()=>import("./index-8e360fe6.js"),["assets/index-8e360fe6.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),ik=d.lazy(()=>N(()=>import("./index-1402a09d.js"),["assets/index-1402a09d.js","assets/vendor-3c67dcca.js"])),ok=d.lazy(()=>N(()=>import("./index-4a22b54b.js"),["assets/index-4a22b54b.js","assets/vendor-3c67dcca.js","assets/get-default-subdivision-17957fb0.js"])),sk=d.lazy(()=>N(()=>import("./index-f01cc288.js"),["assets/index-f01cc288.js","assets/vendor-3c67dcca.js","assets/get-default-subdivision-17957fb0.js"])),ak=d.lazy(()=>N(()=>import("./index-43ead376.js"),["assets/index-43ead376.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),rk=d.lazy(()=>N(()=>import("./index-31aa9f95.js"),["assets/index-31aa9f95.js","assets/vendor-3c67dcca.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),lk=d.lazy(()=>N(()=>import("./index-cd3e5667.js"),["assets/index-cd3e5667.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),ck=d.lazy(()=>N(()=>import("./index-62c84d22.js"),["assets/index-62c84d22.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),dk=d.lazy(()=>N(()=>import("./index-950d5e25.js"),["assets/index-950d5e25.js","assets/vendor-3c67dcca.js","assets/index-e7ea500e.js","assets/get-method-obstaing-bad4fac3.js","assets/get-default-subdivision-17957fb0.js","assets/index-1db2af5e.js","assets/create-form-store-253807a7.js"])),uk=d.lazy(()=>N(()=>import("./index-31f4cb0c.js"),["assets/index-31f4cb0c.js","assets/vendor-3c67dcca.js"])),dr=d.lazy(()=>N(()=>import("./index-a295781b.js"),["assets/index-a295781b.js","assets/vendor-3c67dcca.js"])),Bu=d.lazy(()=>N(()=>import("./allowances-13ebd94f.js"),["assets/allowances-13ebd94f.js","assets/vendor-3c67dcca.js","assets/dev-mode-message-2b303514.js","assets/forbidden-a2d50aea.js"])),pk=d.lazy(()=>N(()=>import("./info-9e0213c6.js"),["assets/info-9e0213c6.js","assets/vendor-3c67dcca.js","assets/dev-mode-message-2b303514.js","assets/forbidden-a2d50aea.js"])),hk=d.lazy(()=>N(()=>import("./create-allowance-3d01d463.js"),["assets/create-allowance-3d01d463.js","assets/vendor-3c67dcca.js","assets/dev-mode-message-2b303514.js","assets/forbidden-a2d50aea.js"])),gk=d.lazy(()=>N(()=>import("./index-b0a21180.js"),["assets/index-b0a21180.js","assets/vendor-3c67dcca.js","assets/BoldText-2a470e96.js","assets/help-links-c9bbb1c3.js"])),mk=d.lazy(()=>N(()=>import("./upload-70e76737.js"),["assets/upload-70e76737.js","assets/vendor-3c67dcca.js","assets/article-e87c0727.js","assets/create-checkbox-field-690e451f.js","assets/index-c77bb73b.js"])),fk=d.lazy(()=>N(()=>import("./article-list-960684fb.js"),["assets/article-list-960684fb.js","assets/vendor-3c67dcca.js","assets/article-e87c0727.js","assets/create-checkbox-field-690e451f.js","assets/index-c77bb73b.js"])),xk=d.lazy(()=>N(()=>import("./article-0148169a.js"),["assets/article-0148169a.js","assets/vendor-3c67dcca.js","assets/article-e87c0727.js","assets/create-checkbox-field-690e451f.js"])),vk=d.lazy(()=>N(()=>import("./index-9e36ad1d.js"),["assets/index-9e36ad1d.js","assets/vendor-3c67dcca.js","assets/create-checkbox-field-690e451f.js"])),bk=()=>ie.get(`?getRequestMedicalCertificate&token=${oe()}`),Uu=S({name:"load",sid:"-yu7d8"}),Hu=Y(()=>T(void 0,null,function*(){return(yield bk()).data}),{name:"loadFx",sid:"bf215r"});w({and:[{clock:Uu,target:Hu}],or:{sid:"-rwhij4"}});wc(Hu,null,{name:"$medicalCert",sid:"-k31j1n"});const yk={load:Uu},wk=[{id:0,title:"г. Москва, ул. Малая Семеновская, д. 12"},{id:1,title:"г. Москва, ул. 7-я Парковая, д. 9/26"},{id:2,title:"г. Москва, ул. 1-я Дубровская, д. 16А, стр. 2"},{id:3,title:"г. Москва, ул. 800-летия Москвы, д. 28, к."},{id:4,title:"г. Москва, ул. Михалковская, д. 7, корп. 3"},{id:5,title:"г. Москва, ул. Бориса Галушкина, д. 9"},{id:6,title:"г. Москва, ул. Павла Корчагина, д. 20А, к. 3"},{id:7,title:"г. Москва, Рижский проезд, д. 15, к. 2"},{id:8,title:"г. Москва, Рижский проезд, д. 15, к. 1"},{id:9,title:"г. Москва, 1-й Балтийский переулок, д. 6/21, к. 3"}],_k=e=>{const{phone:t,email:i}=e;return{title:"Предоставление медицинских справок",data:[{title:"ФИО",value:`${e.surname} ${e.name} ${e.patronymic}`,fieldName:"fio",width:"100%",editable:!1},{title:"Телефон",value:t,fieldName:"phone",type:"tel",width:"100%",editable:!0,required:!0,mask:!0},{title:"Email",value:i,fieldName:"email",type:"email",width:"100%",editable:!0,required:!0},{title:"Адрес общежития",value:null,fieldName:"address",type:"select",items:wk,width:"100%",editable:!0,required:!0},{title:"Комната",fieldName:"room",value:"",editable:!0,required:!0}]}},jk=()=>{const[e,t]=d.useState(null),[i,o]=d.useState(null),[s,a]=d.useState(null),[r,l]=d.useState(null),[c,u]=d.useState(!1),[h,g]=d.useState(null),[m,x]=d.useState(!1),[b,v]=d.useState(!1),y=m!=null?m:!1,{data:{dataUserApplication:j}}=Ua.useApplications();return d.useEffect(()=>{j&&t(_k(j))},[j]),d.useEffect(()=>{yk.load(),o(zt({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}})),a(zt({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}})),l(zt({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}})),g(zt({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}}))},[]),n.jsx(Qa,{isDone:!1,children:n.jsxs(Fa,{children:[e&&t&&n.jsx(Jt,_(f({},e),{setData:t})),i&&o&&n.jsx(Jt,_(f({},i),{setData:o})),s&&a&&n.jsx(Jt,_(f({},s),{setData:a})),r&&l&&n.jsx(Jt,_(f({},r),{setData:l})),h&&g&&n.jsx(Jt,_(f({},h),{setData:g})),n.jsx(lt,{checked:c,setChecked:u,text:"Я подтверждаю подлинность предоставленных документов"}),n.jsx(xt,{text:y?"Отправлено":"Отправить",action:()=>{qa(ts.MEDICAL_CERT,[e,i,s,r,h],v,x)},isLoading:b,completed:m,setCompleted:x,repeatable:!1,buttonSuccessText:"Отправлено",isDone:y,isActive:!!c&&!!e&&!!s&&!!r&&!!h&&!!i&&et(e)&&et(s)&&et(r)&&et(h)&&et(i),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},kk=p.div.withConfig({componentId:"sc-17p2nth-0"})(["width:100%;"]),Ck=()=>n.jsxs(kk,{children:[n.jsx(ee,{shape:"rect",size:{width:"50%",height:"24px"},margin:"0 0 30px 0"}),n.jsx(ee,{shape:"rect",size:{width:"100%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ee,{shape:"rect",size:{width:"90%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ee,{shape:"rect",size:{width:"90%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ee,{shape:"rect",size:{width:"80%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ee,{shape:"rect",size:{width:"45%",height:"17px"},margin:"2rem 0 0.8rem 0"}),n.jsx(ee,{shape:"rect",size:{width:"40%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ee,{shape:"rect",size:{width:"60%",height:"17px"},margin:"0.8rem 0"})]}),YN=i=>{var o=i,{forwardedRef:e}=o,t=Je(o,["forwardedRef"]);const c=t,{children:s,skeleton:a=n.jsx(Ck,{}),loading:r=!1}=c,l=Je(c,["children","skeleton","loading"]);return n.jsx(Dt,_(f({ref:e},l),{className:"block",children:r?a:s}))};p.div.withConfig({componentId:"sc-1at8wpi-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p(_n).withConfig({componentId:"sc-1at8wpi-1"})(["width:100%;"]);p.div.withConfig({componentId:"sc-17gk7lp-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]);p.div.withConfig({componentId:"sc-17gk7lp-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p(_n).withConfig({componentId:"sc-17gk7lp-2"})(["width:100%;"]);p.div.withConfig({componentId:"sc-17gk7lp-3"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]);p.div.withConfig({componentId:"sc-1q33qx5-0"})(["display:flex;flex-direction:column;gap:30px;"]);p.div.withConfig({componentId:"sc-17c4gv6-0"})(["width:100%;margin-bottom:20px;height:fit-content;max-width:",";padding:20px;border-radius:var(--brSemi);background:transparent;box-shadow:var(--block-shadow);display:flex;flex-direction:column;row-gap:20px;@media (max-width:1000px){box-shadow:none;padding:10px 0px;background:transparent;}"],({maxWidth:e})=>e!=null?e:"600px");p.div.withConfig({componentId:"sc-zo4mao-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]);p.div.withConfig({componentId:"sc-zo4mao-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]);const Sk=S({name:"loadBufferHolidayWork",sid:"t9kvcj"}),Ik=S({name:"sendBufferHolidayWork",sid:"-337yo"}),Wu=Y(()=>T(void 0,null,function*(){var e;const{data:t}=yield Ge.get(`Weekend.GetAllHistory?PersonalGuid=${Wn((e=yn())!==null&&e!==void 0?e:"").IndividualGuid}`);return t.orders}),{name:"loadBufferHolidayWorkFx",sid:"-jv46fz"});w({and:[{clock:Sk,target:Wu}],or:{sid:"4qzcke"}});const ps=Y(e=>T(void 0,null,function*(){return(yield Ge.post("Weekend.AddWeekend",e)).data}),{name:"sendBufferHolidayWorkFx",sid:"-55kkju"});w({and:[{clock:Ik,target:ps}],or:{sid:"56xdrv"}});const Tk=R([],{name:"$bufferHolidayWorkOrders",sid:"-9wkgf3"});ps.pending;w({and:[{clock:Wu.doneData,target:Tk}],or:{sid:"5a85c1"}});w({and:[{clock:ps.doneData,fn:e=>{const t=e;return t.isError?{message:t.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:Vt.evokePopUpMessage}],or:{sid:"5nz062"}});w({and:[{clock:ps.fail,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure",time:3e5}),target:Vt.evokePopUpMessage}],or:{sid:"6ligd3"}});p.div.withConfig({componentId:"sc-1rgdznj-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p(_n).withConfig({componentId:"sc-1rgdznj-1"})(["width:100%;"]);p.div.withConfig({componentId:"sc-wf2sno-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]);p.div.withConfig({componentId:"sc-wf2sno-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p.div.withConfig({componentId:"sc-wf2sno-2"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]);p.div.withConfig({componentId:"sc-zhdbox-0"})(["display:flex;flex-direction:column;gap:30px;"]);p.div.withConfig({componentId:"sc-13s8wgh-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]);p.div.withConfig({componentId:"sc-13s8wgh-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]);const Ek=S({name:"loadBufferHolidayPlanning",sid:"kx8jhr"}),Pk=S({name:"sendBufferHolidayPlanning",sid:"ef93ho"}),hs=Y(()=>T(void 0,null,function*(){var e;const{data:t}=yield Ge.get(`Vacation.GetAllHistory?personalGuid=${Wn((e=yn())!==null&&e!==void 0?e:"").IndividualGuid}`);return t}),{name:"loadBufferHolidayPlanningFx",sid:"-5s6s2r"});w({and:[{clock:Ek,target:hs}],or:{sid:"-ct3gtq"}});const Ji=Y(e=>T(void 0,null,function*(){return(yield Ge.post("Vacation.AddVacation",e)).data}),{name:"sendBufferHolidayPlanningFx",sid:"-vnmzgu"});w({and:[{clock:Pk,target:Ji}],or:{sid:"-cd5fm9"}});const aa=R(null,{name:"$bufferHolidayPlanning",sid:"dbshu0"});w({and:[{clock:hs.doneData,fn:({employeeVacations:e})=>e,target:aa}],or:{sid:"-caegng"}});w({and:[{clock:Ji.doneData,fn:e=>{if(e.isError)throw new Error(e.error);return{message:"Форма отправлена успешно",type:"success"}},target:Q.evokePopUpMessage}],or:{sid:"-bv081c"}});w({and:[{clock:Ji.failData,fn:({message:e})=>({message:e,type:"hrFailure"}),target:Q.evokePopUpMessage}],or:{sid:"-bcb7v2"}});w({and:[{clock:Ji.doneData,source:aa,fn:(e,{employeeVacations:t})=>[...e,...t],target:aa}],or:{sid:"-au60a5"}});w({and:[{clock:hs.failData,fn:e=>{var t;return{message:Da(e)?((t=e.response)===null||t===void 0?void 0:t.data).error:"Не удалось загрузить данные",type:"failure"}},target:Q.evokePopUpMessage}],or:{sid:"-ad4dvy"}});w({and:[{clock:Ji.doneData,target:hs}],or:{sid:"-9jzaft"}});p.div.withConfig({componentId:"sc-cga8n-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);const Ak=S({name:"loadBufferHolidayTransfer",sid:"zbmmj2"}),Nk=S({name:"sendBufferHolidayTransfer",sid:"stn6iz"}),ur=Y(()=>T(void 0,null,function*(){var e;const{data:t}=yield Ge.get(`CarryForwardVacation.GetAllHistory?personalGuid=${Wn((e=yn())!==null&&e!==void 0?e:"").IndividualGuid}`);return t}),{name:"loadBufferHolidayTransferFx",sid:"-hl2c04"});w({and:[{clock:Ak,target:ur}],or:{sid:"vcjzgl"}});const gs=Y(e=>T(void 0,null,function*(){return(yield Ge.post("CarryForwardVacation.AddCarryForwardVacation",e)).data}),{name:"sendBufferHolidayTransferFx",sid:"egiitt"});w({and:[{clock:Nk,target:gs}],or:{sid:"vsi0o2"}});const ra=R([],{name:"$bufferHolidayTransfer",sid:"jbw49z"});w({and:[{clock:ur.doneData,fn:({employeeVacations:e})=>e,target:ra}],or:{sid:"vv8zmv"}});w({and:[{clock:gs.doneData,fn:e=>e.isError?{message:e.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0},target:Vt.evokePopUpMessage}],or:{sid:"wan88z"}});w({and:[{clock:gs.doneData,source:ra,fn:(e,{employeeVacations:t})=>[...e,...t],target:ra}],or:{sid:"x7mvun"}});w({and:[{clock:ur.failData,fn:e=>{var t;return{message:Da(e)?((t=e.response)===null||t===void 0?void 0:t.data).error:"Не удалось загрузить данные",type:"failure",time:3e5}},target:Q.evokePopUpMessage}],or:{sid:"xooi8u"}});w({and:[{clock:gs.failData,fn:e=>{var t;return{message:Da(e)?((t=e.response)===null||t===void 0?void 0:t.data).error:"Не удалось отправить данные",type:"hrFailure",time:3e5}},target:Vt.evokePopUpMessage}],or:{sid:"y6tptr"}});p.div.withConfig({componentId:"sc-m7eon3-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p(_n).withConfig({componentId:"sc-m7eon3-1"})(["width:100%;"]);p.div.withConfig({componentId:"sc-72ahf3-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]);p.div.withConfig({componentId:"sc-72ahf3-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p(_n).withConfig({componentId:"sc-72ahf3-2"})(["width:100%;"]);p.div.withConfig({componentId:"sc-72ahf3-3"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]);p.div.withConfig({componentId:"sc-1dl3ypv-0"})(["display:flex;flex-direction:column;gap:30px;"]);p.div.withConfig({componentId:"sc-18ufg3v-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]);p.div.withConfig({componentId:"sc-18ufg3v-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]);const Dk=e=>localStorage.setItem("age",e.toString()),Ok=e=>e.map(t=>{localStorage.setItem(t.employeeGuid,t.tutor.toString())}),Lk={listMedicalExamination:null,error:null},fo=Y(()=>T(void 0,null,function*(){var e;const t=yield Ge.get(`MedicalExamination.GetAllHistory?PersonalGuid=${Wn((e=yn())!==null&&e!==void 0?e:"").IndividualGuid}`);try{return Dk(t.data.age),Ok(t.data.employeeMedicalExaminations.map(({employeeGuid:i,tutor:o})=>({employeeGuid:i,tutor:o}))),t.data.employeeMedicalExaminations}catch(i){throw new Error("Не удалось загрузить информацию. Попробуйте позже")}}),{name:"loadBufferMedicalExaminationFx",sid:"psbz9j"}),pr=Y(e=>T(void 0,null,function*(){try{const t=yield Ge.post("MedicalExamination.AddMedicalExamination",e);if(t.data.isError)throw new Error;return t.data}catch(t){throw new Error(t)}}),{name:"sendBufferMedicalExaminationFx",sid:"vimfdw"});S({name:"clearStore",sid:"j1cf9i"});Un({and:{from:pr.doneData,to:fo},or:{sid:"-54ezjj"}});w({and:[{clock:pr.doneData,fn:()=>({message:"Форма отправлена успешно",type:"success"}),target:Q.evokePopUpMessage}],or:{sid:"-527t63"}});w({and:[{clock:pr.failData,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure"}),target:Q.evokePopUpMessage}],or:{sid:"-4m9rym"}});R(Lk,{name:"$medicalExaminationStore",sid:"-ovb8fc"}).on(fo,e=>_(f({},e),{error:null})).on(fo.doneData,(e,t)=>_(f({},e),{listMedicalExamination:t})).on(fo.failData,(e,t)=>_(f({},e),{error:t.message}));p.div.withConfig({componentId:"sc-1uh96td-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);const zk=S({name:"loadBufferWorkTransfer",sid:"84mpis"}),Rk=S({name:"sendBufferWorkTransfer",sid:"-s5cqrz"}),Gu=Y(()=>T(void 0,null,function*(){var e;const{data:t}=yield Ge.get(`AnotherPlaceWork.GetAllHistory?PersonalGuid=${Wn((e=yn())!==null&&e!==void 0?e:"").IndividualGuid}`);return t.employeeHistories}),{name:"loadBufferWorkTransferFx",sid:"s627lq"});w({and:[{clock:zk,target:Gu}],or:{sid:"3miwkl"}});const ms=Y(e=>T(void 0,null,function*(){return(yield Ge.post("AnotherPlaceWork.AddAnotherPlaceOfWork",e)).data}),{name:"sendBufferWorkTransferFx",sid:"lff3rr"});w({and:[{clock:Rk,target:ms}],or:{sid:"42gxs2"}});const $k=R([],{name:"$bufferWorkTransferOrders",sid:"77xbns"});ms.pending;w({and:[{clock:Gu.doneData,target:$k}],or:{sid:"45rpc8"}});w({and:[{clock:ms.doneData,fn:e=>{const t=e;return t.isError?{message:t.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:Vt.evokePopUpMessage}],or:{sid:"4jik69"}});w({and:[{clock:ms.fail,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure",time:3e5}),target:Vt.evokePopUpMessage}],or:{sid:"5h20da"}});p.div.withConfig({componentId:"sc-p74s0d-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p(_n).withConfig({componentId:"sc-p74s0d-1"})(["width:100%;"]);p.div.withConfig({componentId:"sc-x4jofd-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]);p.div.withConfig({componentId:"sc-x4jofd-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]);p.div.withConfig({componentId:"sc-x4jofd-2"})(["display:flex;flex-direction:row;gap:10px;align-items:center;justify-content:center;width:100%;"]);p.div.withConfig({componentId:"sc-t7hy5p-0"})(["display:flex;flex-direction:column;gap:30px;"]);p.div.withConfig({componentId:"sc-pldiax-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]);p.div.withConfig({componentId:"sc-pldiax-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]);const Mk=e=>{if(!e[0].length&&e[1].length)return`За весь период до ${xe(e[1])} включительно`;if(e[0].length&&!e[1].length)return`За весь период начиная с ${xe(e[0])} включительно`;if(!e[0].length&&!e[1].length)return"За все время";if(e[0].length&&e[1].length)return`За период с ${xe(e[0])} по ${xe(e[1])}`},Fk=p.div.withConfig({componentId:"sc-1i6hop4-0"})([".content{display:flex;flex-direction:column;gap:20px;section{display:flex;gap:10px;}}"]),fs=({title:e,links:t})=>{var i;const[o,s]=d.useState(["",""]),[a,r]=d.useState(!0),{data:l}=_t.selectors.useData();return l?n.jsxs(Fk,{children:[n.jsx(M,{size:3,align:"left",bottomGap:!0,children:e}),n.jsxs("div",{className:"content",children:[n.jsx(zd,{dates:o,setDates:s,valid:a,setValid:r}),n.jsx(ve,{type:"info",title:(i=Mk(o))!==null&&i!==void 0?i:"",icon:n.jsx(Bn,{})}),t==null?void 0:t.map((c,u)=>{const h=c.url+"&date_from="+o[0]+"&date_to="+o[1];return n.jsxs(pe.Fragment,{children:[n.jsxs("section",{children:[n.jsx(M,{size:4,align:"left",children:c.title}),n.jsx(pn,{onClick:()=>null,href:h,text:"Загрузить",icon:n.jsx(yo,{}),width:"170px",background:C.blue.main,textColor:"#fff",isActive:a})]}),u!==(t==null?void 0:t.length)-1&&n.jsx(ye,{})]},c.title)})]})]}):null},Bk=()=>{const{data:e}=_t.selectors.useData();return n.jsx(fs,{title:"Скачать отчеты по акцептам",links:e==null?void 0:e.accepts})},Uk=()=>{const{data:e}=_t.selectors.useData();return n.jsx(fs,{title:"Скачать отчеты по доп.соглашениям",links:e==null?void 0:e.agreements})},Hk=()=>{const{data:e}=_t.selectors.useData();return n.jsx(fs,{title:"Скачать отчеты по анкете",links:e==null?void 0:e.checkdata})},Wk=()=>{const{data:e}=_t.selectors.useData();return n.jsx(fs,{title:"Скачать отчеты по телефонному справочнику",links:e==null?void 0:e.phonebook})},Gk=()=>{var e;const{data:t}=_t.selectors.useData();return n.jsx(Yn,{padding:"10px",children:n.jsx(wn,{children:n.jsx(Ts,{appearance:!1,pages:[{title:"Анкета",content:n.jsx(Hk,{}),condition:!!(t!=null&&t.checkdata.length)},{title:"Акцепт",content:n.jsx(Bk,{}),condition:!!(t!=null&&t.accepts.length)},{title:"Доп. соглашения",content:n.jsx(Uk,{}),condition:!!(t!=null&&t.agreements.length)},{title:"Телефонный справочник",content:n.jsx(Wk,{}),condition:!!(t!=null&&t.phonebook.length)},{title:"Логины студентов",content:n.jsx(Ze,{oldVersionUrl:FC}),condition:!!(t!=null&&(e=t.studLogins)!==null&&e!==void 0&&e.length)}]})})})},Vk=p.div.withConfig({componentId:"sc-av67fs-0"})(["display:flex;flex-direction:column;gap:24px;padding:12px;width:100%;height:100%;color:var(--text);"]),KN=p.div.withConfig({componentId:"sc-av67fs-1"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr;gap:5px;"]),JN=p.div.withConfig({componentId:"sc-av67fs-2"})(["width:100%;"]),qk=p.div.withConfig({componentId:"sc-di2aau-0"})(["position:relative;width:100%;padding:10px;min-height:100px;height:100%;@media (max-width:550px){padding:10px;}"]),Qk=p.div.withConfig({componentId:"sc-di2aau-1"})(["width:100%;height:100%;top:0;left:0;transition:0.2s;opacity:",";visibility:",";transform:scale(",");display:flex;align-items:center;justify-content:center;z-index:5;img{width:40px;}"],({$loading:e})=>e?1:0,({$loading:e})=>e?"visible":"hidden",({$loading:e})=>e?"1":"0.98"),Yk=p.div.withConfig({componentId:"sc-di2aau-2"})(["display:flex;flex-direction:column;gap:1rem;transition:0.2s;height:100%;"]),Kk=p.div.withConfig({componentId:"sc-di2aau-3"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text);& > * + *{margin-top:10px;}"]),Jk=({children:e,load:t,loading:i,error:o,data:s,deps:a=[],couldBeReloaded:r})=>(d.useEffect(()=>{!s&&!i&&t()},a),n.jsx(qk,{children:s?!o&&n.jsx(Yk,{children:e}):n.jsx(Qk,{$loading:!!o||!s,children:o?n.jsx(Kk,{children:n.jsx(ke,{text:o,children:r&&n.jsx(E,{onClick:()=>t(),text:"Загрузить снова",icon:n.jsx(Bo,{})})})}):n.jsx(Ot,{})})})),Vu=S({name:"setSubdivisionPath",sid:"p0t34c"}),qu=S({name:"getSubdivisions",sid:"-91hxwe"}),Ii=Y(()=>T(void 0,null,function*(){let e=0;for(;e<3;){const{data:t}=yield fv(),i=!(t!=null&&t.map);if(t&&!i)return t;e++}throw new Error("Не удалось загрузить подразделения")}),{name:"getSubdivisionsFx",sid:"-w6ukz7"});w({and:[{clock:qu,target:Ii}],or:{sid:"-ycw2el"}});const Xk=Ii.pending,Zk=S({name:"clearSubdivisionData",sid:"75s3xc"}),eC=R(null,{name:"$subdivisionPath",sid:"9ftyw7"}).on(Vu,(e,t)=>t),tC=R(null,{name:"$subdivisions",sid:"w7m6w5"}).on(Ii.doneData,(e,t)=>t),nC=R(null,{name:"$error",sid:"-j5ojba"}).on(Ii.failData,(e,t)=>t.message).on(Ii,()=>null),xs={setSubdivisionPath:Vu,getSubdivisions:qu,clearSubdivisionData:Zk},mt={subdivisionPath:eC,subdivisions:tC,error:nC,pedningGetSubdividions:Xk},vs=()=>{const{search:e}=Wt();return pe.useMemo(()=>new URLSearchParams(e),[e])},Qu=({item:e,parents:t})=>{var i;const o=wt(),a=vs().get("fio")||"",r=e.subdivs,l=F(mt.subdivisionPath),[c,u]=d.useState(!1);return d.useEffect(()=>{u(!!(l&&l.some(h=>h.name===e.name)))},[l]),n.jsxs(A,{p:`5px 0 5px ${t.length*15}px`,d:"column",children:[n.jsx(iC,{$chosen:!!(l&&((i=l[0])===null||i===void 0?void 0:i.name)===e.name),onClick:()=>{xs.setSubdivisionPath([e,...t]),o.push({search:new URLSearchParams({subdivision:e.name,fio:a}).toString()})},children:n.jsxs(A,{ai:"center",jc:"space-between",w:"100%",gap:"5px",children:[e.name,r.length>0&&n.jsx(E,{icon:c?n.jsx(hc,{size:20}):n.jsx(St,{size:20}),width:"20px",height:"20px",background:"transparent",onClick:h=>{h.stopPropagation(),u(g=>!g)}})]})}),c&&r.map(h=>n.jsx(Qu,{item:h,parents:[e,...t]},h.name))]})},iC=p.div.withConfig({componentId:"sc-x1t4q-0"})(["background-color:",";padding:10px 25px 8px 25px;border-radius:10px;width:100%;cursor:pointer;color:var(--text);font-weight:600;line-height:24px;&:hover{background-color:var(--theme-1);}"],({$chosen:e})=>e?"var(--theme-1t)":"transparent"),oC=p.div.withConfig({componentId:"sc-1jvvhj5-0"})(["display:flex;flex-direction:column-reverse;color:#fff;min-height:110px;width:100%;padding-left:",";","{padding-left:",";}@media (max-width:800px){padding-bottom:0;}"],({isEmployee:e})=>e?"125px":"20px",X.isNotMobile,({isEmployee:e})=>e?"180px":"0"),sC=p.div.withConfig({componentId:"sc-1jvvhj5-1"})(["width:700px;padding-bottom:20px;@media (max-width:800px){width:100%;}"]),aC=p.div.withConfig({componentId:"sc-1jvvhj5-2"})(["display:flex;flex-direction:column;gap:18px;min-width:100%;padding:60px 20px 10px 20px;","{padding:35px 20px 10px ",";}"],X.isNotMobile,({isEmployee:e})=>e?"180px":"0"),rC=p.h3.withConfig({componentId:"sc-1jvvhj5-3"})(["font-size:1.17rem;line-height:28px;"]),lC=p.h4.withConfig({componentId:"sc-1jvvhj5-4"})(["opacity:0.7;font-weight:400;font-size:1.17rem;line-height:28px;"]),cC=p.div.withConfig({componentId:"sc-1jvvhj5-5"})(["display:flex;align-items:center;justify-content:center;width:100%;gap:8px;a{width:100%;}button{width:100%;}"]),dC=p.div.withConfig({componentId:"sc-1jvvhj5-6"})(["position:absolute;top:100px;left:25px;z-index:50;","{top:95px;left:10px;}"],X.isMobile),la=p(A).withConfig({componentId:"sc-1jvvhj5-7"})(["overflow-x:hidden;padding-right:10px;","{overflow-y:scroll;height:calc(100vh - 240px);}","{height:calc(100vh - 300px);}"],X.isNotMobile,X.isTablet),uC=p(ue).withConfig({componentId:"sc-1jvvhj5-8"})(["width:100%;"]),pC=()=>{const{subdivisions:e}=F({subdivisions:mt.subdivisions});return e?n.jsx(la,{d:"column",children:e.map(t=>n.jsx(Qu,{item:t,parents:[]},t.name))}):null},Eo=(e,t)=>e==="horizontal"?t==="small"?"15px":t==="middle"?"30px":"45px":t==="small"?"30px":t==="middle"?"35px":"45px",lo=({title:e,items:t,action:i})=>n.jsxs(A,{d:"column",ai:"flex-start",gap:"7px",children:[n.jsx(re,{children:e}),t.length>0?t.map(o=>n.jsxs(hC,{onClick:()=>i("fio"in o?o:null),children:["fio"in o&&n.jsx(Tt,{name:o.fio,avatar:o.avatar,width:Eo("horizontal","middle"),height:Eo("horizontal","middle"),marginRight:"7px"}),"fio"in o?o.fio:o.name]},"fio"in o?o.fio+o.post:o.name)):n.jsx(ke,{size:"60px",text:"Ничего не было найдено",image:n.jsx(wa,{})})]}),hC=p.button.withConfig({componentId:"sc-klmhrw-0"})(["display:flex;align-items:center;gap:4px;background-color:transparent;text-align:left;width:100%;padding:10px 25px 8px 25px;border-radius:10px;border:none;margin:0;cursor:pointer;color:var(--text);font-weight:600;line-height:24px;&:hover{background-color:var(--theme-1);}"]),Xi=(e,t)=>e.split("/").reduce((s,a)=>{if(a[0]===":"){const r=t[a.slice(1,a.length)];r&&s.push(r)}else s.push(a);return s},[]).join("/"),gC=e=>ie.get(`?getMsgDialogues&token=${oe()}`,{signal:e}),Yu=Lf({setup:Wc}),bs=S({name:"load",sid:"-ly9cxn"}),jn=J({sid:"i6586v",fn:()=>Ct({handler:()=>T(void 0,null,function*(){const e=new AbortController;J({sid:"-42pz7s",fn:()=>Sc(()=>{e.abort()}),name:"none",method:"onAbort"});let t=0;for(;t<3;){const{data:i}=yield gC(e.signal),o=!(i!=null&&i.map);if(i&&!o)return i;t++}throw new Error("Не удалось загрузить чаты")}),name:"chatsQuery",enabled:Yu.$visible}),name:"chatsQuery",method:"createQuery"}),Ku=R(!1,{name:"$isFirstFetched",sid:"-7rupgk"}).on(jn.$succeeded,(e,t)=>e||t);w({and:[{clock:ne.userGuid,target:Ku.reinit}],or:{sid:"-32zcqr"}});J({sid:"-30s6db",fn:()=>_c(jn,{strategy:"TAKE_LATEST"}),name:"none",method:"concurrency"});J({sid:"-2nl44n",fn:()=>jc(jn,{adapter:J({sid:"eyomm7",fn:()=>kc({maxEntries:10,maxAge:"60sec"}),name:"adapter",method:"sessionStorageCache"}),purge:ce.logout}),name:"none",method:"cache"});const{tick:mC}=J({sid:"f3aejn",fn:()=>Cc({timeout:6e4,start:bs,stop:ce.logout}),name:"none",method:"interval"});w({and:[{clock:mC,target:jn.start}],or:{sid:"-24cbd0"}});w({and:[{clock:ne.user,filter:e=>!!e.currentUser,target:bs}],or:{sid:"-2254zk"}});w({and:[{clock:bs,target:jn.refresh}],or:{sid:"-1nuhk6"}});w({and:[{clock:ne.userGuid,target:jn.reset}],or:{sid:"-1lnb6q"}});const qt={chats:jn},fC={load:bs},Ju={isFirstFetched:Ku},Xu=S({name:"set",sid:"y06321"}),Zu=S({name:"reset",sid:"-1zojul"}),ep=R(null,{name:"$selectedChatId",sid:"-4cghdm"}).on(Xu,(e,t)=>t).reset(Zu),xC=Ae({and:[ep,qt.chats.$data],or:{name:"$selectedChat",sid:"-x4jp04"}}).map(([e,t])=>{var i;return(i=t==null?void 0:t.find(o=>o.id===e))!==null&&i!==void 0?i:null}),He={selectedChat:xC,selectedChatId:ep},ca={set:Xu,reset:Zu},vC=({editor:e,disabled:t})=>{const{isMobile:i}=Me();return i?null:n.jsxs(bC,{children:[n.jsx(ii,{isActive:!t,background:e.isActive("bold")?C.blue.main:void 0,textColor:e.isActive("bold")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleBold().run(),icon:n.jsx(zf,{})}),n.jsx(ii,{isActive:!t,background:e.isActive("italic")?C.blue.main:void 0,textColor:e.isActive("italic")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleItalic().run(),icon:n.jsx(Rf,{})}),n.jsx(ii,{isActive:!t,background:e.isActive("strike")?C.blue.main:void 0,textColor:e.isActive("strike")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleStrike().run(),icon:n.jsx($f,{})}),n.jsx(ii,{background:e.isActive("orderedList")?C.blue.main:void 0,isActive:!t,textColor:e.isActive("orderedList")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleOrderedList().run(),icon:n.jsx(Mf,{})}),n.jsx(ii,{background:e.isActive("bulletList")?C.blue.main:void 0,isActive:!t,textColor:e.isActive("bulletList")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleBulletList().run(),icon:n.jsx(Ff,{})})]})},bC=p.div.withConfig({componentId:"sc-1tp8gvr-0"})(["display:flex;flex-direction:row;gap:5px;"]),ii=p(E).withConfig({componentId:"sc-1tp8gvr-1"})(["svg{width:12px !important;height:12px !important;}"]),tp=({value:e,placeholder:t,setValue:i,disabled:o})=>{const s=d.useRef(!1),a=Uf({extensions:[Hf,Wf,Gf,Vf,qf.configure({placeholder:t})],content:e,onUpdate({editor:r}){i(vn(r.getHTML()))}});return d.useEffect(()=>{!e&&a&&a.commands.clearContent(),e&&!s.current&&(a==null||a.commands.setContent(e),s.current=!0)},[e]),a?n.jsxs(yC,{children:[n.jsx(vC,{disabled:o,editor:a}),n.jsx(wC,{editor:a})]}):null},yC=p.div.withConfig({componentId:"sc-ttfbcp-0"})(["display:flex;gap:8px;flex:1;width:0;justify-content:space-between;flex-direction:column;"]),wC=p(Bf).withConfig({componentId:"sc-ttfbcp-1"})([".ProseMirror:not(:focus) p.is-editor-empty:first-child::before{content:attr(data-placeholder);color:var(--text-color);font-weight:300;}li{margin-left:1em;}.tiptap{color:var(--text);outline:none;background:var(--theme-1);width:100%;padding:10px;max-height:300px;overflow-y:auto;font-size:0.85rem;border-radius:7px;&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}"]),np=({setFiles:e,className:t})=>{const i=d.useRef(null),o=a=>{var r,l;e(Array.from((r=a==null||(l=a.target)===null||l===void 0?void 0:l.files)!==null&&r!==void 0?r:[]))},s=()=>{var a;i==null||(a=i.current)===null||a===void 0||a.click()};return n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:i,type:"file",accept:".jpg, .jpeg, .doc, .docx, .xls, .pdf, .png, .rtf, .rar, .zip, .gz, .txt",style:{display:"none"},onChange:o}),n.jsx(E,{icon:n.jsx(Qf,{}),width:"37px",height:"37px",isActive:!0,className:t,onClick:s})]})},_C=(e,t)=>T(void 0,null,function*(){return ie.get(`?getMessagesInDialogue=${e}&token=${oe()}`,{signal:t})}),ip=t=>T(void 0,null,function*(){var e=Je(t,[]);var i;const o=new FormData;o.set("text",e.text),e!=null&&(i=e.files)!==null&&i!==void 0&&i.length&&e.files.forEach((r,l)=>o.append(`files[${l}]`,r));let s="";"chatId"in e&&(s=`to_dialogue=${e.chatId}`),"userId"in e&&(s=`to_id=${e.userId}`),"group"in e&&(s=`to_group=${e.group}`);const{data:a}=yield ie.post(`?newMessage=1&${s}&token=${oe()}`,o,{headers:{"Content-Type":"multipart/form-data"}});return a}),ys=J({sid:"-vzr4vf",fn:()=>we({handler:ip}),name:"sendFirstMessageMutation",method:"createMutation"}),hr=R(null,{name:"$lastAddedMessageChat",sid:"-rvr5j9"});w({and:[{clock:ys.finished.finally,fn:e=>"result"in e&&e.status==="done"?e.result:null,target:hr}],or:{sid:"-58spis"}});w({and:[{source:ys.reset,target:hr.reinit}],or:{sid:"-4rr34l"}});J({sid:"-4pjwr5",fn:()=>ja(qt.chats,{on:ys,by:{success:({query:e,mutation:t})=>{if(e&&"result"in e){const{id:s,result:a}=t.result;if(a==="ok"){var i,o;return{result:[{id:s,lastmessage:{datetime:Ui(Date.now()),html:t.params.text,readed:!0,readed_opponent:!1,files:(i=(o=t.params.files)===null||o===void 0?void 0:o.map(l=>({name:l.name,url:""})))!==null&&i!==void 0?i:[],from:"you",text:vn(t.params.text,{allowedTags:[]})},subject:"group"in t.params?`Группе ${t.params.group}`:"",opponent:"userId"in t.params?{id:t.params.userId,name:t.params.fio,avatar:t.params.avatar,status:t.params.isEmployee?"сотрудник":"студент",data:t.params.isEmployee?"сотрудник":"студент"}:void 0},...e.result],refetch:!0,error:null}}return{result:e.result,refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});const co={sendFirstMessage:ys},jC={lastAddedMessageChat:hr},kC=e=>{const{close:t}=K(),[i,o]=d.useState(""),[s,a]=d.useState([]),[r,l,c]=F([co.sendFirstMessage.$pending,co.sendFirstMessage.$succeeded,jC.lastAddedMessageChat]),u=m=>{a(x=>[...m,...x])},h=()=>{co.sendFirstMessage.start(f({text:i,files:s,localId:Date.now().toString()},e))},g=l?n.jsx(ue,{to:Sn+`/${c==null?void 0:c.id}`,children:n.jsx(E,{icon:n.jsx(wo,{}),onClick:()=>{co.sendFirstMessage.reset(),t()},background:C.green.main,textColor:C.white.main,text:"Перейти в чат",width:"100%"})}):n.jsxs(SC,{children:[n.jsx(ye,{}),n.jsxs(CC,{children:[n.jsx(np,{isActive:!r,setFiles:u}),n.jsx(tp,{value:i,setValue:o,placeholder:"Введите сообщение..."}),n.jsx(E,{isActive:!!vn(i,{allowedTags:[]}).trim()&&!r,icon:n.jsx(Ic,{}),onClick:h,background:"transparent"})]}),n.jsx(TC,{hideHeader:!0,files:s,setFiles:m=>{a(m)}})]});return"group"in e?n.jsxs(IC,{children:[n.jsxs(M,{children:["Группе: ",e.group]}),g]}):n.jsxs(n.Fragment,{children:[n.jsx(Or,f({type:e.status,name:e.fio},e)),g]})},CC=p.div.withConfig({componentId:"sc-65bk6o-0"})(["display:flex;align-items:flex-end;gap:8px;"]),SC=p.div.withConfig({componentId:"sc-65bk6o-1"})(["display:flex;flex-direction:column;background:var(--block);padding-right:14px;padding-bottom:12px;flex:1;gap:8px;max-width:100%;"]),IC=p.div.withConfig({componentId:"sc-65bk6o-2"})(["display:flex;flex-direction:column;min-width:30dvw;gap:4px;"]),TC=p(Wa).withConfig({componentId:"sc-65bk6o-3"})(["padding:0 48px 0 46px;","{padding:0;}"],X.isMobile),ws=e=>{const{open:t,close:i}=K(),[o]=F([qt.chats.$data]),s=()=>{t(n.jsx(kC,f({},e)))},a="userId"in e?o==null?void 0:o.find(r=>{var l;return((l=r.opponent)===null||l===void 0?void 0:l.id)===e.userId&&!r.subject}):"group"in e?o==null?void 0:o.find(r=>{const[l,c]=r.subject.split(" ");if(l==="Группе"&&c===e.group&&r.lastmessage.from==="you")return!0}):null;return!e.group&&!e.userId?null:a?n.jsx(ue,{to:Sn+`/${a==null?void 0:a.id}`,children:n.jsx(E,{icon:n.jsx(wo,{}),text:"Перейти к чату",onClick:()=>{i()},background:"var(--theme-4)",width:"100%"})}):n.jsx(E,{icon:n.jsx(wo,{}),text:"Написать",onClick:s,width:"100%",background:"var(--theme-4)"})},EC=p.div.withConfig({componentId:"sc-12wijn9-0"})(["width:",";height:",";position:absolute;background:",";z-index:-1;overflow:hidden;top:-16px;left:-16px;svg{position:absolute;left:50%;top:50%;transform:translateX(50%);filter:drop-shadow(0 0 34px #00000054);}& svg:nth-child(1){z-index:-3;transform:",";}& svg:nth-child(2){z-index:-2;transform:",";}& svg:nth-child(3){z-index:-1;transform:",";}&::before{content:'';width:100%;height:100%;background:linear-gradient(0deg,#00000024,transparent);display:block;position:absolute;left:0;bottom:0;}"],({width:e})=>e!=null?e:"100%",({height:e})=>e!=null?e:"100px",({color:e})=>e,({baseScaleDelta:e})=>`scale(${1+e*2})`,({baseScaleDelta:e})=>`scale(${1+e})`,({baseScale:e})=>`scale(${e})`),op=({fullName:e,width:t,height:i,baseScale:o=1,baseScaleDelta:s=1})=>n.jsx(EC,{width:t,height:i,color:ht(e,"dark1"),color2:ht(e,"light1"),baseScale:o,baseScaleDelta:s,children:n.jsxs(n.Fragment,{children:[n.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:ht(e,"main")})}),n.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:ht(e,"light1")})}),n.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:ht(e,"light2")})})]})}),PC=({title:e,children:t})=>t?n.jsxs(A,{d:"column",ai:"flex-start",jc:"flex-start",gap:"10px",children:[n.jsx(re,{fontSize:"0.9rem",children:e}),n.jsx(AC,{children:t})]}):null,AC=p.p.withConfig({componentId:"sc-jyb8th-0"})(["padding-left:14px;"]),gr=e=>[{attributes:[{id:"head",title:"Руководитель",text:e.head.fio},{title:"Корпоративная электронная почта подразделения",text:e.email},{id:"innerPhone",title:"Внутренний телефон",text:e.phone_inner},{id:"mobile",title:"Прямой телефон",text:e.phone_direct},{id:"address",title:"Адрес рабочего места",text:e.address},{title:"Номер кабинета",text:e.room}]}],sp=(e,t)=>{const i=t.toLowerCase();if(e.length===0)return null;let o=null;return e.forEach(s=>{s.name.toLowerCase()===i&&(o=s);const a=sp(s.subdivs,t);a&&(o=a)}),o};function ap(e,t){const i=new Set;return e.filter(o=>{const s=o[t];return i.has(s)?!1:(i.add(s),!0)})}const _s=(e,t)=>{const i=t.toLowerCase();if(e.length===0)return[];const o=[];return e.forEach(s=>{var a;(a=s.head)!==null&&a!==void 0&&(a=a.fio)!==null&&a!==void 0&&a.toLowerCase().includes(i)&&o.push(s.head),s.staff.forEach(l=>{l.fio.toLowerCase().includes(i)&&o.push(l)});const r=_s(s.subdivs,i);o.push(...r)}),ap(o,"guid_person")},pi=e=>e.job.map(t=>({subdivision:t.subdivision,post:t.post,attributes:[{id:"jobType",title:"Тип работы",text:t.jobType},{id:"email",title:"Корпоративная электронная почта",text:t.email},{id:"innerPhone",title:"Внутренний телефон",text:t.phone_inner},{id:"mobile",title:"Служебный мобильный телефон",text:t.phone_mobile},{id:"address",title:"Адрес рабочего места",text:t.address},{title:"Номер кабинета",text:t.room}]})),NC=({place:e})=>n.jsx(DC,{children:e==="ул. Большая Семёновская, 38"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/bolshaya_semyonovskaya_ulitsa_38/Z04YcQZhTEQPQFtvfXt5cH5qZQ==/?indoorLevel=1&ll=37.711518%2C55.781292&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Большая Семёновская улица, 38 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?indoorLevel=1&ll=37.711518%2C55.781292&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjczNzkxORJQ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCR0L7Qu9GM0YjQsNGPINCh0LXQvNGR0L3QvtCy0YHQutCw0Y8g0YPQu9C40YbQsCwgMzgiCg2Y2BZCFQsgX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Прянишникова, 2А"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pryanishnikova_2a/Z04YcwNjTkAPQFtvfXRycntjbA==/?ll=37.543757%2C55.833709&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Прянишникова, 2А — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.543757%2C55.833709&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NTQ0MhJE0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_RgNGP0L3QuNGI0L3QuNC60L7QstCwLCAy0JAiCg3QLBZCFbhVX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Автозаводская, 16"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/obshchezhitiye_10_moskovskogo_politekhnicheskogo_universiteta/1230540819/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Общежитие № 10 Московского политехнического университета"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/category/dormitory/184106316/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Общежитие в Москве"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.520728%2C55.809720&mode=search&oid=1230540819&ol=biz&z=17.56",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Павла Корчагина, 22"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pavla_korchagina_22/Z04YcAFjSkAGQFtvfXRweHhgbQ==/?ll=37.663350%2C55.819439&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Павла Корчагина, 22 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.663350%2C55.819439&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzgxOBJI0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_QsNCy0LvQsCDQmtC-0YDRh9Cw0LPQuNC90LAsIDIyIgoNRacWQhUbR19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Михалковская, 7"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/mikhalkovskaya_ulitsa_7/Z04YcwRjTUcAQFtvfXRydnhmbQ==/?ll=37.533427%2C55.837460&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Михалковская улица, 7 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.533427%2C55.837460&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NzM2NBJC0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LjRhdCw0LvQutC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCA3IgoNOyIWQhWPWV9C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Садовая-Спасская, 6"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/sadovaya_spasskaya_ulitsa_6s1/Z04YcARpT0UPQFtvfXt2cH1lYQ==/?ll=37.639608%2C55.771165&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Садовая-Спасская улица, 6с1 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.639608%2C55.771165&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjczMDczMxJM0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCh0LDQtNC-0LLQsNGPLdCh0L_QsNGB0YHQutCw0Y8g0YPQu9C40YbQsCwgNtGBMSIKDfaOFkIVrRVfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Малая Семеновская, 12"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/malaya_semyonovskaya_ulitsa_12/Z04YcQZhSUMHQFtvfXt5dX9lbQ==/?indoorLevel=1&ll=37.711060%2C55.784370&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Малая Семёновская улица, 12 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?indoorLevel=1&ll=37.711060%2C55.784370&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc0MDE3MRJM0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LDQu9Cw0Y8g0KHQtdC80ZHQvdC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCAxMiIKDSDYFkIVMSNfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Лефортовский вал, 26"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_lefortovskiy_val_26/Z04YcA5mSkEBQFtvfXt0dHtrZw==/?ll=37.696346%2C55.755783&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Лефортовский Вал, 26 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.696346%2C55.755783&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjcxNTk1OBJK0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0JvQtdGE0L7RgNGC0L7QstGB0LrQuNC5INCS0LDQuywgMjYiCg0QyRZCFesFX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 1-я Дубровская, 16а"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/1_ya_dubrovskaya_ulitsa_16a/Z04YcABiSEYBQFtvfXtzc3VrbQ==/?ll=37.672136%2C55.722989&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"1-я Дубровская улица, 16А — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.672136%2C55.722989&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjY4OTcwMRJG0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDEt0Y8g0JTRg9Cx0YDQvtCy0YHQutCw0Y8g0YPQu9C40YbQsCwgMTbQkCIKDUSwFkIVV-ReQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 7-я Парковая, 9/26"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/7_ya_parkovaya_ulitsa_9_26/Z04YcQ5jTEwAQFtvfXt4d31jZQ==/?ll=37.793597%2C55.796102&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"7-я Парковая улица, 9/26 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.793597%2C55.796102&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc0OTA1NhJC0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDct0Y8g0J_QsNGA0LrQvtCy0LDRjyDRg9C70LjRhtCwLCA5LzI2IgoNpCwXQhU2L19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 800-летия Москвы, 28 корп. 1"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_800_letiya_moskvy_28k1/Z04YcwFiQUABQFtvfXR2eHllZQ==/?ll=37.562856%2C55.879561&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица 800-летия Москвы, 28к1 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.562856%2C55.879561&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc5NjI4NhJJ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAgODAwLdC70LXRgtC40Y8g0JzQvtGB0LrQstGLLCAyONC6MSIKDV5AFkIVrIRfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Михалковская, 7, корп. 3"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/mikhalkovskaya_ulitsa_7k3/Z04YcwRkTUMHQFtvfXRydn1jYg==/?ll=37.534452%2C55.837175&utm_medium=mapframe&utm_source=maps&z=19.53",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Михалковская улица, 7к3 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.534452%2C55.837175&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NzIxORJF0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LjRhdCw0LvQutC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCA30LozIgoNSSMWQhUzWV9C&z=19.53",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Бориса Галушкина, 9"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_borisa_galushkina_9/Z04YcAJlSEAPQFtvfXRzdXpgYw==/?ll=37.655158%2C55.824637&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Бориса Галушкина, 9 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.655158%2C55.824637&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3MDA4MRJJ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0JHQvtGA0LjRgdCwINCT0LDQu9GD0YjQutC40L3QsCwgOSIKDeGeFkIVbkxfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Павла Корчагина, 20А, корп. 3"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pavla_korchagina_22/Z04YcAFjSkAGQFtvfXRweHhgbQ==/?ll=37.663350%2C55.819439&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Павла Корчагина, 22 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.663350%2C55.819439&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzgxOBJI0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_QsNCy0LvQsCDQmtC-0YDRh9Cw0LPQuNC90LAsIDIyIgoNRacWQhUbR19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Рижский проезд, 15, корп. 1"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/rizhskiy_proyezd_15k1/Z04YcAFkT0AEQFtvfXRweXRgYw==/?ll=37.664718%2C55.818864&utm_medium=mapframe&utm_source=maps&z=18.93",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Рижский проезд, 15к1 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.664718%2C55.818864&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzM0NBI-0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCg0LjQttGB0LrQuNC5INC_0YDQvtC10LfQtCwgMTXQujEiCg2aqBZCFX1GX0I%2C&z=18.93",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Рижский проезд, 15, корп. 2"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/rizhskiy_proyezd_15k2/Z04YcAFkS0wDQFtvfXRweX9kZg==/?ll=37.664464%2C55.818480&utm_medium=mapframe&utm_source=maps&z=18.53",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Рижский проезд, 15к2 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.664464%2C55.818480&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgoxNDkxOTU3MDUwEj7QoNC-0YHRgdC40Y8sINCc0L7RgdC60LLQsCwg0KDQuNC20YHQutC40Lkg0L_RgNC-0LXQt9C0LCAxNdC6MiIKDT2oFkIVA0ZfQg%2C%2C&z=18.53",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="1-й Балтийский переулок, 6/21, корп. 3"&&n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/1_y_baltiyskiy_pereulok_6_21k3/Z04YcwVgSkYHQFtvfXRxeHphYg==/?ll=37.520330%2C55.809626&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"1-й Балтийский переулок, 6/21к3 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.520330%2C55.809626&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2MTUxMBJP0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDEt0Lkg0JHQsNC70YLQuNC50YHQutC40Lkg0L_QtdGA0LXRg9C70L7QuiwgNi8yMdC6MyIKDdIUFkIVDz1fQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]})}),DC=p.div.withConfig({componentId:"sc-2pay0g-0"})(["","{width:500px;}height:200px;margin:10px 0 10px 0;overflow:hidden;display:flex;align-items:center;border-radius:8px;background:var(--theme-2);"],X.isNotMobile),Rt=({title:e,info:t,isEmployee:i,avatar:o,id:s})=>{const{open:a,close:r}=K(),{isMobile:l}=Me(),c=F(mt.subdivisions);return n.jsxs(A,{d:"column",children:[n.jsxs(oC,{isEmployee:!!i,children:[n.jsx(op,{fullName:e,height:"200px",width:"100%",baseScale:1,baseScaleDelta:.5}),i&&n.jsx(dC,{children:n.jsx(Tt,{avatarModal:!0,border:!0,name:e,avatar:o,width:l?"110px":"150px",height:l?"110px":"150px",marginRight:"0"})}),n.jsx(rC,{children:e})]}),n.jsx(sC,{children:n.jsx($e,{minWidth:"100%",direction:"horizontal",showPages:!0,gap:20,children:t.map(({subdivision:u,post:h,attributes:g})=>{const m=u&&h,x=g.find(b=>b.id==="jobType");return n.jsxs(aC,{isEmployee:!!i,children:[m&&n.jsx(OC,{onClick:()=>{if(r(),!c)return;const b=sp(c,u);b&&a(n.jsx(Rt,{title:u,info:gr(b)}))},children:u+" • "+h}),g.map(({title:b,text:v,id:y})=>n.jsx(PC,{title:b,children:v?y==="email"?n.jsx("a",{href:`mailto:${v}`,children:v}):y==="head"?n.jsx(kl,{onClick:()=>{if(r(),!c)return;const j=_s(c,v)[0];j&&a(n.jsx(Rt,{title:j.fio,info:pi(j),avatar:j.avatar,isEmployee:!0}))},children:v}):y==="innerPhone"?v.split("; ").map((j,I,k)=>n.jsx("a",{href:`tel:+7(495) 223-05-23,${j}`,children:I===k.length-1?j:`${j}; `},j)):y==="mobile"?n.jsx("a",{href:`tel:${v}`,children:v}):y==="address"?n.jsx(kl,{onClick:()=>{r(),a(n.jsx(NC,{place:v}),v)},children:v}):n.jsx(n.Fragment,{children:v}):"-"},b))]},m?e+m+(x==null?void 0:x.text):e)})},e)}),i?n.jsxs(cC,{children:[n.jsx(ue,{to:Xi(Jn,{page:"current",filter:e}),children:n.jsx(E,{icon:n.jsx(Gt,{}),text:"Расписание",onClick:()=>{r()},background:"var(--theme-4)",width:"100%"})}),n.jsx(ws,{avatar:o,fio:e,status:"staff",userId:s==null?void 0:s.toString()})]}):l?n.jsx(uC,{to:`${no}/${e}`,onClick:r,children:n.jsx(E,{icon:n.jsx(ka,{}),width:"100%",text:"Список"})}):null]})},OC=p(lC).withConfig({componentId:"sc-1vnybhk-0"})(["cursor:pointer;"]),kl=p.div.withConfig({componentId:"sc-1vnybhk-1"})(["cursor:pointer;"]),LC=()=>{var e;const t=vs(),i=t.get("fio")||"",o=t.get("subdivision")||"",{subdivisionPath:s,subdivisions:a}=F({subdivisionPath:mt.subdivisionPath,subdivisions:mt.subdivisions}),r=s==null?void 0:s[0],{open:l}=K(),c=d.useMemo(()=>i&&a?_s(r?[r]:a,i):[],[i,o,a]);return i&&a?n.jsx(la,{d:"column",ai:"flex-start",jc:"flex-start",gap:"20px",children:n.jsx(lo,{title:"Сотрудники",items:c,action:u=>{l(n.jsx(Rt,{title:u.fio,info:pi(u),avatar:u.avatar,isEmployee:!0}))}})}):r?n.jsxs(la,{d:"column",ai:"flex-start",jc:"flex-start",gap:"20px",children:[n.jsx(lo,{title:"Информация",items:[r],action:()=>{l(n.jsx(Rt,{title:r.name,info:gr(r)}))}}),(r==null||(e=r.head)===null||e===void 0?void 0:e.fio)&&n.jsx(lo,{title:"Руководитель",items:[r.head],action:u=>{l(n.jsx(Rt,{title:u.fio,info:pi(u),avatar:u.avatar,isEmployee:!0}))}}),r.staff.filter(u=>u.fio!==r.head.fio).length>0&&n.jsx(lo,{title:"Сотрудники",items:r.staff,action:u=>{l(n.jsx(Rt,{title:u.fio,info:pi(u),avatar:u.avatar,isEmployee:!0}))}})]}):null},mr=({value:e,placeholder:t,loading:i,hintIcon:o,leftIcon:s,focusOn:a,width:r,transformRequest:l,setValue:c,request:u,onValueEmpty:h,customMask:g,onHintClick:m,size:x})=>{const[b,v]=d.useState([]),[y,j]=d.useState(!1);return d.useEffect(()=>{e.length>0?(j(!0),u(e).then(I=>{v(I.data.items.map(k=>{const P=l?l(k):k;return{id:P,title:P,value:P,icon:o}})),j(!1)}).catch(()=>{j(!1),v([])})):(j(!1),v([]),h==null||h())},[e]),n.jsx(Vn,{value:e,setValue:c,placeholder:t,hints:b,width:r!=null?r:"180px",focusOn:a,leftIcon:s,loading:y&&i,onHintClick:m,customMask:g,size:x})},fr=(e,t)=>{if(t==="")return null;const i=[],o=e.find(s=>s.name===t);if(o)i.push(o);else{for(const s of e){const a=fr(s.subdivs,t);a&&a.length>0&&i.push(...a,s)}return i}return i},Cl=(e,t)=>{const i=fr(e,t)||null;xs.setSubdivisionPath(i)},zC=()=>{const e=vs(),t=e.get("subdivision")||"",i=e.get("fio")||"",o=wt(),[s,a,r]=F([mt.subdivisions,mt.error,mt.pedningGetSubdividions]);d.useEffect(()=>{t&&s!==null&&s!==void 0&&s.find&&l({id:t,value:t,title:t})},[s]);const l=v=>{if(s){var y;Cl(s,(y=v==null?void 0:v.value)!==null&&y!==void 0?y:"")}},{isMobile:c}=Me(),[u,h]=d.useState(""),g=v=>{o.push({search:new URLSearchParams({subdivision:t,fio:v}).toString()})},[m,x,b]=es({onDebounce:g,delay:400,defaultValue:i,triggerDelay:200,triggerOn:v=>(h(v),u!==v),onClear:g});return c&&o.push(`${no}/${t}`),n.jsx(Vk,{children:n.jsx(wn,{children:n.jsxs(A,{d:"column",gap:"15px",children:[n.jsxs(ki,{columns:c?"1fr":"4fr 7fr",rows:"1fr",columnGap:"20px",children:[n.jsx(mr,{width:"100%",value:t,setValue:v=>{o.push({search:new URLSearchParams({subdivision:v,fio:i}).toString()}),v===""&&s&&Cl(s,v)},onHintClick:l,placeholder:"Структура",request:Qo}),!c&&n.jsx(Vn,{value:m,setValue:x,loading:b,placeholder:"Сотрудник"})]}),n.jsx(Jk,{data:s,error:a,load:()=>{xs.getSubdivisions()},loading:r,couldBeReloaded:!0,children:n.jsxs(ki,{columns:c?"1fr":"4fr 7fr",rows:"1fr",columnGap:"20px",children:[n.jsx(pC,{}),!c&&n.jsx(LC,{})]})})]})})})},z="/applications",fe="/hr-applications",Po="/allowances",RC=Po+"/:role",$C="/allowances-create",Kt="/allowances-info",MC=Kt+"/:id",Sl="/staff_orders",Il="/staff_blanks",FC="/ad_logins",xr="/doclist",BC="/doclist/:type",da="/doclist/allowances",Tl="/pps_vote2020",UC="/children",rp="/pps_contest",HC="/electronic-statements",Ve="/onboarding",WC="/structure-of-the-university",GC="/addresses-and-contacts",VC="/brandbook",qC="/wifi-at-the-university",QC="/health-care",YC="/psychological-help",KC="/social-environment",JC="/vacation",Ms="/kpi_pps",Fs="/kpi_admin",El="/sc_news",Pl="/oop",Al="/centers",XC="/helpful-information",ZC="/download-agreements",Nl="/physical-education/main",lp="/all-staff",eS="/publication-activity",cp="/article-list",XN="/articles",tS="/articles/:id",nS="/open-publication",iS="/export-control",oS="/physical-education/student/:studentId",dp=z+"/contact-info-actualization",up=z+"/data-verification",pp=z+"/issuance-of-licenses",hp=z+"/getting-computer-equipment",gp=z+"/connecting-computer",mp=z+"/printer-maintenance",fp=z+"/question-sed",xp=z+"/question-personal-account",vp=z+"/other-it-services",bp=z+"/certificate-from-the-place-of-work",yp=z+"/visa-certificate",wp=z+"/certificate-of-work-experience",_p=z+"/number-of-unused-vacation-days",jp=z+"/increase-antiplagiat-limits",Dl=z+"/contact-details",sS=z+"/contact-details/:guid",kp=z+"/edit-phonebook-subdivision",Cp=z+"/edit-phonebook-inner-phone",Sp=z+"/edit-phonebook-email",vr=z+"/technical-maintenance",Ip=z+"/copy-of-the-employment-record",Tp=z+"/copies-of-documents-from-the-personal-file",Ep=z+"/work-on-the-terms-of-external-concurrency",Pp=z+"/certificate-time-parental-leave",Ap=z+"/arbitrary-request",Np=z+"/courier",Dp=z+"/persona-income-tax-reference",Op=z+"/payment-of-child-birth-allowance",Lp=z+"/payment-for-child-care",aS=fe+"/part-time-employment/",rS=fe+"/dismissal/:id",lS=fe+"/work-transfer/:id",cS=fe+"/extra-holiday-coll",dS=fe+"/holiday-planning",uS=fe+"/holiday-transfer/:id",pS=fe+"/holiday-work/:id",hS=fe+"/work-transfer-change-rate/:id",gS=fe+"/medical-examination",Ol=fe+"/buffer-dismissal",Ll=fe+"/buffer-holiday-planning",zl=fe+"/buffer-holiday-transfer",Rl=fe+"/buffer-holiday-work",$l=fe+"/buffer-medical-examination",Bs=fe+"/buffer-work-transfer",zp=z+"/living-in-residential-premises",Rp=z+"/guests-accomodation-on-campus",$p=z+"/guests-passage-to-campus",Mp=z+"/relocation",Fp=z+"/termination-of-agreement",Bp=z+"/issuance-of-pass",Up=z+"/guest-pass",Hp=z+"/certification-and-issuance-of-docs",Wp=z+"/deferment-from-conscription",Gp=z+"/certified-copies-of-military-docs",se=()=>Ze({oldVersionUrl:"/sprav"}),Ml=({allowancesRoles:e})=>_(f({onboarding:{id:"onboarding",title:"Новому работнику",icon:n.jsx(le,{}),path:Ve,Component:gk,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big"}},Xm),{"contact-details":{id:"contact-details",title:"Контактные данные",icon:n.jsx(L,{}),color:"blue",path:Dl,Component:()=>Ze({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}),isTemplate:!1,group:"GENERAL",show:!Oe},"contact-details-form":{id:"contact-details-form",title:"Контактные данные",hiddenTitle:!0,icon:n.jsx(L,{}),color:"blue",path:sS,Component:()=>Ze({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}),isTemplate:!1,group:"GENERAL",isSubPage:!0,show:!1,backButtonText:"Назад",fallbackPrevPage:Dl},"download-agreements":{id:"download-agreements",title:"Админ панель",icon:n.jsx(vc,{}),path:ZC,Component:Gk,color:"blue",isTemplate:!1,group:"GENERAL",isAdmin:!0},children:{id:"children",title:"Дети и внуки",icon:n.jsx(t0,{}),path:UC,Component:vk,color:"green",isTemplate:!1,group:"GENERAL",hiddenTitle:!0},"electronic-statements":{id:"electronic-statements",title:"Электронные ведомости",icon:n.jsx(le,{}),path:HC,Component:()=>(pe.useEffect(()=>{window.location.replace(`${q}/stats.php?m=items&act=st_list`)},[]),null),isOldLkPage:!0,color:"blue",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"project-activity":{id:"project-activity",title:"Проектная деятельность",icon:n.jsx(Tc,{}),path:Vm,Component:()=>(pe.useEffect(()=>{window.location.replace(`${q}/?p=proj_main`)},[]),null),isOldLkPage:!0,color:"orange",isTemplate:!1,group:"LEARNING_ACTIVITIES"},payments:{id:"payments",title:"Оплата общежития",icon:n.jsx(Bt,{}),path:Fi,Component:$u,color:"green",isTemplate:!1,group:"FINANCES_DOCS",keywords:["оплата"]},"pps-contest":{id:"pps-contest",title:"Конкурс ППС",icon:n.jsx(le,{}),path:rp,Component:()=>(pe.useEffect(()=>{window.location.replace("https://mospolytech.ru/contest-pps/")},[]),null),isExternalPage:!0,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},"kpi-pps":{id:"kpi-pps",title:"Рейтинговая система ППС",icon:n.jsx(Vs,{}),path:Ms,Component:()=>(pe.useEffect(()=>{window.location.replace(`${q}/?p=${Ms.slice(1,Ms.length)}`)},[]),null),isOldLkPage:!0,color:"pink",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"kpi-admin":{id:"kpi-admin",title:"Экспертиза рейтинговой системы ППС",icon:n.jsx(n0,{}),path:Fs,Component:()=>(pe.useEffect(()=>{window.location.replace(`${q}/?p=${Fs.slice(1,Fs.length)}`)},[]),null),isOldLkPage:!0,color:"lightBlue",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"sc-news":{id:"sc-news",title:"Анонсы научных мероприятий",icon:n.jsx(i0,{}),path:El,isOldLkPage:!0,Component:()=>Ze({oldVersionUrl:El}),color:"orange",isTemplate:!1,group:"SCIENCE",show:!1},orders:{id:"orders",title:"Приказы",icon:n.jsx(L,{}),path:Sl,isOldLkPage:!0,Component:()=>Ze({oldVersionUrl:Sl}),color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!1},"document-blanks":{id:"document-blanks",title:"Бланки документов",icon:n.jsx(An,{}),path:Il,isOldLkPage:!0,Component:()=>Ze({oldVersionUrl:Il}),color:"blue",isTemplate:!1,show:!1,group:"FINANCES_DOCS"},doclist:{id:"doclist",title:"Ознакомление с документами",icon:n.jsx(L,{}),path:xr,Component:Fu,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},calendar:{id:"calendar",title:"График отпусков",icon:n.jsx(o0,{}),path:JC,Component:uk,color:"purple",isTemplate:!1,group:"FINANCES_DOCS"},"physical-education":{id:"physical-education",title:"Физическая культура",icon:n.jsx(L,{}),color:"lightGreen",path:Nl,pageSize:"big",Component:Zj,getIsVisibleForCurrentUser:t=>{var i;return!!(t!=null&&(i=t.permissions)!==null&&i!==void 0&&i.length)},isTemplate:!1,group:"LEARNING_ACTIVITIES"},"physical-education-student":{id:"physical-education-student",title:"Физическая культура",icon:n.jsx(L,{}),color:"pink",show:!1,path:oS,Component:ek,isTemplate:!1,fallbackPrevPage:Nl,backButtonText:"Физическая культура",isSubPage:!0,group:"LEARNING_ACTIVITIES"},oop:{id:"oop",title:"Образовательные программы",icon:n.jsx(vi,{}),path:Pl,isOldLkPage:!0,Component:()=>Ze({oldVersionUrl:Pl}),color:"blue",isTemplate:!1,group:"GENERAL",show:!1},centers:{id:"centers",title:"Многофункциональный центр",icon:n.jsx(vi,{}),path:Al,isOldLkPage:!0,Component:()=>Ze({oldVersionUrl:Al}),color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!1},info:{id:"info",title:"Полезная информация",icon:n.jsx(L,{}),path:XC,Component:dr,color:"blue",isTemplate:!1,group:"GENERAL"},applications:{id:"applications",title:"Цифровые сервисы",icon:n.jsx(L,{}),path:z,Component:Jj,color:"red",isTemplate:!1,pageSize:"big",group:"FINANCES_DOCS",keywords:["заявления","справки","заявление","справка"]},"hr-applications":{id:"hr-applications",title:"Кадровые заявления",icon:n.jsx(L,{}),path:fe,Component:()=>Ze({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}),color:"green",isTemplate:!1,group:"FINANCES_DOCS"},allowances:{id:"allowances",title:"Установление надбавок",icon:n.jsx(L,{}),path:Po,Component:Bu,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",isNew:!0,show:e.includes("Approver")||e.includes("Initiator")},"data-verification":{id:"data-verification",title:"Анкета для сверки данных",icon:n.jsx(L,{}),color:"blue",path:up,Component:Mu,isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Назад к цифровым сервисам"},"all-staff":{id:"all-staff",title:"Сотрудники",icon:n.jsx(_o,{}),path:lp,Component:zC,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"],pageSize:"big"},"publication-activity":{id:"publication-activity",title:"Публикационная активность",icon:n.jsx(L,{}),path:eS,Component:mk,color:"blue",isTemplate:!1,group:"SCIENCE",isNew:!0,pageSize:"large",guidsAllowed:["907afd9b-d9c5-11e7-940a-b4b52f5f5349","4e2ee194-82a3-11ec-bba0-f3424449f339","d1c2ab74-f460-11eb-bba0-f3424449f339","0209cb39-9cd3-11e9-9426-b4b52f5f5348"]},"article-list":{id:"article-list",title:"Список публикаций",icon:n.jsx(L,{}),path:cp,Component:fk,color:"blue",isTemplate:!1,group:"SCIENCE",isNew:!0,pageSize:"large"},"open-publication":{id:"open-publication",title:"Открытое публикование",icon:n.jsx(s0,{}),path:nS,isExternalPage:!0,Component:()=>(pe.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=exp_concl")},[]),null),color:"purple",isTemplate:!1,group:"SCIENCE"},"export-control":{id:"export-control",title:"Экспортный контроль",icon:n.jsx(a0,{}),path:iS,isExternalPage:!0,Component:()=>(pe.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=export_control")},[]),null),color:"orange",isTemplate:!1,group:"SCIENCE"}}),br=({allowancesRoles:e})=>_(f({},Zm),{"all-teachers":{id:"all-teachers",title:"Сотрудники",icon:n.jsx(_o,{}),path:no,Component:yr,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"],show:!1},"doclist-type":{id:"doclist-type",title:"Ознакомление с документами",icon:n.jsx(L,{}),path:BC,Component:Fu,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},"allowances-role":{id:"allowances-role",title:"Установление надбавок",icon:n.jsx(L,{}),path:RC,Component:Bu,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",show:!1},"allowance-info":{id:"allowance-info",title:"Информация о надбавке",icon:n.jsx(L,{}),path:MC,Component:pk,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",fallbackPrevPage:Po,isSubPage:!0,show:!1},"create-allowances":{id:"create-allowances",title:"Служебная записка об установлении ежемесячной надбавки",icon:n.jsx(L,{}),path:$C,Component:hk,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",fallbackPrevPage:Po,hiddenTitle:!0,isSubPage:!0,show:e.includes("Initiator"),keywords:["запросить","установить","надбавку"]},"pps-vote":{id:"pps-vote",title:"Опрос для проверки уровня цифровой грамотности",icon:n.jsx(_o,{}),path:Tl,isOldLkPage:!0,Component:()=>Ze({oldVersionUrl:Tl}),color:"blue",isTemplate:!1,group:"GENERAL",show:!1},"issuance-of-licenses-page":{id:"issuance-of-licenses-page",title:"Выдача лицензий",path:pp,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"buffer-dismissal":{id:"buffer-dismissal",title:"Заявление на увольнение",path:Ol,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:fe,pageSize:"large"},"buffer-holiday-work":{id:"buffer-holiday-work",title:"Заявление о привлечении к работе в выходной день",path:Rl,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:fe,pageSize:"large"},"buffer-medical-examination":{id:"buffer-medical-examination",title:"Заявление о диспансеризации",path:$l,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",fallbackPrevPage:fe,pageSize:"large"},"buffer-holiday-planning":{id:"buffer-holiday-planning",title:"Заявление о предоставлении отпуска",path:Ll,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",fallbackPrevPage:fe,pageSize:"large",subPageHeaderTitle:"Заявление на отпуск"},"buffer-holiday-transfer":{id:"buffer-holiday-transfer",title:"Заявление о переносе отпуска",path:zl,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:fe,pageSize:"large"},"buffer-work-transfer":{id:"buffer-work-transfer",title:"Заявление на перевод",path:Bs,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:fe,pageSize:"large"},"part-time-employment":{id:"part-time-employment",title:"Заявление на трудоустройство по совместительству",path:aS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:fe},"holiday-work":{id:"holiday-work",title:"Заявление о привлечении к работе в выходной день",path:pS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:Rl},"medical-examination":{id:"medical-examination",title:"Заявление о диспансеризации",path:gS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:$l},"holiday-planning":{id:"holiday-planning",title:"Заявление о предоставлении отпуска",path:dS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Ll},"holiday-transfer":{id:"holiday-transfer",title:"Заявление о переносе отпуска",path:uS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:zl},"work-transfer":{id:"work-transfer",title:"Заявление на перевод",path:lS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Bs},"work-transfer-change-rate":{id:"work-transfer-change-rate",title:"Заявление на изменение ставки",path:hS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Bs},"extra-holiday-coll":{id:"dismissal",title:"Заявление о предоставлении дополнительного отпуска по коллективному договору",path:cS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS"},dismissal:{id:"dismissal",title:"Заявление на увольнение",path:rS,icon:n.jsx(L,{}),color:"blue",Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:Ol},"getting-computer-equipment":{id:"getting-computer-equipment",title:"Получение нового компьютерного оборудования",icon:n.jsx(L,{}),color:"blue",path:hp,Component:tk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"connecting-computer":{id:"connecting-computer",title:"Подключение компьютера, МФУ, телефона, WiFi",icon:n.jsx(L,{}),color:"blue",path:gp,Component:Xj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"printer-maintenance":{id:"printer-maintenance",title:"Обслуживание принтеров, МФУ",icon:n.jsx(L,{}),color:"blue",path:mp,Component:rk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"question-sed":{id:"question-sed",title:"Вопрос по СЭД Directum и 1С",icon:n.jsx(L,{}),color:"blue",path:fp,Component:ck,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"question-personal-account":{id:"question-personal-account",title:"Вопрос по Личному кабинету",icon:n.jsx(L,{}),color:"blue",path:xp,Component:lk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"other-it-services":{id:"other-it-services",title:"Прочее ИТ-обслуживание",icon:n.jsx(L,{}),color:"blue",path:vp,Component:ak,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"certificate-form-place-of-work":{id:"certificate-form-place-of-work",title:"Справка с места работы",icon:n.jsx(L,{}),color:"blue",path:bp,Component:Yj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"visa-certificate":{id:"visa-certificate",title:"Справка с места работы для предоставления в визовый центр",icon:n.jsx(L,{}),color:"blue",path:yp,Component:dk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"certificate-of-work-experience":{id:"certificate-of-work-experience",title:"Справка о стаже работы",icon:n.jsx(L,{}),color:"blue",path:wp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"number-of-unused-vacation-days":{id:"number-of-unused-vacation-days",title:"Справка о количестве неиспользованных дней отпуска",icon:n.jsx(L,{}),color:"blue",path:_p,Component:nk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"increase-antiplagiat-limits":{id:"increase-antiplagiat-limits",title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»",hiddenTitle:!0,icon:n.jsx(L,{}),color:"blue",path:jp,Component:()=>n.jsx(Ze,{isRedirectButtonVisible:!1,errorText:"Сервис находится в разработке"}),isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z,show:!Oe},"edit-phonebook-subdivision":{id:"edit-phonebook-subdivision",title:"Внесение изменений данных подразделения в телефонном справочнике",hiddenTitle:!0,icon:n.jsx(L,{}),color:"blue",path:kp,Component:ik,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z,keywords:["изменение данных подразделения в телефонном справочнике"]},"edit-phonebook-inner-phone":{id:"edit-phonebook-inner-phone",hiddenTitle:!0,title:"Запрос на изменение внутреннего телефона",icon:n.jsx(L,{}),color:"blue",path:Cp,Component:ok,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"edit-phonebook-email":{id:"edit-phonebook-email",hiddenTitle:!0,title:"Запрос на изменение корпоративной электронной почты",icon:n.jsx(L,{}),color:"blue",path:Sp,Component:sk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"copy-of-employment-record":{id:"copy-of-employment-record",title:"Копия трудовой книжки",icon:n.jsx(L,{}),color:"blue",path:Ip,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"copies-of-documents-from-personal-file":{id:"copies-of-documents-from-personal-file",title:"Копии документов из личного дела",icon:n.jsx(L,{}),color:"blue",path:Tp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"work-on-terms-of-external-concurrency":{id:"work-on-terms-of-external-concurrency",title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку",icon:n.jsx(L,{}),color:"blue",path:Ep,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"certificate-time-parental-leave":{id:"certificate-time-parental-leave",title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет",icon:n.jsx(L,{}),color:"blue",path:Pp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"arbitrary-request":{id:"arbitrary-request",title:"Произвольный запрос",icon:n.jsx(L,{}),color:"blue",path:Ap,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},courier:{id:"courier",title:"Курьер",icon:n.jsx(L,{}),color:"blue",path:Np,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"personal-income-tax-reference":{id:"personal-income-tax-reference",title:"Справка по форме 2-НДФЛ",icon:n.jsx(L,{}),color:"blue",path:Dp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"payment-of-child-birth-allowance":{id:"payment-of-child-birth-allowance",title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка",icon:n.jsx(L,{}),color:"blue",path:Op,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"payment-for-child-care":{id:"payment-for-child-care",title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)",icon:n.jsx(L,{}),color:"blue",path:Lp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"contact-info-actualization":{id:"contact-info-actualization",title:"Актуализация контактных данных",icon:n.jsx(L,{}),color:"blue",path:dp,Component:Kj,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,show:!1,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"data-verification":{id:"data-verification",title:"Анкета для сверки данных",icon:n.jsx(L,{}),color:"blue",path:up,Component:Mu,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"living-in-residential-premises":{id:"living-in-residential-premises",title:"Предоставление права проживания в жилом помещении",icon:n.jsx(L,{}),color:"blue",path:zp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"guests-accomodation-on-campus":{id:"guests-accomodation-on-campus",title:"Временное размещение гостей в студгородке",icon:n.jsx(L,{}),color:"blue",path:Rp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"guests-passage-to-campus":{id:"guests-passage-to-campus",title:"Проход гостей на территорию студенческого городка",icon:n.jsx(L,{}),color:"blue",path:$p,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},relocation:{id:"relocation",title:"Переселение",icon:n.jsx(L,{}),color:"blue",path:Mp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"termination-of-agreement":{id:"termination-of-agreement",title:"Расторжение договора найма жилого помещения",icon:n.jsx(L,{}),color:"blue",path:Fp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"issuance-of-pass":{id:"issuance-of-pass",title:"Выдача пропуска (повторная)",icon:n.jsx(L,{}),color:"blue",path:Bp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"guest-pass":{id:"guest-pass",title:"Заказ гостевого пропуска",icon:n.jsx(L,{}),color:"blue",path:Up,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"certification-and-issuance-of-docs":{id:"certification-and-issuance-of-docs",title:"Заверение и выдача копий внутренних документов",icon:n.jsx(L,{}),color:"blue",path:Hp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"deferment-from-conscription":{id:"deferment-from-conscription",title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу",icon:n.jsx(L,{}),color:"blue",path:Wp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"certified-copies-of-military-docs":{id:"certified-copies-of-military-docs",title:"Заверенные копии документов по воинскому учету из личного дела",icon:n.jsx(L,{}),color:"blue",path:Gp,Component:se,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:z},"social-environment":{id:"Социальная среда",title:"Социальная среда",color:"pink",Component:()=>(window.location.href="https://profkommospolytech.ru/",n.jsx(Et,{to:Ve})),icon:n.jsx(An,{}),isTemplate:!1,path:KC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},"psychological-help":{id:"Психологическая помощь",title:"Психологическая помощь",color:"green",Component:()=>(window.location.href="https://mospolytech.ru/studencheskaya-zhizn/medical-help/slujba-psihologicheskoy-pomoschi/",n.jsx(Et,{to:Ve})),icon:n.jsx(Yf,{}),isTemplate:!1,path:YC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},"health-care":{id:"Медицинская помощь",title:"Медицинская помощь",color:"red",Component:()=>(window.location.href="https://mospolytech.ru/studencheskaya-zhizn/medical-help/medicinskaya-slujba/",n.jsx(Et,{to:Ve})),icon:n.jsx(Kf,{}),isTemplate:!1,path:QC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},"wifi-at-the-university":{id:"WI-FI  в университете",title:"WI-FI  в университете",color:"purple",Component:()=>(window.location.href="https://e.mospolytech.ru/old/storage/files/Instruktsiya_dostupa_k_internetu_v_auditoriyah.pdf",n.jsx(Et,{to:Ve})),icon:n.jsx(Jf,{}),isTemplate:!1,path:qC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},brandbook:{id:"Брендбук",title:"Брендбук",color:"orange",Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/brandbook/",n.jsx(Et,{to:Ve})),icon:n.jsx(Xf,{}),isTemplate:!1,path:VC,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},"addresses-and-contacts":{id:"addresses-and-contacts",title:"Адреса и контакты",icon:n.jsx(Zf,{}),path:GC,Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/adresa-i-kontakty/",n.jsx(Et,{to:Ve})),color:"darkBlue",isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},"structure-of-the-university":{id:"structure-of-the-university",title:"Структура университета",icon:n.jsx(e0,{}),path:WC,Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/rukovodstvo-i-struktura/strukturnye-podrazdeleniya/",n.jsx(Et,{to:Ve})),color:"lightGreen",isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:Ve,isExternalPage:!0},article:{id:"article",title:"",icon:n.jsx(L,{}),path:tS,Component:xk,color:"blue",isTemplate:!1,group:"SCIENCE",pageSize:"large",show:!1,isSubPage:!0,fallbackPrevPage:cp,backButtonText:"Список публикаций"}}),mS=50;function Vp(e){const{getFx:t,limit:i=mS,reset:o=[]}=e,s=S({name:"load",sid:"-7ge5z1"}),a=S({name:"next",sid:"-xmsv1g"}),r=R(null,{name:"$lastArgs",sid:"v5urfp"}),l=R(null,{name:"$items",sid:"-dzzfjz"});l.on(t.doneData,(m,x)=>[...m||[],...x.results||[]]),l.reset([s,...o]);const c=R(1,{name:"$page",sid:"g96ty"});c.on(t.doneData,m=>++m),c.reset([s,...o]);const u=t.pending,h=R(!1,{name:"$isLoaded",sid:"vnuvfd"});h.reset([s,...o]);const g=Ae({and:[l,h,(m,x)=>!!(m!=null&&m.length)&&!x],or:{name:"$hasNext",sid:"-ppdacy"}});return w({and:[{clock:s,fn:m=>{var x;return _(f({},m),{limit:m.limit||i,page:(x=m.page)!==null&&x!==void 0?x:1})},target:[t,r]}],or:{sid:"-16oopw"}}),w({and:[{clock:a,source:{lastArgs:r,page:c},fn:({lastArgs:m={},page:x})=>_(f({},m),{limit:i,page:x}),target:t}],or:{sid:"-q6ux2"}}),w({and:[{clock:t.doneData,source:r,fn:(m,x)=>!!m&&(x.results||[]).length<m.limit,target:h}],or:{sid:"-5ugyp"}}),{$items:l,$isPending:u,$hasNext:g,next:a,load:s}}const fS=Y(e=>T(void 0,null,function*(){var t;const{search:i,page:o,limit:s,filter:a}=e,r=(a==null?void 0:a.title)==="Все"?"":(t=a==null?void 0:a.title)!==null&&t!==void 0?t:"",{data:l}=yield ed(i!=null?i:"",r,o,s);return{results:l.items}}),{name:"getFetchTeachersFx",sid:"-m2dii7"}),Ao=Vp({getFx:fS,limit:50}),xS=({setExternalValue:e,inputAppearance:t,placeholder:i,validationCheck:o,searchApi:s,triggerSearchOn:a,hints:r})=>{const l=m=>T(void 0,null,function*(){yield s(m)}),[c,u,h]=es({onDebounce:l,onClear:l,delay:1e3,triggerDelay:0,deps:a}),g=m=>{u(m),e&&e(m)};return n.jsx(Vn,{value:c!=null?c:"",setValue:g,inputAppearance:t,placeholder:i,validationCheck:o,loading:h,hints:r})},vS=p.div.withConfig({componentId:"sc-pughgk-0"})(["display:flex;flex-direction:column;align-items:center;overflow:auto;width:100%;max-height:100%;height:100%;.scrolable-content{width:100%;}.alpabet-letter{margin-top:10px;display:flex;align-items:center;.title-wrapper{width:fit-content;color:var(--theme-mild-opposite);}}"]),bS=50;function yS({items:e,renderItem:t,hasNext:i,isPending:o,handleNext:s,filter:a,showAlphabetLetters:r,noResultContent:l,offset:c=bS}){const{data:{user:u}}=Te.useUser();let h="";const g=d.useCallback(m=>{const x=m.currentTarget.clientHeight,b=m.currentTarget.scrollHeight,v=m.currentTarget.scrollTop;b-c<v+x&&i&&!o&&(s==null||s(a!=null?a:null))},[s,i,o,a]);return!o&&(!e||(e==null?void 0:e.length)===0)?n.jsx(ke,{text:"Нет результатов",children:l}):n.jsxs(vS,{onScroll:g,children:[n.jsx("div",{className:"scrolable-content",children:(e||[]).map((m,x)=>{var b,v,y;const j=r?h!==((b=m.fio)===null||b===void 0?void 0:b.charAt(0)):!1;return j&&(h=(v=(y=m.fio)===null||y===void 0?void 0:y.charAt(0))!==null&&v!==void 0?v:"-"),n.jsxs(n.Fragment,{children:[j&&n.jsxs("div",{className:"alpabet-letter",children:[n.jsx(M,{size:4,align:"left",children:h}),n.jsx(ye,{})]}),t(m,(u==null?void 0:u.id.toString())===m.id,x)]})})}),i&&o&&n.jsx(Ot,{width:"40px",height:"40px"}),i&&!o&&n.jsx(E,{onClick:()=>s==null?void 0:s(a!=null?a:null),text:"Загрузить еще"})]})}const Fl=e=>{switch(e){case"small":return"0.65em";case"middle":return"0.77em";default:return"1em"}},qp=(e,t,i,o)=>{const s=[e?"Я":t==="staff"?"Сотрудник":"Студент"];return e||(i&&s.push(i),o&&s.push(`${o}`)),s},wS=e=>{switch(e){case"small":return"82px";case"middle":return"90px";default:return"100px"}},_S=p.div.withConfig({componentId:"sc-18jvlhl-0"})(["display:flex;align-items:center;flex-direction:",";padding:",";border-radius:var(--brLight);color:var(--text);cursor:pointer;width:",";.index{min-width:30px;display:flex;align-items:center;font-weight:500;font-size:0.85rem;color:var(--theme-mild-opposite);}&:hover{background:",";}.name-and-status{display:flex;flex-direction:column;text-align:",";margin-top:",";width:",";.name{font-size:",";width:",";white-space:",";overflow:",";text-overflow:",";font-weight:500;}.status{font-size:",";opacity:0.6;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:90%;font-weight:500;}}"],({orientation:e})=>e==="vertical"&&"column",({orientation:e})=>e==="vertical"?"10px":"8px",({orientation:e,size:t})=>e==="vertical"?wS(t):"100%",C.grey.transparent3,({orientation:e})=>e==="vertical"?"center":"left",({orientation:e})=>e==="vertical"?"5px":"0",({orientation:e})=>e==="vertical"?"100%":"calc(100% - 60px)",({size:e})=>Fl(e),({orientation:e})=>e==="vertical"&&"70px",({orientation:e})=>e==="vertical"&&"nowrap",({orientation:e})=>e==="vertical"&&"hidden",({orientation:e})=>e==="vertical"&&"ellipsis",({size:e})=>`calc(${Fl(e)} - 0.1em)`),Zi=e=>{const{open:t}=K(),{type:i,avatar:o,name:s,checked:a,onClick:r,indexNumber:l,division:c,group:u,isMe:h=!1,loading:g=!1,orientation:m="horizontal",size:x="middle"}=e,b=qp(h,i,c,u);if(g)return n.jsx(IP,{});const v=y=>{r?r(y):h||(Ye.close(),t(i==="staff"?n.jsx(cm,f({},e)):n.jsx(lm,f({},e))))};return n.jsxs(_S,{orientation:m,size:x,onClick:v,children:[l&&n.jsx("div",{className:"index",children:l}),n.jsx(Tt,{name:s,avatar:o,width:Eo(m,x),height:Eo(m,x),marginRight:m==="horizontal"?"7px":"0px",checked:a}),n.jsxs("div",{className:"name-and-status",children:[n.jsx("span",{className:"name",children:s}),n.jsx("span",{className:"status",children:n.jsx(gt,{words:b})})]})]})},jS=({filter:e,paginationList:t,noResultContent:i})=>{const{$items:o,$isPending:s,$hasNext:a,next:r,load:l}=t,c=rt(s),u=rt(a),h=()=>{r({filter:e})},g=()=>{l({filter:e})};return n.jsx(yS,{items:o.getState(),renderItem:kS,handleNext:h,isPending:c,hasNext:u,filter:e,handleReload:g,showAlphabetLetters:!0,noResultContent:i})};function kS(e,t,i){return n.jsx(Zi,{id:e.id,name:e.fio,type:e.division?"staff":"stud",avatar:e.avatar,faculty:e.faculty,group:e.group,isMe:t,division:e.division,indexNumber:(i!=null?i:0)+1},i)}const CS=p.div.withConfig({componentId:"sc-qy1vuw-0"})(["width:100%;height:100%;display:flex;flex-direction:column;.search-and-filter{display:flex;gap:0.5rem;width:100%;margin-bottom:0.5rem;}"]),ua=({title:e,searchPlaceholder:t,paginationList:i,defaultFilter:o,noResultContent:s,filterPlaceholder:a,filterRequest:r,underSearchText:l,customMask:c,search:u=!0})=>{var h;const{load:g}=i,[m,x]=d.useState(o),[b,v]=d.useState({id:m,value:m,title:m}),y=l==null?void 0:l(b),j=P=>T(void 0,null,function*(){yield g({filter:b,search:P})}),I=P=>{v(P!=null?P:null)},k=()=>{v(null)};return n.jsxs(CS,{children:[e&&n.jsx(M,{size:2,align:"left",bottomGap:!0,children:e}),n.jsxs("div",{className:"search-and-filter",children:[u&&n.jsx(xS,{triggerSearchOn:[(h=b==null?void 0:b.id)!==null&&h!==void 0?h:""],placeholder:t!=null?t:"Поиск",searchApi:j,validationCheck:!0}),r&&n.jsx(mr,{value:m,setValue:x,onHintClick:I,onValueEmpty:k,customMask:c,placeholder:a!=null?a:"Поиск",request:r})]}),n.jsx(re,{visible:!!y,children:y}),n.jsx(jS,{paginationList:i,noResultContent:s,filter:b})]})},SS=p.div.withConfig({componentId:"sc-gqkyw-0"})(["width:100%;display:flex;justify-content:center;height:calc(100vh - var(--header-height) - 20px);@media (max-width:1000px){height:calc(100vh - 80px);}"]),yr=()=>{var e,t,i;const{data:{user:o}}=Te.useUser(),{$isPending:s,$items:a}=Ao,r=bn(),l=wt(),c=rt(s),u=rt(a),h=(e=(t=r.params.filter)!==null&&t!==void 0?t:o==null||(i=o.subdivisions)===null||i===void 0?void 0:i[0].subdivision)!==null&&e!==void 0?e:"",g=b=>{var v;return b!=null&&b.title?`Кафедра: ${b==null?void 0:b.title} • Всего: ${(v=u==null?void 0:u.length)!==null&&v!==void 0?v:0}`:null},{isMobile:m}=Me(),x=(o==null?void 0:o.user_status)==="staff";return!m&&x&&l.push(`${lp}?subdivision=${h}`),n.jsx(ko,{load:function(){},loading:c,error:null,data:u,children:n.jsx(SS,{children:n.jsx(wn,{children:n.jsx(ua,{searchPlaceholder:"Поиск сотрудников",paginationList:Ao,filterRequest:Qo,defaultFilter:h,filterPlaceholder:"Подразделения",underSearchText:g})})})})},IS=Object.freeze(Object.defineProperty({__proto__:null,default:yr},Symbol.toStringTag,{value:"Module"})),O="/applications",TS="/application-for-superior-room",ES="/acad-performance",PS="/dormitory",Qp=O+"/clarification-of-passport-data",Yp=O+"/arbitrary-request",Kp=O+"/student-employment",Jp=O+"/social-scollarship",Xp=O+"/certificate-of-attendance",Zp=O+"/social-agencies",eh=O+"/paper-call",th=O+"/regular-accommodation",nh=O+"/full-time-part-time-form",ih=O+"/accommodation-correspondence-form",oh=O+"/academic-leave-accommodation",sh=O+"/preferential-accommodation",ah=O+"/family-room",rh=O+"/termination-of-employment-contract",lh=O+"/relocation-inside-hostel",ch=O+"/relocation-to-another-hostel",dh=O+"/accommodation-for-graduates",pa=O+"/payment-recipient",uh=O+"/restoring-the-magnetic-pass",ph=O+"/retake-for-diploma",hh=O+"/military-registration-documents",gh=O+"/military-registration",mh=O+"/military-form-4",fh=O+"/military-form-5",xh=O+"/military-copies",vh=O+"/financial-support",bh=O+"/financial-assistance",yh=O+"/increased-state-academic-scholarship",wh=O+"/changing-personal-data",_h=O+"/student-status",jh=O+"/family-contacts",kh=O+"/medical-certificates-086",Ch=O+"/state-accreditation",Sh=O+"/holidays-after-training",Ih=O+"/provision-academic-leave",Th=O+"/exit-academic-leave",Eh=O+"/independently-deducted",Ph=O+"/extension-attestation",AS="/physical-education/student",uo=()=>Ze({oldVersionUrl:"/sprav"}),hi=()=>_(f({applications:{id:"applications",title:"Цифровые сервисы",icon:n.jsx(L,{}),path:O,Component:yj,color:"red",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",keywords:["справки","справка","заявления","заявление"]}},Xm),{payments:{id:"payments",title:"Договоры и оплаты",icon:n.jsx(Bt,{}),path:Fi,Component:$u,color:"green",isTemplate:!1,group:"FINANCES_DOCS",keywords:["оплата"]},dormitory:{id:"dormitory",title:"Список ожидания на заселение в общежитие",icon:n.jsx(Kr,{}),path:PS,Component:hj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!0},softskills:{id:"softskills",title:"Паспорт компетенций",icon:n.jsx(r0,{}),path:_5,Component:()=>(pe.useEffect(()=>{window.location.replace("https://softskills.rsv.ru/")},[]),null),color:"orange",isTemplate:!0,show:!0,group:"LEARNING_ACTIVITIES",isExternalPage:!0,keywords:["рсв","россия страна возможностей","софтскиллс","навыки"]},"acad-performance":{id:"acad-performance",title:"Успеваемость",icon:n.jsx(l0,{}),path:ES,Component:pj,color:"green",isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["оценки","экзамены","зачеты"]},"physical-education":{id:"physical-education",title:"Физическая культура",icon:n.jsx(L,{}),color:"lightGreen",path:AS,pageSize:"big",Component:mj,isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["физра","физическая культура"]},"project-activity":{id:"project-activity",title:"Проектная деятельность",icon:n.jsx(Tc,{}),path:Vm,Component:wj,color:"orange",isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["пд"]},"helpful-information":{id:"helpful-information",title:"Полезная информация",icon:n.jsx(Ec,{}),path:Ym,Component:dr,color:"blue",isTemplate:!0,group:"GENERAL"},"application-for-superior-room":{id:"application-for-superior-room",title:"Заявка на комнату повышенной комфортности",icon:n.jsx(Kr,{}),path:TS,Component:uj,color:"blue",isTemplate:!1,group:"GENERAL",show:!(new Date>new Date(Sd))},"all-teachers":{id:"all-teachers",title:"Сотрудники",icon:n.jsx(_o,{}),path:no,Component:yr,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"]}}),wr=e=>{var t,i,o;return _(f({},Zm),{"clarification-of-passport-data":{id:"clarification-of-passport-data",title:"Уточнение паспортных данных",icon:n.jsx(li,{}),path:Qp,Component:gj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"arbitrary-request":{id:"arbitrary-request",title:"Произвольный запрос",icon:n.jsx(li,{}),path:Yp,Component:Qj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"student-employment":{id:"student-employment",title:"Трудоустройство студентов",icon:n.jsx(li,{}),path:Kp,Component:uo,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"social-scollarship":{id:"social-scollarship",title:"Социальная стипендия",icon:n.jsx(le,{}),path:Jp,Component:uo,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"certificate-of-attendance":{id:"certificate-of-attendance",title:"Сертификат об обучении",icon:n.jsx(le,{}),path:Xp,Component:fj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"social-agencies":{id:"social-agencies",title:"Справка в социальные учреждения",icon:n.jsx(le,{}),path:Zp,Component:xj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"paper-call":{id:"paper-call",title:"Справка-вызов",icon:n.jsx(le,{}),path:eh,Component:vj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"medical-certificate":{id:"medical-certificate",title:"Предоставление медицинских справок для проживающих в общежитии",icon:n.jsx(Pc,{}),path:Fm,Component:jk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"regular-accommodation":{id:"regular-accommodation",title:"Предоставление права проживания (очная форма)",icon:n.jsx(le,{}),path:th,Component:bj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"full-time-part-time-form":{id:"full-time-part-time-form",title:"Предоставление права проживания (очно-заочная форма)",icon:n.jsx(le,{}),path:nh,Component:jw,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"accommodation-correspondence-form":{id:"accommodation-correspondence-form",title:"Предоставление права проживания (заочная форма)",icon:n.jsx(le,{}),path:ih,Component:Vj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"academic-leave-accommodation":{id:"academic-leave-accommodation",title:"Предоставление права проживания в период академического отпуска",icon:n.jsx(le,{}),path:oh,Component:_j,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"preferential-accommodation":{id:"preferential-accommodation",title:"Предоставление права проживания льготной категории граждан",icon:n.jsx(le,{}),path:sh,Component:jj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"family-room":{id:"family-room",title:"Предоставление права проживания в семейной комнате",icon:n.jsx(le,{}),path:ah,Component:qj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"termination-of-employment-contract":{id:"termination-of-employment-contract",title:"Расторжение договора найма",icon:n.jsx(le,{}),path:rh,Component:kj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"relocation-inside-hostel":{id:"relocation-inside-hostel",title:"Переселение внутри общежития",icon:n.jsx(le,{}),path:lh,Component:Cj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"relocation-to-another-hostel":{id:"relocation-to-another-hostel",title:"Переселение в другое общежитие",icon:n.jsx(le,{}),path:ch,Component:Ij,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"accommodation-for-graduates":{id:"accommodation-for-graduates",title:"Предоставление права проживания в каникулярный период",icon:n.jsx(le,{}),path:dh,Component:["4","5","6"].includes((t=e==null?void 0:e.course)!==null&&t!==void 0?t:"")||e!=null&&(i=e.status)!==null&&i!==void 0&&(i=i.toLocaleLowerCase())!==null&&i!==void 0&&i.includes("окончил")||(e==null||(o=e.degreeLevel)===null||o===void 0?void 0:o.toLocaleLowerCase())==="магистратура"&&(e==null?void 0:e.course)==="2"?Sj:()=>n.jsx(Ze,{isRedirectButtonVisible:!1,errorText:"Сервис доступен только выпускникам университета, проживающих в общежитии"}),color:"blue",isTemplate:!1,isSubPage:!0,hiddenTitle:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O,show:!0},"payment-recipient":{id:"payment-recipient",title:"Отправка квитанции об оплате",icon:n.jsx(le,{}),path:pa,Component:Tj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"restoring-the-magnetic-pass":{id:"restoring-the-magnetic-pass",title:"Запрос на восстановление магнитного пропуска",icon:n.jsx(le,{}),path:uh,Component:Ej,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"military-registration-documents":{id:"military-registration-documents",title:"Отправить документы воинского учета",icon:n.jsx(le,{}),path:hh,Component:Nj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O,hiddenTitle:!0},"military-registration":{id:"military-registration",title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу (форма 10)",icon:n.jsx(oo,{}),path:gh,Component:Dj,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:O,hiddenTitle:!0},"military-form-4":{id:"military-form-4",title:"Заказать справку об обучении для студентов в военкомат (форма 4)",icon:n.jsx(oo,{}),path:mh,Component:Oj,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:O,hiddenTitle:!0},"military-form-5":{id:"military-form-5",title:"Заказать справку об обучении для аспирантов в военкомат (форма 5)",icon:n.jsx(oo,{}),path:fh,Component:Lj,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:O,hiddenTitle:!0},"military-copies":{id:"military-copies",title:"Заверенные копии документов по воинскому учету из личного дела",icon:n.jsx(oo,{}),path:xh,Component:zj,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:O,hiddenTitle:!0},"retake-for-diploma":{id:"retake-for-diploma",title:"Заявление на пересдачу для получения диплома с отличием",icon:n.jsx(le,{}),path:ph,Component:Aj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"increased-state-academic-scholarship":{id:"increased-state-academic-scholarship",title:"Отправка документов на получение стипендии Московского Политеха",icon:n.jsx(le,{}),path:yh,Component:Pj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O,hiddenTitle:!0},"financial-support":{id:"financial-support",title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)",icon:n.jsx(le,{}),path:vh,Component:uo,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"financial-assistance":{id:"financial-assistance",title:"Финансовая поддержка",icon:n.jsx(le,{}),path:bh,Component:uo,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"changing-personal-data":{id:"changing-personal-data",title:"Запрос на изменение персональных данных",icon:n.jsx(le,{}),path:wh,Component:Rj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"student-status":{id:"student-status",title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования",icon:n.jsx(le,{}),path:_h,Component:$j,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"family-contacts":{id:"family-contacts",title:"Контактные данные родителей",icon:n.jsx(le,{}),path:jh,Component:Mj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O,hiddenTitle:!0},"medical-certificates-086":{id:"medical-certificates-086",title:"Предоставление справок о группе здоровья",icon:n.jsx(le,{}),path:kh,Component:Fj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O,hiddenTitle:!0,keywords:["086/у","086 у"]},"state-accreditation":{id:"state-accreditation",title:"Выдача лицензий и свидетельств о государственной аккредитации",icon:n.jsx(le,{}),path:Ch,Component:Bj,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:O},"holidays-after-training":{id:"holidays-after-training",title:"Предоставление каникул",icon:n.jsx(le,{}),path:Sh,Component:Uj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"provision-academic-leave":{id:"provision-academic-leave",title:"Предоставление академического отпуска",icon:n.jsx(le,{}),path:Ih,Component:Hj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"exit-academic-leave":{id:"exit-academic-leave",title:"Выход из академического отпуска",icon:n.jsx(le,{}),path:Th,Component:Iw,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"independently-deducted":{id:"independently-deducted",title:"Отчисление по инициативе обучающегося",icon:n.jsx(le,{}),path:Eh,Component:Wj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O},"extension-attestation":{id:"extension-attestation",title:"Продление промежуточной аттестации ",icon:n.jsx(le,{}),path:Ph,Component:Gj,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:O}})},Ah=(e,t)=>e.reduce((i,o)=>(i[o]=t[o],i),{}),ZN={Approved:"Согласовано",Expired:"Просрочено",InProgress:"На рассмотрении",Declined:"Отклонено",Unknown:"-"},Bl={Completed:"Приказ готов",PreparingOrder:"Оформляется приказ",RecepientConfirm:"Ожидает подтверждения получателем",Approval:"На согласовании",Cancelled:"Отменено",Unknown:"Неизвестно"},eD={InProgress:"Приказ готовится",Ready:"Приказ готов"},NS={RecepientDeclinedByZkgu:"Служебная записка отклонена в 1С",RecepientDeclinedByAppover:"Служебная записка отклонена согласующим",RecepientSelfDeclined:"Служебная записка отклонена сотрудником",RecepientSelfConfirmed:"Служебная записка согласована сотрудником",FullyCompleted:"Служебная записка полностью согласована",ToApprove:"Появились новые служебные записки для согласования",ToConfirm:"Рассмотрите служебные записки о надбавках",AllowanceOrderCompleted:"Служебная записка полностью согласована"},pt={RecepientDeclinedByZkgu:Kt,RecepientDeclinedByAppover:Kt,RecepientSelfDeclined:Kt,RecepientSelfConfirmed:Kt,FullyCompleted:Kt,ToApprove:Kt,ToConfirm:da,AllowanceOrderCompleted:da};function DS({reset:e}){const t=S({name:"setStartDate",sid:"ynmubx"}),i=S({name:"setEndDate",sid:"-1lsjq1"}),o=R("",{name:"$startDate",sid:"-g3gm39"}).on(t,(a,r)=>r),s=R("",{name:"$endDate",sid:"g2dq9m"}).on(i,(a,r)=>r);return e&&(o.reset(e),s.reset(e)),w({and:[{clock:t,source:s,filter:(a,r)=>new Date(r)>new Date(a),fn:()=>"",target:s}],or:{sid:"-7hbgyb"}}),{startDate:o,endDate:s,setStartDate:t,setEndDate:i}}function OS({reset:e}={}){const t=S({name:"setValue",sid:"z0dsf1"}),i=R([],{name:"$store",sid:"x0kp80"}).on(t,(o,s)=>s);return e&&(Array.isArray(e),i.reset(e)),{value:i,setValue:t}}const _r=({defaultValue:e,reset:t}={})=>{const i=S({name:"setValue",sid:"7mqusq"}),o=R(e!=null?e:null,{name:"$store",sid:"-jr9j7n"}).on(i,(s,a)=>a);return t&&(Array.isArray(t),o.reset(t)),{value:o,setValue:i}},LS=({defaultValue:e,reset:t}={})=>{const i=S({name:"setValue",sid:"-dtr6w4"}),o=R(e!=null?e:"",{name:"$store",sid:"-iu1id1"}).on(i,(s,a)=>a);return t&&(Array.isArray(t),o.reset(t)),{value:o,setValue:i}},jr=S({name:"appStarted",sid:"-37f117"}),dt=S({name:"pageMounted",sid:"1i78v9"}),Nh=S({name:"notificationRead",sid:"-f68hnd"}),Dh=S({name:"personalAllowancesMounted",sid:"-cu9ltg"}),Oh=S({name:"fileAttached",sid:"gstlpm"}),kr=S({name:"fileRemoved",sid:"-t2ddju"}),Lh=S({name:"allFilesRemoved",sid:"g8tmhn"}),zh=S({name:"allowanceStatusChanged",sid:"cxvhni"}),Rh=S({name:"infoPageMounted",sid:"-jwuc3c"}),$h=S({name:"getSubordinatesEvent",sid:"3lild7"}),Mh=S({name:"createSupplement",sid:"-h7pci2"}),Cr=S({name:"setCompleted",sid:"3m4kit"}),Fh=S({name:"approve",sid:"ggh3tm"}),Bh=S({name:"reject",sid:"-5hfg1k"}),Uh=S({name:"setCurrentRole",sid:"af6vuk"}),Hh=S({name:"setCurrentJobId",sid:"-7lw322"}),zS=Y(e=>T(void 0,null,function*(){yield Promise.all(e.map(t=>Gh.start(t)))}),{name:"removeAllFilesFx",sid:"-iepmdj"}),Ti=J({sid:"-5dcppx",fn:()=>Ct({handler:Iv}),name:"notificationsQuery",method:"createQuery"}),Ei=J({sid:"-v8kmu7",fn:()=>Ct({handler:Pv}),name:"personalAllowancesQuery",method:"createQuery"}),RS=J({sid:"mcc2i9",fn:()=>we({handler:Tv}),name:"viewNotificationMutation",method:"createMutation"}),Wh=J({sid:"-rsw5nb",fn:()=>we({handler:Av}),name:"confirmPersonalAllowanceMutation",method:"createMutation"}),eo=J({sid:"-reqm8s",fn:()=>we({handler:Cv}),name:"uploadFileMutation",method:"createMutation"}),Gh=J({sid:"pguplq",fn:()=>we({handler:Sv}),name:"removeFileMutation",method:"createMutation"}),js=J({sid:"geiluz",fn:()=>we({handler:yv}),name:"createSupplementMutation",method:"createMutation"}),No=J({sid:"-wye7op",fn:()=>we({handler:jv}),name:"veridctMutation",method:"createMutation"}),Do=_r(),Vh=_r({reset:dt}),Pi=_r({reset:dt}),qh=LS({reset:dt}),nn=GS(),an=WS(dt),Pt=OS({reset:dt}),Ht=R({},{name:"$filesMap",sid:"x0ry6y"}),Qh=Ht.map(e=>Object.values(e)),$S=R(null,{name:"$currentRole",sid:"-imsis7"}).on(Uh,(e,t)=>t).reset(ce.logout),MS=R(null,{name:"$currentJobId",sid:"16crlb"}).on(Hh,(e,t)=>t).reset(ce.logout),FS=Pi.value.map(e=>e==null?void 0:e.title.toLowerCase().includes("интенсивность труда")),Yh=R(!1,{name:"$completed",sid:"pd7c8x"}).reset(dt),Kh=R(null,{name:"$allowances",sid:"-dxwpn2"}),Jh=R(null,{name:"$subordinates",sid:"-duiwfx"}),BS=Y(e=>T(void 0,null,function*(){return bv(e)}),{name:"getAllowancesFx",sid:"5bybjc"}),Xh=Y(e=>T(void 0,null,function*(){return wv(e)}),{name:"getSubordinatesFx",sid:"-tasawu"});w({and:[{clock:$h,target:Xh}],or:{sid:"-vh7g4o"}});w({and:[{clock:Pt.setValue,source:Ht,filter:(e,t)=>t.length>Object.keys(e).length,fn:(e,t)=>t[t.length-1],target:Oh}],or:{sid:"-vf09r8"}});w({and:[{clock:Pt.setValue,source:{filesMap:Ht},filter:({filesMap:e},t)=>t.length<Object.keys(e).length&&t.length>0,fn:({filesMap:e},t)=>Object.keys(e).find(o=>!t.find(s=>s.name===o)),target:kr}],or:{sid:"-uzm154"}});w({and:[{clock:Pt.setValue,filter:e=>e.length===0,target:Lh}],or:{sid:"-dz6te3"}});w({and:[{clock:Oh,target:eo.start}],or:{sid:"-dwfufa"}});w({and:[{clock:Lh,source:Qh,target:zS}],or:{sid:"-du8o1u"}});w({and:[{clock:kr,source:Ht,filter:Boolean,fn:(e,t)=>e[t],target:Gh.start}],or:{sid:"-dfy0mg"}});w({and:[{clock:kr,source:{newFiles:Pt.value,filesMap:Ht},filter:Boolean,fn:({newFiles:e,filesMap:t},i)=>{if(e.length===0)return{};const o=f({},t);return delete o[i],o},target:Ht}],or:{sid:"-d0js0c"}});w({and:[{clock:eo.finished.success,source:Ht,fn:(e,{params:t,result:i})=>_(f({},e),{[t.name]:i.fileId}),target:Ht}],or:{sid:"-c1wqml"}});w({and:[{clock:eo.$failed,fn:()=>({message:"Не удалось прикрепить файл",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"-bjrj1o"}});w({and:[{clock:eo.finished.failure,source:Pt.value,fn:(e,{params:t})=>e.filter(i=>i.name!==t.name),target:Pt.value}],or:{sid:"-b3thu7"}});w({and:[{clock:Fh,fn:({employeeId:e,allowanceId:t,approverEmployeeId:i})=>({employeeId:e,allowanceId:t,approverEmployeeId:i,approvalStatus:"Approved"}),target:No.start}],or:{sid:"-anvgmq"}});w({and:[{clock:Bh,fn:({employeeId:e,allowanceId:t,approverEmployeeId:i})=>({employeeId:e,allowanceId:t,approverEmployeeId:i,approvalStatus:"Declined"}),target:No.start}],or:{sid:"-a4mnv3"}});const mn=J({sid:"70540m",fn:()=>Ct({handler:kv}),name:"roleQuery",method:"createQuery"}),US=mn.$data.map(e=>{var t;return(t=e==null?void 0:e.map(i=>i.roles).flat())!==null&&t!==void 0?t:[]}),Sr=J({sid:"x4xbyl",fn:()=>Ct({handler:nd}),name:"paymentIdentifierQuery",method:"createQuery"}),Zh=J({sid:"1zvfc5",fn:()=>Ct({handler:nd}),name:"sourceOfFundingQuery",method:"createQuery"}),HS=Sr.$data.map(e=>e?e.map(t=>({id:t.id,title:t.name})):[]),rn=J({sid:"o3e7tq",fn:()=>Ct({handler:_v}),name:"allowanceQuery",method:"createQuery"}),ha=R("",{name:"$errorMessage",sid:"-l0nxwx"});w({and:[{clock:[Do.value,Pi.value,an.value,an.value,Pt.value],source:{job:Do.value,paymentIdentifier:Pi.value,allowanceEmployees:an.value,files:Pt.value,isPaymentForLaborIntensity:FS},fn:({job:e,paymentIdentifier:t,allowanceEmployees:i,isPaymentForLaborIntensity:o,files:s})=>e?t?!o&&s.length===0?"Приложите файл":i.filter(a=>a!==null&&a.id!=="").length<=0?"Выберите сотрудников":i.some(a=>!a.startDate||!a.endDate)?"Выберите даты":i.some(a=>!a.sum)?"Укажите сумму":"":"Выберите вид надбавки":"Выберите должность",target:ha}],or:{sid:"1napmc"}});w({and:[{clock:Mh,source:{job:Do.value,sourceOfFunding:Vh.value,paymentIdentifier:Pi.value,commentary:qh.value,allowanceEmployees:an.value,files:Qh},filter:({job:e,paymentIdentifier:t,allowanceEmployees:i})=>!!(e!=null&&e.id)&&!!(t!=null&&t.id)&&i.filter(o=>o!==null).length>0,fn:({job:e,sourceOfFunding:t,paymentIdentifier:i,commentary:o,allowanceEmployees:s,files:a})=>({initiatorId:(e==null?void 0:e.id.toString())||"",sourceOfFundingId:(t==null?void 0:t.id.toString())||null,paymentIdentifierId:(i==null?void 0:i.id.toString())||"",commentary:o,allowanceEmployees:s.filter(r=>r!==null),attachedFileIds:a}),target:js.start}],or:{sid:"33j5zn"}});w({and:[{clock:Rh,fn:({id:e,role:t,userId:i})=>({role:t,allowanceId:e,userId:i}),target:[rn.reset,rn.start]}],or:{sid:"4jrmcy"}});w({and:[{clock:js.$succeeded,fn:()=>!0,target:Cr}],or:{sid:"f0eotb"}});w({and:[{clock:js.$failed,fn:()=>({message:"Не удалось создать надбавку. Проверьте правильность заполненных полей и попробуйте еще раз",type:"failure"}),target:Q.evokePopUpMessage}],or:{sid:"fepc8p"}});Yh.on(Cr,(e,t)=>t);w({and:[{clock:jr,target:mn.start}],or:{sid:"fv761j"}});w({and:[{clock:jr,target:Ti.start}],or:{sid:"fxecez"}});w({and:[{clock:dt,fn:()=>"PaymentIdentifier",target:Sr.start}],or:{sid:"fzlisf"}});w({and:[{clock:dt,fn:()=>"SourceOfFunding",target:Zh.start}],or:{sid:"gdw67t"}});const eg=Y(e=>T(void 0,null,function*(){const t=yield Promise.all(e.map(i=>T(void 0,null,function*(){const o=yield BS(i.employeeId);return{approverAllowances:o.approverAllowances.map(a=>_(f({},a),{allowanceStatus:Bl[a.allowanceStatus]})),initiatorAllowances:o.initiatorAllowances.map(a=>_(f({},a),{allowanceStatus:Bl[a.allowanceStatus]}))}})));return e.reduce((i,o,s)=>(i[o.employeeId]=t[s],i),{})}),{name:"getAllAllowances",sid:"-l4sryp"}),tg=Y(e=>T(void 0,null,function*(){const t=yield Promise.all(e.map(i=>T(void 0,null,function*(){return yield Xh(i.employeeId)})));return e.reduce((i,o,s)=>(i[o.employeeId]=t[s],i),{})}),{name:"getAllEmployees",sid:"-ddkyre"});w({and:[{clock:No.$finished,source:No.__.$latestParams,fn:e=>({role:"Approver",allowanceId:(e==null?void 0:e.allowanceId)||"",userId:(e==null?void 0:e.approverEmployeeId)||""}),target:rn.start}],or:{sid:"hv87ru"}});w({and:[{clock:dt,source:mn.$data,filter:e=>e!==null,fn:e=>e,target:eg}],or:{sid:"ic9u61"}});w({and:[{clock:eg.doneData,target:Kh}],or:{sid:"iro2s5"}});w({and:[{clock:dt,source:mn.$data,filter:e=>e!==null,fn:e=>e,target:tg}],or:{sid:"itv95l"}});w({and:[{clock:tg.doneData,target:Jh}],or:{sid:"j99hrp"}});w({and:[{clock:nn.setStartDate,target:an.setStartDate}],or:{sid:"tkyevt"}});w({and:[{clock:nn.setEndDate,target:an.setEndDate}],or:{sid:"tn5l99"}});w({and:[{clock:Dh,target:Ei.start}],or:{sid:"tpcrmp"}});w({and:[{clock:zh,source:ne.userGuid,fn:(e,t)=>f({personalId:e},t),target:Wh.start}],or:{sid:"u33mgq"}});w({and:[{clock:Wh.$succeeded,target:Ei.start}],or:{sid:"ujlg9k"}});w({and:[{clock:ce.logout,target:[mn.reset,Zh.reset,Sr.reset,rn.reset,Ei.reset,Ti.reset]}],or:{sid:"ulsmn0"}});w({and:[{clock:Nh,source:Ti.$data,filter:(e,t)=>{const i=e==null?void 0:e.find(o=>o.notificationId===t);return(i==null?void 0:i.notificationType)!=="ToConfirm"},fn:(e,t)=>t,target:RS.start}],or:{sid:"unzt0g"}});const ai={pageMounted:dt,personalAllowancesMounted:Dh,appStarted:jr,createSupplement:Mh,setCompleted:Cr,infoPageMounted:Rh,approve:Fh,reject:Bh,allowanceStatusChanged:zh,getSubordinates:$h,notificationRead:Nh,setCurrentRole:Uh,setCurrentJobId:Hh},to={jobRoles:mn.$data,rolesPending:mn.$pending,roles:US,paymentIdentifiers:HS,allowances:Kh,fileUploading:eo.$pending,employees:Jh,completed:Yh,errorMessage:ha,isActive:ha.map(e=>!e),supplementCreating:js.$pending,allowance:{data:rn.$data,loading:rn.$pending,error:rn.$error,role:$S,jobId:MS},personalAllowances:{data:Ei.$data,loading:Ei.$pending},notifications:{data:Ti.$data,loading:Ti.$pending}},tD={job:Do,sourceOfFunding:Vh,paymentIdentifier:Pi,period:nn,commentary:qh,employees:an,files:Pt};function WS(e){const t=S({name:"addEmployee",sid:"4zajon"}),i=S({name:"setEmployee",sid:"i4awcn"}),o=S({name:"setStartDate",sid:"nhd6ir"}),s=S({name:"setEndDate",sid:"-r3hqub"}),a=S({name:"selectAll",sid:"-hbpapx"}),r=S({name:"deselectAll",sid:"-20t5mx"}),l=S({name:"removeEmployee",sid:"k98f35"}),c=R(!1,{name:"allSelected",sid:"-2iw0yb"}).on(a,()=>!0).on(r,()=>!1).reset([e,l]),u=R([],{name:"$employees",sid:"8gyi4y"}).on(l,(h,g)=>h.filter(m=>m.id!==g)).on(i,(h,g)=>new Date(g.startDate)>new Date(g.endDate)?h.map(m=>m.id===g.id?_(f({},g),{endDate:""}):m):h.map(m=>m.id===g.id?g:m)).on(o,(h,g)=>h.map(m=>_(f({},m),{startDate:g}))).on(s,(h,g)=>h.map(m=>_(f({},m),{endDate:g}))).reset([e,r]);return w({and:[{clock:t,source:{employees:u,startDate:nn.startDate,endDate:nn.endDate},fn:({employees:h,startDate:g,endDate:m},x)=>[...h,{id:x,startDate:g,endDate:m,sum:""}],target:u}],or:{sid:"-q7yrgk"}}),w({and:[{clock:a,source:{employees:u,startDate:nn.startDate,endDate:nn.endDate},fn:({employees:h,startDate:g,endDate:m},x)=>{const b=x.filter(v=>!h.some(y=>y.id===v));return[...h,...b.map(v=>({id:v,startDate:g,endDate:m,sum:""}))]},target:u}],or:{sid:"-pafb9j"}}),{value:u,setValue:i,addItem:t,removeItem:l,setStartDate:o,setEndDate:s,selectAll:a,deselectAll:r,allSelected:c}}function GS(){const e=new Date,t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),1)).toISOString().split("T")[0],i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),15,0)).toISOString().split("T")[0],o=DS({reset:dt}),s=R(new Date().getDate()>17?i:t,{name:"$minDate",sid:"-iilsca"});return _(f({},o),{minDate:s})}const VS=["settings","profile","chat","schedule","payments","project-activity","all-students"],qS=["home","schedule","acad-performance","all","profile"],QS=["home","schedule","alerts","all","profile"],YS=["home","doclist","alerts","all","profile"],KS=(e,t,i)=>{var o;if(!e)return[];const s=(o=t.customizeMenu.pages)!==null&&o!==void 0?o:Ea,a=Pa.filter(l=>!s.includes(l));return(e==null?void 0:e.user_status)==="staff"?Array.from(new Set([...a,...Object.values(i!=null?i:{}).some(l=>l.length)?["download-agreements"]:[],...s])):s},Ul={allRoutes:null,visibleRoutes:null,currentPage:null,isOpen:!1},JS=()=>{const e=F(ag),t=F(sg);return _(f({},e),{homeRoutes:t})},ng=S({name:"changeOpen",sid:"7q6fij"}),ig=S({name:"clearStore",sid:"-f7ci6o"}),Ir=S({name:"defineMenu",sid:"-s9esev"}),og=S({name:"changeNotifications",sid:"-1lc8ix"}),XS=(e,t,i)=>{const o=f({},i);if(o[e])o[e].notifications=t;else return null;return o},gi=(e,t)=>{if(!e)return Ml({allowancesRoles:t});const{accepts:i,agreements:o,checkdata:s,studLogins:a}=e,r=!!i.length||!!o.length||!!s.length||!!(a!=null&&a.length),l="download-agreements",c=Object.entries(Ml({allowancesRoles:t})).filter(([u])=>u!==l||u===l&&r);return Object.fromEntries(c)},ZS=Ae({and:[ne.user,ge.userSettings,_t.store,to.roles,(e,t,i,o)=>{var s;return!e||!t?null:Ah(KS(e.currentUser,t,i.data),((s=e.currentUser)===null||s===void 0?void 0:s.user_status)==="staff"?f(f({},gi(i.data,o)),br({allowancesRoles:o})):f(f({},hi()),wr(e.currentUser)))}],or:{name:"$leftSidebar",sid:"o0uyyw"}}),sg=Ae({and:[ne.user,ge.userSettings,_t.store,to.roles,(e,t,i,o)=>{var s,a;return!e||!t?null:Ah((s=t==null?void 0:t.homePage.pages)!==null&&s!==void 0?s:VS,((a=e.currentUser)===null||a===void 0?void 0:a.user_status)==="staff"?f(f({},gi(i.data,o)),br({allowancesRoles:o})):f(f({},hi()),wr(e.currentUser)))}],or:{name:"$homeRoutes",sid:"-6l5pit"}});w({and:[{source:{userStore:ne.user,settings:ge.userSettings,adminLinks:_t.store,allowancesRoles:to.roles},filter:({settings:e,userStore:t})=>!!e&&!!t.currentUser,fn:({settings:e,adminLinks:t,userStore:i,allowancesRoles:o})=>({homeRoutes:e.homePage.pages,user:i.currentUser,adminLinks:t.data,allowancesRoles:o}),target:Ir}],or:{sid:"vuf7sm"}});const ag=R(Ul,{name:"$menu",sid:"4kyvww"}).on(ng,(e,{isOpen:t,currentPage:i})=>{var o;return _(f({},e),{currentPage:e.allRoutes&&i?(o=e.allRoutes)===null||o===void 0?void 0:o[i]:e.currentPage,isOpen:t})}).on(ig,()=>f({},Ul)).on(Ir,(e,{user:t,adminLinks:i,allowancesRoles:o})=>_(f({},e),{currentPage:(t==null?void 0:t.user_status)==="staff"?gi(i,o)[window.location.hash.slice(2,window.location.hash.length)]:hi()[window.location.hash.slice(2,window.location.hash.length)],allRoutes:(t==null?void 0:t.user_status)==="staff"?f(f({},gi(i,o)),br({allowancesRoles:o})):f(f({},hi()),wr(t)),visibleRoutes:(t==null?void 0:t.user_status)==="staff"?gi(i,o):hi()})).on(og,(e,{page:t,notifications:i})=>{var o,s;return _(f({},e),{visibleRoutes:XS(t,typeof i=="number"?(e.allRoutes&&e.allRoutes[t].notifications||0)+i:i((o=(s=e.visibleRoutes)===null||s===void 0?void 0:s[t].notifications)!==null&&o!==void 0?o:0),e.visibleRoutes)})}),bt={useMenu:JS},At={changeOpen:ng,clearStore:ig,defineMenu:Ir,changeNotifications:og},Ai={leftSidebar:ZS,menu:ag,homeRoutes:sg},Tr=(e,t,i,o,s,a,r)=>{var l;const c={alert:{id:t,title:i!=null?i:"Новости",text:"Вам пришло оповещение!",type:"alert",goTo:qm,duration:1e4,pageId:"alerts"},schedule:{id:t,type:"schedule",title:i!=null?i:"Скоро начнется пара",text:o!=null?o:"",goTo:In,pageId:"schedule"},info:{id:t,title:i!=null?i:"Важная информация!",text:o!=null?o:"",type:"info"},"payment-dorm":{id:t,title:i!=null?i:"Долг по общежитию",text:o!=null?o:"Вам необходимо внести платеж ",type:"payment-dorm",goTo:Fi,canClose:!1,pageId:"payments"},"payment-ed":{id:t,title:i!=null?i:"Долг по образованию",text:o!=null?o:"Вам необходимо внести платеж",type:"payment-ed",goTo:Fi,canClose:!1,pageId:"payments"},message:{id:t,title:i!=null?i:"Сообщения",text:o!=null?o:"Посмотрите сообщения",type:"message",goTo:Sn,pageId:"chat",canClose:!1},"hr-applications":{id:t,title:i!=null?i:"",text:o!=null?o:"У вашей заявки изменился статус",type:"hr-applications",goTo:fe,pageId:"hr-applications"},"kpi-pps":{id:t,title:i!=null?i:"",text:o!=null?o:"У вашей заявки изменился статус",type:"kpi-pps",goTo:rp,pageId:"kpi-pps"},"doc-for-review":{id:t,title:i!=null?i:"Документ для ознакомления",text:o!=null?o:"",type:"doc-for-review",goTo:xr,pageId:"doclist"},"digital-services":{id:t,title:i!=null?i:"Статус заявки изменен",text:o!=null?o:"",type:"digital-services",goTo:O,pageId:"applications"},"version-update":{id:t,title:i!=null?i:"Вышла новая версия",text:"Посмотрите изменения",type:"version-update"},"electronic-interaction":{id:t,title:i!=null?i:"Документ для подписания",text:"Об электронном взаимодействии",type:"electronic-interaction",goTo:Jm,pageId:"electronic-interaction-agreement"},allowance:{id:t,title:i!=null?i:"Надбавки",text:o!=null?o:"",type:"allowance",goTo:s!=null?s:da,onClick:()=>{pt[r.notificationType]===pt.RecepientDeclinedByZkgu&&(ai.setCurrentRole("Initiator"),ai.setCurrentJobId(r.employeeId)),ai.notificationRead(t)},onClose:()=>ai.notificationRead(t),canClose:a!=="ToConfirm"}};return(l=c[e])!==null&&l!==void 0?l:c.info},eI={message:"messages","doc-for-review":"doclist","version-update":"newVersion","digital-services":"applications",alert:"news",schedule:"schedule"},rg=(e,t)=>t.filter(({type:i})=>e[eI[i]]),tI=e=>{const t=pt[e.notificationType];switch(t){case pt.RecepientDeclinedByZkgu:return`${t}/${e.allowanceId}`;case pt.RecepientDeclinedByAppover:return`${t}/${e.allowanceId}`;case pt.RecepientSelfDeclined:return`${t}/${e.allowanceId}`;case pt.RecepientSelfConfirmed:return`${t}/${e.allowanceId}`;case pt.FullyCompleted:return`${t}/${e.allowanceId}`;case pt.ToApprove:return`${t}/${e.allowanceId}`;case pt.ToConfirm:return t;case pt.AllowanceOrderCompleted:return t;default:return t}},nI={notifications:[],visibleNotifications:[],loading:!1,error:null,removeNotificationError:null,removeNotificationLoading:!1,clearAllLoading:!1,clearAllError:null,loaded:!1},ks=Y(t=>T(void 0,[t],function*({settings:e}){try{const{data:i}=yield Nv();return rg(e,i).map(({id:o,type:s,title:a,text:r})=>Tr(s,o,a,r))}catch(i){throw new Error(`Не удалось загрузить уведомления. Ошибка: ${i}`)}}),{name:"fetchNotifications",sid:"vs5bnd"}),iI=Y(({notifications:e})=>{e.forEach(({pageId:t,text:i})=>{t&&(t==="chat"?At.changeNotifications({page:t,notifications:Number(i.split(" (")[1].split(")")[0])}):At.changeNotifications({page:t,notifications:1}))})},{name:"addNotificationsToPagesFx",sid:"1b9xt"}),oI=Y(({notifications:e})=>{const{pageId:t}=e[0];t&&At.changeNotifications({page:t,notifications:1})},{name:"addNotificationToPageFx",sid:"-2jpxrp"}),Cs=Y(i=>T(void 0,[i],function*({id:e,pageId:t}){try{return yield Dv(e),{id:e,pageId:t}}catch(o){throw new Error("Не удалось скрыть уведомление")}}),{name:"clearNotificationByIdFx",sid:"-v4rocq"}),Ss=Y(()=>T(void 0,null,function*(){try{yield Ev(),yield Ov()}catch(e){throw new Error("Не удалось скрыть все уведомления")}}),{name:"clearAllNotificationsFx",sid:"dcnyq1"}),sI=e=>{e&&At.changeNotifications({page:e,notifications:0})},lg=S({name:"add",sid:"-eov218"}),cg=S({name:"initialize",sid:"-j7l3mt"}),dg=S({name:"clearVisibleById",sid:"lf4j9i"}),ug=S({name:"clearById",sid:"-i31gev"}),pg=S({name:"clearAll",sid:"-hptkle"}),hg=S({name:"clearAllVisible",sid:"-ve9fx1"}),he=R(nI,{name:"$lkNotificationsStore",sid:"smdgrx"}).reset(ne.userGuid),aI=to.notifications.data.map(e=>e?e.map(t=>Tr("allowance",t.notificationId,NS[t.notificationType],t.message,tI(t),t.notificationType,t)):[]);Un({and:{from:cg,to:ks},or:{sid:"-3ups9"}});w({and:[{clock:[ks.pending,to.notifications.loading],source:he,fn:(e,t)=>_(f({},e),{loading:t}),target:he}],or:{sid:"-1njet"}});w({and:[{clock:ks.failData,source:he,fn:(e,t)=>_(f({},e),{error:t.message}),target:he}],or:{sid:"euae1"}});w({and:[{clock:[ks.doneData,aI],source:he,fn:(e,t)=>_(f({},e),{notifications:[...t,...e.notifications],visibleNotifications:[...e.visibleNotifications,...t].slice(0,2),error:null,loaded:!0}),target:[he,iI]}],or:{sid:"vc46v"}});w({and:[{clock:lg,source:he,fn:(e,t)=>({notifications:[...e.notifications,t],visibleNotifications:[...e.visibleNotifications,t]}),target:[he,oI]}],or:{sid:"1dhbrs"}});Un({and:{from:ug,to:Cs},or:{sid:"1tz5km"}});w({and:[{clock:Cs.doneData,source:he,fn:(a,{id:o,pageId:s})=>{var r=a,{notifications:e,visibleNotifications:t}=r,i=Je(r,["notifications","visibleNotifications"]);return sI(s),_(f({},i),{notifications:e.filter(l=>l.id!==o),visibleNotifications:t.filter(l=>l.id!==o)})},target:he}],or:{sid:"27q0en"}});w({and:[{clock:Cs.failData,source:he,fn:(e,t)=>_(f({},e),{removeNotificationError:t.message}),target:he}],or:{sid:"35t971"}});w({and:[{clock:Cs.pending,source:he,fn:(e,t)=>_(f({},e),{removeNotificationLoading:t}),target:he}],or:{sid:"3areja"}});Un({and:{from:pg,to:Ss},or:{sid:"3r98c4"}});w({and:[{clock:Ss.pending,source:he,fn:(e,t)=>_(f({},e),{clearAllLoading:t,clearAllError:null}),target:he}],or:{sid:"e2y5g8"}});w({and:[{clock:Ss.failData,source:he,fn:(e,t)=>_(f({},e),{clearAllError:t.message}),target:he}],or:{sid:"ejzruf"}});w({and:[{clock:Ss.doneData,source:he,fn:e=>_(f({},e),{notifications:[],visibleNotifications:[]}),target:he}],or:{sid:"f0hln9"}});w({and:[{clock:dg,source:he,fn:(s,o)=>{var a=s,{notifications:e,visibleNotifications:t}=a,i=Je(a,["notifications","visibleNotifications"]);return _(f({},i),{notifications:e,visibleNotifications:t.filter(r=>r.id!==o)})},target:he}],or:{sid:"fhj81g"}});w({and:[{clock:hg,source:he,fn:i=>{var o=i,{notifications:e}=o,t=Je(o,["notifications"]);return _(f({},t),{notifications:e,visibleNotifications:[]})},target:he}],or:{sid:"g0s0t3"}});const rI=()=>rt(he),$n={initialize:cg,add:lg,clearById:ug,clearVisibleById:dg,clearAll:pg,clearAllVisible:hg},Qt={useLkNotifications:rI},nD=p.header.withConfig({componentId:"sc-1u9gu2r-0"})(["width:100%;padding-top:100px;position:relative;margin:0 auto;display:flex;flex-direction:column;align-items:center;color:var(--text);svg{min-width:30px;}@media (max-width:1000px){padding:auto;display:flex;align-items:center;justify-content:center;& > .info{display:none;}}"]);p.div.withConfig({componentId:"sc-1u9gu2r-1"})(["width:",";height:",";border-radius:",";position:absolute;top:",";left:",";z-index:-1;box-shadow:0 0 10px #00000003;background-color:",";"],({width:e})=>e+"px",({height:e})=>e+"px",({borderRadius:e})=>e+"px",({top:e})=>e+"%",({left:e})=>e+"%",({color:e})=>e);const iD=p.div.withConfig({componentId:"sc-1u9gu2r-2"})(["width:100%;display:flex;gap:10px;flex-wrap:wrap;a{width:calc(50% - 5px);}button{font-size:0.7rem;span{margin-top:8px;margin-bottom:-8px;}}@media (max-width:1000px){flex-wrap:nowrap;button{height:42px;}}"]),lI=p.div.withConfig({componentId:"sc-1u9gu2r-3"})(["min-width:",";height:",";display:flex;align-items:center;justify-content:center;border-radius:100%;color:#fff;background:",";@media (max-width:1000px){background:none;color:var(--text);}"],({width:e})=>e!=null?e:"35px",({width:e})=>e!=null?e:"35px",({background:e})=>e!=null?e:"var(--almostTransparent)"),oD=p.div.withConfig({componentId:"sc-1u9gu2r-4"})(["margin-bottom:15px;height:fit-content;width:100%;text-align:center;display:flex;flex-direction:column;justify-content:flex-end;gap:4px;b{font-size:1.2rem;}@media (max-width:1000px){& > .info{display:none;}}"]),sD=p.div.withConfig({componentId:"sc-1u9gu2r-5"})(["margin-top:50px;width:100%;"]),aD=p.div.withConfig({componentId:"sc-1u9gu2r-6"})(["display:flex;gap:12px;align-items:center;width:100%;max-width:750px;@media (max-width:1000px){flex-direction:column;}"]),rD=p(Dt).withConfig({componentId:"sc-1u9gu2r-7"})(["padding:12px;position:relative;@media (max-width:1000px){max-width:100%;}"]),lD=p.div.withConfig({componentId:"sc-1u9gu2r-8"})(["position:absolute;left:50%;top:-30%;transform:translateX(-50%);"]),Oo=S({name:"switchTheme",sid:"ifl5mr"});w({and:[{clock:Oo,source:ge.userSettings,filter:e=>!!e,fn:(e,{isDark:t})=>({appearance:_(f({},e.appearance),{theme:t?Re.Dark:Re.Light})}),target:qe.update}],or:{sid:"-bn10vc"}});const gg=({type:e,onClick:t})=>{const i=F(ge.userSettings),s=(i==null?void 0:i.appearance.theme)===Re.Light,a=s?n.jsx(c0,{}):n.jsx(d0,{}),l=`Тема: ${s?"Светлая":"Темная"}`,c=()=>{Oo({isDark:s}),t==null||t()};return e==="toggle"?n.jsx(Fe,{title:"Темная тема",state:!s,action:u=>Oo({isDark:u})}):e==="h-button"?n.jsx(E,{text:l,background:"var(--block)",icon:a,width:"100%",align:"left",onClick:c}):n.jsx(E,{padding:"0",background:C.white.transparent2,icon:n.jsx(lI,{width:"30px",background:C.green.main,children:a}),onClick:c,text:l,width:"calc(50% - 5px)",height:"73px",direction:"vertical",shrinkTextInMobile:!0})},cI=({quantity:e=1,avatarShape:t="circle"})=>n.jsx(A,{d:"column",gap:"20px",children:Array(e).fill(0).map((i,o)=>n.jsxs(A,{gap:"16px",ai:"center",children:[n.jsx(ee,{shape:t,size:{width:"40px",height:"40px"},margin:"0"}),n.jsxs(A,{gap:"8px",d:"column",ai:"flex-start",jc:"center",h:"100%",children:[n.jsx(ee,{shape:"rect",size:{width:"90%",height:"13px"},margin:"0"}),n.jsx(ee,{shape:"rect",size:{width:"70%",height:"10px"},margin:"0"})]})]},o))});function ga(e,t){return e.length>t?`${e.substr(0,t)}...`:e}const dI="3.16.1",mg=()=>n.jsx(ve,{icon:null,type:"info",title:dI,width:"38px",fontSize:"0.65rem",padding:"7px 0px",align:"center"}),st=({color:e,children:t})=>n.jsx(It,{color:e,children:t}),uI=()=>({info:n.jsx(st,{color:"grey",children:n.jsx(Bn,{})}),message:n.jsx(st,{color:"red",children:n.jsx(wo,{})}),alert:n.jsx(st,{color:"purple",children:n.jsx(Ac,{})}),"payment-dorm":n.jsx(st,{color:"green",children:n.jsx(Bt,{})}),"payment-ed":n.jsx(st,{color:"green",children:n.jsx(Bt,{})}),"digital-services":n.jsx(st,{color:"red",children:n.jsx(L,{})}),"doc-for-review":n.jsx(st,{color:"blue",children:n.jsx(L,{})}),"hr-applications":n.jsx(st,{color:"green",children:n.jsx(L,{})}),"kpi-pps":n.jsx(st,{color:"pink",children:n.jsx(Vs,{})}),schedule:n.jsx(st,{color:"pink",children:n.jsx(Gt,{})}),"version-update":n.jsx(mg,{}),"electronic-interaction":n.jsx(st,{color:"blue",children:n.jsx(Nc,{})}),allowance:n.jsx(st,{color:"orange",children:n.jsx(Vs,{})})}),pI=p(ue).withConfig({componentId:"sc-d358r5-0"})(["width:100%;display:flex;align-items:center;padding:4px;border-radius:var(--brLight);color:var(--text);cursor:pointer;.left-icon{width:fit-content;margin-right:12px;}.content{display:flex;flex-direction:column;width:100%;.top-content{width:100%;margin-top:2px;display:flex;align-items:center;}}&:hover{background:var(--theme-1t);}"]),hI=p.div.withConfig({componentId:"sc-d358r5-1"})(["font-size:",";font-weight:500;"],({fontSize:e})=>e),gI={small:"0.8rem",middle:"0.83rem",large:"0.85rem",big:"0.86rem"},mI={small:"0.75rem",middle:"0.78rem",large:"0.79rem",big:"0.80rem"},fI={small:"0px",middle:"1px",large:"2px",big:"3px"},fg=({id:e,title:t,text:i,time:o,date:s,onClick:a,type:r,pageId:l,goTo:c,onClose:u,bottomMargin:h,closeAnimation:g=!0,loadingRemove:m=!1,canClose:x=!0,fullText:b=!0,maxLetters:v=200,size:y="middle"})=>{const j=xe(s,"short"),{close:I}=K(),[k,P]=d.useState(!1),$=D=>{D.stopPropagation(),D.preventDefault(),g?(P(!0),setTimeout(()=>{u==null||u()},300)):u==null||u()},W=()=>{a==null||a(),x&&$n.clearById({id:e,pageId:l}),I()};return n.jsx(Gc,{forceState:!k,bottomMargin:h,children:n.jsxs(pI,{to:c!=null?c:"",onClick:W,children:[n.jsx("span",{className:"left-icon",children:uI()[r]}),n.jsxs("div",{className:"content",children:[n.jsx(re,{fontSize:"0.7rem",children:n.jsx(gt,{words:[j!=null?j:"",o!=null?o:""]})}),n.jsxs(A,{d:"column",gap:fI[y],ai:"flex-start",children:[n.jsx(hI,{fontSize:gI[y],children:b?t:ga(t,v)}),n.jsx(re,{fontSize:mI[y],children:b?i:ga(i,v)})]})]}),u&&n.jsx(E,{isActive:!(m&&k),icon:n.jsx(Nt,{}),background:"var(--theme-2)",onClick:$,style:{borderRadius:"20px"}})]})})},xg=({notifications:e,loadingRemove:t})=>{if(!e||e.length===0)return null;const i=(s,a,r)=>()=>{$n.clearById({id:s,pageId:a}),r==null||r()},o=s=>s.canClose!==!1?i(s.id,s.pageId,s.onClose):void 0;return n.jsx(A,{d:"column",children:e.map((s,a)=>d.createElement(fg,_(f({size:"big",loadingRemove:t,bottomMargin:a!==e.length-1},s),{key:s.id,onClose:o(s)})))})},xI=p.div.withConfig({componentId:"sc-dixzet-0"})(["display:flex;flex-direction:column;gap:8px;width:100%;height:100%;@media (min-width:1001px){width:100%;min-width:400px;}"]),vI=({maxNotificationsVisible:e})=>{const{error:t,loading:i,notifications:o,removeNotificationError:s,removeNotificationLoading:a}=Qt.useLkNotifications();return d.useEffect(()=>{s&&Q.evokePopUpMessage({type:"failure",message:s,time:1e4})},[s]),d.useEffect(()=>{$n.clearAllVisible()},[]),n.jsxs(xI,{children:[o.length===0&&!i&&n.jsx(Yn,{height:"100%",children:n.jsx(ke,{text:t!=null?t:"Нет новых уведомлений",image:t?n.jsx(cn,{}):n.jsx(u0,{}),size:"70px"})}),n.jsxs(A,{d:"column",gap:"16px",children:[n.jsx(ve,{lineHeight:"1.2rem",type:"tip",visible:o.length!==0,children:"Вы можете отключить получение каких-либо уведомлений в настройках"}),n.jsx(xg,{notifications:e?o.slice(0,e):o,loadingRemove:a})]}),i&&n.jsx(cI,{quantity:10})]})},bI=p.div.withConfig({componentId:"sc-8qysjk-0"})(["position:relative;min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--brLight);&:hover{background:var(--theme-1t);}svg{width:22px;height:22px;color:var(--text);}"]),vg=()=>{const{close:e}=K(),{notifications:t}=Qt.useLkNotifications(),i=3;return n.jsxs(A,{d:"column",gap:"30px",w:"100%",mw:"400px",children:[n.jsxs(A,{d:"column",gap:"16px",children:[n.jsx(vI,{maxNotificationsVisible:i}),n.jsxs(re,{width:"100%",visible:t.length>i,children:["Еще ",t.length-i," ",xu(t.length-i,{one:"уведомление",twoToFour:"уведомления",fiveToNine:"уведомлений",zero:"уведомлений"}),"..."]})]}),t.length>0&&n.jsx(ue,{to:Qm,style:{width:"100%"},children:n.jsx(E,{width:"100%",text:"Показать все",onClick:e})})]})},yI=({forwardedRef:e})=>{const{notifications:t}=Qt.useLkNotifications(),{open:i}=K(),o=()=>{i(n.jsx(vg,{}),"Уведомления")};return n.jsxs(bI,{ref:e,onClick:o,children:[n.jsx(hn,{outline:"none","box-shadow":"0px 0px 0px 3px var(--block)",color:"red",top:"14px",left:"30px",visible:t.length>0,pulsing:!0,className:"notification-circle",shadow:!0,children:t.length>10?"10+":t.length}),n.jsx(Wo,{})]})},wI=p.div.withConfig({componentId:"sc-1vrx07f-0"})(["position:relative;"]),bg=()=>{const{open:e}=K(),{notifications:t}=Qt.useLkNotifications(),i=()=>Ye.close(),o=()=>{nt.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:ce.logout}),i()},s=()=>{Ye.close(),e(n.jsx(Jg,{}),"Что нового")},a=()=>{e(n.jsx(vg,{}),"Уведомления"),Ye.close()};return n.jsxs(n.Fragment,{children:[n.jsx(rP,{padding:"8px",size:"small"}),n.jsx(ye,{}),n.jsx(gg,{type:"h-button"}),n.jsx(ye,{}),n.jsx(ue,{to:Mr,children:n.jsx(E,{text:"Профиль",background:"var(--block)",icon:n.jsx(Dc,{}),width:"100%",align:"left",onClick:i,padding:"10px"})}),n.jsxs(wI,{children:[n.jsx(E,{onClick:a,icon:n.jsx(Wo,{}),text:"Уведомления",width:"100%",background:"var(--block)",align:"left",padding:"10px"}),n.jsx(hn,{visible:t.length>0,top:"50%",right:"0px",pulsing:!0,shadow:!0,children:t.length})]}),n.jsx(ue,{to:Qe,children:n.jsx(E,{text:"Настройки",background:"var(--block)",icon:n.jsx(Ca,{}),width:"100%",align:"left",onClick:i,padding:"10px"})}),n.jsx("a",{href:`${q}/index.php`,children:n.jsx(E,{text:"Старый дизайн",icon:n.jsx(Uo,{}),width:"100%",background:"var(--block)",align:"left",padding:"10px"})}),n.jsx(ye,{}),n.jsx(E,{align:"left",icon:n.jsx(Oc,{}),onClick:o,text:"Выйти",width:"100%",background:"var(--block)",padding:"10px"}),n.jsx(ye,{}),n.jsx(E,{align:"left",icon:n.jsx(mg,{}),onClick:s,text:"Что нового",width:"100%",background:"var(--block)",padding:"10px"})]})},_I=()=>{const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?"iOS":e.search("Mac")!==-1?"MacOS":e.search("X11")!==-1&&e.search("Linux")===-1?"UNIX":e.search("Linux")!==-1&&e.search("X11")!==-1?"Linux":/android/i.test(e)?"Android":"Windows"},Us=new Set,yg=(e,t)=>{d.useEffect(()=>{const i=s=>{if(!e.length)return;Us.add(s.which),!e.slice(0,e.length-1).find(r=>!Us.has(r))&&e[e.length-1]===s.which&&(s.preventDefault(),t())},o=s=>{Us.delete(s.which)};return window.addEventListener("keydown",i),window.addEventListener("keyup",o),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",o)}},[])},wg=(e,t)=>Object.values(t).reduce((i,o)=>{var s;return(Be(o.title).includes(Be(e))||o!=null&&(s=o.keywords)!==null&&s!==void 0&&s.find(a=>Be(a).includes(Be(e))))&&(i[o.id]=o),i},{}),jI=p.div.withConfig({componentId:"sc-176qinm-0"})(["display:flex;flex-direction:column;height:300px;@media (min-width:1001px){min-width:300px;width:300px;height:300px;}"]),kI=p(ue).withConfig({componentId:"sc-176qinm-1"})(["width:100%;"]),Hl=({division:e})=>{const{close:t}=K();return n.jsxs(jI,{children:[n.jsxs(A,{d:"column",gap:"12px",jc:"center",h:"100%",children:[n.jsx(It,{size:120,color:"purple",children:n.jsx(li,{})}),n.jsx(re,{fontSize:"1.2rem",align:"center",children:e})]}),n.jsx(kI,{to:`${no}/${e}`,onClick:t,children:n.jsx(E,{icon:n.jsx(ka,{}),width:"100%",text:"Список"})})]})},CI=({division:e})=>{const{data:{user:t}}=Te.useUser(),i=(t==null?void 0:t.user_status)==="staff",{subdivisions:o}=F({subdivisions:mt.subdivisions});if(!i||!o)return n.jsx(Hl,{division:e});const s=fr(o,e),a=s&&s[0];return a?n.jsx(Rt,{title:a.name,info:gr(a)}):n.jsx(Hl,{division:e})},SI=p.div.withConfig({componentId:"sc-10ox46b-0"})(["width:100%;color:var(--text);padding:0px 16px;background:var(--theme-1t);border-radius:var(--brLight);cursor:pointer;svg{min-width:30px;}&:hover{background:var(--search);}"]),II=({division:e})=>{const{open:t}=K(),i=()=>{t(n.jsx(CI,{division:e}),"Подразделение")};return n.jsx(SI,{onClick:i,children:n.jsxs(A,{gap:"8px",h:"50px",jc:"space-between",w:"100%",children:[n.jsxs(A,{gap:"8px",children:[n.jsx(li,{}),n.jsx(re,{fontSize:"1rem",children:e})]}),n.jsx(St,{})]})})},TI=({divisions:e})=>!e||e.length===0?null:n.jsx(A,{d:"column",gap:"4px",ai:"flex-start",children:e.map(t=>n.jsx(II,{division:t},t))}),EI=p.div.withConfig({componentId:"sc-1lhycr1-0"})(["display:flex;flex-direction:column;height:300px;@media (min-width:1001px){min-width:300px;width:300px;height:300px;}"]),Wl=p(ue).withConfig({componentId:"sc-1lhycr1-1"})(["width:100%;"]),Er=({group:e})=>{const{close:t}=K();return n.jsxs(EI,{children:[n.jsxs(A,{d:"column",gap:"12px",jc:"center",h:"100%",children:[n.jsx(It,{size:120,color:"lightBlue",children:n.jsx(Go,{})}),n.jsx(re,{fontSize:"1.2rem",children:e})]}),n.jsxs(A,{d:"column",gap:"8px",children:[n.jsxs(A,{gap:"8px",children:[n.jsx(Wl,{to:Xi(Jn,{page:"current",filter:e}),children:n.jsx(E,{icon:n.jsx(Gt,{}),width:"100%",text:"Расписание",background:"var(--theme-4)",onClick:t})}),n.jsx(Wl,{to:`${Bm}/${e}`,children:n.jsx(E,{icon:n.jsx(ka,{}),width:"100%",text:"Список",background:"var(--theme-4)",onClick:t})})]}),n.jsx(ws,{group:e})]})]})},PI=p.div.withConfig({componentId:"sc-9pglgy-0"})(["width:100%;color:var(--text);padding:0px 16px;background:var(--theme-1t);border-radius:var(--brLight);cursor:pointer;svg{min-width:30px;}&:hover{background:var(--search);}"]),AI=({group:e})=>{const{open:t}=K(),i=()=>{t(n.jsx(Er,{group:e}),"Группа")};return n.jsx(PI,{onClick:i,children:n.jsxs(A,{gap:"8px",h:"50px",jc:"space-between",w:"100%",children:[n.jsxs(A,{gap:"8px",h:"50px",children:[n.jsx(Go,{}),n.jsx(re,{fontSize:"1rem",children:e})]}),n.jsx(St,{})]})})},NI=({groups:e})=>e?n.jsx(A,{d:"column",gap:"4px",ai:"flex-start",children:e.map(t=>n.jsx(AI,{group:t},t))}):null,Hs=[{title:"Инструкции",links:[{link:q+"/storage/files/instruction_business_trip_docs.docx",title:"Инструкция для командируемых работников",icon:""},{link:q+"/storage/files/Instruktsiya_po_podkljucheniju_k_VPN.pdf",title:"Как самостоятельно подключиться к VPN",icon:"https://icon-library.com/images/vpn-icon-png/vpn-icon-png-18.jpg"},{link:q+"/storage/files/Osnaschenie_auditorij_Wi-Fi_i_proektorami.pdf",title:"Сведения об оснащении аудиторий проекторами и WiFi",icon:"https://iconsplace.com/wp-content/uploads/_icons/fa8072/256/png/wifi-icon-15-256.png"},{link:q+"/storage/files/Instruktsiya_po_sozdaniju_videozapisi_ekzamenov__provodimyh_v_onlajn-formate_4.pdf",title:"КАК СДЕЛАТЬ ВИДЕОЗАПИСЬ ЭКЗАМЕНА (WEBEX, TEAMS)",icon:"https://lh3.googleusercontent.com/-fISFqYToaYY/YNMY2EpjZuI/AAAAAAAAAqI/vBY0kGYsLf0EuJPV-jv5TXMtxkAfdm0twCLcBGAsYHQ/s400/128x128%2BCisco%2BWebex.png"},{link:q+"/storage/files/Instruktsiya_po_ispolzovaniju_Servisa_Pechati.pdf",title:"Как использовать сервис печати",icon:"https://freeiconshop.com/wp-content/uploads/edd/print-flat.png"},{link:q+"/storage/files/Instruktsiya_dostupa_k_internetu_v_auditoriyah.pdf",title:"Как подключиться к WiFi в аудитории",icon:"https://iconsplace.com/wp-content/uploads/_icons/fa8072/256/png/wifi-icon-15-256.png"},{link:q+"/storage/files/Instruktsiya_dlya_podkljucheniya_k_proektoru_.pdf",title:"Как подключиться к проектору",icon:"https://freeiconshop.com/wp-content/uploads/edd/print-flat.png"},{link:q+"/storage/files/Instruktsiya_po_zapolneniju_sposoba_distantsionnogo_provedeniya_zanyatij_v3.pdf",title:"Как внести webinar в расписание",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya_po_obnovleniju_kontaktnyh_dannyh_prepodavatelej.pdf",title:"Как изменить контакты ППС в расписании",icon:"https://icons.iconarchive.com/icons/wikipedia/flags/256/RU-Russia-Flag-icon.png"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как пользоваться курсом в LMS",icon:"https://online.mospolytech.ru/theme/opentechnology/pix/favicon.ico"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как дать доступ студентам на курс в LMS",icon:"https://online.mospolytech.ru/theme/opentechnology/pix/favicon.ico"},{link:q+"/storage/files/Dostup_rabotnikov_k_oblachnym_servisam_Microsoft.pdf?1",title:"Доступ к облачным сервисам Microsoft",icon:"https://cdn.icon-icons.com/icons2/195/PNG/256/Microsoft_23401.png"},{link:q+"/storage/files/Rabota_PPS_v_Microsoft_Teams.pdf?1",title:"Как пользоваться Office365 и Teams для онлайн-траснляций и проектной работы",icon:"https://pcprogs.net/uploads/posts/2021-08/1627783088_microsoft-office-2021-icon.png"},{link:q+"/storage/files/Ispolzovanie_rabotnikami_Microsoft_OneDrive_v_Moskovskom_Politehe.pdf?1",title:"Доступ к Microsoft OneDrive для работников и обучающихся Московского Политеха",icon:"https://cdn.iconscout.com/icon/free/png-256/onedrive-9-1174819.png"},{link:"https://webinar.ru/blog/wp-content/uploads/2020/08/Metodichka_Webinar_na_200.pdf",title:"Как проводить вебинары",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:"https://www.youtube.com/watch?v=fcCS20ogo6E&feature=youtu.be&ab_channel=%D0%9C%D0%BE%D1%81%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9%D0%9F%D0%BE%D0%BB%D0%B8%D1%82%D0%B5%D1%85",title:"Как использовать вебинар на занятиях (краткая видеоинструкция)",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya_po_nastrojke_chata_vebinara.pdf",title:"Как настроить чат вебинара",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Gde_najti_kovorkingi_-_tam_est_WiFi__stoly__pufy_i_rozetki.pdf",title:"Практикумы Webinar - как проводить вебинары (видеоинструкции)",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya_po_polucheniju_videozapisi_provedennogo_Vebinara.pdf",title:"Как получить запись прошедшего webinar",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya__videozapis_lektsij.pdf",title:"Как записать видеолекцию",icon:"https://cdn.iconscout.com/icon/free/png-256/circle-geometric-red-round-37922.png"},{link:q+"/storage/files/Instruktsiya_po_sozdaniju_videozapisi_ekzamenov__provodimyh_v_onlajn-formate_4.pdf",title:"Как сделать видеозапись экзамена (Webex, Teams)",icon:"https://lh3.googleusercontent.com/-fISFqYToaYY/YNMY2EpjZuI/AAAAAAAAAqI/vBY0kGYsLf0EuJPV-jv5TXMtxkAfdm0twCLcBGAsYHQ/s400/128x128%2BCisco%2BWebex.png"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как пользоваться внешними ЭБС",icon:"https://cdn-icons-png.flaticon.com/128/2232/2232688.png"},{link:q+"/storage/files/Dostup_k_sisteme_Antiplagiat.pdf",title:"Как получить доступ к системе Антиплагиат",icon:"https://www.antiplagiat.ru/favicon-1069bb8b8557d91de9974904a33270de.ico"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Инструкция по работе преподавателя с Антиплагиат (видео)",icon:"https://www.antiplagiat.ru/favicon-1069bb8b8557d91de9974904a33270de.ico"}]},{title:"Приказы",links:[{link:q+"/storage/files/orders_staff/Prikaz_o_sozdanii_ekspertnoj_komissii.pdf",title:"Приказ по основной деятельности от 29.04.2021 № 467-ОД «О создании экспертной комиссии»",icon:de},{link:q+"/storage/files/Prikaz_po_osnovnoj_deyatelnosti_No_0793-OD_ot_02_09_2021_O_provedenii_obschih_sobranij_i_konferentsii_(2145965_v3).PDF",title:"Приказ от 02.09.2021 № 793-ОД «О проведении общих собраний и конференции»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_o_vnesenii_izmenenij_v_sostav_konkursnoj_komissii_ot_31_01_2020.PDF",title:"Приказ по основной деятельности от 31.01.2020 № 159-ОД «О внесении изменений в состав конкурсной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_ob_utverzhdenii_perechnya_dolzhnostej_rabotnikov_s_nenormirovannym_rabochim_dnem_No_0441-OD_ot_18_03_2020.pdf",title:"Приказ по основной деятельности от 18.03.2020 № 441-ОД «Об утверждении перечня должностей работников с ненормированным рабочим днем»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0157-OD_ot_31_01_2020_O_vnesenii_izmenenij_v_sostav_Attestatsionnoj_komissii_(1450119_v1).PDF",title:"Приказ по основной деятельности от 31.01.2020 № 157-ОД «О внесении изменений в состав аттестационной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0381-OD_ot_29_05_2019_O_vnesenii_izmenenij_v_sostav_Konkursnoj_komissii_(1216181_v2).PDF",title:"Приказ по основной деятельности от 29.05.2019 № 381-ОД «О внесении изменений в состав конкурсной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_Prikaz_po_tabelju_(1411371_v2).pdf",title:"Приказ по основной деятельности от 13.12.2019 № 1443-ОД «О своевременном предоставлении табеля учета использования рабочего времени»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0034-OD_ot_25_01_2018_o_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(710601_v2).pdf",title:"Приказ по основной деятельности от 25.01.2018 № 34-ОД «О внесении изменений в состав аттестационной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0381-OD_ot_20_06_2018_O_sozdanii_konkursnoj_komissii_(807541_v2).pdf",title:"Приказ по основной деятельности от 20.06.2018 № 381-ОД  «О внесении изменений в состав конкурсной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0507-OD_ot_14_06_2017_o_vnesenii_izmenenij_v_sostav_konkursnoj_komissii_(600355_v2).PDF",title:"Приказ по основной деятельности от 14.06.2017 № 507-ОД «О внесении изменений в состав конкурсной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0625-OD_ot_13_08_2018_O_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(840701_v2).pdf",title:"Приказ по основной деятельности от 13.08.2018 № 625-ОД «О внесении изменений в состав аттестационной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_1129-OD_ot_22_11_2018_O_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(939494_v4).PDF",title:"Приказ по основной деятельности от 22.11.2018 № 1129-ОД «О внесении изменений в состав аттестационной комиссии»",icon:de},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_1210-OD_ot_17_12_2018_O_vnesenii_izmenenij_v_sostav_Konkursnoj_komissii_(950151_v2).pdf",title:"Приказ по основной деятельности от 17.12.2018 № 1210-ОД «О внесении изменений в состав конкурсной комиссии»",icon:de}]},{title:"Положения",links:[{link:q+"/storage/files/Polozhenie_o_materialnoj_otvetstvennosti_rabotnikov_Moskovskogo_Politeha.pdf",title:"Положение о материальной ответственности работников Московского Политеха",icon:de},{link:q+"/storage/files/stats/Polozhenie_o_poryadke_zamescheniya_dolzhnostej_PPS_(2005001_v1).pdf",title:"Положение о порядке замещения должностей ППС",icon:de},{link:q+"/storage/files/stats/Polozhenie_o_sisteme_otbora_kandidatov__PPS.pdf",title:"Положение о системе отбора кандидатов ППС",icon:de},{link:q+"/storage/files/stats/Kodeks_etiki_i_sluzhebnogo_povedeniya_(355118_v2).pdf",title:"Кодекс этики и служебного поведения работников",icon:de},{link:q+"/storage/files/stats/polozhenie_o_dk_2017.pdf",title:"Положение о дисциплинарной комиссии по обучающимся",icon:de},{link:q+"/storage/files/stats/Polozhenie_o_komissii_po_upravleniju_RID_(1242395_v2).pdf",title:"Положение о комиссии по управлению правами на результаты интеллектуальной деятельности",icon:de},{link:q+"/storage/files/stats/Polozhenie_o_poryadke_provedeniya_attestatsii_rabotnikov__zanimajuschih_dolzhnosti_professorsko-prepodavatelskogo_sostava.pdf",title:"Положение о порядке проведения аттестации работников, занимающих должности профессорско-преподавательского состава",icon:de},{link:q+"/storage/files/stats/Polozhenie_ob_antikorruptsionnoj_politike_No_0498-OD_ot_06042020.PDF",title:"Положение об антикоррупционной политике",icon:de},{link:q+"/storage/files/stats/Polozhenie_ob_attestatsii_rabotnikov___(674754_v2).pdf",title:"Положение о порядке проведения аттестации работников",icon:de},{link:q+"/storage/files/stats/Polozhenie_ob_otpuskah_(Novyj)_(686482_v1).pdf",title:"Положение о порядке предоставления отпусков работникам",icon:de},{link:q+"/storage/files/stats/Polozhenie_v_otnoshenii_obrabotki_personalnyh_dannyh__(377893_v2_).pdf",title:"Положение об обработке и защите персональных данных",icon:de},{link:q+"/storage/files/stats/Polozheniya_o_protsedure_izbraniya_vyborov_dekanov_fakultetov_i_zavedujuschih_kafedrami_(643622_v1).PDF",title:"Положение о процедуре избрания деканов факультетов и заведующих кафедрами",icon:de},{link:q+"/storage/files/stats/Polozhenie_ob_Uchenom_sovete_Prikaz_No_0682-OD_ot_05_06_2020.PDF",title:"Положение об Ученом совете",icon:de},{link:q+"/storage/files/stats/Prikaz_po_osnovnoj_deyatelnosti_No_2257-OD_ot_08_12_2020_Ob_utverzhdanii_LNA__regulirujuschie_sotsialno-trudovye_otn_(1830969_v4).pdf",title:"Локальные нормативные акты, регулирующие социально-трудовые отношения",icon:de},{link:q+"/storage/files/stats/Poryadok_oformleniya_pochasovoj_oplaty.pdf",title:"Порядок оформления почасовой оплаты",icon:de}]}];var Xe=(e=>(e.information="information",e.instructions="instructions",e.courses="courses",e.security="security",e.orders="orders",e.regulations="regulations",e))(Xe||{});const oi={information:"Общая",instructions:"Инструкции",courses:"Курсы",security:"Безопасность",orders:"Приказы",regulations:"Положения"},DI=[{id:Xe.information,title:oi[Xe.information],visible:"all",content:[{title:"Учёба",links:[{title:"Промежуточная аттестация",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Vremennoe_polozhenie_o_provedenii_tekuschego_kontrolya_uspevaemosti_i_promezhutochnoj_attestatsii_obuchajuschihsya_v_usloviyah_obespecheniya_rezhima_izolyatsii_v_tselyah_predotvrascheniya_rasprostraneniya_koronavirusnoj_infektsii.pdf"},{title:"Оплата обучения",visible:"student",href:"https://mospolytech.ru/obuchauschimsya/oplata-obucheniya/?sphrase_id=311027"},{title:"Программы дополнительного профессионального образования",visible:"all",href:"https://study.mospolytech.ru/dpo"},{title:"Международные программы",visible:"student",href:"https://mospolytech.ru/mejdunarodnaya-deyatelnost/mezhdunarodnye-stazhirovki/"},{title:"Дополнительное образование",visible:"student",href:"https://mospolytech.ru/dop-obrazovanie/povyshenie-kvalifikacii-i-professionalnaya-perepodgotovka/"},{title:"Электронная библиотека Московского Политеха",visible:"staff",href:"https://online.mospolytech.ru/course/view.php?id=7621"},{title:"Библиотечно-информационный центр",visible:"all",href:"https://new.mospolytech.ru/obuchauschimsya/biblioteka/"},{title:"Электронный каталог библиотеки Электростальского института",visible:"all",href:"http://lib.elpol.ru"},{title:"Образовательные программы",visible:"all",href:"https://mospolytech.ru/sveden/education/educationplan/"}]},{title:"Воинский учёт",visible:"student",links:[{title:"Военнообязанным и призывникам",visible:"student",href:"https://mospolytech.ru/obuchauschimsya/voennoobyazannym-i-prizyvnikam/"},{title:"Единый пункт призыва",visible:"student",href:"https://www.mos.ru/city/projects/prizyv/"}]},{title:"Общежития",links:[{title:"Правила внутреннего распорядка в студенческом городке",visible:"all",href:"https://mospolytech.ru/upload/medialibrary/c01/Pravila-vnutrennego-rasporyadka-v-studencheskom-gorodke-Moskovskogo-Polytecha-(23092022).pdf"}]},{title:"Наука",links:[{title:"Анонсы научных мероприятий",visible:"all",href:"https://mospolytech.ru/nauchnaya-deyatelnost/obyavleniya/"},{title:"Как получить патент",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Uvedomlenie_o_sozdanii_RID_(standartnoe).docx"},{title:"Рекомендации по использованию Scopus для подготовки отчетности о результатах публикационной активности организации",visible:"all",href:"https://www.elsevier.com"},{title:"Список низкорейтинговых журналов",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Discontinued-sources-from-Scopus.xlsx"},{title:"SciVal онлайн-платформа для мониторинга и анализа международных научных исследований",visible:"all",href:"https://www.scival.com/landing"},{title:"Студенческое научно-техническое общество",visible:"staff",href:"http://snto.mospolytech.ru"}]},{title:"Внеучебная деятельность",links:[{title:"Спортивная деятельность",visible:"student",href:"https://mospolytech.ru/studencheskaya-zhizn/sportivnaya-deyatelnost/"},{title:"Расписание спортивных секций",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Sportivnye_Sektsii_Mospoliteha.pdf"},{title:"Студенческая жизнь",visible:"student",href:"https://mospolytech.ru/studencheskaya-zhizn/o-studencheskoy-jizni/?sphrase_id=311039"},{title:"Профорганизация",visible:"all",href:"https://profkommospolytech.ru"},{title:"Студенческое научно-техническое общество",visible:"student",href:"http://snto.mospolytech.ru"},{title:"Формула Студент",visible:"all",href:"http://fdr.mospolytech.ru"},{title:"Медицинское обслуживание",visible:"all",href:"https://mospolytech.ru/studencheskaya-zhizn/medical-help/medicinskaya-slujba/"},{title:"Центр подготовки водителей (автошкола)",visible:"student",href:"https://mospolytech.ru/dop-obrazovanie/avtoshkola/"},{title:"Яхт-клуб",visible:"all",href:"https://mospolytech.ru/studencheskaya-zhizn/sportivnaya-deyatelnost/yaht-klub/"},{title:"Многофункциональный центр",visible:"all",href:"https://mospolytech.ru/obuchauschimsya/mnogofunkcionalnyy-centr/"}]}]},{id:Xe.instructions,title:oi[Xe.instructions],visible:"all",content:[{title:"Инструкции",links:[{title:"Инструкция по получению логина и пароля единой учётной записи студентов первого курса",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/stud_login_instruction.pdf?1"},{title:"Как подключиться к городскому WiFi",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_podkljuchitsya_k_gorodskomu_WiFi.pdf"},{title:"Мобильное приложение Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/MP_mobile_app_instruction.pdf"},{title:"График выбора общежития",visible:"student",href:"https://mospolytech.ru/upload/files/Dormitory_select_2022.docx"},{title:"Памятка по действия в экстремальных ситуациях",visible:"student",href:"https://mospolytech.ru/upload/files/Pamyatka_ekstr_sit.docx"},{title:"Как пользоваться Office365 и Teams для онлайн-траснляций и проектной работы",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Rabota_obuchajuschihsya_v_Microsoft_Teams.pdf?1"},{title:"Доступ к облачным сервисам Microsoft",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Dostup_studentov_k_oblachnym_servisam_Microsoft.pdf?1"},{title:"Доступ к Microsoft OneDrive для обучающихся Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Ispolzovanie_studentami_Microsoft_OneDrive_v_Moskovskom_Politehe.pdf?1"},{title:"Как студенту получить доступ к курсу в LMS",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_studentu_poluchit_dostup_k_kursu_v_LMS.pdf"},{title:"Инструкция по использованию платного Сервиса Печати Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Instruktsiya_po_ispolzovaniju_Servisa_Pechati_Moskovskogo_Politeha_dlya_studentov_(2).pdf"},{title:"Информация для старост групп. Как вести трансляцию очных занятий для тех, кого нет в аудитории",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_vesti_translyatsii_zanyatij_dlya_nahodyaschihsya_za_predelami_RF.pdf"},{title:"Как смотреть трансляции занятий, находясь за пределами РФ",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_smotret_translyatsii_zanyatij__nahodyas_za_predelami_RF(1).pdf"},{title:"How to watch lectures online (for the students located outside the Russian Federation)",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/BROADCASTING.pdf"},{title:"Где найти коворкинги - там есть WiFi, столы, пуфы и розетки",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Gde_najti_kovorkingi_-_tam_est_WiFi__stoly__pufy_i_rozetki.pdf"},...Hs[0].links.map(e=>_(f({},e),{href:e.link,visible:"staff"}))]}]},{id:Xe.instructions,title:"Положения",visible:"all",content:[{title:"Положения",links:[{title:"Порядок предоставления каникул после прохождения итоговой аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Poryadok_predostavleniya_kanikul_posle_prohozhdeniya_itogovoj_attestatsii.pdf"},{title:"Положение о проектной деятельности обучающихся",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_proektnoj_deyatelnosti_obuchajuschihsya_(s_prilozheniyami).pdf"},{title:"Положение о комиссии по противодействию коррупции Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_komissii_po_protivodejstviju_korruptsii_Moskovskogo_Politeha.pdf"},{title:"Положение о проведении текущего контроля успеваемости и промежуточной аттестации обучающихся в условиях обеспечения режима изоляции в целях предотвращения распространения коронавирусной инфекции",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_provedenii_tekuschego_kontrolya_uspevaemosti_i_promezhutochnoj_attestatsii_obuchajuschihsya_v_usloviyah_obespecheniya_rezhima_izolyatsii_v_tselyah_predotvrascheniya_rasprostraneniya_koronavirusnoj_infektsii.pdf"},{title:"Положение о проведении государственной итоговой аттестации с применением электронного обучения и ДОТ",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_provedenii_gosudarstvennoj_itogovoj_attestatsii_s_primeneniem_elektronnogo_obucheniya_i_DO.pdf"},{title:"Положение о комиссии по урегулированию споров между участниками образовательных отношений",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_komissii_po_uregulirovaniju_sporov.pdf"},{title:"Положение об организации образовательного процесса",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_ob_organizacii_obrazovatelnogo_processa.pdf"},{title:"Положение о дисциплинарной комиссии",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_distsiplinarnoj_komissii.pdf"},{title:"Положение о заполнении вакантных мест",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_zapolnenii_vakantnyh_mest.pdf"},{title:"Положение о порядке зачета результатов освоения обучающимися учебных дисциплин и практик при переводе, восстановлении, получении последующего образования",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_O_poryadke_zacheta_2023.pdf"},{title:"Положение о порядке оказания материальной поддержки нуждающимся обучающимся",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_poryadke_okazaniya_materialnoj_podderzhki_nuzhdajuschimsya_obuchajuschimsya.pdf"},{title:"Положение о порядке проведения государственной итоговой аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_poryadke_provedeniya_gosudarstvennoj_itogovoj_attestatsii.pdf"},{title:"Положение о стипендиальном обеспечении и других формах материальной поддержки",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_stipendialnom_obespechenii_i_drugih_formah_materialnoj_podderzhki.pdf"},{title:"Положение об освоении факультативных и элективных дисциплин",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_ob_osvoenii_fakultativnyh_i_elektivnyh_distsiplin.pdf"},{title:"Положение об обучении по индивидуальному учебному плану, в том числе об ускоренном обучении",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_ob_obuchenii_po_individualnomu_uchebnomu_planu__v_tom_chisle_ob_uskorennom_obuchenii.pdf?1"},{title:"Порядок подачи и рассмотрения апелляции о нарушении процедуры проведения государственного аттестационного испытания или несогласии с его результатами",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Poryadok_podachi_i_rassmotreniya_apellyatsii_o_narushenii_protsedury_provedeniya_gosudarstvennogo_attestatsionnogo_ispytaniya_ili_nesoglasii_s_ego_rezultatami.pdf"},{title:"Положение о промежуточной аттестации аспирантов",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_promezhutochnoj_attestatsii_aspirantov.pdf"},{title:"Положение о порядке проведения государственной итоговой аттестации по аспирантуре",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_poryadke_provedeniya_gosudarstvennoj_itogovoj_attestatsii_po_aspiranture.pdf"}]}]},{id:Xe.instructions,title:"Правила",visible:"all",content:[{title:"Правила",links:[{title:"Правила внутреннего распорядка в студенческом городке",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Pravila_vnutrennego_rasporyadka_v_studencheskom_gorodke.pdf"},{title:"Правила внутреннего распорядка обучающихся",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Pravila_vnutrennego_rasporyadka_obuchajuschihsya.pdf"},{title:"Приказ от 25.01.2021 № 89-ОД «Об изменении  Правил внутреннего распорядка обучающихся»",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Prikaz_ot_25_01_2021_No_89-OD_Ob_izmenenii_Pravil_vnutrennego_rasporyadka_obuchajuschihsya.pdf"}]}]},{id:Xe.instructions,title:"Бланки заявлений",visible:"student",content:[{title:"МФЦ",links:[{title:"Заявление в комиссию по урегулированию споров",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_v_komissiju_po_sporam_2022.pdf"},{title:"Заявление на апелляцию по  результатам ГИА",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_apellyatsiju_po_rezultatam_GIA.pdf"},{title:"Заявление на апелляцию по результатам  промежуточной аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_apellyatsiju_po_rezultatam_promezhutochnoj_attestatsii.pdf"},{title:"Заявление на восстановление студенческого билета,  зачетной книжки, удостоверения аспиранта",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_vosstanovlenie_studencheskogo_bileta__zachetnoj_knizhki__udostovereniya_aspiranta.pdf"},{title:"Заявление на выдачу документов о предыдущем  образовании",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_vydachu_dokumentov_o_predyduschem_obrazovanii.pdf?1"},{title:"Заявление  на предоставление академического отпуска",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_predostavlenie_akademicheskogo_otpuska.pdf?2"},{title:"Заявление на выход из академического отпуска",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_vyhod_iz_akademicheskogo_otpuska.pdf?2"},{title:"Заявление  на изменение персональных данных",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_izmenenie_personalnyh_dannyh.pdf"},{title:"Заявление  на отчисление",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_otchislenie.pdf?1"},{title:"Заявление на получение выписки из приказа",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_poluchenie_vypiski_iz_prikaza.pdf"},{title:"Заявление на продление промежуточной аттестации или ГИА",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_prodlenie_promezhutochnoj_attestatsii_ili_GIA.pdf"},{title:"Заявление на продление сроков повторной промежуточной аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_na_prodlenie_srokov_povtornoj_promezhutochnoj_attestatsii.pdf"},{title:"Заявление о переводе из группы в группу без  изменения направления, формы и основы обучения",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_o_perevode_iz_gruppy_v_gruppu_bez_izmeneniya_napravleniya__formy_i_osnovy_obucheniya.pdf"},{title:"Заявление  о перезачете дисциплин",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_o_perezachete_distsiplin.pdf"},{title:"Заявление о предоставлении каникул в связи с  окончанием университета",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_o_predostavlenii_kanikul_v_svyazi_s_okonchaniem_universiteta.pdf"},{title:"Заявление о переводе на индивидуальный учебный план",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_o_perevode_na_individualnyj_uchebnyj_plan.pdf?2"},{title:"Заявление на пересдачу для получения диплома с отличием",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_na_peresdachu_dlya_polucheniya_diploma_s_otlichiem.pdf?1"}]},{title:"Общежитие",links:[{title:"Форма 1 - заявление о предоставлении права проживания в студгородке для обучающихся университета",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_1_-_zayavlenie_o_predostavlenii_prava_prozhivaniya_v_studgorodke_dlya_obuchajuschihsya_universiteta.pdf"},{title:"Форма 3 - заявление о предоставлении права проживания в изолированном жилом помещении для обучающихся университета",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_3_-_zayavlenie_o_predostavlenii_prava_prozhivaniya_v_izolirovannom_zhilom_pomeschenii_dlya_obuchajuschihsya_universiteta.pdf"},{title:"Форма 5 - заявление о расторжении договора найма жилого помещения и отмене права проживания в студгородке",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_5_-_zayavlenie_o_rastorzhenii_dogovora_najma_zhilogo_pomescheniya_i_otmene_prava_prozhivaniya_v_studgorodke.pdf"},{title:"Форма 6 - заявление о переселении из одного жилого помещения в другое",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_6_-_zayavlenie_o_pereselenii_iz_odnogo_zhilogo_pomescheniya_v_drugoe.pdf"},{title:"Форма 7 - заявление о временном проживании гостей в студгородке",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_7_-_zayavlenie_o_vremennom_prozhivanii_gostej_v_studgorodke_(1).pdf"},{title:"Форма 8 - заявление о проходе гостей на территорию студгородка",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_8_-_zayavlenie_o_prohode_gostej_na_territoriju_studgorodka.pdf"},{title:"Форма 9 - заявление о предоставлении права пользования жилым помещением и коммунальными услугами в студгородке бесплатно",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_9_-_zayavlenie_o_predostavlenii_prava_polzovaniya_zhilym_pomescheniem_i_kommunalnymi_uslugami_v_studgorodke_besplatno.pdf"}]}]},{id:Xe.regulations,title:oi[Xe.regulations],visible:"staff",content:[{title:"Положения",links:[...Hs[2].links.map(e=>_(f({},e),{href:e.link,visible:"staff"}))]}]},{id:Xe.orders,title:oi[Xe.orders],visible:"staff",content:[{title:"Приказы",links:[...Hs[1].links.map(e=>_(f({},e),{href:e.link,visible:"staff"}))]}]},{id:Xe.courses,title:oi[Xe.courses],visible:"student",content:[{title:"Курсы",links:[{title:"Современного курсостроения",visible:"student",href:"https://project.lektorium.tv/howtomooc"}]}]}],ma=(e,t)=>t.reduce((i,o)=>{const s=o.links.filter(a=>Be(a.title).includes(Be(e)));return s.length&&i.push({title:o.title,links:s}),i},[]),OI=p.div.withConfig({componentId:"sc-12syjwk-0"})(["width:calc(100% - 2px);padding:16px;margin:1px;border-radius:var(--brLight);background:var(--block-content);box-shadow:var(--block-shadow);padding:16px;a{font-size:0.95rem;}"]),fa=({blocks:e,isStaff:t})=>e?n.jsx(n.Fragment,{children:e.map(({title:i,links:o,visible:s},a)=>s==="staff"&&!t||s==="student"&&t?null:n.jsxs(OI,{children:[n.jsx(M,{size:4,align:"left",bottomGap:"16px",children:i}),n.jsx($e,{gap:16,children:o.map(({title:r,href:l,visible:c},u)=>c==="staff"&&!t||c==="student"&&t?null:n.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:r},r+u))})]},i+a))}):null,Lo=e=>Array.isArray(e)?e==null?void 0:e.length:Object.keys(e!=null?e:{}).length,_g=(e,t)=>{const i=t.toLowerCase();if(e.length===0)return[];const o=[];return e.forEach(s=>{var a,r;((a=s.head)!==null&&a!==void 0&&(a=a.post)!==null&&a!==void 0&&a.toLowerCase().includes(i)||(r=s.head)!==null&&r!==void 0&&(r=r.fio)!==null&&r!==void 0&&r.toLowerCase().includes(i))&&o.push(s.head),s.staff.forEach(c=>{var u,h;((u=c.post)!==null&&u!==void 0&&u.toLowerCase().includes(i)||(h=c.fio)!==null&&h!==void 0&&h.toLowerCase().includes(i))&&o.push(c)});const l=_g(s.subdivs,i);o.push(...l)}),ap(o,"guid_person")},LI=({title:e,blocks:t,isStaff:i})=>{const[o,s]=d.useState(null);return n.jsxs($e,{children:[n.jsx(Ha,{placeholder:`Поиск по ${e}`,whereToSearch:t,searchEngine:ma,setResult:s,validationCheck:!0}),n.jsx(fa,{blocks:o!=null?o:t,isStaff:i}),(o==null?void 0:o.length)===0&&n.jsx(ke,{text:"Ничего не найдено"})]})},zI=()=>n.jsx(Yn,{padding:"10px",children:n.jsx(wn,{children:n.jsx(LI,{blocks:Pr,title:"материалам",isStaff:!1})})}),Pr=[{title:"Полезные материалы",links:[{title:"Действия работников и обучающихся при вооруженном нападении на учебный корпус (антитеррористическая защищенность)",visible:"all",href:"https://youtu.be/cH7-sC7kRwc"},{title:"Если оказались на территории вуза в момент наступившей чрезвычайной ситуации",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_2_Esli_okazalis_na_territorii_vuza_v_moment_nastupivshej_chrezvychajnoj_situatsii.pdf"},{title:"Памятка «Подозрительный предмет»",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_3_Podozritelnyj_predmet.pdf"},{title:"Памятка студента по действиям в экстремальных ситуациях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Metodicheskie_ukazaniya_i_pamyatki_4_Pamyatka_studenta_po_dejstviyam_v_ekstremalnyh_situatsiyah.pdf"},{title:"Алгоритм действий при возникновении паники в толпе или в месте массового пребывания людей",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_5_Algoritm_dejstvij_pri_vozniknovenii_paniki_v_tolpe_ili_v_meste_massovogo_prebyvaniya_ljudej.PDF"},{title:"Безопасность в экстремальных и чрезвычайных ситуациях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_6_Bezopasnost_v_ekstremalnyh_i_chrezvychajnyh_situatsiyah.PDF"},{title:"Как понять, что материал экстремистский, и что с этим делать",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_7_Kak_ponyat__chto_material_ekstremistskij__i_chto_s_etim_delat.PDF"},{title:"Последствия и ответственность за ложное сообщение об акте терроризма",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_8_Posledstviya_i_otvetstvennost_za_lozhnoe_soobschenie_ob_akte_terrorizma.PDF"},{title:"Последствия участия в несогласованных митингах и протестных акциях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_9_Posledstviya_uchastiya_v_nesoglasovannyh_mitingah_i_protestnyh_aktsiyah.PDF"},{title:"Признаки вербовки в экстремистскую организацию и как с этим справиться",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_10_Priznaki_verbovki_v_ekstremistskuju_organizatsiju_i_kak_s_etim_spravitsya.PDF"},{title:"Что делать, если вы обнаружили бесхозный предмет",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_11_Chto_delat__esli_vy_obnaruzhili_beshoznyj_predmet.PDF"}]}],RI=Object.freeze(Object.defineProperty({__proto__:null,default:zI,safetyPages:Pr},Symbol.toStringTag,{value:"Module"})),Gl=({people:e,type:t})=>!e||e.length===0?null:n.jsx(A,{d:"column",children:e.map(i=>{var o;return d.createElement(Zi,_(f({id:"guid_person"in i?i.guid_person:i.id,name:i.fio,type:t},i),{key:"id"in i?i.id:i.guid_person,division:"division"in i?i.division:"job"in i?(o=i.job.find(s=>s.post===i.post))===null||o===void 0?void 0:o.subdivision:""}))})}),$I=()=>{const{allRoutes:e}=bt.useMenu(),{notifications:t,removeNotificationLoading:i}=Qt.useLkNotifications(),{data:{user:o}}=Te.useUser(),s=F(mt.subdivisions),a=(o==null?void 0:o.user_status)==="staff",r=d.useMemo(()=>DI.flatMap(({visible:V,content:H})=>V==="staff"&&a||V==="student"&&!a||V==="all"?H.map(U=>_(f({},U),{links:U.links.filter(B=>B.visible==="all"||B.visible==="staff"&&a||B.visible==="student"&&!a)})):null).filter(V=>V!==null),[a]),[l,c]=d.useState(null),[u,h]=d.useState(null),[g,m]=d.useState(null),[x,b]=d.useState(null),[v,y]=d.useState(null),[j,I]=d.useState(null),[k,P]=d.useState(null),[$,W]=d.useState(null),D=[{title:"Разделы",content:n.jsx(s1,{pages:v,showNotFound:!1}),clear:()=>{y(null)},search:V=>{if(e){const H=wg(V,e);y(H)}},data:v},{title:"Студенты",content:n.jsx(Gl,{people:x,type:"stud"}),data:x,clear:()=>{b(null)},search:V=>T(void 0,null,function*(){const{data:H}=yield td(V,"",1,20);b(H.items)})},{title:"Сотрудники",content:n.jsx(Gl,{people:g,type:"staff"}),data:g,clear:()=>{m(null)},search:V=>T(void 0,null,function*(){if(a){if(!s)return;const H=_g(s,V);m(H)}else{const{data:H}=yield ed(V,"",1,20);m(H.items)}})},{title:"Группы",content:n.jsx(NI,{groups:l}),data:l,clear:()=>{c(null)},search:V=>T(void 0,null,function*(){const{data:H}=yield Qs(V);c(H.items)})},{title:"Подразделения",content:n.jsx(TI,{divisions:u}),data:u,clear:()=>{h(null)},search:V=>T(void 0,null,function*(){const{data:H}=yield Qo(V);h(H.items)})},{title:"Уведомления",content:n.jsx(xg,{notifications:j,loadingRemove:i}),clear:()=>{I(null)},search:V=>{const H=t.filter(U=>Be(U.title).includes(V));I(H)},data:j},{title:"Полезная информация",content:n.jsx(fa,{blocks:k,isStaff:a}),clear:()=>{P(null)},search:V=>{const H=ma(V,r);P(H)},data:k},{title:"Безопасность",content:n.jsx(fa,{blocks:$,isStaff:a}),clear:()=>{W(null)},search:V=>{const H=ma(V,Pr);W(H)},data:$}];return[(()=>{const{content:V,clear:H,data:U}=D.reduce((B,ae,be)=>{const Ne=be===D.length-1;return Lo(ae.data)&&(B.data.push(ae.data),B.content.push(n.jsxs(A,{d:"column",gap:"8px",p:Ne?"0 0 0.5rem 0":"0",children:[n.jsx(M,{size:4,align:"left",children:ae.title}),ae.content,!Ne&&n.jsx(ye,{})]}))),B.clear.push(ae.clear),B},{content:[],clear:[],data:[]});return{title:"Все",content:V,clear:()=>H.map(B=>B()),search:B=>T(void 0,null,function*(){D[0].search(B),B.length<=8&&/\d|[-]/g.test(B)?yield D[3].search(B):(D[5].search(B),D[6].search(B),D[7].search(B),Lo(D[0].data)===0&&(yield D[1].search(B),yield D[2].search(B),yield D[4].search(B)))}),data:U}})(),...D]},MI=()=>{var e;return JSON.parse((e=localStorage.getItem(te.SearchHistory))!==null&&e!==void 0?e:"[]")},FI=()=>{const e=$I(),[t,i]=d.useState(0),[o,s]=d.useState(""),a=d.useMemo(()=>MI(),[]),r=m=>T(void 0,null,function*(){e[t].clear();const x=Nd(m)?Ad(m):m;yield e[t].search(x),x.length>0&&!a.includes(x)&&(a.unshift(x),a.length>8&&a.pop(),localStorage.setItem(te.SearchHistory,JSON.stringify(a)))}),[l,c,u]=es({onDebounce:r,delay:400,defaultValue:"",deps:[t.toString()],triggerDelay:200,triggerOn:m=>(s(m),m.length>0&&(o!==m||!e[t].data))}),h=!u&&!l.length,g=!!l.length&&!u&&!!Lo(e[t].data);return{showMessage:h,showSearchResult:g,searchValue:l,setSearchValue:c,currentPage:t,setCurrentPage:i,config:e,loading:u,searchHistory:a}},BI=(e,t,i)=>t.length===0?i.map(o=>({id:o,title:o,value:o,icon:n.jsx(Jr,{})})):e?i.filter(o=>Be(o).includes(Be(t))).map(o=>({id:o,title:o,value:o,icon:n.jsx(Jr,{})})):[],UI=()=>n.jsxs(A,{gap:"8px",ai:"flex-start",children:[n.jsx(ee,{shape:"circle",size:{width:"40px",height:"40px"},margin:"0"}),n.jsxs(A,{gap:"6px",d:"column",ai:"flex-start",jc:"center",h:"100%",children:[n.jsx(ee,{shape:"rect",size:{width:"300px",height:"13px"},margin:"0"}),n.jsx(ee,{shape:"rect",size:{width:"220px",height:"10px"},margin:"0"})]})]}),HI=p.div.withConfig({componentId:"sc-e9aqhx-0"})(["@media (max-width:1000px){height:600px;}@media (min-width:1001px){width:600px;height:600px;}"]),WI=()=>{const{showMessage:e,showSearchResult:t,searchValue:i,setSearchValue:o,currentPage:s,setCurrentPage:a,loading:r,config:l,searchHistory:c}=FI(),u=BI(r,i,c),{isOpen:h}=K();return n.jsx(HI,{children:n.jsxs(A,{d:"column",gap:"8px",h:"100%",children:[n.jsx(Vn,{value:i,setValue:o,loading:r,focusOn:h,hints:u}),n.jsx(us,{pages:l.map(({title:g})=>({title:g})),currentPage:s,setCurrentPage:a}),n.jsx(Dd,{value:i,setValue:o}),e&&n.jsx(A,{h:"100%",children:n.jsx(ke,{size:"60px",text:'Введите что-нибудь. Например, "Цифровые сервисы"',image:n.jsx(Pn,{})})}),!r&&i.length!==0&&!e&&!Lo(l[s].data)&&n.jsx(A,{h:"100%",children:n.jsx(ke,{size:"60px",text:"Ничего не было найдено",image:n.jsx(wa,{})})}),r&&Array(10).fill(0).map((g,m)=>n.jsx(UI,{},m)),t&&n.jsx(n.Fragment,{children:l[s].content})]})})},GI=p(Dt).withConfig({componentId:"sc-mk3bac-0"})(["cursor:pointer;box-shadow:",";border-radius:17px;","{align-items:flex-start;}&:hover{filter:brightness(0.96);}"],({size:e})=>e==="small"&&"var(--block-shadow-1)",X.isTablet),VI=p.div.withConfig({componentId:"sc-mk3bac-1"})(["background-color:var(--theme-1);width:23px;height:23px;display:flex;align-items:center;justify-content:center;font-size:0.73rem;font-weight:500;width:fit-content;padding:4px 6px;border-radius:4px;color:var(--theme-mild-opposite);"]),qI=p(A).withConfig({componentId:"sc-mk3bac-2"})(["@media (max-width:1000px){display:none;}"]),QI=()=>{const e=_I();return{Windows:[{title:"CTRL",key:17},{title:"K",key:75}],Linux:[{title:"CTRL",key:17},{title:"K",key:75}],UNIX:[{title:"CTRL",key:17},{title:"K",key:75}],MacOS:[{title:"CMD",key:91,icon:n.jsx(Lc,{})},{title:"K",key:75}],iOS:[],Android:[]}[e]},YI=({size:e="large",forwardedRef:t})=>{const i=QI(),{open:o}=K(),s=e==="large"?"16px":"8px",a=e==="large"?"100%":"92%",r=()=>o(n.jsx(WI,{}),"Глобальный поиск");return yg(i.map(({key:l})=>l),r),e==="icon"?n.jsx(E,{direction:"vertical",icon:n.jsx(Pn,{}),width:"40px",minWidth:"40px",shrinkTextInMobile:!0,background:"transparent",onClick:r}):n.jsxs(GI,{ref:t,tabIndex:0,maxWidth:"750px",width:a,size:e,height:"fit-content",padding:s,justifyContent:"space-between",onClick:r,children:[n.jsx(re,{align:"left",fontSize:"0.9rem",children:n.jsxs(A,{gap:"8px",children:[n.jsx(Pn,{}),"Поиск"]})}),n.jsx(qI,{w:"fit-content",gap:"4px",children:i.map(l=>{var c,u;return n.jsx(VI,{children:(c=(u=l==null?void 0:l.icon)!==null&&u!==void 0?u:l.title)!==null&&c!==void 0?c:""},l.key)})})]})},jg=d.memo(YI),KI=Ke(yI),JI=p.div.withConfig({componentId:"sc-14deoyy-0"})(["padding:4px;border-radius:var(--brLight);display:flex;align-items:center;gap:12px;&:hover{background-color:var(--theme-1t);}"]),XI=({showSearch:e=!1})=>{const{data:{user:t}}=Te.useUser();if(!t)return null;const i=o=>{o.preventDefault(),o.stopPropagation(),Ye.open({e:o,height:143,content:n.jsx(bg,{})})};return n.jsxs(JI,{children:[e&&n.jsx(jg,{size:"icon"}),n.jsx(KI,{tutorialModule:{id:"home",step:3,params:{position:"bottom"}}}),n.jsx(Tt,{onClick:i,width:"30px",height:"30px",avatar:t.avatar,name:t.fullName,marginRight:"0"})]})},ZI=p.header.withConfig({componentId:"sc-1im86yp-0"})(["width:calc(100% - 15px);height:var(--header-height);box-shadow:",";background:",";z-index:12;align-items:center;position:absolute;justify-content:center;top:0;padding:0 15px;transition:0.1s background;color:var(--text);display:",";background-color:var(--theme);& .back-button-wrapper button{transform:translateX(",");}","{& .back-button-wrapper button{transform:translateX(",");}}","{padding:0 15px;width:100%;justify-content:flex-start;& .back-button-wrapper button{transform:none;}}"],({headerVisible:e})=>e?"var(--very-mild-shadow)":"none",({headerVisible:e})=>e?"var(--theme)":"transparent",({hidden:e=!1})=>e?"none":"flex",({headerVisible:e})=>e?"-35px":"0",X.isTablet,({headerVisible:e})=>e?"-25px":"0",X.isMobile),eT=({maxWidth:e})=>e==="100%"||e==="963px"?"calc(100% - 55px)":`calc(${e} - 40px)`,tT=({maxWidth:e})=>e==="100%"||e==="963px"?"calc(100% - 44px)":`calc(${e} - 40px)`,nT=p.div.withConfig({componentId:"sc-1im86yp-1"})(["max-width:",";width:100%;font-size:",";font-weight:600;transition:0.2s transform,0.2s font-size;position:absolute;white-space:",";overflow:hidden;text-overflow:ellipsis;pointer-events:none;will-change:transform;@media (max-width:1232px){max-width:",";}@media (min-width:1001px){transform:",";}","{max-width:",";transform:",";}","{transform:",";width:",";}"],({maxWidth:e})=>`calc(${e} - ${e==="calc(100% - 35px)"?"70":"40"}px)`,({headerVisible:e})=>e?"1.1rem":"1.4rem",({headerVisible:e})=>e?"nowrap":"normal",eT,({headerVisible:e})=>`translate(${e?"-20px, 0":"0px, 75px"})`,X.isTablet,tT,({headerVisible:e})=>`translate(${e?"-14px, 0":"6px, 75px"})`,X.isMobile,({headerVisible:e,noButton:t})=>`translate(${e?t?"0, 0":"25px, 0":"0px, 50px"})`,({headerVisible:e})=>e?"180px":"calc(100% - 30px)"),iT=()=>{const{pathname:e}=Wt(),[t,i]=d.useState([e]),{action:o}=wt();return d.useEffect(()=>{switch(o){case"POP":i(t.length>1?t.slice(0,t.length-1):t);break;case"PUSH":i([...t,e]);break;case"REPLACE":i([...t.slice(0,t.length-1),e])}},[e,o]),t},oT=({visible:e=!0,text:t="Назад",fullWidth:i=!0})=>{if(!e)return null;const o=wt();return n.jsx(E,{text:t,onClick:()=>o.goBack(),icon:n.jsx(go,{}),textColor:"var(--blue)",background:"transparent",width:i?"100%":void 0,padding:"0",height:"20px",align:"left"})},sT=({headerVisible:e,currentPage:t})=>{const i=wt(),o=iT(),s=e||!!(t!=null&&t.planeHeader),a=gu(t),r=(u=mi)=>()=>{At.changeOpen({isOpen:!1,currentPage:u.slice(1,u.length)}),i.push(u)},l=pe.useMemo(()=>t?t.isSubPage&&t.subPageHeaderTitle||t.title:"",[t]);return{backButton:pe.useMemo(()=>t!=null&&t.withoutBackButton?null:t!=null&&t.isSubPage?t.fallbackPrevPage?n.jsx(E,{icon:n.jsx(go,{}),onClick:r(t.fallbackPrevPage),background:"transparent",text:t==null?void 0:t.backButtonText,textColor:"var(--blue)"}):o.length>1?n.jsx(oT,{text:s?"":t==null?void 0:t.backButtonText,fullWidth:!1}):n.jsx(E,{direction:"vertical",icon:n.jsx(go,{}),onClick:r(),background:"transparent"}):n.jsx(E,{icon:n.jsx(go,{}),onClick:r(),background:"transparent",text:s?void 0:"Все разделы",textColor:"var(--blue)"}),[t,o,r]),headerTitle:l,maxWidth:a,currentPage:t,isHeaderVisible:s}},aT=({currentPage:e,headerVisible:t=!1,noTitle:i=!1})=>{var o;const{isMobile:s,isTablet:a}=Me(),{headerTitle:r,backButton:l,isHeaderVisible:c,maxWidth:u}=sT({currentPage:e,headerVisible:t});return e!=null&&e.withoutHeader?null:n.jsxs(ZI,{headerVisible:c,hidden:(o=(e!=null,e))===null||o===void 0?void 0:o.withoutHeader,children:[n.jsx(nT,{maxWidth:u,noButton:e==null?void 0:e.withoutBackButton,headerVisible:c,children:!i&&r}),n.jsxs(A,{jc:"space-between",mw:u,children:[n.jsx("div",{className:"back-button-wrapper",children:l!=null?l:n.jsx("div",{})}),(s||a)&&n.jsx(XI,{showSearch:!0})]})]})},rT=pe.memo(aT),lT=["isCurrent","color"],cT=p(ue).withConfig({shouldForwardProp:e=>!lT.includes(e)}).withConfig({componentId:"sc-fv2sjn-0"})(["position:relative;display:flex;align-items:center;font-weight:600;width:100%;justify-content:flex-start;padding:10px 0;margin:3px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;border-radius:var(--brLight);color:",";& > button{opacity:0;position:absolute;top:50%;right:-10px;transform:translateY(-50%);}.title{opacity:",";width:100%;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}svg{opacity:",";min-width:22px;width:22px;height:22px;margin-right:12px;}&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:hover{padding-right:2rem;}&:hover > button{opacity:1;}&::before{content:'';width:8px;height:8px;display:block;position:absolute;top:50%;left:-15px;transform:translateY(-50%);background:",";border-radius:10px;transition:0.2s opacity;opacity:",";}","{margin:0;height:100%;font-weight:",";& > button{display:none;}justify-content:center;svg{margin-right:0px;transform:translateY(-5px);}&::before{display:none;top:-2px;left:50%;transform:translateX(-50%);}.notification{top:10px;right:0px;}.title{position:absolute;left:50%;transform:translate(-50%);bottom:8px;font-size:0.65em;width:100%;text-align:center;}}"],({color:e,isCurrent:t})=>e&&t?C[e].main:"var(--text)",({isCurrent:e})=>e?1:.8,({isCurrent:e})=>e?1:.8,({color:e})=>e?C[e].main:"var(--reallyBlue)",({isCurrent:e})=>e?1:0,X.isTablet,({isCurrent:e})=>e?800:600),dT=p.div.withConfig({componentId:"sc-pybq4t-0"})(["min-width:235px;width:235px;height:",";box-shadow:var(--very-mild-shadow);border-radius:0 var(--brSemi) var(--brSemi) 0;background:var(--block);z-index:4;display:flex;flex-direction:column;justify-content:space-between;row-gap:20px;align-items:center;box-sizing:border-box;padding:20px 15px;transition:0.2s transform,width 0.3s,0.2s left,0.2 opacity;-webkit-tap-highlight-color:rgba(255,255,255,0);.top-wrapper{width:100%;display:flex;flex-direction:column;justify-content:space-between;row-gap:20px;align-items:center;max-height:100%;}@media (max-width:1000px){transition:0.2s left,0.2s opacity;position:absolute;left:",";opacity:",";width:100%;font-size:0.9em;.top-wrapper{max-height:calc(100% - 60px);img{width:200px;}}}"],({height:e})=>e+"px",({isOpen:e})=>e?"0":"-100%",({isOpen:e})=>e?"1":"0"),uT=p.div.withConfig({componentId:"sc-4k88a5-0"})(["overflow-y:auto;width:100%;display:flex;flex-direction:column;box-sizing:border-box;padding:0 15px;border-radius:12px;"]);p.button.withConfig({componentId:"sc-1imfnv0-0"})(["position:relative;display:flex;align-items:center;font-weight:700;width:100%;justify-content:flex-start;padding:10px 0;margin:10px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;border:none;background:transparent;color:var(--text);svg{width:22px;height:22px;margin-right:7px;}&::before{content:'';height:20px;width:0;display:block;position:absolute;top:50%;left:-15px;transform:translateY(-50%);background:var(--blue);border-radius:10px;transition:0.2s width;}&:hover::before{width:5px;background:var(--red);}"]);const pT=e=>{const{menuPath:t,path:i,icon:o,title:s,isCurrent:a,isAdmin:r,color:l,notifications:c}=e;return n.jsxs(cT,{to:t!=null?t:i,className:"leftside-bar-item",color:l,isCurrent:a,title:s,children:[n.jsx(hn,{className:"notification",top:"50%",visible:r,right:"-20px",color:"pink",children:"A"}),n.jsx(hn,{className:"notification",top:"50%",visible:!!c,right:r?"0px":"-20px",color:"red",children:c}),o,n.jsx("span",{className:"title",children:s}),n.jsx(fu,{route:e})]})},kg=pe.memo(pT),hT=()=>{const{isOpen:e}=bt.useMenu();return n.jsx(n.Fragment,{children:n.jsx(E,{icon:n.jsx(Nt,{}),onClick:()=>At.changeOpen({isOpen:!e}),text:"Закрыть меню",width:"100%"})})};p.section.withConfig({componentId:"sc-19vxgfm-0"})(["width:100%;max-width:270px;color:#383634;border-bottom:1px solid rgba(56,54,52,0.08);transition-property:padding-top,padding-bottom;transition:0.3s ease-in-out;"]);p.div.withConfig({componentId:"sc-19vxgfm-1"})(["height:0;opacity:0;overflow:hidden;transition:all 0.3s ease-in-out;&.show{height:180px;opacity:1;}"]);const gT=({forwardedRef:e})=>{const t=F(Ai.leftSidebar),i=Wt();return t?n.jsx(uT,{ref:e,children:Object.values(t).filter(Boolean).map(o=>d.createElement(kg,_(f({},o),{key:o==null?void 0:o.id,isCurrent:i.pathname.includes(o.path)})))}):n.jsxs(A,{d:"column",children:[n.jsxs(A,{gap:"8px",children:[n.jsx(ee,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ee,{shape:"rect",size:{width:"160px",height:"18px"}})]}),n.jsxs(A,{gap:"8px",children:[n.jsx(ee,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ee,{shape:"rect",size:{width:"160px",height:"18px"}})]}),n.jsxs(A,{gap:"8px",children:[n.jsx(ee,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ee,{shape:"rect",size:{width:"160px",height:"18px"}})]}),n.jsxs(A,{gap:"8px",children:[n.jsx(ee,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ee,{shape:"rect",size:{width:"160px",height:"18px"}})]})]})},mT=pe.memo(gT),fT=Ke(jg),xT=Ke(({forwardedRef:e,to:t,children:i})=>n.jsx(ue,{ref:e,to:t,children:i})),vT=Ke(mT),bT=p(ue).withConfig({componentId:"sc-djarn2-0"})(["display:flex;flex-direction:column;align-items:center;gap:10px;height:fit-content;border-radius:var(--brSemi);padding:20px;transition:0.2s;cursor:pointer;color:var(--text);position:relative;.more-button{top:0;right:0;position:absolute;}&:hover{background:var(--theme-1);}"]),yT=({name:e,avatar:t,loading:i,size:o,notifications:s,selected:a,forwardedRef:r})=>{if(i)return n.jsx(ee,{shape:"circle",size:{width:"40px",height:"40px"}});const l=c=>{c.preventDefault(),c.stopPropagation(),Ye.open({e:c,height:143,content:n.jsx(bg,{})})};return n.jsxs(bT,{to:Mr,ref:r,children:[n.jsx(E,{icon:n.jsx(xc,{}),className:"more-button",background:"transparent",onClick:l}),n.jsx(Tt,{notifications:s,width:o!=null?o:"70px",height:o!=null?o:"70px",avatar:t,name:e,marginRight:"0",selected:a}),n.jsx(M,{size:5,children:e})]})},wT=pe.memo(yT),_T=Ke(wT),jT=({forwardedRef:e})=>{var t;const{isOpen:i}=bt.useMenu(),{width:o,height:s}=Wi(),{data:{user:a}}=Te.useUser(),{visibleRoutes:r}=bt.useMenu(),l=Wt();return n.jsxs(dT,{ref:e,isOpen:i,height:s,children:[n.jsxs("div",{className:"top-wrapper",children:[n.jsx(xT,{to:$r,children:n.jsx(Xo,{width:"165px"})}),n.jsx(_T,{notifications:r==null?void 0:r.profile.notifications,avatar:a==null?void 0:a.avatar,name:(t=a==null?void 0:a.fullName)!==null&&t!==void 0?t:"",loading:!a,selected:l.pathname==="/profile"}),n.jsx(fT,{size:"small"}),n.jsx(vT,{})]}),n.jsx(gg,{type:"toggle"}),o<1e3&&n.jsx(hT,{})]})},kT=p.div.withConfig({componentId:"sc-1h6ktrc-0"})(["width:300px;position:absolute;top:calc(var(--header-height) + 10px);right:20px;background:var(--theme);border-radius:var(--brLight);z-index:100;transition:0.2s transform,0.2s opacity,0.2s visibility;transform:translateY(",");opacity:",";visibility:",";font-weight:600;cursor:",";@media (max-width:1000px){top:20px;bottom:auto;left:50%;transform:translate(",");font-size:0.8em;}"],({isOpen:e})=>e?"0px":"-20px",({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isClickable:e})=>e?"pointer":"normal",({isOpen:e})=>e?"-50%, 0px":"-50%, -20px"),CT=()=>{const{isOpen:e,message:t,type:i,time:o,onClick:s}=qv.usePopUpMessage();d.useEffect(()=>{e&&setTimeout(()=>{Q.openPopUpMessage({isOpen:!e})},o)},[e]);const a=d.useCallback(()=>{s&&(s(),Q.openPopUpMessage({isOpen:!e}))},[s]);return n.jsx(kT,{isOpen:e,isClickable:!!s,color:dn[i].color,onClick:a,children:n.jsx(ve,{type:i,fontSize:"1em",lineHeight:"1.4rem",onClose:()=>Q.openPopUpMessage({isOpen:!1}),children:t})})},Is=p.div.withConfig({componentId:"sc-nj31nr-0"})(["display:flex;justify-content:center;align-items:center;position:absolute;z-index:5;width:100%;height:100%;padding:0 30px;background-color:rgba(0,0,0,0.5);animation:",";@keyframes wrapperOpened{0%{opacity:0;visibility:hidden;display:none;}100%{opacity:1;visibility:visible;}}@keyframes wrapperClosed{0%{opacity:1;visibility:visible;}100%{opacity:0;visibility:hidden;display:none;}}@media (max-width:800px){padding:8px;align-items:flex-end;}"],({isOpen:e})=>e?"wrapperOpened 0.2s forwards":"wrapperClosed 0.2s forwards");p.div.withConfig({componentId:"sc-1hrawwq-0"})(["display:block;position:absolute;bottom:50%;left:50%;width:100%;max-width:390px;border-radius:var(--brLight);background:var(--block);box-shadow:0 0 40px #0000002f;color:var(--text);z-index:10000;white-space:pre-line;padding:15px;transition:0.2s;opacity:",";visibility:",";transform:translateY(",") translateX(-50%) scale(",");@media (max-width:1000px){bottom:10px;width:calc(100% - 20px);transform:translateY(0) translateX(-50%) scale(",");}"],({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isOpen:e})=>e?"50%":"51%",({isOpen:e})=>e?"1":"0.95",({isOpen:e})=>e?"1":"0.95");const ST=()=>{const{isOpen:e,component:t,canBack:i,back:o,close:s,title:a}=d.useContext(Ra);return{back:o,close:s,isOpen:e,canBack:i,component:t,title:a}},IT=p.div.withConfig({componentId:"sc-15qdo6c-0"})(["background:var(--block);color:var(--text);padding:20px;min-height:150px;max-height:90vh;border-radius:var(--brLight);transition:0.2s opacity,0.2s transform;overflow:auto;& > .title-wrapper{margin-left:",";padding-right:50px;white-space:break-spaces;max-width:600px;hyphens:auto;}.close-button,.back-button{position:absolute;top:14px;}.back-button{left:",";}.close-button{right:20px;z-index:100;padding:8px;border-radius:100%;}@media (max-width:1000px){font-size:0.9em;padding-top:15px;}@media (min-width:801px){transform:scale(",");}@media (max-width:800px){padding:15px;width:100%;max-height:80%;height:fit-content;bottom:0;border-radius:20px 20px 0 0;animation:",";border-radius:var(--brLight);@keyframes openAnimation{0%{transform:scale(1) translateY(150px);}100%{transform:scale(1) translateY(0px);}}@keyframes closeAnimation{0%{transform:scale(1) translateY(0px);}100%{transform:scale(1) translateY(150px);}}.close-button{right:15px;}h3{margin-top:7px;}}"],({hasBack:e})=>e?"15px":"0px",({hasTitle:e})=>e?"4px":"12px",({isOpen:e})=>e?1:.95,({isOpen:e})=>e?"openAnimation 0.2s forwards":"closeAnimation 0.2s forwards"),TT=p.div.withConfig({componentId:"sc-19qk8je-0"})(["padding-top:30px;"]),ET=()=>{const{isOpen:e,component:t,canBack:i,back:o,close:s,title:a}=ST(),r=d.useRef(null),l=d.useMemo(()=>e&&!!t,[e,t]);return yg([27],s),Gn(r,()=>{s()}),l?n.jsx(Is,{isOpen:l,children:n.jsxs(IT,{isOpen:l,ref:r,hasBack:i,hasTitle:!!a,children:[i&&n.jsx(E,{onClick:o,icon:n.jsx(Hn,{}),text:a?"":"Назад",background:"transparent",textColor:"var(--theme-opposite)",width:"fit-content",align:"left",padding:"8px",height:"fit-content",className:"back-button"}),a&&n.jsx(M,{size:3,align:"left",children:a}),n.jsx(E,{onClick:s,icon:n.jsx(Nt,{}),className:"close-button",height:"35px",minWidth:"35px",width:"35px",background:"var(--almostTransparent)"}),n.jsx(TT,{children:t})]})}):null},PT=pe.memo(ET),AT=p.div.withConfig({componentId:"sc-18woxeq-0"})(["position:absolute;bottom:50%;left:50%;width:100%;max-width:390px;border-radius:var(--brLight);background:var(--block);box-shadow:0 0 40px #0000002f;color:var(--text);z-index:10000;padding:20px;transition:0.2s;opacity:",";visibility:",";transform:translateY(",") translateX(-50%) scale(",");@media (max-width:1000px){bottom:10px;width:calc(100% - 20px);transform:translateY(0) translateX(-50%) scale(",");}"],({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isOpen:e})=>e?"50%":"51%",({isOpen:e})=>e?"1":"0.95",({isOpen:e})=>e?"1":"0.95"),NT=()=>{const{isOpen:e,message:t,onConfirm:i,onReject:o,isSubmitSuccess:s}=iy.useConfirm(),a=d.useRef(null);Gn(a,()=>nt.closeConfirm());const r=()=>{i(),nt.closeConfirm()},l=()=>{nt.closeConfirm()};return n.jsx(Is,{isOpen:e,children:n.jsxs(AT,{isOpen:e,ref:a,children:[n.jsx(M,{size:3,align:"left",children:t!=null?t:"Хотите продолжить?"}),n.jsxs($e,{width:"100%",scroll:!1,direction:"horizontal",gap:5,padding:"10px 0 0 0",horizontalAlign:"right",children:[n.jsx(E,{text:"Да",onClick:r,width:"90px",textColor:s?C.green.main:C.red.main,background:"transparent",hoverBackground:s?C.green.transparent3:C.red.transparent3}),n.jsx(E,{text:"Нет",onClick:o!=null?o:l,width:"90px",textColor:s?C.blue.light1:C.blue.main,background:"transparent",hoverBackground:C.blue.transparent3})]})]})})},DT=Ke(us),OT=p.div.withConfig({componentId:"sc-fuzzlp-0"})(["display:flex;align-items:",";flex-direction:column;width:",";max-width:",";height:100%;& > .slider-content{display:flex;width:100%;max-width:",";overflow-x:auto;margin-top:10px;scroll-snap-type:x mandatory;&::-webkit-scrollbar{display:none;}& > * + *{margin-left:10px;}.slider-page{height:100%;min-width:100%;scroll-snap-align:center;}}@media (max-width:1000px){& > div{scroll-behavior:smooth;.slider-page{min-width:100%;scroll-snap-align:center;}}}"],({align:e})=>Ks(e),({width:e})=>e!=null?e:"100%",({maxWidth:e})=>e!=null?e:"100%",({maxWidth:e})=>e!=null?e:"100%"),Ts=({pages:e,currentPage:t=0,width:i,className:o,maxWidth:s,sliderWidth:a,onChangePage:r,align:l="center",appearance:c=!0})=>{const[u,h]=d.useState(t),{width:g}=Wi(),m=d.useRef(null),x=()=>{if(m!=null&&m.current){var y,j;h(Math.round(((y=m.current)===null||y===void 0?void 0:y.scrollLeft)/((j=m.current)===null||j===void 0?void 0:j.clientWidth)))}},b=y=>{var j;h(y),r==null||r((j=e[y])===null||j===void 0?void 0:j.id),m!=null&&m.current&&(m.current.scrollLeft=(m.current.clientWidth+10)*y)};d.useEffect(()=>{b(u)},[t,g]);const v=F(ze.roles);return n.jsxs(OT,{width:i,align:l,maxWidth:s,children:[n.jsx(DT,{pages:e.map(({title:y,condition:j})=>({title:y,condition:j})),currentPage:u,setCurrentPage:b,sliderWidth:a,appearance:c,tutorialModule:{id:"payments",step:v.includes("dormitory")&&v.includes("education")?0:-1,params:{position:"bottom",noScroll:!0}}}),n.jsx("div",{className:o!=null?o:"slider-content",ref:m,onScroll:x,children:e.map(y=>y.condition!==void 0&&y.condition||y.condition===void 0?n.jsx("div",{className:"slider-page",children:y.content},y.title):n.jsx("div",{className:"slider-page",children:n.jsx(ke,{text:"Нет данных"})},y.title))})]})},zo=e=>{const t=Be(e),o=[{keys:["распознаван"],icon:n.jsx(h0,{})},{keys:["принт"],icon:n.jsx(g0,{})},{keys:["химич"],icon:n.jsx(m0,{})},{keys:["сервер"],icon:n.jsx(f0,{})},{keys:["игр"],icon:n.jsx(x0,{})},{keys:["жизнед"],icon:n.jsx(v0,{})},{keys:["web","веб"],icon:n.jsx(b0,{})},{keys:["истор"],icon:n.jsx(y0,{})},{keys:["информат"],icon:n.jsx(w0,{})},{keys:["информации"],icon:n.jsx(Bn,{})},{keys:["мобильн"],icon:n.jsx(_0,{})},{keys:["безопасн"],icon:n.jsx(j0,{})},{keys:["автоматиз"],icon:n.jsx(k0,{})},{keys:["линейн"],icon:n.jsx(C0,{})},{keys:["обработ"],icon:n.jsx(S0,{})},{keys:["презентац"],icon:n.jsx(I0,{})},{keys:["операционн"],icon:n.jsx(Lc,{})},{keys:["эконом"],icon:n.jsx(Bt,{})},{keys:["информацион","программир","сайт"],icon:n.jsx(T0,{})},{keys:["анализ"],icon:n.jsx(E0,{})},{keys:["компьют","алгоритм","электрон"],icon:n.jsx(P0,{})},{keys:["сети","сетей"],icon:n.jsx(A0,{})},{keys:["матем"],icon:n.jsx(N0,{})},{keys:["вероятн"],icon:n.jsx(D0,{})},{keys:["философ"],icon:n.jsx(gc,{})},{keys:["данны"],icon:n.jsx(O0,{})},{keys:["язык"],icon:n.jsx(L0,{})},{keys:["спорт","физичес"],icon:n.jsx(z0,{})},{keys:["проектная"],icon:n.jsx(Gs,{})},{keys:["интеллект"],icon:n.jsx(R0,{})},{keys:["научн"],icon:n.jsx(zc,{})},{keys:["предприним"],icon:n.jsx($0,{})},{keys:["коммуникац"],icon:n.jsx(M0,{})},{keys:["управлени"],icon:n.jsx(Sa,{})},{keys:["вкр","итоговая","аттестация"],icon:n.jsx(Rc,{})},{keys:["переработ"],icon:n.jsx(F0,{})},{keys:["машин","инжен"],icon:n.jsx(B0,{})},{keys:["проектир","расчет"],icon:n.jsx(U0,{})},{keys:["производ"],icon:n.jsx(bc,{})},{keys:["эколог"],icon:n.jsx(H0,{})},{keys:["защит"],icon:n.jsx(W0,{})},{keys:["патент"],icon:n.jsx(G0,{})},{keys:["материал"],icon:n.jsx(V0,{})},{keys:["физик"],icon:n.jsx(q0,{})},{keys:["тайм"],icon:n.jsx($c,{})},{keys:["практика"],icon:n.jsx(Ia,{})}].find(s=>s.keys.find(a=>t.includes(a)));return o?o.icon:n.jsx(p0,{})},xa={"9:00 - 10:30":C.green,"10:40 - 12:10":C.lightGreen,"12:20 - 13:50":C.blue,"14:30 - 16:00":C.purple,"16:10 - 17:40":C.pink,"17:50 - 19:20":C.red,"18:20 - 19:40":C.orange,"19:30 - 21:00":C.orange,"19:50 - 21:10":C.orange},Cg=({deps:e,getScrollTopValue:t,condition:i=!0})=>{const o=d.useRef(null);return d.useLayoutEffect(()=>{if(o.current&&i){const s=t(o.current);o.current.scrollTop=s}},[o,...e!=null?e:[]]),o},LT=p.div.withConfig({componentId:"sc-alup4q-0"})(["padding-left:var(--time-width);position:relative;width:100%;height:100%;overflow-y:auto;display:flex;&::-webkit-scrollbar{display:none;}"]),Es=(e,t="minutes")=>{switch(t){case"minutes":const i=new Date,[o,s]=e.split(":");return+o*60+ +s-(i.getHours()*60+i.getMinutes());case"days":const a=new Date(e);return Math.ceil(Math.floor((a.getTime()-new Date().getTime())/1e3/60/60)/24)}},zT=e=>{if(!e)return 1/0;const t=e.reduce((i,o)=>{const s=Es(o.startTime);return s>0&&i.push(s),i},[]);return Math.min(...t)},Sg=(e,t,i)=>zT(e)===Es(t.startTime)&&i,Ni=e=>e<=9?"0"+e:e,RT=e=>`${Ni(Math.floor(e/60))}:${Ni(e%60)}`,$T=(e=new Date,t,i)=>{const o=e.getHours()*60+e.getMinutes();return t&&o<t?t:i&&o>i?i:o},MT=p.div.withConfig({componentId:"sc-1a1n8va-0"})(["background:",";position:absolute;width:calc(100% + 45px);height:calc(100% + 25px);left:",";top:",";z-index:-1;overflow:hidden;","{width:calc(100% + 40px);}"],({background:e})=>e,({noPadding:e})=>e?"-25px":0,({noPadding:e})=>e?"-55px":0,X.isMobile),FT=p.div.withConfig({componentId:"sc-1a1n8va-1"})(["position:absolute;right:0;width:70%;top:0;height:100%;z-index:1;& > div{top:50%;left:50%;position:inherit;}& > div:nth-child(1){top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.04;svg{width:170px;height:170px;}}& > div:nth-child(2){opacity:0.03;transform:translate(100px,-90px);svg{width:100px;height:100px;}}& > div:nth-child(3){opacity:0.02;transform:translate(-175px,0px);svg{width:70px;height:70px;}}& > div:nth-child(4){opacity:0.01;transform:translate(90px,10px);svg{width:50px;height:50px;}}"]),BT=p(A).withConfig({componentId:"sc-1a1n8va-2"})(["font-size:",";cursor:",";&:hover{background:",";}","{font-size:",";}"],({shortInfo:e})=>`${e?.92:1}rem`,({onClick:e})=>e&&"pointer",({onClick:e})=>e&&"var(--theme-1t)",X.isMobile,({shortInfo:e})=>`${e?.6:.95}rem`),Vl=p.div.withConfig({componentId:"sc-1a1n8va-3"})(["opacity:0.7;width:fit-content;height:fit-content;display:flex;align-items:center;justify-content:center;svg{width:","px;height:","px;}","{svg{width:16px;height:16px;}}"],({shortInfo:e})=>e?16:18,({shortInfo:e})=>e?16:18,X.isMobile),UT=p(re).withConfig({componentId:"sc-1a1n8va-4"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:auto;"]),HT=p.div.withConfig({componentId:"sc-1a1n8va-5"})(["position:absolute;display:flex;align-items:center;width:100%;height:2px;z-index:-2;top:",";&::before{display:block;content:'';min-width:10px;height:10px;border-radius:12px;background:",";}&::after{content:'';display:block;width:100%;height:2px;background:",";}"],({currentTime:e})=>`${e}px`,C.red.main,C.red.main),WT=p.div.withConfig({componentId:"sc-1a1n8va-6"})(["color:",";font-weight:500;background:var(--block);position:absolute;font-size:0.82rem;width:var(--time-width);left:calc(var(--time-width) * -1);box-shadow:-26px 0 26px 26px var(--block);","{background:var(--theme);box-shadow:-26px 0 26px 26px var(--theme);font-size:0.7rem;}"],C.red.main,X.isMobile),Ar=(e,t=[])=>{const[i,o]=d.useState(e),s=d.useRef(null);return d.useEffect(()=>(s.current=setInterval(()=>{o(e)},Aa.minute),()=>{s.current&&clearInterval(s.current)}),t),i>0?i:0},GT=({isVisible:e=!0,shift:t,scale:i,interval:o,showTime:s=!0})=>{const a=Ar(()=>$T(new Date,o[0]*60,o[1]*60),[e]);return n.jsx(HT,{currentTime:(a-t)*i,children:s&&n.jsx(WT,{children:RT(a)})})},Ig=e=>{if(e.includes("https://")){const t=e.split(" "),i=t.findIndex(s=>s.includes("https")),o=t.splice(i,i+1)[0];return{name:t.join(" "),link:o}}return{name:e}},at=({icon:e,text:t,onClick:i,rightIcon:o,shortInfo:s=!1})=>n.jsxs(BT,{onClick:i,shortInfo:s,gap:"7px",mw:"100%",w:"fit-content",children:[n.jsx(Vl,{shortInfo:s,children:e}),n.jsx(UT,{width:"100%",className:"text",children:t}),n.jsx(Vl,{shortInfo:s,children:o})]}),VT=p.div.withConfig({componentId:"sc-1897254-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:400px;height:400px;}"]),qT=p(ue).withConfig({componentId:"sc-1897254-1"})(["padding:8px;width:100%;height:40px;display:flex;align-items:center;justify-content:space-between;gap:12px;border-radius:var(--brLight);.start{display:flex;align-items:center;gap:12px;svg{width:20px;height:20px;}}&:hover{background:var(--theme-1t);}"]),QT=({groups:e})=>{const{close:t}=K();return n.jsx(VT,{children:e.map(i=>n.jsxs(qT,{to:Xi(Jn,{page:"current",filter:i.trim()}),onClick:t,children:[n.jsxs("div",{className:"start",children:[n.jsx(An,{}),i]}),n.jsx(St,{})]},i))})},YT=({icon:e,background:t,noPadding:i=!1})=>n.jsx(MT,{background:t,noPadding:i,children:n.jsxs(FT,{children:[n.jsx("div",{children:e}),n.jsx("div",{children:e}),n.jsx("div",{children:e}),n.jsx("div",{children:e})]})}),KT=({subjectName:e,color:t,noPadding:i})=>{const o=zo(e),s=F(ge.userSettings),a=s==null?void 0:s.appearance.theme,r=a===Re.Light?t.dark3:t.light3,l=a===Re.Light?t.light3:t.dark3,c=a===Re.Light?t.light3:t.dark3;return n.jsxs(JT,{noPadding:i,textColor:r,iconBackground:c,children:[n.jsx(YT,{noPadding:i,icon:o,background:l}),n.jsx(It,{color:t.main,size:70,borderRadius:"19px",children:o})]})},JT=p.div.withConfig({componentId:"sc-1bp7400-0"})(["width:100%;height:110px;position:relative;color:var(--text);margin-bottom:",";.icon{position:absolute;bottom:",";left:",";background:",";transition:0s;svg{color:",";}border:5px solid var(--block-content);}"],({noPadding:e})=>e?"0px":"40px",({noPadding:e})=>e?"-5px":"-50px",({noPadding:e})=>e?"-5px":"16px",({iconBackground:e})=>e,({textColor:e})=>e),XT=Q0(['*{margin:0;padding:0;box-sizing:border-box;font-family:"Montserrat",sans-serif;line-height:130%;-webkit-tap-highlight-color:rgba(255,255,255,0);}h1,h2,h3,h4,h5,h6{font-weight:600;}#root{display:flex;height:100vh;height:100svh;height:100dvh;overflow:hidden;}html,body{-webkit-overflow-scrolling:touch;position:relative;height:100vh;height:100svh;height:100dvh;overflow:hidden;}@media (min-width:1001px){::-webkit-scrollbar{width:14px;}::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar-thumb{border-radius:100px;border:4px solid transparent;background-clip:content-box;background-color:var(--theme-mild-opposite);}::-webkit-scrollbar-thumb:hover{border:3px solid transparent;}}h1{color:var(--text-color);}a{text-decoration:none;color:var(--blue);&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}@keyframes defaultFadeIn{0%{transform:translateY(20px);opacity:0;}100%{transform:translateY(0px);opacity:1;}}']),ZT=({color:e,start:t})=>`
&::before {
    content: '';
    background: ${e};
    display: block;
    width: 10px;
    height: 10px;
    border-radius: 10px;
    position: absolute;
    inset: 0;
    animation: ${t?"pulse-animation 1s infinite linear":"none"};
}

@keyframes pulse-animation {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform:  scale(2.5);
        opacity: 0;
    }
}`,Tg=({timeInterval:e,color:t,isCurrentEvent:i})=>{const o=F(ge.userSettings),a=(o==null?void 0:o.appearance.theme)===Re.Light?t.main:t.light2;return n.jsxs(tE,{children:[n.jsx(eE,{start:i,color:a}),e&&n.jsx(nE,{children:e})]})},eE=p.div.withConfig({componentId:"sc-1dbtqbf-0"})(["min-width:10px;height:10px;border-radius:10px;background:",";position:relative;",""],({color:e})=>e,ZT),tE=p.div.withConfig({componentId:"sc-1dbtqbf-1"})(["display:flex;align-items:center;min-width:fit-content;gap:6px;"]),nE=p.span.withConfig({componentId:"sc-1dbtqbf-2"})(["font-weight:500;font-size:0.8rem;","{font-size:0.7rem;}"],X.isMobile),iE=p.div.withConfig({componentId:"sc-or1lbw-0"})(["position:relative;height:100%;max-width:400px;@media (min-width:1001px){min-width:320px;width:100%;}.date-interval{opacity:0.6;font-size:0.7em;font-weight:600;}.time-and-next{display:flex;align-items:center;font-size:0.7em;font-weight:bold;margin:10px 0 5px 0;column-gap:3px;}.teachers{& > * + *{margin-top:5px;}}"]),oE=p(A).withConfig({componentId:"sc-or1lbw-1"})(["padding:",";hyphens:auto;height:calc(100% - 154px);"],({noPadding:e})=>e?"24px 0 0 0":"24px"),sE=e=>{var t;const{timeInterval:i,name:o,place:s,teachers:a,dateInterval:r,link:l,rooms:c,groups:u,color:h,weekday:g,isNextEvent:m,isCurrentEvent:x,noPadding:b=!1}=e,v=(t=u==null?void 0:u.split(","))!==null&&t!==void 0?t:[],{open:y}=K(),j=()=>{v.length===1?y(n.jsx(Er,{group:v[0]})):y(n.jsx(QT,{groups:v}),"Группы")},I=()=>{y(n.jsx(rE,{place:s,link:l,name:o}))},k=Ig(o),P=Ar(()=>Es(i.split(" - ")[0],"minutes"));return n.jsxs(iE,{children:[n.jsx(KT,{subjectName:o,color:h,noPadding:b}),n.jsxs(oE,{noPadding:b,d:"column",gap:"20px",ai:"flex-start",children:[n.jsxs(A,{jc:"space-between",ai:"flex-start",d:"column",gap:"6px",children:[n.jsxs(A,{gap:"8px",children:[n.jsx(Tg,{isCurrentEvent:x,color:h,timeInterval:i}),n.jsx(Eg,{timeLeft:P,isNext:m,color:h,isCurrentEvent:x})]}),n.jsx(M,{size:3,align:"left",width:"fit-content",children:k.name})]}),n.jsx(ye,{margin:"0",width:"100%"}),n.jsx(at,{icon:n.jsx(Ta,{}),text:n.jsx(gt,{words:[g!=null?g:"",r]})}),((l==null?void 0:l.length)||k.link)&&n.jsx("a",{href:l!=null?l:k.link,target:"_blank",rel:"noreferrer",children:n.jsx(at,{icon:n.jsx(bo,{}),text:l?s:"Ссылка"})}),!(l!=null&&l.length)&&n.jsx(at,{icon:n.jsx(Ia,{}),text:s}),!!c.length&&n.jsx(at,{icon:n.jsx(qs,{}),text:n.jsx(gt,{words:c})}),!!v.length&&n.jsx(at,{onClick:j,icon:n.jsx(Sa,{}),text:n.jsx(gt,{words:v}),rightIcon:n.jsx(St,{})}),n.jsx(A,{d:"column",ai:"flex-start",children:!!a[0].length&&n.jsxs(n.Fragment,{children:[n.jsx(M,{size:4,align:"left",bottomGap:!0,children:"Преподаватели"}),a.map($=>n.jsx(Zi,{id:void 0,type:"staff",name:$},$))]})}),!l&&n.jsx(ye,{margin:"0",width:"100%"}),!l&&n.jsx(E,{text:"Посмотреть на карте",width:"100%",onClick:I})]})]})};p.span.withConfig({componentId:"sc-16ge3ds-0"})(["padding:3px 10px;height:21px;display:flex;align-items:center;background:var(--search);background:",";border-radius:100px;color:#fff;white-space:nowrap;"],({isCurrent:e,darkColor:t,color2:i})=>e?t:i);const aE=p.a.withConfig({componentId:"sc-193y40x-0"})(["position:relative;width:100%;height:100%;color:#fff;text-decoration:none;img{width:100%;height:100%;object-fit:cover;object-position:center;filter:blur(3px);transform:scale(1.2);}h3{bottom:15px;left:15px;position:absolute;background:",";padding:5px 10px;border-radius:var(--brLight);}"],C.purple.main),po=({title:e,link:t,image:i})=>t?n.jsxs(aE,{href:t,children:[n.jsx("img",{src:i,alt:"",loading:"lazy"}),n.jsx(M,{size:3,children:e})]}):null,ql=p.div.withConfig({componentId:"sc-xn2wuz-0"})(["","{width:500px;}height:200px;margin:10px 0 10px 0;overflow:hidden;display:flex;align-items:center;border-radius:8px;background:var(--theme-2);"],X.isNotMobile),rE=({place:e,link:t,name:i})=>{const[o,s]=d.useState(!1);return d.useEffect(()=>{s(!0),setTimeout(()=>s(!1),500)},[i]),o?n.jsx(ql,{children:n.jsx(A,{jc:"center",children:n.jsx(Ot,{})})}):n.jsx(ql,{children:e==="Webex"?n.jsx(po,{title:e,link:t,image:"https://lh3.googleusercontent.com/-IR3NTxu_EJY/YMB7bMtdDOI/AAAAAAAAAmA/57OhYSNULo0ICfc3Q4TWAoRM7ohUFLJmwCLcBGAsYHQ/s220-w220-h140-nd/220x140%2BCisco%2BWebex%25281%2529.png"}):e==="Zoom"?n.jsx(po,{title:e,link:t,image:"https://yogaworks.ru/wp-content/uploads/2020/04/zoom-banner-600x300-600x300.jpg"}):e==="Обучение LMS"?n.jsx(po,{title:e,link:t,image:"https://online.mospolytech.ru/pluginfile.php/1/theme_opentechnology/settings_setpolytech_header_backgroundimage/1638781183/01.jpg"}):e==="Webinar"?n.jsx(po,{title:e,link:t,image:"https://apix-drive.com/ru/img/webinar_ru.png"}):e==="Прянишникова"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pryanishnikova_2a/Z04YcwNjTkAPQFtvfXRycntjbA==/?ll=37.545032%2C55.833931&utm_medium=mapframe&utm_source=maps&z=17",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Прянишникова, 2А на карте Москвы, ближайшее метро Коптево — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPA0PC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Автозаводская"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/avtozavodskaya_ulitsa_16/Z04YcANlSEwBQFtvfXtxdX5hZA==/?ll=37.646696%2C55.704260&utm_medium=mapframe&utm_source=maps&z=18.17",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Автозаводская улица, 16 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPsXDC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Павла Корчагина"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/moskovskiy_politekhnicheskiy_universitet/1743307891/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Московский Политехнический университет"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/category/university_college/184106140/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"ВУЗ в Москве"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPtC9A",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Большая Семеновская"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/moskovskiy_politekhnicheskiy_universitet/1113152789/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Московский политехнический университет"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBATAEkC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Михалковская "&&n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/sportivny_klub_sektsiya/1699871922/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Спортивный клуб, секция"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBA-FspD",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]})})},Ql=p.div.withConfig({componentId:"sc-1cdmqzs-0"})(["border-radius:var(--brSemi);background:",";color:",";padding:3px 8px;white-space:nowrap;font-size:0.65rem;font-weight:500;"],({background:e})=>e,({color:e})=>e),Eg=({timeLeft:e,isNext:t,color:i,isCurrentEvent:o})=>{const s=Math.floor(e/60),a=F(ge.userSettings),r=a==null?void 0:a.appearance.theme,l=r===Re.Light?i.dark3:i.light3,c=r===Re.Light?i.transparent1:i.transparent3;return!t&&!o?null:o?n.jsx(Ql,{background:c,color:l,children:"Сейчас"}):n.jsxs(Ql,{background:c,color:l,children:["через ",!!s&&s+"ч."," ",e%60,"мин."]})},lE=p.div.withConfig({componentId:"sc-1a1fxjj-0"})(["width:100%;background:var(--block);padding:20px 15px;border-radius:9px;scroll-snap-align:center;.horizontal{display:flex;align-items:center;}"]),cD=()=>n.jsxs(lE,{children:[n.jsxs("div",{className:"horizontal",children:[n.jsx(ee,{shape:"rect",size:{width:"86px",height:"20px"},margin:"0"}),n.jsx(ee,{shape:"rect",size:{width:"60px",height:"14px"},margin:"0 5px"})]}),n.jsx(ee,{shape:"rect",size:{width:"200px",height:"17px"},margin:"16px 0"}),n.jsxs("div",{className:"horizontal",children:[n.jsx(ee,{shape:"rect",size:{width:"120px",height:"13px"},margin:"0"}),n.jsx(ee,{shape:"rect",size:{width:"120px",height:"13px"},margin:"0 10px"})]}),n.jsx(ee,{shape:"rect",size:{width:"80px",height:"12px"},margin:"5px 0"})]}),Pg="/assets/sleep-54d590c1.gif";var Ag=(e=>(e[e.day=0]="day",e[e.week=1]="week",e[e.month=2]="month",e))(Ag||{});const cE=[{title:"День",condition:!0},{title:"Неделя",condition:!0}],dD=[...cE,{title:"Месяц",condition:!0}],ln=Object.keys(en).reduce((e,t)=>(e[t]=[],e),{}),dE={schedule:{today:[],week:f({},ln),semestr:{data:f({},ln),startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)},session:{data:f({},ln),startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)}},teachers:[]},uE=e=>{const t=new Date(e),i=t.getDay(),o=t.getDate()-i+(i==0?-6:1);return new Date(t.setDate(o))},Di=e=>{const[t,i]=e.split(":");return+t*60+ +i};var Ro=(e=>(e[e.Янв=1]="Янв",e[e.Фев=2]="Фев",e[e.Мар=3]="Мар",e[e.Апр=4]="Апр",e[e.Май=5]="Май",e[e.Июн=6]="Июн",e[e.Июл=7]="Июл",e[e.Авг=8]="Авг",e[e.Сен=9]="Сен",e[e.Окт=10]="Окт",e[e.Ноя=11]="Ноя",e[e.Дек=12]="Дек",e))(Ro||{});const Ng=e=>{const[t,i]=e.split(" "),o=Ro[i],s=new Date().getFullYear();return new Date(`${o}/${t}/${s}`)},Dg=(e,t)=>{var i;const[o,s]=(i=e==null?void 0:e.split(" "))!==null&&i!==void 0?i:[null,null],a=t.split(" ")[1],r=Ro[a],l=Ro[s]||r;return o&&l?new Date(`${l}/${o}/${l>=r?new Date().getFullYear():new Date().getFullYear()+1}`):null},ri=(e,t)=>e?e==null?void 0:e.map(({place:o,name:s,teachers:a,timeInterval:r,link:l,dateInterval:c,rooms:u,groups:h})=>{const[g,m]=r.split(" - "),x=Di(m)-Di(g),[b,v]=c.split("-").map(I=>I.trim()),y=Ng(b),j=Dg(v,b);return{title:s,people:a,startTime:g,duration:x,startDate:y,endDate:j,placeIcon:n.jsx(Y0,{}),dateInterval:c,color:xa[r],place:o,link:l,groups:h,weekday:t,rooms:u,icon:zo(s)}}):[],pE=e=>new Date(e.setHours(0,0,0,0)),Yl=(e,t)=>(e!=null?e:[]).filter(i=>{const o=pE(t),[s,a]=i.dateInterval.split("-").map(c=>c.trim()),r=Ng(s),l=Dg(a,s);return o>=r&&o<=(l!=null?l:r)}),Og=e=>e.toLocaleDateString("en-US",{weekday:"long"}).toLocaleLowerCase(),va=e=>e instanceof Date&&isFinite(+e),Lg=e=>{const t=f({},ln),i=new Date(Object.keys(e)[0]),o=new Date(Object.keys(e)[Object.keys(e).length-1]);if(!va(i)||!va(o))return{schedule:t,startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const a=new Date(s),r=Og(a);if(r==="sunday")continue;t[r]=[...t[r],...ri(e[s].lessons,en[r].short)]}return{schedule:t,startDate:i,endDate:o}},zg=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),Rg=(e,t)=>{if(typeof e=="object"&&"status"in e){var i;const c=`Не удалось загрузить расписание. Причина: ${(i=e.message)!==null&&i!==void 0?i:"-"}`;return Q.evokePopUpMessage({message:c,type:"failure",time:Aa.ten_seconds}),{schedule:dE.schedule,errorInData:c}}const o=f({},ln),s=mE(e)?gE(e):hE(e,o),a=Lg(t),r=new Date().toLocaleDateString("en-EN",{weekday:"long"}).toLocaleLowerCase();return{schedule:{today:o[r],week:o,semestr:s,session:{data:a.schedule,startDate:a.startDate,endDate:a.endDate}}}},hE=(e,t)=>{const i=new Date;let o=uE(i);i.getDay()===0&&(o=zg(i,1));let s=new Date(new Date().getFullYear(),new Date().getMonth(),1),a=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);const r=f({},ln);for(const l in e)if(l!=="Sunday"){const c=l.toLocaleLowerCase(),h=e[l];"lessons"in h?(t[c]=ri(Yl(h.lessons,o),en[c].short),r[c]=ri(h.lessons,en[c].short)):(t[c]=ri(Yl(h,o),en[c].short),r[c]=ri(h,en[c].short)),s=new Date(Math.min(...r[c].map(g=>g.startDate.getTime()),s.getTime())),a=new Date(Math.max(...r[c].map(g=>{var m;return((m=g.endDate)!==null&&m!==void 0?m:g.startDate).getTime()}),a.getTime())),o.setDate(o.getDate()+1)}return{data:r,startDate:s,endDate:a}},gE=e=>{const t=Lg(e);return{data:t.schedule,startDate:t.startDate,endDate:t.endDate}};function mE(e){const t=[...Object.keys(en),"sunday"];return!Object.keys(e).every(i=>t.includes(i.toLocaleLowerCase()))}const $g=e=>T(void 0,null,function*(){const t=yield Qx(e),i=yield Kx();return Rg(t.data,i.data)}),Mg=e=>T(void 0,null,function*(){const t=yield Yx(e),i=yield Jx(e);return Rg(t.data,i.data)}),Kl={data:{schedule:null,externalSchedule:null,view:Ag.day,filter:"",searchValue:"",hasNoSchedule:!1},loading:!1,error:null},fE=()=>$t(Ce),fn=Y(e=>T(void 0,null,function*(){try{if(!e)throw new Error("Невозможно получить расписание, так как не указан пользователь");const{group:t,fullName:i,user_status:o}=e;if(i&&o==="staff")return yield Mg(i);if(t&&o==="stud")return yield $g(t);throw new Error("Невозможно получить расписание, так как не указан ни один из параметров")}catch(t){throw new Error(t.message)}}),{name:"getScheduleFx",sid:"m3fe6i"}),qn=Y(t=>T(void 0,[t],function*({group:e}){try{if(!e)throw new Error("Невозможно получить расписание, так как не указана группа");return yield $g(e)}catch(i){throw new Error(i.message)}}),{name:"getGroupScheduleFx",sid:"rz7j9y"}),Qn=Y(t=>T(void 0,[t],function*({fullName:e}){try{if(!e)throw new Error("Невозможно получить расписание, так как не указано имя сотрудника");return yield Mg(e)}catch(i){throw new Error(i.message)}}),{name:"getTeacherScheduleFx",sid:"g0t9td"}),xE=S({name:"changeCurrentModule",sid:"-ux633i"}),Fg=S({name:"changeView",sid:"-64bkfl"}),Bg=S({name:"changeCurrentChosenDay",sid:"fh8e6k"}),Ug=S({name:"setFilter",sid:"jkaxxl"}),Hg=S({name:"setSearchValue",sid:"-jt9nun"}),Wg=S({name:"resetExternalSchedule",sid:"-fw6v5y"}),Ce=R(Kl,{name:"$schedule",sid:"qlf4jp"}).on(fn,e=>_(f({},e),{data:_(f({},e.data),{schedule:null,hasNoSchedule:!1}),error:null})).on(fn.failData,(e,t)=>_(f({},e),{error:`${t.cause}, ${t.message}, ${t.stack}, ${t.name}`})).on(Fg,(e,t)=>_(f({},e),{data:_(f({},e.data),{view:t})})).on(Bg,(e,t)=>_(f({},e),{currentChosenDay:t.day})).on(ne.userGuid,()=>f({},Kl));w({and:[{clock:fn.doneData,source:Ce,fn:(e,t)=>_(f({},e),{data:_(f(f({},e.data),t),{hasNoSchedule:t.errorInData?!1:JSON.stringify(t.schedule.semestr.data)===JSON.stringify(ln)})}),target:Ce}],or:{sid:"e8qgs9"}});w({and:[{clock:Ug,source:Ce,fn:(e,t)=>_(f({},e),{data:_(f({},e.data),{filter:t})}),target:Ce}],or:{sid:"-vee20a"}});w({and:[{clock:Hg,source:Ce,fn:(e,t)=>_(f({},e),{data:_(f({},e.data),{searchValue:t})}),target:Ce}],or:{sid:"-uw8ufd"}});w({and:[{clock:Qn.doneData,source:Ce,fn:(e,t)=>_(f({},e),{data:_(f({},e.data),{externalSchedule:t.schedule,errorInData:t.errorInData})}),target:Ce}],or:{sid:"-ue3mug"}});w({and:[{clock:qn.doneData,source:Ce,fn:(e,t)=>_(f({},e),{data:_(f({},e.data),{externalSchedule:t.schedule,errorInData:t.errorInData})}),target:Ce}],or:{sid:"-tjuy7l"}});w({and:[{clock:[qn,Qn,fn],source:Ce,fn:e=>_(f({},e),{loading:!0}),target:Ce}],or:{sid:"-t15y1b"}});w({and:[{clock:[qn,Qn],source:Ce,fn:e=>_(f({},e),{data:_(f({},e.data),{externalSchedule:null})}),target:Ce}],or:{sid:"-sko48h"}});w({and:[{clock:[qn.doneData,Qn.doneData,fn.doneData],source:Ce,fn:e=>({error:null,loading:!1,data:f({},e.data)}),target:Ce}],or:{sid:"-s2iwnk"}});w({and:[{clock:[qn.failData,Qn.failData,fn.failData],source:Ce,fn:(e,t)=>_(f({},e),{error:t.message,loading:!1}),target:Ce}],or:{sid:"-rkdp2n"}});w({and:[{clock:Wg,source:Ce,fn:e=>_(f({},e),{data:_(f({},e.data),{externalSchedule:null,externalStartDate:null,externalEndDate:null})}),target:Ce}],or:{sid:"-r3c2og"}});const Gg={useSchedule:fE},uD={changeCurrentModule:xE,changeView:Fg,changeCurrentChosenDay:Bg,resetExternalSchedule:Wg,setSearchValue:Hg,setFilter:Ug},pD={getScheduleFx:fn,getGroupScheduleFx:qn,getTeacherScheduleFx:Qn},vE=(e,t)=>{const[i,o]=e.split(":"),s=+i*60+ +o+t;return`${Ni(Math.floor(s/60))}:${Ni(s%60)}`},Vg=(e,t)=>e?`${e} - ${vE(e,t)}`:"9:00",ba=e=>!e||!va(e)?0:e.getHours()*60+e.getMinutes(),Nr=(e,t)=>Di(e.startTime)<=ba(new Date)&&ba(new Date)<=Di(e.startTime)+e.duration&&t,qg=()=>{const{open:e}=K();return i=>{var o;const s=Vg(i.startTime,i.duration);e(n.jsx(sE,f({link:i.link,isNextEvent:!1,timeInterval:s,name:i.title,teachers:i.people,rooms:(o=i.rooms)!==null&&o!==void 0?o:[],groups:i.groups,isCurrentEvent:Nr(i,!0),noPadding:!0},i)))}},Jl={isMiddleDesktop:1.35,isSmallDesktop:1.35,isTablet:1.5,isMobile:1.2},bE=()=>{const{currentDevice:e}=Me(),[t,i]=d.useState(Jl[e]);return d.useEffect(()=>{i(Jl[e])},[e]),t},yE=p.div.withConfig({componentId:"sc-c4ipxs-0"})(["--time-width:55px;","{width:500px;height:500px;}","{--time-width:35px;height:400px;}position:relative;&{.calendar-wrapper{scroll-snap-align:center;min-width:100%;}}"],X.isNotMobile,X.isMobile),wE=({dayEvents:e,day:t,isCurrentDay:i})=>{const o=bE(),s=qg(),a=[9,22];return e!=null&&e.length?n.jsx(yE,{children:n.jsx(Kg,{events:e,interval:a,scale:o,weekday:0,isCurrentDay:i,currentDay:0,shift:a[0]*60,onEventClick:s})},t):n.jsx(ke,{text:"В этот день пар нет",image:Pg})},Qg=()=>{const{data:{schedule:e}}=Gg.useSchedule(),{open:t}=K(),i=zg(new Date,1),o=zu(i.toLocaleDateString("ru-RU",{weekday:"long",day:"2-digit",month:"long"})),s=Og(i),a=s==="sunday"?[]:e==null?void 0:e.week[s];if(!(e!=null&&e.week))return null;const r=()=>t(n.jsx(wE,{isCurrentDay:!1,dayEvents:a,day:o}),o);return n.jsx(E,{text:"Посмотреть следующий",onClick:r,textColor:"var(--blue)",background:"transparent"})},_E=p.div.withConfig({componentId:"sc-1i4lqzl-0"})(["width:100%;background:var(--block);padding:20px 15px;border-radius:9px;scroll-snap-align:center;height:144px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:6px;font-weight:500;text-align:center;img{width:60px;height:60px;}"]),hD=({errorInData:e})=>n.jsxs(_E,{children:[n.jsx("img",{src:Pg}),n.jsx("span",{children:"В этот день пар нет"}),!e&&n.jsx(Qg,{})]});p.div.withConfig({componentId:"sc-1tdaqxa-0"})(["border-radius:15px;overflow:hidden;padding:6px;background:var(--theme-2);display:flex;flex-direction:column;row-gap:6px;overflow-y:auto;scroll-snap-type:y proximity;height:100%;max-height:",";&::-webkit-scrollbar{width:0;}@media (max-width:1000px){max-height:",";}"],({height:e})=>`calc(${e}px - 325px)`,({height:e,isTeacherSchedule:t})=>`calc(${e}px - ${t?340:280}px)`);const jE=(e,t,i)=>t?e?1:.8:i?1:0,kE=e=>e?1:.9;p.div.withConfig({componentId:"sc-99u5r2-0"})(["display:flex;flex-direction:column;min-width:",";width:",";height:",";transition:0.2s;color:var(--text);opacity:",";transform:scale(",");overflow-y:auto;.day-title{display:flex;align-items:center;column-gap:10px;margin-bottom:5px;margin-left:10px;width:calc(100% - 20px);justify-content:space-between;h4{color:",";}span{font-weight:500;opacity:0.7;font-size:0.9em;width:90px;text-align:center;}}@media (max-width:1000px){transition:0.5s opacity;opacity:",";width:100%;min-width:100%;scroll-snap-align:start;transform:scale(1);}"],({width:e,isFull:t})=>e?e+"px":t?"calc(100% / 6 - 9px)":"400px",({width:e,isFull:t})=>e?e+"px":t?"calc(100% / 6)":"400px",({height:e})=>e?e+"px":"fit-content",({isCurrent:e,isFull:t,isVisible:i})=>jE(e,t,i),({isVisible:e})=>kE(e),({isCurrent:e})=>e?"var(--blue)":"var(--text)",({isVisible:e})=>e?"1":"0");const CE=p.div.withConfig({componentId:"sc-1sk6b7e-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:144px;background:var(--block);border-radius:var(--brLight);row-gap:10px;"]),gD=()=>n.jsxs(CE,{children:[n.jsx(Ma,{size:"38px"}),n.jsx(M,{size:4,children:"Учебный день завершился"}),n.jsx(Qg,{})]});p.div.withConfig({componentId:"sc-ghf2g3-0"})(["display:flex;align-items:center;column-gap:5px;color:",";width:100%;overflow:hidden;position:relative;flex-wrap:",";gap:4px;&::after{content:'';display:",";width:30px;height:100%;position:absolute;top:0;right:0;background:",";}.room{width:fit-content;background:",";padding:0px 8px;height:21px;border-radius:4px;display:flex;align-items:center;white-space:nowrap;}"],({isCurrent:e})=>e?"#fff":"var(--text)",({inModal:e})=>e&&"wrap",({inModal:e})=>e&&"none",({isCurrent:e,color:t})=>`linear-gradient(90deg, transparent, ${e?t:"var(--block)"})`,({isCurrent:e})=>e?"var(--almostTransparent)":"var(--theme-2)");p.div.withConfig({componentId:"sc-10959ye-0"})(["display:flex;align-items:center;column-gap:5px;color:",";width:100%;overflow:hidden;position:relative;font-size:0.7em;font-weight:600;flex-wrap:",";gap:5px;&::after{content:'';display:",";width:30px;height:100%;position:absolute;top:0;right:0;background:",";}span{background:",";padding:0px 8px;height:21px;border-radius:4px;display:flex;align-items:center;white-space:nowrap;}"],({isCurrent:e})=>e?"#fff":"var(--text)",({inModal:e})=>e&&"wrap",({inModal:e})=>e&&"none",({isCurrent:e,color:t})=>`linear-gradient(90deg, transparent, ${e?t:"var(--block)"})`,({isCurrent:e})=>e?"var(--almostTransparent)":"var(--theme-2)");p.div.withConfig({componentId:"sc-1v1ypn-0"})(["display:flex;align-items:center;justify-content:center;border-radius:10px;background:var(--theme-1);border-radius:10px;min-width:80px;overflow:hidden;button{border-radius:0;}@media (max-width:1000px){display:none;}"]);const SE=e=>{const[t,i]=e.split(":");return+t*60+ +i},Yg=(e,t,i)=>e?(SE(e)-t)*i:0,IE=p.div.withConfig({componentId:"sc-s25rwv-0"})(["background:",";width:",";height:",";border-radius:5px;padding:",";display:flex;overflow:hidden;color:",";cursor:pointer;position:",";transform:translateX(",");left:2px;top:",";a{color:",";text-decoration:underline;}&:hover{filter:brightness(0.98);}","{padding:",";}"],({background:e})=>e,({quantity:e,listView:t})=>t?"100%":`calc(${e}% - 2.5px)`,({duration:e,scale:t})=>`${e*t}px`,({shortInfo:e,scale:t})=>e?"8px":`${t*8}px`,({textColor:e})=>e,({listView:e})=>e?"static":"absolute",({leftShift:e})=>`calc(${e}% + ${1*(e/100)}px)`,({top:e})=>`${e}px`,({textColor:e})=>e,X.isMobile,({shortInfo:e,scale:t})=>e?"4px":`${t*10}px`);p.div.withConfig({componentId:"sc-s25rwv-1"})(["min-width:35px;height:100%;svg{width:22px;height:22px;}","{min-width:28px;svg{width:18px;height:18px;}}"],X.isMobile);const TE=p(A).withConfig({componentId:"sc-s25rwv-2"})(["gap:",";height:100%;","{gap:",";}"],({shortInfo:e})=>e?"6px":"10px",X.isMobile,({shortInfo:e})=>e?"6px":"8px"),EE=p.span.withConfig({componentId:"sc-s25rwv-3"})(["font-weight:500;font-size:",";padding-top:2px;white-space:",";text-overflow:",";overflow:",";hyphens:auto;width:100%;margin-bottom:2px;margin-top:",";","{word-break:break-all;font-size:",";}"],({shortInfo:e})=>e?"0.85rem":"0.93rem",({shortInfo:e,nameInOneRow:t})=>!e&&t&&"nowrap",({shortInfo:e})=>!e&&"ellipsis",({shortInfo:e})=>!e&&"hidden",({listView:e})=>e?"2px":"0",X.isMobile,({shortInfo:e})=>e?"0.7rem":"0.8rem"),PE=p.div.withConfig({componentId:"sc-s25rwv-4"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:none;width:100%;justify-content:center;align-items:center;svg{width:40%;height:auto;}"]),AE=p(A).withConfig({componentId:"sc-s25rwv-5"})(["height:100%;z-index:1;position:relative;margin-top:10px;margin-left:0px;margin-right:0px;"]),NE=e=>{var t;const{title:i,duration:o,icon:s,startTime:a,place:r,people:l,shift:c,color:u,scale:h,onClick:g,link:m,rooms:x,dateInterval:b,leftShift:v,quantity:y,groups:j,isCurrentEvent:I=!1,nameInOneRow:k=!0,isNextEvent:P=!1,listView:$=!1,shortInfo:W=!1}=e,D=F(ge.userSettings),{isMobile:G}=Me(),V=(D==null?void 0:D.appearance.theme)===Re.Light?u.dark3:u.light3,H=(D==null?void 0:D.appearance.theme)===Re.Light?u.transparent1:u.transparent2,U=()=>g(e),B=(G||y>1)&&W,ae=G&&y>=2&&W,be=l&&!!l.length&&!!l[0],Ne=d.useMemo(()=>be?l.map(Xn=>{var Zn,ei,ti,Z,me;const De=Xn.split(" ");return`${(Zn=De[0])!==null&&Zn!==void 0?Zn:""} ${(ei=(ti=De[1])===null||ti===void 0?void 0:ti[0])!==null&&ei!==void 0?ei:""}.${(Z=(me=De[2])===null||me===void 0?void 0:me[0])!==null&&Z!==void 0?Z:""}.`}):[],[l]),Se=Yg(a,c,h),_e=Ig(i),tt=ae?i.split(" ").map(Xn=>Xn[0].toUpperCase()):ga(_e.name,W?B?43:35:k?300:64),ot=(t=j==null?void 0:j.split(","))!==null&&t!==void 0?t:[],Lt=Ar(()=>Es(a,"minutes"));return n.jsxs(IE,{background:H,textColor:V,listView:$,leftShift:100*v,quantity:100/y,duration:o,scale:h,top:Se,onClick:U,shortInfo:W,children:[n.jsx(PE,{children:s}),n.jsx(A,{className:"event-body",gap:"0px",ai:"flex-start",h:be?void 0:"100%",mh:be?void 0:"100px",children:n.jsxs(TE,{scale:h,d:"column",ai:"flex-start",shortInfo:W,jc:be?void 0:"space-between",children:[n.jsxs(A,{d:"column",gap:"2px",children:[!W&&n.jsxs(A,{gap:"8px",children:[n.jsx(Tg,{timeInterval:Vg(a,o),color:u,isCurrentEvent:I}),n.jsx(Eg,{timeLeft:Lt,isNext:P,color:u,isCurrentEvent:I}),!!(x!=null&&x.length)&&n.jsx(at,{shortInfo:W,icon:G&&y>1?void 0:n.jsx(qs,{}),text:n.jsx(gt,{words:x})}),(!!m||_e.link)&&n.jsx("a",{href:m!=null?m:_e.link,target:"_blank",rel:"noreferrer",children:n.jsx(at,{shortInfo:W,icon:n.jsx(bo,{}),text:m?r:"Cсылка"})}),!!ot.length&&n.jsx(at,{icon:n.jsx(Sa,{}),text:n.jsx(gt,{words:ot})})]}),n.jsx(EE,{listView:$,nameInOneRow:k,scale:h,shortInfo:W,children:tt})]}),be&&!B&&n.jsx(at,{shortInfo:W,text:n.jsx(gt,{words:W?[Ne[0]]:Ne}),icon:n.jsx(K0,{})}),!!(x!=null&&x.length)&&W&&!B&&n.jsx(at,{shortInfo:W,icon:n.jsx(qs,{}),text:n.jsx(gt,{words:x})}),!!m&&W&&!B&&n.jsx("a",{href:m,target:"_blank",rel:"noreferrer",children:n.jsx(at,{shortInfo:W,icon:n.jsx(bo,{}),text:r})}),!!b&&!B&&n.jsx(A,{gap:"5px",children:n.jsx(at,{shortInfo:W,icon:n.jsx(Ta,{}),text:b})})]})})]})},DE=d.memo(NE),OE=e=>{const t={};if(!e)return t;for(let i=0;i<e.length;i++){const o=e[i];t[o.startTime]||(t[o.startTime]=[]),o.startTime==="18:20"?(t["17:50"]||(t["17:50"]=[]),t["17:50"].push(o)):o.startTime==="19:50"&&t["19:30"]?(t["19:30"]||(t["19:30"]=[]),t["19:30"].push(o)):o.startTime==="19:30"&&t["19:50"]?(t["19:50"]||(t["19:50"]=[]),t["19:50"].push(o)):t[o.startTime].push(o)}return t},LE=({events:e,shift:t,scale:i,shortInfo:o,weekDay:s,interval:a,showTime:r,onClick:l,currentDay:c,isCurrentDay:u})=>{const h=OE(e),g=u!=null?u:new Date().getDay()===s,m=c!==void 0?c+1===s:void 0;return n.jsxs(AE,{h:"100%",d:"column",children:[g&&n.jsx(GT,{isVisible:m,showTime:r,scale:i,shift:t,interval:a}),Object.keys(h).map((x,b)=>h[x].map((v,y)=>d.createElement(DE,_(f({leftShift:y,quantity:h[x].length,scale:i,isCurrentEvent:Nr(v,g),isNextEvent:Sg(e,v,g)},v),{onClick:l,shift:t,key:v.startTime+v.title+b+y,shortInfo:o}))))]})},zE=p(A).withConfig({componentId:"sc-1527zd0-0"})(["position:absolute;left:0;z-index:0;height:",";"],({scale:e,timesLen:t})=>`${t*e*60+20}px`),RE=p.div.withConfig({componentId:"sc-1527zd0-1"})(["width:100%;pointer-events:none;position:relative;"]),$E=p.div.withConfig({componentId:"sc-1527zd0-2"})(["position:absolute;width:calc(100% - var(--time-width));left:var(--time-width);top:50%;transform:translateY(-50%);background:var(--theme-4);height:1px;"]),ME=p(re).withConfig({componentId:"sc-1527zd0-3"})(["font-size:0.82rem;opacity:0.5;","{font-size:0.65rem;}"],X.isMobile),FE=Array(24).fill(0).map((e,t)=>`${Ni(t)}:00`),BE=({interval:e,scale:t,shortTimes:i=!1})=>{const o=i?Array(24).fill(0).map((s,a)=>`${a}`).slice(e[0],e[1]+1):FE.slice(e[0],e[1]+1);return n.jsx(zE,{timesLen:o.length-1,scale:t,d:"column",w:"100%",h:"100%",jc:"space-between",ai:"flex-end",children:o.map(s=>n.jsxs(RE,{children:[n.jsx(ME,{children:s}),n.jsx($E,{})]},s))})},Kg=({interval:e,events:t,scale:i,weekday:o,shift:s,onEventClick:a,currentDay:r,isCurrentDay:l})=>{const c=Cg({deps:[t==null?void 0:t.length],getScrollTopValue:()=>{var u;return Yg(t==null||(u=t[0])===null||u===void 0?void 0:u.startTime,s,i)}});return n.jsxs(LT,{className:"calendar-wrapper",ref:c,children:[n.jsx(BE,{interval:e,scale:i}),n.jsx(LE,{currentDay:r,weekDay:o,isCurrentDay:l,events:t!=null?t:[],shift:s,currentEvent:null,scale:i,onClick:a,interval:e})]})},UE=p.div.withConfig({componentId:"sc-1wg26e1-0"})(["display:flex;align-items:center;flex-direction:column;padding:15px 20px;width:calc(50% - 5px);gap:10px;text-align:center;color:",";border-radius:var(--brLight);.title{height:40px;font-weight:700;color:var(--text);}a{text-decoration:none;color:var(--text);width:100%;}.icon{color:",";width:45px;height:45px;display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:100%;background:var(--almostTransparent);svg{width:20px;height:20px;}}"],({color:e})=>e?C[e].main:"var(--text)",({color:e})=>e?C[e].main:"var(--text)"),HE=({icon:e,title:t,color:i,goTo:o,visible:s=!0})=>{const{close:a}=K();return s?n.jsxs(UE,{color:i,children:[n.jsx("div",{className:"icon",children:e}),n.jsx("span",{className:"title",children:t}),!!o&&n.jsx(ue,{to:o,children:n.jsx(E,{text:"Перейти",onClick:a,background:"var(--almostTransparent)",width:"100%"})})]}):null},WE=p.div.withConfig({componentId:"sc-l3fl0i-0"})(["width:100%;height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center;.image{height:fit-content;width:100%;display:flex;justify-content:center;align-items:center;margin:20px;img{width:100%;object-fit:cover;object-position:center;}}@media (max-width:1000px){img{width:100%;object-fit:scale-down;}}"]),GE=p.div.withConfig({componentId:"sc-l3fl0i-1"})(["display:flex;flex-wrap:wrap;justify-content:center;gap:5px;"]),VE=p(re).withConfig({componentId:"sc-l3fl0i-2"})(["margin-bottom:20px;"]),qE=({image:e,list:t,text:i})=>{var o;const{isMobile:s}=Me();return n.jsxs(WE,{children:[!!e&&n.jsxs(n.Fragment,{children:[n.jsx(M,{size:3,align:"center",bottomGap:!0,children:e.title}),n.jsx("div",{className:"image",children:(o=e.component)!==null&&o!==void 0?o:n.jsx("img",{src:s&&e.mobile?e.mobile:e.desktop,alt:""})})]}),n.jsx(VE,{lineHeight:"1.6rem",width:"100%",align:"center",fontSize:"1rem",visible:!!i,children:i}),!!t&&n.jsx(GE,{children:t==null?void 0:t.map(a=>d.createElement(HE,_(f({},a),{key:a.title})))})]})},QE=p.div.withConfig({componentId:"sc-p7mmoa-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;@media (min-width:1001px){width:400px;min-height:350px;}.content{height:100%;}.buttons{display:flex;align-items:center;width:100%;margin-top:10px;& > * + *{margin-left:10px;}}"]),YE=p.div.withConfig({componentId:"sc-p7mmoa-1"})(["--time-width:55px;height:300px;width:100%;"]),KE=()=>n.jsx(YE,{children:n.jsx(Kg,{scale:1.35,weekday:1,events:[{title:"Нечеткое моделирование",duration:90,startTime:"16:10",startDate:new Date("September 1, 2023"),endDate:null,color:xa["16:10 - 17:40"],icon:zo("Нечеткое моделирование"),place:"Прянишникова",rooms:["Пр2202"],weekday:"Ср",people:["Норин Владимир Павлович"],dateInterval:"1 сен - 30 окт"},{title:"Математика",duration:90,startTime:"17:50",startDate:new Date("September 1, 2023"),endDate:null,color:xa["17:50 - 19:20"],icon:zo("Математика"),place:"Прянишникова",rooms:["Пр2202"],weekday:"Ср",people:["Норин Владимир Павлович"],dateInterval:"1 сен - 30 окт"}],interval:[16,19],currentDay:0,shift:16*60,onEventClick:()=>null})}),Jg=()=>{const[e,t]=d.useState(0),{close:i}=K(),o=[n.jsx(qE,{text:"Стало проще видеть свое расписание целиком",image:{title:"Новое расписание! В виде календаря",component:n.jsx(KE,{})}},"schedule")];return n.jsxs(QE,{children:[n.jsx("div",{className:"content",children:o[e]}),n.jsx(Ld,{amount:o.length,current:e}),n.jsxs("div",{className:"buttons",children:[n.jsx(E,{onClick:()=>t(s=>Ut(s-1,o.length-1)),text:"Назад",width:"100%",isActive:e!==0}),e===o.length-1?n.jsx(E,{onClick:i,text:"Готово",width:"100%",background:C.blue.light1,textColor:"#fff"}):n.jsx(E,{onClick:()=>t(s=>Ut(s+1,o.length-1)),text:"Далее",width:"100%"})]})]})},JE=e=>{if(e&&e[e.length-1]){const t=e[e.length-1];return Di(t.startTime)+t.duration<ba(new Date)}},XE=()=>{var e,t,i;const{data:{schedule:o,hasNoSchedule:s,errorInData:a},loading:r}=Gg.useSchedule(),l=qg(),c=(o==null||(e=o.today)===null||e===void 0?void 0:e.length)===0||!(o!=null&&o.today),u=JE(o==null?void 0:o.today),h=Cg({deps:[o==null?void 0:o.today],condition:((t=o==null||(i=o.today)===null||i===void 0?void 0:i.length)!==null&&t!==void 0?t:0)>1,getScrollTopValue:m=>{var x,b,v,y;return m.clientHeight*(u?(x=o==null||(b=o.today)===null||b===void 0?void 0:b.length)!==null&&x!==void 0?x:0:(v=o==null||(y=o.today)===null||y===void 0?void 0:y.findIndex(j=>Nr(j,!0)||Sg(o.today,j,!0)))!==null&&v!==void 0?v:0)}}),g=()=>Q.evokePopUpMessage({message:a!=null?a:"",type:"failure",time:Aa.ten_seconds});return{listRef:h,noSchedule:c,loading:r,schedule:o==null?void 0:o.today,isEnded:u,hasNoSchedule:s,errorInData:a,handleOpenModal:l,handleErrorClick:g}},Xl=p(Ko).withConfig({componentId:"sc-1jgb5fm-0"})(["position:fixed;bottom:0;left:0;right:0;will-change:transform;transform:translateZ(0);display:flex;height:var(--mobile-bottom-menu-height);width:100%;background:var(--block);border-top:1px solid var(--theme-2);padding:0px 10px;display:none;","{display:flex;}"],X.isTablet),si=()=>n.jsxs(A,{d:"column",gap:"8px",children:[n.jsx(ee,{shape:"circle",size:{width:"20px",height:"20px"},margin:"0"}),n.jsx(ee,{shape:"rect",size:{width:"35px",height:"10px"},margin:"0"})]}),ZE=()=>{const{allRoutes:e}=bt.useMenu(),{data:{user:t}}=Te.useUser(),{hasNoSchedule:i,loading:o}=XE(),s=Wt();if(!e||!t||o)return n.jsxs(Xl,{direction:"horizontal",horizontalAlign:"evenly",verticalAlign:"center",children:[n.jsx(si,{}),n.jsx(si,{}),n.jsx(si,{}),n.jsx(si,{}),n.jsx(si,{})]});const a=(t==null?void 0:t.user_status)==="stud"?qS:i?YS:QS;return n.jsx(Xl,{direction:"horizontal",horizontalAlign:"evenly",children:a.map(r=>{const l=e[r]?s.pathname.includes(e[r].path):!1;return n.jsx(kg,_(f({},e[r]),{isCurrent:l}),r)})})},eP=(e,t,i)=>({isOpen:t,message:e,position:i}),Zl={hints:[]},tP=()=>$t(nP),Xg=S({name:"evoke",sid:"-dmu4v9"}),Zg=S({name:"close",sid:"-ryhxvq"}),em=S({name:"clearStore",sid:"2hrryw"}),nP=R(Zl,{name:"$hint",sid:"-r91nob"}).on(Xg,(e,{message:t,position:i})=>({hints:[...e.hints,eP(t,e.hints.length===0,i)]})).on(Zg,e=>({hints:e.hints.splice(1,e.hints.length)})).on(em,()=>f({},Zl)),iP={useHint:tP},oP={evoke:Xg,close:Zg,clearStore:em},sP=p.div.withConfig({componentId:"sc-rmnpx-0"})(["left:",";top:",";background:var(--reallyBlue);color:#fff;border-radius:var(--brLight);font-weight:500;display:flex;align-items:flex-end;flex-direction:column;max-width:300px;box-shadow:0 0 30px ",";transition:0.2s;opacity:",";visibility:",";transform:",";position:absolute;z-index:5;min-width:150px;.message{&::before{content:'';width:15px;height:15px;transform:rotate(45deg);background:var(--reallyBlue);position:absolute;top:15px;left:-5px;border-radius:3px;z-index:-1;}}"],({left:e})=>e+"px",({top:e})=>e+"px",C.blue.transparent3,({open:e})=>e?1:0,({open:e})=>e?"visible":"hidden",({open:e})=>e?"translateY(0)":"translateY(20px)"),aP=()=>{const{hints:e}=iP.useHint(),t=e[0];return t?n.jsx(sP,{open:t.isOpen,left:t.position.x,top:t.position.y,children:n.jsx(ve,{type:"hint",title:t.message,onClose:()=>oP.close(),width:"100%",icon:null})}):null};p.div.withConfig({componentId:"sc-rcekyr-0"})(["display:flex;flex-direction:column;height:100%;@media (min-width:1001px){width:600px;height:600px;}"]);const rP=({padding:e,size:t="middle"})=>{var i,o;const{data:{user:s}}=Te.useUser();return K(),n.jsxs($e,{visible:!!(s!=null&&s.accounts),padding:e,title:"Аккаунты",direction:"horizontal",gap:0,showPages:!0,horizontalAlign:"left",onAdd:void 0,children:[!(s!=null&&(i=s.accounts)!==null&&i!==void 0&&i.length)&&n.jsx(re,{children:"Нет доступных аккаунтов"}),s==null||(o=s.accounts)===null||o===void 0?void 0:o.map(a=>{var r;return n.jsx(Zi,{id:void 0,type:a.user_status,size:t,name:(r=a.fio)!==null&&r!==void 0?r:s.fullName,token:a.token,division:a.work_place,group:a.group,degreeLevel:a.degreeLevel,orientation:"vertical"},a.fio)})]})};function lP(e){switch(e){case"up":return"translate(0, -30px)";case"down":return"translate(0, 30px)";case"left":return"translate(-30px, 0)";case"right":return"translate(135px, 0)"}}const cP=p.div.withConfig({componentId:"sc-amccvs-0"})(["position:relative;width:fit-content;height:fit-content;display:flex;align-items:center;flex-direction:",";&:hover > div{transform:",";opacity:1;}"],({direction:e})=>e==="left"?"row-reverse":"row",({direction:e})=>lP(e)),dP=p.div.withConfig({componentId:"sc-amccvs-1"})(["pointer-events:none;padding:6px 10px;border-radius:var(--brLight);background:#000000b9;color:#fff;font-weight:400;position:absolute;transform:translate(0,0);transition:0.2s;opacity:0;font-size:0.8em;text-align:center;max-width:",";"],({width:e})=>e!=null?e:"fit-content");function $o({children:e,direction:t,text:i,width:o}){return n.jsxs(cP,{direction:t,children:[n.jsx(dP,{width:o,children:i}),e]})}const uP=(e,t)=>t.reduce((i,o)=>{const s=o.links.filter(a=>Be(a.title).includes(Be(e)));return s.length&&i.push({title:o.title,links:s}),i},[]),pP=()=>[{title:"Многофункциональный центр",links:[{link:Xp,title:"Справка о прослушанных дисциплинах за период обучения (справка об обучении)"},{link:_h,title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования"},{link:Zp,title:"Справка в социальные учреждения (Пенсионный фонд, УСЗН и пр.)"},{link:eh,title:"Справка-вызов"},{link:ph,title:"Заявление на пересдачу для получения диплома с отличием"},{link:wh,title:"Запрос на изменение персональных данных"},{link:uh,title:"Запрос на восстановление магнитного пропуска"},{link:Qp,title:"Уточнение паспортных данных"},{link:Ch,title:"Выдача лицензий и свидетельств о государственной аккредитации"},{link:Sh,title:"Предоставление каникул в связи с окончанием университета"},{link:Ih,title:"Предоставление академического отпуска"},{link:Th,title:"Выход из академического отпуска"},{link:Eh,title:"Отчисление по инициативе обучающегося"},{link:Ph,title:"Продление промежуточной аттестации или ГИА"}]},{title:"Управление студенческим городком",links:[{link:Fm,title:"Предоставление медицинских справок для проживающих в общежитии"},{link:th,title:"Предоставление права проживания (очная форма)",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:nh,title:"Предоставление права проживания (очно-заочная форма)",exceptionalFormEducationList:["Очная","Заочная"]},{link:ih,title:"Предоставление права проживания (заочная форма)",exceptionalFormEducationList:["Очная","Очно-заочная"]},{link:sh,title:"Предоставление права проживания льготной категории граждан"},{link:oh,title:"Предоставление права проживания в период академического отпуска",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:ah,title:"Предоставление права проживания в семейной комнате",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:lh,title:"Переселение внутри общежития",exceptionalFormEducationList:["Заочная"]},{link:ch,title:"Переселение в другое общежитие",exceptionalFormEducationList:["Заочная"]},{link:rh,title:"Расторжение договора найма"},{link:dh,title:"Предоставление права проживания в период каникул"}]},{title:"Профсоюзная организация",links:[{link:Qc,title:"Вступить в Профсоюз",isExternalLink:!0,isOpenInNewWindow:!0},{link:vh,title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)"},{link:bh,title:"Заявка на материальную помощь"},{link:Jp,title:"Оформить социальную стипендию"},{link:yh,title:"Отправка документов на получение стипендии Московского Политеха",exceptionalFormEducationList:["Очно-заочная","Заочная"],exceptionalDegreeLevelList:["Аспирантура"]}]},{title:"Мобилизационный отдел",links:[{link:hh,title:"Отправить документы воинского учета"},{link:gh,title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу (форма 10)"},{link:mh,title:"Заказать справку об обучении для студентов в военкомат (форма 4)",description:"Доступна после заполнения формы № 10"},{link:fh,title:"Заказать справку об обучении для аспирантов в военкомат (форма 5)",description:"Доступна после заполнения формы № 10"},{link:xh,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Отдел платных образовательных услуг"+" (Сервис временно недоступен)",disabled:Oe,links:[{link:pa,title:"Оформить дополнительное соглашение к договору об обучении"},{link:pa,title:"Отправить квитанцию об оплате обучения или пени"}]},{title:"Приемная комиссия",links:[{link:Sx,isExternalLink:!0,title:"Изменение условий обучения (направление подготовки (специальность), форма), в том числе перевод с платного обучения на бесплатное"}]},{title:"Прочее",links:[{link:kh,title:"Предоставление справок о группе здоровья"},{link:jh,title:"Контактные данные родителей"},{link:vr,title:"Техническая эксплуатация"},{link:Yp,title:"Произвольный запрос"}]},{title:"Прочее (в разработке)",disabled:Oe,links:[{link:Kp,title:"Трудоустройство студентов"}]}],hP=e=>[{title:"Цифровые сервисы",links:[{link:bp,title:"Справка с места работы"},{link:yp,title:"Справка с места работы для предоставления в визовый центр"},{link:_p,title:"Справка о количестве неиспользованных дней отпуска"},{disabled:Oe,link:jp,title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»"}]},{title:"Телефонный справочник",links:[...mP(e),{link:Cp,title:"Запрос на изменение внутреннего телефона"},{link:Sp,title:"Запрос на изменение корпоративной электронной почты"}]},...gP(),{title:"Прочее",links:[{link:vr,title:"Техническая эксплуатация"}]}],gP=()=>[{title:"Цифровые сервисы (в разработке)",disabled:Oe,links:[{link:wp,title:"Справка о стаже работы"},{link:Ip,title:"Копия трудовой книжки"},{link:Tp,title:"Копии документов из личного дела"},{link:Ep,title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку"}]},{disabled:Oe,title:"Общее",links:[{link:dp,title:"Актуализация контактных данных"}]},{title:"ИТ-обслуживание",links:[{link:hp,title:"Получение нового компьютерного оборудования"},{link:gp,title:"Подключение компьютера, МФУ, телефона, WiFi"},{link:mp,title:"Обслуживание принтеров, МФУ"},{link:fp,title:"Вопрос по СЭД Directum и 1С"},{link:xp,title:"Вопрос по Личному кабинету"},{link:vp,title:"Прочее ИТ-обслуживание"}]},{title:"Бухгалтерия",disabled:Oe,links:[{link:Dp,title:"Справка по форме 2-НДФЛ"},{link:Op,title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка"},{link:Pp,title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет"},{link:Lp,title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)"}]},{title:"Управление студенческого городка",disabled:Oe,links:[{link:zp,title:"Предоставление права проживания в жилом помещении"},{link:Rp,title:"Временное размещение гостей в студгородке"},{link:$p,title:"Проход гостей на территорию студенческого городка"},{link:Mp,title:"Переселение"},{link:Fp,title:"Расторжение договора найма жилого помещения"}]},{title:"Бюро пропусков",disabled:Oe,links:[{link:Bp,title:"Выдача пропуска (повторная)"},{link:Up,title:"Заказ гостевого пропуска"}]},{title:"Отдел контроля и делопроизводства",disabled:Oe,links:[{link:Hp,title:"Заверение и выдача копий внутренних документов"}]},{title:"Многофункциональный центр",disabled:Oe,links:[{link:pp,title:"Выдача лицензий и свидетельств о государственной аккредитации"}]},{title:"Экспедиция отдела контроля и делопроизводства",disabled:Oe,links:[{link:Np,title:"Курьер"}]},{title:"Мобилизационный отдел",disabled:Oe,links:[{link:Wp,title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу"},{link:Gp,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Прочее",disabled:Oe,links:[{link:Ap,title:"Произвольный запрос"},{link:Qc,title:"Вступить в Профсоюз",isExternalLink:!0}]}],mP=e=>e.head_div&&e.head_div.length>0?[{link:kp,title:"Внесение изменений данных подразделения в телефонном справочнике"}]:[],fP=(e,t)=>!(t!=null&&t.length)||!e?!0:!(t!=null&&t.includes(e)),xP=(e,t)=>!(t!=null&&t.length)||!e?!0:!(t!=null&&t.includes(e)),vP=p.div.withConfig({componentId:"sc-1i4ujt1-0"})(["@media (min-width:1001px){width:100%;max-width:900px;min-width:900px;max-height:600px;}display:flex;flex-direction:column;height:70vh;.list{padding:5px;margin-top:10px;overflow-y:auto;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:calc(50% - 5px);background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]),mD=({isTeachers:e=!1,currentFormEducation:t,currentDegreeLevel:i})=>{const{close:o}=K(),{data:{user:s}}=Te.useUser(),a=(e&&s?hP(s):pP()).map(h=>{const g=h.links.filter(m=>!m.disabled);return _(f({},h),{links:g})}),[r,l]=d.useState(""),[c,u]=d.useState(a);return n.jsxs(vP,{children:[n.jsx(Ha,{whereToSearch:a,searchEngine:uP,setResult:u,placeholder:"Поиск заявок",setExternalValue:l}),n.jsx("div",{className:"list",children:n.jsxs("div",{className:"links-wrapper",children:[(c!=null?c:a).map(h=>{if(!h.disabled)return n.jsxs("div",{className:"link-list",children:[n.jsx(M,{size:4,align:"left",bottomGap:!0,children:h.title}),n.jsx("div",{className:"links",children:h.links.map((g,m)=>{if(!(g.disabled||!fP(t,g.exceptionalFormEducationList)||!xP(i,g.exceptionalDegreeLevelList)))return g.isExternalLink?n.jsx("a",{href:g.link,target:g.isOpenInNewWindow?"_blank":"_self",rel:"noreferrer",children:g.title},g.link+m):n.jsxs(A,{d:"column",ai:"flex-start",children:[n.jsx(ue,{to:g.link,onClick:o,children:g.title},g.link+m),g.description&&n.jsx(re,{children:g.description})]})})})]},h.title)}),!(c!=null&&c.length)&&!!r.length&&n.jsx(ke,{text:`По запросу ${r} ничего не найдено`})]})})]})};p.div.withConfig({componentId:"sc-vnhc1t-0"})(["display:flex;flex-direction:column;height:100%;width:100%;.list{margin-top:10px;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:100%;background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (min-width:1001px){.list{.links-wrapper{.link-list{padding:5px;}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]);p.div.withConfig({componentId:"sc-vnhc1t-1"})(["padding:12px;box-shadow:var(--block-shadow);border-radius:8px;margin:10px 0;.links{display:flex;flex-direction:column;gap:16px;}"]);const ec={isOpen:!1,pages:[],currentPage:0},bP=()=>$t(yP),tm=S({name:"open",sid:"2bs4br"}),nm=S({name:"close",sid:"um67v7"}),im=S({name:"changeCurrentPage",sid:"-wbcenj"}),om=S({name:"clearStore",sid:"-xjcfg8"}),yP=R(ec,{name:"$story",sid:"-upbqag"}).on(tm,(e,{pages:t})=>({isOpen:!0,pages:t,currentPage:0})).on(nm,e=>({pages:e.pages,currentPage:e.currentPage,isOpen:!1})).on(im,(e,{value:t})=>_(f({},e),{currentPage:t})).on(om,()=>f({},ec)),Dr={useStory:bP},Zt={open:tm,close:nm,clearStore:om,changeCurrentPage:im};p(Dt).withConfig({componentId:"sc-127k6fw-0"})(["overflow:hidden;position:relative;background:",";cursor:pointer;border-radius:var(--brLight);width:",";height:",";.title{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);font-size:0.8rem;font-weight:500;color:",";}"],({background:e})=>e!=null?e:"var(--block)",({width:e})=>e,({height:e})=>e,({color:e})=>e!=null?e:"var(--text)");const wP=bi(["@supports not (aspect-ratio:1/1){height:0;padding-top:100%;position:relative;overflow:hidden;}"]),sm=bi(["@supports not (aspect-ratio:1/1){max-width:100%;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%;}"]),_P=p.div.withConfig({componentId:"sc-1esmg0s-0"})(["border-radius:",";display:flex;align-items:center;justify-content:center;background:",";color:var(--text);border:",";outline:",";position:relative;width:",";min-width:",";height:",";margin-right:",";box-shadow:",";.icon{position:absolute;bottom:-2px;right:-5px;background:var(--theme);color:var(--text);padding:2px;border-radius:100%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;svg{width:12px;height:12px;}}.checkbox{position:absolute;bottom:-9px;right:-9px;}.name{display:flex;height:100%;width:100%;color:#fff;font-size:",";align-items:center;justify-content:center;font-weight:600;","}@media (max-width:1000px){width:",";min-width:",";height:",";margin-right:",";.name{font-size:",";}}.notification{min-width:30%;height:30%;}"," ",""],({borderRadius:e})=>e?`${e}px`:"50%",({background:e})=>e!=null?e:"var(--almostTransparent)",({selected:e,border:t})=>(e||t)&&"5px solid var(--theme)",({selected:e})=>e&&"4px solid var(--reallyBlue)",({width:e})=>e!=null?e:"160px",({width:e})=>e!=null?e:"160px",({height:e})=>e!=null?e:"160px",({marginRight:e})=>e!=null?e:"32px",({boxShadow:e})=>e!=null?e:"0",({width:e})=>e?parseInt(e)/50+"em":"3em",sm,({width:e})=>e!=null?e:"75px",({width:e})=>e!=null?e:"75px",({height:e})=>e!=null?e:"75px",({marginRight:e})=>e!=null?e:"15px",({width:e})=>e?parseInt(e)/50+"em":"1.5em",({centerHorizontally:e})=>e&&bi(["position:relative;left:50%;transform:translate3d(-50%,0,0);"]),({adaptive:e})=>e&&bi(["@media (max-width:450px){width:100%;height:100%;min-width:75px;aspect-ratio:1/1;","}"],wP)),jP=p.img.withConfig({componentId:"sc-1esmg0s-1"})(["width:100%;height:100%;border-radius:",";object-fit:cover;object-position:center;",""],({round:e})=>e&&"100%",({adaptive:e})=>e&&bi(["@media (max-width:450px){","}"],sm));function Tt({selected:e,name:t,avatar:i,width:o,height:s,marginRight:a,notifications:r,checked:l,boxShadow:c,border:u,icon:h,avatarModal:g,onClick:m,borderRadius:x,background:b,adaptive:v,centerHorizontally:y}){var j;const[I,k]=d.useState(!0),P=Xs(t)[0]+((j=Xs(t)[1])!==null&&j!==void 0?j:""),{open:$}=K(),W=D=>{g?$(n.jsx(Tt,{name:t,width:"400px",height:"400px",marginRight:"0",avatar:i,adaptive:!0,centerHorizontally:!0})):m==null||m(D)};return n.jsxs(_P,{selected:e,width:o,height:s,marginRight:a,background:b!=null?b:ht(t),boxShadow:c,border:u,onClick:W,borderRadius:x,adaptive:v,centerHorizontally:y,children:[i&&I?n.jsx(jP,{loading:"lazy",round:!0,onLoadedData:()=>k(!0),onError:()=>k(!1),src:i,adaptive:v}):n.jsx("div",{className:"name",children:P}),h&&n.jsx("span",{className:"icon",children:h}),n.jsx(lt,{invisibleOnFalse:!0,checked:l!=null?l:!1,visible:l!==void 0,setChecked:()=>null}),n.jsx(hn,{className:"notification",left:"80%",top:"90%",outline:"4px solid var(--block)",visible:!!r,children:(r||0)>1?r:null})]})}const kP=p.div.withConfig({componentId:"sc-1x49vrf-0"})(["display:flex;justify-content:center;width:100%;.info{display:flex;flex-direction:column;margin-left:10px;margin-top:20px;width:100%;b{margin-bottom:15px;color:#fff;display:flex;align-items:flex-end;height:42px;}}"]),Or=({avatar:e,name:t,type:i,division:o,group:s,finance:a,educationForm:r,faculty:l,degreeLevel:c,course:u,isMe:h=!1,noInfo:g=!1})=>{const m=g?"140px":"110px",x=qp(h,i,o,s);return n.jsxs(kP,{children:[n.jsx(op,{fullName:t,height:"136px",width:"calc(100% + 16px)",baseScale:1,baseScaleDelta:.5}),n.jsx(Tt,{avatarModal:!0,border:!0,name:t,avatar:e,width:m,height:m,marginRight:"0"}),!g&&n.jsxs("div",{className:"info",children:[n.jsx("b",{children:t}),n.jsx(re,{fontSize:"0.9rem",children:n.jsx(gt,{words:x})}),n.jsx(Xt,{fontSize:"0.9rem",visible:!!a,keyStr:"Уровень финансирование",value:a}),n.jsx(Xt,{fontSize:"0.9rem",visible:!!l,keyStr:"Факультет",value:l}),n.jsx(Xt,{fontSize:"0.9rem",visible:!!c,keyStr:"Уровень образования",value:c}),n.jsx(Xt,{fontSize:"0.9rem",visible:!!u,keyStr:"Курс",value:u}),n.jsx(Xt,{fontSize:"0.9rem",visible:!!r,keyStr:"Форма образования",value:r})]})]})},CP=p.div.withConfig({componentId:"sc-x4ldkl-0"})(["@media (min-width:1001px){width:330px;height:fit-content;min-height:120px;}display:flex;align-items:center;height:inherit;min-height:inherit;flex-direction:column;.buttons{margin-top:20px;display:flex;align-items:center;justify-content:center;width:100%;gap:8px;a{width:100%;}button{width:100%;}}","{.user{.info b{width:90%;height:35px;}&::before{height:110px;}}}"],X.isMobile),am=e=>{const{children:t}=e;return n.jsxs(CP,{children:[n.jsx(Or,f({},e)),n.jsx("div",{className:"buttons",children:t})]})},SP=p.div.withConfig({componentId:"sc-1vhy699-0"})(["display:flex;align-items:center;justify-content:flex-start;width:100%;.name-and-status{display:flex;flex-direction:column;}"]),IP=()=>n.jsxs(SP,{children:[n.jsx(ee,{shape:"circle",size:{width:"30px",height:""},margin:"8px 0px 8px 0 "}),n.jsxs("div",{className:"name-and-status",children:[n.jsx(ee,{shape:"rect",size:{width:"130px",height:"10px"},margin:"1px 10px"}),n.jsx(ee,{shape:"rect",size:{width:"70px",height:"8px"},margin:"0px 10px"})]})]}),rm=e=>{if(e)return()=>{nt.evokeConfirm({message:"Вы уверены, что хотите сменить аккаунт?",onConfirm:()=>{localStorage.setItem(te.Token,e),location.reload()}})}},lm=e=>{var t,i;const{close:o}=K(),{token:s,name:a,group:r}=e,l=`linear-gradient(45deg, ${ht(a,"main")}, ${ht(a,"dark1")})`;return n.jsxs(am,_(f({},e),{type:"stud",children:[!s&&n.jsxs(n.Fragment,{children:[r&&n.jsx(ue,{to:Xi(Jn,{page:"current",filter:r}),children:n.jsx(E,{icon:n.jsx(Gt,{}),text:"Расписание",onClick:()=>o(),width:"100%",background:"var(--theme-4)"})}),n.jsx(ws,{avatar:e.avatar,userId:(t=(i=e.id)===null||i===void 0?void 0:i.toString())!==null&&t!==void 0?t:"",status:"stud",fio:a})]}),s&&n.jsx(E,{text:"Войти в аккаунт",width:"100%",textColor:"#fff",background:l,onClick:rm(s)})]}))},TP=e=>{var t,i;const{close:o}=K(),{token:s,name:a}=e,r=`linear-gradient(45deg, ${ht(a,"dark1")}, ${ht(a,"main")})`;return n.jsxs(am,_(f({type:"staff"},e),{children:[!s&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{to:Xi(Jn,{page:"current",filter:a}),children:n.jsx(E,{icon:n.jsx(Gt,{}),text:"Расписание",onClick:()=>{o()},background:"var(--theme-4)",width:"100%"})}),n.jsx(ws,{avatar:e.avatar,userId:(t=(i=e.id)===null||i===void 0?void 0:i.toString())!==null&&t!==void 0?t:"",status:"staff",fio:a})]}),s&&n.jsx(E,{text:"Войти в аккаунт",width:"100%",textColor:"#fff",background:r,onClick:rm(s)})]}))},cm=i=>{var o=i,{name:e}=o,t=Je(o,["name"]);const{data:{user:s}}=Te.useUser(),a=(s==null?void 0:s.user_status)==="staff",{subdivisions:r}=F({subdivisions:mt.subdivisions});if(!a||!r)return n.jsx(TP,f({name:e},t));const l=_s(r,e)[0];return n.jsx(Rt,{id:t.id,title:l.fio,info:pi(l),avatar:l.avatar,isEmployee:!0})};p.strong.withConfig({componentId:"sc-eyta43-0"})(["&:hover{text-decoration:underline;cursor:pointer;}"]);const Yn=p.div.withConfig({componentId:"sc-1sdtuzg-0"})(["display:flex;align-items:",";justify-content:center;height:",";min-height:",";color:var(--text);background:",";padding:",";width:100%;"],({alignItems:e})=>e!=null?e:"center",({height:e})=>e!=null?e:"auto",({minHeight:e})=>e,({background:e})=>e,({padding:e})=>e),EP=()=>n.jsx("div",{className:"left",children:n.jsxs($e,{scroll:!1,height:"100%",verticalAlign:"space-between",position:"static",children:[n.jsx(Xo,{width:"50px",short:!0,className:"logo first"}),n.jsxs($e,{gap:12,scroll:!1,height:"100%",verticalAlign:"center",children:[n.jsx(ue,{to:Br,tabIndex:-1,children:n.jsx(E,{padding:"0",icon:n.jsx(vi,{}),text:"Обратная связь",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(ue,{to:Wm,tabIndex:-1,children:n.jsx(E,{padding:"0",icon:n.jsx(J0,{}),text:"Узнать свой логин ЕУЗ",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(ue,{to:Hm,tabIndex:-1,children:n.jsx(E,{padding:"0",icon:n.jsx(fi,{}),text:"Вниманию студентов 1 курса!",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(ue,{to:Gm,tabIndex:-1,children:n.jsx(E,{padding:"0",icon:n.jsx(fi,{}),text:"Вниманию сотрудников!",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(ye,{}),n.jsx(ue,{to:Um,tabIndex:-1,children:n.jsx(E,{padding:"0",icon:n.jsx(X0,{}),text:"Не получается войти",height:"25px",align:"left",background:"transparent",textColor:"var(--red)"})})]}),n.jsx(pn,{text:"Перейти к старому дизайну",onClick:()=>{localStorage.setItem("useOldVersion","true")},background:"transparent",textColor:"var(--reallyBlue)",icon:n.jsx(Uo,{}),align:"left",padding:"0",width:"100%",href:`${q}/index.php`})]})}),PP=()=>{const e=vs(),t=e.get("login"),i=e.get("password"),[o,s]=d.useState(t!=null?t:""),[a,r]=d.useState(i!=null?i:""),[l,c]=d.useState(!1),u=!!a&&!!o,h=ce.login,g=new Date().getMonth()>=6&&new Date().getMonth()<=8,m=v=>{c(v.getModifierState("CapsLock")),v.key==="Enter"&&h({login:o,password:a})},x=v=>{ce.changeSavePassword({savePassword:v})},b=()=>h({login:o,password:a});return d.useEffect(()=>{t&&i&&h({login:t,password:i})},[t,i]),{isSubmitActive:u,password:a,capsLock:l,login:o,showAbiturientMessage:g,handleSavePassword:x,handleKeyPress:m,handleLogin:b,setPassword:r,setLogin:s}},AP=()=>{var e;const{loading:t,error:i,data:o}=Te.useUser(),{isSubmitActive:s,password:a,capsLock:r,login:l,showAbiturientMessage:c,handleKeyPress:u,handleSavePassword:h,handleLogin:g,setPassword:m,setLogin:x}=PP();return n.jsx("div",{className:"right",onKeyDown:u,children:n.jsxs($e,{gap:16,horizontalAlign:"center",position:"static",verticalAlign:"space-between",height:"100%",scroll:!1,children:[n.jsx(Xo,{width:"50px",short:!0,className:"logo second"}),n.jsx(A,{jc:"space-between",children:n.jsx(M,{size:3,align:"left",children:"Личный кабинет"})}),c&&n.jsx(ve,{type:"info",title:"Уважаемые абитуриенты!",children:n.jsxs("p",{children:["Личный кабинет абитуриента находится по ссылке"," ",n.jsx("a",{href:"https://lk.mospolytech.ru/",target:"_blank",rel:"noreferrer",children:n.jsx("strong",{children:"lk.mospolytech.ru"})})]})}),n.jsxs($e,{gap:16,scroll:!1,children:[n.jsx(M,{size:4,align:"left",children:"Вход"}),n.jsx(re,{children:"Вход в личный кабинет происходит через единую учетную запись (ЕУЗ)"}),n.jsx(ve,{type:"failure",visible:!!i,children:i}),n.jsx(ve,{type:"success",visible:(e=o==null?void 0:o.isAuthenticated)!==null&&e!==void 0?e:!1,children:"Вы вошли в аккаунт"}),n.jsx(Pe,{value:l,setValue:x,title:"Логин",placeholder:"Введите логин"}),n.jsx(Pe,{value:a,setValue:m,title:"Пароль",placeholder:"Введите пароль",type:"password",alertMessage:r?"Включен Capslock":void 0}),n.jsx(lt,{text:"Оставаться в системе",checked:o.savePassword,setChecked:h})]}),n.jsx(xt,{text:"Вход",action:g,isLoading:t,completed:!1,setCompleted:()=>null,isActive:s})]})})},NP=p(Dt).withConfig({componentId:"sc-1o25f9n-0"})(["overflow:hidden;min-height:480px;transition:0.2s box-shadow;position:relative;background:",";.left,.right{height:100%;padding:22px;}.right{min-width:350px;width:350px;opacity:",";}.left{min-width:320px;width:320px;transition:0.2s background,0.2s opacity;background:",";padding-top:",";& > * > * > *:not(.logo){opacity:",";}}.logo{transform-origin:left;}.logo.first{z-index:100;animation:",";@keyframes logoMove{0%{position:absolute;top:22px;left:22px;transform:scale(1) translateY(0%) translateX(0%);}100%{position:absolute;top:50%;left:50%;transform:scale(2) translateY(-25%) translateX(-50%);}}}.logo.second{display:none;}@media (max-width:675px){max-width:400px;max-height:90%;flex-direction:column-reverse;overflow-y:auto;justify-content:flex-start;.right{opacity:1;& > * > * > *:not(.logo):not(button){opacity:",";}button{opacity:",";}}.left{padding-top:22px;}.logo.first{display:none;}.logo.second{display:block;z-index:100;animation:",";@keyframes logoMoveMobile{0%{position:absolute;top:22px;left:50%;transform:scale(1) translateY(0%) translateX(-50%);}100%{position:absolute;top:50%;left:50%;transform:scale(2) translateY(-25%) translateX(-50%);}}}.left,.right{width:100%;}}@media (max-width:400px){box-shadow:none;border-radius:0px;height:100%;max-height:100%;}"],({isAuthenticated:e})=>e?"var(--theme)":"var(--block)",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e?"var(--theme)":"var(--theme-1t)",({isAuthenticated:e})=>e?"60px":"22px",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e&&"logoMove 0.8s forwards ease-in-out",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e&&"0",({isAuthenticated:e})=>e&&"logoMoveMobile 0.8s forwards ease-in-out"),DP=()=>{const{data:{isAuthenticated:e}}=Te.useUser();return n.jsxs(NP,{isAuthenticated:e!=null?e:!1,height:"fit-content",orientation:"horizontal",gap:"4px",maxWidth:"fit-content",padding:"0",children:[n.jsx(EP,{}),n.jsx(AP,{})]})},OP=p.div.withConfig({componentId:"sc-1p41lbf-0"})(["width:100%;display:flex;justify-content:center;align-items:center;background:var(--theme);flex-direction:column;"]),LP=()=>n.jsx(OP,{children:n.jsx(DP,{})}),zP=d.lazy(()=>N(()=>import("./index-6ac71667.js"),["assets/index-6ac71667.js","assets/vendor-3c67dcca.js"])),dm=d.lazy(()=>N(()=>import("./index-ef133d91.js"),["assets/index-ef133d91.js","assets/vendor-3c67dcca.js"])),RP=d.lazy(()=>N(()=>Promise.resolve().then(()=>IS),void 0)),$P=d.lazy(()=>N(()=>import("./index-b92e6fb9.js"),["assets/index-b92e6fb9.js","assets/vendor-3c67dcca.js"])),MP=d.lazy(()=>N(()=>import("./index-3a52ce5b.js"),["assets/index-3a52ce5b.js","assets/vendor-3c67dcca.js"])),um=d.lazy(()=>N(()=>import("./index-003f79f0.js"),["assets/index-003f79f0.js","assets/vendor-3c67dcca.js","assets/help-links-c9bbb1c3.js","assets/create-form-store-253807a7.js"])),FP=d.lazy(()=>N(()=>import("./index-681c90bd.js"),["assets/index-681c90bd.js","assets/vendor-3c67dcca.js"])),BP=d.lazy(()=>N(()=>import("./index-72b8f11f.js"),["assets/index-72b8f11f.js","assets/vendor-3c67dcca.js","assets/alert-item-9f1fa66d.js","assets/is-valid-url-08a91344.js"])),UP=d.lazy(()=>N(()=>import("./index-be9b54f9.js"),["assets/index-be9b54f9.js","assets/vendor-3c67dcca.js","assets/index-eb54a82c.js","assets/alert-item-9f1fa66d.js","assets/is-valid-url-08a91344.js"])),HP=d.lazy(()=>N(()=>import("./index-df4a16db.js"),["assets/index-df4a16db.js","assets/vendor-3c67dcca.js"])),WP=d.lazy(()=>N(()=>Promise.resolve().then(()=>RI),void 0)),GP=d.lazy(()=>N(()=>import("./index-e305d939.js"),["assets/index-e305d939.js","assets/vendor-3c67dcca.js"])),pm=d.lazy(()=>N(()=>import("./index-8aa1d8ea.js"),["assets/index-8aa1d8ea.js","assets/vendor-3c67dcca.js","assets/index-eb54a82c.js"])),VP=d.lazy(()=>N(()=>import("./index-99dc1708.js"),["assets/index-99dc1708.js","assets/vendor-3c67dcca.js","assets/index-821c4aa2.js"])),qP=d.lazy(()=>N(()=>import("./index-dcdaf25d.js"),["assets/index-dcdaf25d.js","assets/vendor-3c67dcca.js","assets/index-821c4aa2.js"])),QP=d.lazy(()=>N(()=>import("./index-683acc9e.js"),["assets/index-683acc9e.js","assets/vendor-3c67dcca.js","assets/index-821c4aa2.js"])),YP=d.lazy(()=>N(()=>import("./index-453209ef.js"),["assets/index-453209ef.js","assets/vendor-3c67dcca.js"])),KP=d.lazy(()=>N(()=>import("./index-27e89f1e.js"),["assets/index-27e89f1e.js","assets/vendor-3c67dcca.js","assets/index-53942296.js","assets/dev-mode-message-2b303514.js"])),JP=d.lazy(()=>N(()=>import("./index-4585a5a8.js"),["assets/index-4585a5a8.js","assets/vendor-3c67dcca.js"])),XP=d.lazy(()=>N(()=>import("./index-dc526e73.js"),["assets/index-dc526e73.js","assets/vendor-3c67dcca.js","assets/help-links-c9bbb1c3.js"])),ZP=d.lazy(()=>N(()=>import("./index-707b156a.js"),["assets/index-707b156a.js","assets/vendor-3c67dcca.js","assets/help-links-c9bbb1c3.js"])),e2=d.lazy(()=>N(()=>import("./index-1a7692f4.js"),["assets/index-1a7692f4.js","assets/vendor-3c67dcca.js"])),t2=d.lazy(()=>N(()=>import("./index-50f8c94b.js"),["assets/index-50f8c94b.js","assets/vendor-3c67dcca.js"])),n2=p.div.withConfig({componentId:"sc-1iy5q58-0"})(["position:relative;display:flex;justify-content:space-between;position:relative;display:flex;align-items:center;font-weight:700;width:100%;padding:10px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;.icon-and-title{display:flex;align-items:center;gap:15px;}svg{width:22px;height:22px;}.buttons{display:flex;align-items:center;column-gap:5px;svg{margin:0;}}&:hover::before{width:5px;background:var(--red);}"]),i2=({chosen:e,onClick:t})=>n.jsx(E,{minWidth:"35px",background:"transparent",icon:e?n.jsx(Z0,{style:{color:"var(--blue)"}}):n.jsx(Mc,{}),onClick:t}),o2=e=>{const{id:t,chosen:i,switchMenuItem:o}=e;return n.jsxs(n2,{chosen:i,onClick:()=>o(t),children:[n.jsx(ia,f({background:"transparent",maxWordLength:100,orientation:"horizontal",shadow:!1},e)),n.jsx("div",{className:"buttons",children:n.jsx(i2,{chosen:i,onClick:()=>{o(t)}})})]})},s2=p.div.withConfig({componentId:"sc-121iwyr-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:600px;height:600px;}"]),hm=({enabledListStore:e,add:t,remove:i,requiredListStore:o})=>{const[s,a]=F([e,o]),{visibleRoutes:r}=bt.useMenu(),[l,c]=d.useState(null);if(!s||!r)return null;const u=h=>{s[h]?i(h):t(h)};return n.jsxs(s2,{children:[n.jsx(Ha,{placeholder:"Поиск",whereToSearch:r,searchEngine:wg,setResult:c}),Object.values(l!=null?l:r).filter(h=>!a.includes(h.id)).map((h,g)=>d.createElement(o2,_(f({},h),{key:g,chosen:!!s[h.id],switchMenuItem:u})))]})},ft={size:4,align:"left",bottomGap:"12px",style:{marginLeft:"8px"}},xo=S({name:"setHomePageWidgetView",sid:"mzjw46"});w({and:[{clock:xo,source:ge.userSettings,fn:(e,t)=>({homePage:f(f({},e.homePage),t)}),target:qe.update}],or:{sid:"-koqolk"}});const Oi=p.div.withConfig({componentId:"sc-mr5xj1-0"})(["display:flex;flex-direction:column;gap:24px;"]),a2=()=>{const[e,t]=F([ge.userSettings,Ai.menu]),{open:i}=K(),o=e==null?void 0:e.homePage.pages.reduce((s,a)=>{var r;return _(f({},s),{[a]:(r=t.allRoutes)===null||r===void 0?void 0:r[a]})},{});return n.jsxs(Oi,{children:[n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{children:"Разделы домашней страницы"})),n.jsx(lr,{padding:"0 10px 10px 10px",list:o,onRemoveOne:s=>{ji({pageId:s})},onAddElement:()=>{i(n.jsx(hm,{enabledListStore:Ai.homeRoutes,requiredListStore:R([],{name:"requiredListStore",sid:"-d98k08"}),remove:s=>ji({pageId:s}),add:s=>os({pageId:s})}),"Разделы домашней страницы")}})]}),n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{bottomGap:"4px",children:"Виджеты"})),n.jsx(Fe,{title:"Новости",action:s=>{xo({hasNews:s})},state:!!(e!=null&&e.homePage.hasNews)}),n.jsx(Fe,{title:"Оплаты",action:s=>xo({hasPayment:s}),state:!!(e!=null&&e.homePage.hasPayment)}),n.jsx(Fe,{title:"Расписание",action:s=>{xo({hasSchedule:s})},state:!!(e!=null&&e.homePage.hasSchedule)})]})]})},r2=()=>{const[e,t,i]=F([ge.userSettings,Ai.menu,zn]),{open:o}=K(),s=e==null?void 0:e.customizeMenu.pages.filter(a=>!i.includes(a)).reduce((a,r)=>{var l;return _(f({},a),{[r]:(l=t.allRoutes)===null||l===void 0?void 0:l[r]})},{});return n.jsxs(n.Fragment,{children:[n.jsx(M,_(f({},ft),{children:"Разделы меню"})),n.jsx(lr,{padding:"0 10px 10px 10px",list:s,onRemoveOne:a=>{So({pageId:a})},onAddElement:()=>{o(n.jsx(hm,{enabledListStore:Ai.leftSidebar,requiredListStore:zn,remove:a=>So({pageId:a}),add:a=>ss({pageId:a})}),"Настройка меню")}})]})},gm=S({name:"turnOnAllNotifications",sid:"1wmi06"}),mm=S({name:"turnOffAllNotifications",sid:"a0jir2"});w({and:[{clock:gm,fn:()=>({notifications:{all:!0,messages:!0,newVersion:!0,schedule:!0,news:!0,applications:!0,doclist:!0}}),target:qe.update}],or:{sid:"-n783b6"}});w({and:[{clock:mm,fn:()=>({notifications:{all:!1,messages:!1,newVersion:!1,schedule:!1,news:!1,applications:!1,doclist:!1}}),target:qe.update}],or:{sid:"-a9kop5"}});const l2=p.div.withConfig({componentId:"sc-1phin2z-0"})(["display:flex;position:relative;flex-direction:column;height:100%;margin-left:8px;padding-left:6px;&::before{content:'';position:absolute;display:block;width:3px;background-color:var(--blue);height:100%;border-radius:2px;}"]),c2=()=>{const e=F(ge.userSettings);if(!e)return null;const t=e.notifications,i=Object.values(t).every(Boolean);return n.jsxs(Oi,{style:{gap:"0"},children:[n.jsx(M,_(f({},ft),{bottomGap:"4px",children:"Уведомления"})),n.jsxs("div",{children:[n.jsx(Fe,{title:"Все",state:i,action:o=>{o?gm():mm()}}),n.jsxs(l2,{children:[n.jsx(Fe,{title:"Сообщения",state:t.messages,action:o=>{qe.update({notifications:_(f({},t),{messages:o})})}}),n.jsx(Fe,{title:"Новая версия",state:t.newVersion,action:o=>{qe.update({notifications:_(f({},t),{newVersion:o})})}}),n.jsx(Fe,{title:"Расписание",state:t.schedule,action:o=>{qe.update({notifications:_(f({},t),{schedule:o})})}}),n.jsx(Fe,{title:"Новости",state:t.news,action:o=>{qe.update({notifications:_(f({},t),{news:o})})}}),n.jsx(Fe,{title:"Цифровые сервисы",state:t.applications,action:o=>{qe.update({notifications:_(f({},t),{applications:o})})}}),n.jsx(Fe,{title:"Документы для ознакомления",state:t.doclist,action:o=>{qe.update({notifications:_(f({},t),{doclist:o})})}})]})]})]})},Kn=({title:e,description:t,onClick:i,icon:o,rightIcon:s,editable:a=!0,completed:r,fancyBG:l})=>n.jsxs(d2,{onClick:i,completed:r,fancyBG:l,children:[o&&n.jsx("div",{className:"icon",children:o}),n.jsxs(fm,{completed:r,children:[n.jsx("b",{children:e}),n.jsx("span",{children:t})]}),n.jsx(ya,{completed:r,children:s!=null?s:a?n.jsx(ex,{}):null})]}),ya=p.div.withConfig({componentId:"sc-m7xit9-0"})(["color:",";z-index:2;display:flex;align-items:center;justify-content:center;transition:0.2s transform;"],({completed:e})=>e?"var(--greenMain)":""),fm=p.div.withConfig({componentId:"sc-m7xit9-1"})(["z-index:2;width:100%;display:flex;flex-direction:column;color:",";b{opacity:",";font-weight:500;font-size:0.85rem;}span{opacity:0.6;font-size:0.8rem;margin-top:2px;}"],({completed:e})=>e?"var(--greenMain)":"var(--text)",({completed:e})=>e?1:.8),d2=p.div.withConfig({componentId:"sc-m7xit9-2"})(["width:100%;display:flex;align-items:center;justify-content:space-between;position:relative;cursor:pointer;padding:0px 12px;min-height:45px;border-radius:var(--brLight);background:",";&:hover{background:",";",",",",.icon > svg{color:var(--text);}","{","}}.icon{z-index:2;width:22px;height:22px;margin-right:10px;display:flex;justify-content:center;align-items:center;svg{width:22px;height:22px;opacity:0.4;color:",";}}span{opacity:0.8;}"],({fancyBG:e})=>e?"linear-gradient(90deg, var(--bgLink1) 0%, var(--block) 50%)":"",({completed:e,fancyBG:t})=>t?e?"linear-gradient(270deg, rgba(60, 210, 136, 0) 0%, rgba(60, 210, 136, 0.4) 100%)":"linear-gradient(270deg, var(--bgLink2) 0%, var(--bgLink3) 100%)":"var(--theme-4)",ya,fm,ya,({fancyBG:e})=>e&&"transform: translateX(-10px);",({completed:e})=>e?"var(--greenMain)":"var(--text)"),xm=S({name:"changeStaffPhone",sid:"izwok9"}),Mn=J({sid:"rjfr38",fn:()=>we({handler:Wx}),name:"changeStaffPhoneParamsMutation",method:"createMutation"});w({and:[{clock:xm,target:Mn.start}],or:{sid:"-lrn0rd"}});w({and:[{clock:Mn.$succeeded,source:Mn.__.$latestParams,filter:Boolean,target:ce.updateBulk}],or:{sid:"-lpfudx"}});w({and:[{clock:Mn.$succeeded,fn:()=>({message:"Данные о служебном мобильном телефоне успешно изменены",type:"success",time:3e3}),target:Q.evokePopUpMessage}],or:{sid:"-laled6"}});w({and:[{clock:Mn.$failed,fn:()=>({message:"Не удалось изменить данные о служебном мобильном телефоне",type:"failure",time:3e3}),target:Q.evokePopUpMessage}],or:{sid:"-l5n90x"}});const u2=p.div.withConfig({componentId:"sc-svm75i-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){min-width:350px;}"]),p2=p.div.withConfig({componentId:"sc-svm75i-1"})(["display:flex;align-items:center;justify-content:flex-end;gap:8px;"]),h2=()=>{var e,t,i;const{close:o,isOpen:s}=K(),{loading:a,user:{currentUser:r}}=F({loading:Mn.$pending,user:ne.user}),[l,c]=d.useState((e=r==null?void 0:r.phone_staff)!==null&&e!==void 0?e:""),[u,h]=d.useState((t=r==null?void 0:r.allow_mobphone_in)!==null&&t!==void 0?t:!1),[g,m]=d.useState((i=r==null?void 0:r.allow_mobphone_out)!==null&&i!==void 0?i:!1),x=()=>{xm({phone_staff:l,allow_mobphone_in:u,allow_mobphone_out:g})};return d.useEffect(()=>{if(s){var b,v,y;c((b=r==null?void 0:r.phone_staff)!==null&&b!==void 0?b:""),h((v=r==null?void 0:r.allow_mobphone_in)!==null&&v!==void 0?v:!1),m((y=r==null?void 0:r.allow_mobphone_out)!==null&&y!==void 0?y:!1)}},[s]),n.jsxs(u2,{children:[n.jsx(Pe,{value:l,setValue:c,type:"tel",mask:!0}),n.jsx(Fe,{title:"Показывать мобильный телефон внутри Личного кабинета",state:u,action:h}),n.jsx(Fe,{title:"Показывать мобильный телефон на сайте",state:g,action:m}),n.jsx(ye,{}),n.jsxs(p2,{children:[n.jsx(E,{text:"Отменить",onClick:o}),n.jsx(E,{height:"38px",text:a?void 0:"Обновить",onClick:x,loading:a,background:C.blue.main,minWidth:"10ch",textColor:C.white.main})]})]})},g2=()=>{const{user:{currentUser:e}}=F({user:ne.user}),{open:t}=K();if(!e)return null;const i=()=>{t(n.jsx(h2,{}),"Служебный мобильный телефон")};return n.jsx(Kn,{icon:n.jsx(Fc,{}),title:"Служебный мобильный телефон",description:e.phone_staff,onClick:i})},vm=S({name:"changeStaffAddress",sid:"oilgm9"}),xn=J({sid:"-wa42cm",fn:()=>we({handler:Gx}),name:"changeStaffAddressMutation",method:"createMutation"});w({and:[{clock:vm,target:xn.start}],or:{sid:"-9un4ct"}});w({and:[{clock:xn.$succeeded,source:{user:ne.user,mutationParams:xn.__.$latestParams},fn:({user:{currentUser:e},mutationParams:t})=>{var i;return{subdivisions:e==null||(i=e.subdivisions)===null||i===void 0?void 0:i.map(o=>o.guid_staff===(t==null?void 0:t.guid_staff)?f(f({},o),t):o)}},target:ce.updateBulk}],or:{sid:"-9sfxzd"}});w({and:[{clock:xn.$succeeded,source:{user:ne.user,mutationParams:xn.__.$latestParams},fn:({user:{currentUser:e},mutationParams:t})=>{var i;return{message:`Данные об адресе рабочего места (${e==null||(i=e.subdivisions)===null||i===void 0||(i=i.find(o=>o.guid_staff===(t==null?void 0:t.guid_staff)))===null||i===void 0?void 0:i.post}) успешно изменены`,type:"success",time:3e3}},target:Q.evokePopUpMessage}],or:{sid:"-8rlq86"}});w({and:[{clock:xn.$failed,fn:()=>({message:"Не удалось изменить данные об адресе рабочего места",type:"failure",time:3e3}),target:Q.evokePopUpMessage}],or:{sid:"-7um2mi"}});const m2=p.div.withConfig({componentId:"sc-1d66gwv-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){min-width:350px;}"]),f2=p.div.withConfig({componentId:"sc-1d66gwv-1"})(["display:flex;align-items:center;justify-content:flex-end;gap:8px;"]),x2=({subDivisionGuidStaff:e})=>{var t,i,o,s;const{close:a,isOpen:r}=K(),{loading:l,user:{currentUser:c}}=F({loading:xn.$pending,user:ne.user}),[u,h]=d.useState(()=>{var k,P;return e||((k=c==null||(P=c.subdivisions)===null||P===void 0||(P=P[0])===null||P===void 0?void 0:P.guid_staff)!==null&&k!==void 0?k:"")}),g=c==null||(t=c.subdivisions)===null||t===void 0?void 0:t.find(k=>k.guid_staff===u),m=(c==null||(i=c.subdivisions)===null||i===void 0?void 0:i.length)||0,[x,b]=d.useState(()=>{var k;return Os(Ee,(k=g==null?void 0:g.address)!==null&&k!==void 0?k:"")}),[v,y]=d.useState(g==null?void 0:g.room),j=()=>{var k;vm({guid_staff:u,address:x==null?void 0:x.title,room:v!=null?v:"",post:(k=g==null?void 0:g.post)!==null&&k!==void 0?k:""})};d.useEffect(()=>{var k;b(Os(Ee,(k=g==null?void 0:g.address)!==null&&k!==void 0?k:"")),y(g==null?void 0:g.room)},[g]),d.useEffect(()=>{if((x==null?void 0:x.title)!==(g==null?void 0:g.address)){y(on.cabinetMask("",Js((x==null?void 0:x.title)||"")));return}y(g==null?void 0:g.room)},[x]);const I=(o=c==null||(s=c.subdivisions)===null||s===void 0?void 0:s.map(k=>{var P;return{id:k.guid_staff,title:(P=k.post)!==null&&P!==void 0?P:"",content:n.jsx(n.Fragment,{})}}))!==null&&o!==void 0?o:[];return d.useEffect(()=>{if(r){var k;b(Os(Ee,(k=g==null?void 0:g.address)!==null&&k!==void 0?k:"")),y(g==null?void 0:g.room)}},[r]),n.jsxs(m2,{children:[(e||m===1)&&n.jsx(M,{size:4,align:"left",children:g==null?void 0:g.post}),!e&&m>1&&n.jsx(Ts,{pages:I,onChangePage:k=>h(k||""),appearance:!1,currentPage:I.findIndex(({id:k})=>k===u)||0}),n.jsx(Va,{width:"99%",title:"Адрес рабочего места",items:Ee,setSelected:b,selected:x}),n.jsx(Pe,{title:"Кабинет",value:v!=null?v:"",type:"cabinet",setValue:k=>y(on.cabinetMask(k,Js((x==null?void 0:x.title)||""))),mask:!0}),n.jsx(ye,{}),n.jsxs(f2,{children:[n.jsx(E,{text:"Отменить",onClick:a}),n.jsx(E,{height:"38px",text:l?void 0:"Обновить",onClick:j,loading:l,background:C.blue.main,minWidth:"10ch",textColor:C.white.main})]})]})},v2=({subDivisionGuidStaff:e})=>{var t;const{user:{currentUser:i}}=F({user:ne.user}),{open:o}=K();if(!i)return null;const s=()=>{o(n.jsx(x2,{subDivisionGuidStaff:e}),"Адрес места работы")};return n.jsx(Kn,{icon:n.jsx(Ia,{}),title:"Адрес места работы",description:(t=i.subdivisions)===null||t===void 0?void 0:t.map(a=>a.room).join(", "),onClick:s})},tc=e=>!e||e.length===0?"Не указан":e,bm=(e,t)=>{const i=e.find(({test:a})=>!a(...t)),o=!i,s=!t.find(a=>a.length===0)&&o;return{allChecked:o,isActive:s,validationError:i}},b2=p.div.withConfig({componentId:"sc-1xa1yjn-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:350px;}"]),y2=p.div.withConfig({componentId:"sc-1xa1yjn-1"})(["display:flex;align-items:center;gap:8px;"]),w2=[{text:"Необходимо изменить строку",test:(e,t)=>e!==t}],_2=e=>{var t;const{value:i,message:o,action:s,type:a,title:r,additionalActions:l}=e,[c,u]=d.useState(i),[h,g]=d.useState(!1),[m,x]=d.useState(""),[b,v]=d.useState(!1),{close:y}=K(),{isActive:j,validationError:I}=bm(w2,[c,i]),k=()=>T(void 0,null,function*(){try{var P;g(!0),yield s==null?void 0:s(c),l==null||(P=l.onSuccess)===null||P===void 0||P.call(l,c),g(!1),v(!0)}catch($){x("Возникла ошибка: "+$.message),g(!1)}});return d.useEffect(()=>{u(i),x(null)},[r]),n.jsxs(b2,{children:[n.jsx(M,{size:3,align:"left",children:r}),o&&n.jsx(ve,{type:(t=o.type)!==null&&t!==void 0?t:"",title:o.title,children:o.body}),n.jsx(ve,{type:"failure",visible:!!m,children:m}),n.jsx(Pe,{value:c,setValue:u,type:a,mask:!0}),n.jsx(ye,{}),n.jsxs(y2,{children:[n.jsx(E,{text:"Отменить",width:"100%",onClick:y}),n.jsx(xt,{isLoading:h,completed:b,isActive:j,text:"Обновить",action:k,setCompleted:v,popUpFailureMessage:I==null?void 0:I.text,height:"38px"})]})]},r)},nc=e=>{const{open:t}=K(),i=()=>{e.disabled||t(n.jsx(_2,f({},e)))};return n.jsx(Kn,_(f({},e),{onClick:i}))},ic=e=>{const t=d.useState(!1),i=d.useState(!1),o=d.useState(null);return{loading:t,error:o,completed:i,isActive:e}},j2=p.div.withConfig({componentId:"sc-1y5ksaz-0"})(["display:flex;flex-direction:column;align-items:center;gap:12px;@media (min-width:1001px){width:400px;}"]),k2=()=>{var e;const{data:{user:t}}=Te.useUser();if(!t)return null;const[i,o]=d.useState([]),[s,a]=d.useState(null),{completed:[r,l],loading:[c,u],error:[h,g],isActive:m}=ic(!!(t!=null&&t.avatar)),{completed:[x,b],loading:[v,y],error:[j,I],isActive:k}=ic(i.length===1);d.useEffect(()=>{const D=new FileReader;D.onloadend=()=>{a(D.result)},i[0]?D.readAsDataURL(i[0]):a(null)},[i]);const P=()=>T(void 0,null,function*(){try{y(!0),b(!1);const D=yield el(i[0]);if(D.data.result!=="ok")throw new Error(D.data.errors);b(!0),y(!1),o([]),ce.update({key:"avatar",value:s})}catch(D){I("Ошибка: "+D.message)}}),$=()=>T(void 0,null,function*(){try{u(!0),l(!1);const D=yield el();if(D.data.result!=="ok")throw new Error(D.data.errors);l(!0),u(!1),ce.update({key:"avatar",value:""})}catch(D){g("Ошибка: "+D.message)}}),W=()=>nt.evokeConfirm({message:"Вы уверены, что хотите удалить фото профиля?",onConfirm:$});return n.jsxs(j2,{children:[n.jsx(Or,{avatar:s!=null?s:t==null?void 0:t.avatar,name:(e=t==null?void 0:t.fullName)!==null&&e!==void 0?e:"",isMe:!1,type:t==null?void 0:t.user_status,noInfo:!0}),n.jsx(ve,{type:"failure",visible:!!j||!!h,children:j||h}),n.jsx(Ga,{files:i,maxFiles:1,formats:["jpeg"],setFiles:o,isActive:!0}),n.jsxs($e,{direction:"horizontal",children:[(t==null?void 0:t.avatar)&&n.jsx(xt,{isLoading:c,background:C.red.main,completed:r,isActive:m,text:"Удалить фото профиля",action:W,setCompleted:l}),n.jsx(xt,{isLoading:v,completed:x,isActive:k,text:"Обновить",popUpSuccessMessage:"Фото профиля успешно обновлено!",popUpFailureMessage:"Фото не загружено",action:P,setCompleted:b})]})]})},C2=e=>{const{open:t}=K(),i=()=>{t(n.jsx(k2,{}))};return n.jsx(Kn,_(f({},e),{onClick:i}))},ym=e=>e===0?"grey":e<=40?"red":e<=60?"orange":e<=80?"blue":"green",wm={small:4,middle:9,large:12,big:14},S2=p.div.withConfig({componentId:"sc-2e6plf-0"})(["width:100%;h5{color:",";}"],({coloring:e,value:t})=>e?C[ym(t)].main:"var(--text)"),I2=p.div.withConfig({componentId:"sc-2e6plf-1"})(["width:",";border-radius:var(--brLight);height:","px;transition:0.2s;background:",";"],({value:e})=>e+"%",({size:e})=>wm[e],({coloring:e,value:t,color:i})=>e?C[ym(t)].main:!e&&i?C[i].main:"var(--block)"),T2=p.div.withConfig({componentId:"sc-2e6plf-2"})(["width:100%;border-radius:var(--brLight);background-color:var(--theme-2);height:","px;overflow:hidden;"],({size:e})=>wm[e]),_m=({title:e,value:t,size:i="middle",coloring:o=!0,color:s})=>n.jsxs(S2,{value:t,coloring:o,children:[n.jsx(M,{size:5,align:"left",visible:!!e,bottomGap:!0,children:e}),n.jsx(T2,{size:i,children:n.jsx(I2,{size:i,coloring:o,value:t,color:s})})]}),Fn=7,jm=new RegExp(`(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{${Fn+3},})`),km=new RegExp(`((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{${Fn},}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{${Fn+3},}))`),oc=[{text:`Минимальная длина ${Fn} знаков`,test:e=>e.length>=Fn},{text:"Не повторяет старый пароль",test:(e,t,i)=>i.length>0&&e.length>0&&e!==i},{text:"Состоит из латинских заглавных, строчных букв, цифр",test:e=>km.test(e)},{text:"Пароли совпадают",visible:!1,test:(e,t)=>e.length>0&&t.length>0&&e===t}],E2=[{text:"Содержит спец. знаки (например, !, $, #, %)",test:e=>jm.test(e)}],sc="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",P2=e=>{let t="";for(let i=0;i<e;i++)t+=sc.charAt(Math.floor(Math.random()*sc.length));return t},A2=e=>jm.test(e)?{title:"надежный",value:100}:km.test(e)?{title:"средний",value:60}:e.length===0?{title:"нет",value:0}:e.length<Fn?{title:"очень слабый",value:10}:{title:"слабый",value:20},N2=p.div.withConfig({componentId:"sc-1r0k6mt-0"})(["display:flex;gap:20px;align-items:center;flex-direction:column;@media (min-width:1001px){flex-direction:row;width:620px;height:400px;}"]),D2=p.form.attrs({autocomplete:!1}).withConfig({componentId:"sc-1r0k6mt-1"})(["display:flex;flex-direction:column;justify-content:space-between;gap:10px;min-height:100%;max-width:280px;width:100%;"]),O2=p.div.withConfig({componentId:"sc-1r0k6mt-2"})(["height:100%;background:var(--theme-1t);border-radius:var(--brLight);padding:16px;display:flex;flex-direction:column;justify-content:space-between;"]),L2=p.div.withConfig({componentId:"sc-1r0k6mt-3"})(["height:100%;gap:8px;display:flex;flex-direction:column;align-items:center;"]),z2=p.div.withConfig({componentId:"sc-1r0k6mt-4"})(["display:flex;align-items:center;gap:8px;"]),R2=p.div.withConfig({componentId:"sc-1r0k6mt-5"})(["display:flex;flex-direction:column;align-items:center;gap:8px;transform:scale(0.9);"]),$2=p.div.withConfig({componentId:"sc-1r0k6mt-6"})(["height:350px;display:flex;flex-direction:column;gap:12px;justify-content:center;align-items:center;@media (max-width:1001px){height:fit-content;}"]),M2=()=>{const[e,t]=d.useState(""),[i,o]=d.useState(""),[s,a]=d.useState(""),[r,l]=d.useState(null),[c,u]=d.useState(!1),[h,g]=d.useState(!1),{isActive:m,validationError:x}=bm(oc,[i,s,e]),b=A2(i),{close:v}=K(),y=()=>{const I=P2(12);o(I),a(I)},j=()=>T(void 0,null,function*(){try{u(!0);const k=yield Bx(e,i);if(k.data.result!=="ok")throw new Error(k.data.errors);g(!0),u(!1),o(""),a(""),t("")}catch(k){var I;const P=(I=k.message)!==null&&I!==void 0?I:k;l("Возникла ошибка: "+P),u(!1)}});return n.jsxs(N2,{children:[n.jsxs(O2,{children:[n.jsxs(L2,{children:[n.jsx(M,{size:3,align:"left",children:"Смена пароля"}),n.jsx(re,{width:"100%",align:"left",fontSize:"0.9rem",children:"Обязательные требования"}),n.jsx($e,{gap:8,direction:"vertical",children:oc.map(I=>n.jsx(lt,{fontSize:"0.85rem",setChecked:()=>null,text:I.text,checked:I.test(i,s,e)},I.text))}),n.jsx(re,{width:"100%",align:"left",fontSize:"0.9rem",children:"Необязательные требования"}),n.jsx($e,{gap:8,direction:"vertical",children:E2.map(I=>n.jsx(lt,{fontSize:"0.85rem",setChecked:()=>null,text:I.text,checked:I.test(i,s,e)},I.text))})]}),!m&&n.jsx(E,{width:"100%",text:"Сгенерировать пароль",onClick:y,background:"var(--theme-2)"}),m&&n.jsxs(R2,{children:[n.jsx(Ma,{size:"40px"}),n.jsx(M,{size:5,children:"Отличный пароль!"})]})]}),n.jsxs(D2,{children:[n.jsxs($2,{children:[n.jsx(ve,{title:"Ошибка",type:"failure",visible:!!r,children:r}),n.jsx(Pe,{type:"password",title:"Введите старый пароль",placeholder:"Введите пароль",value:e,setValue:t,required:!0}),n.jsx(Pe,{type:"password",title:"Придумайте пароль",placeholder:"Введите новый пароль",value:i,setValue:o,required:!0}),n.jsx(Pe,{type:"password",title:"Повторите пароль",placeholder:"Введите тот же пароль",value:s,setValue:a,required:!0}),n.jsx(_m,{value:b.value,size:"small",title:`Сложность пароля: ${b.title}`})]}),n.jsxs(z2,{children:[n.jsx(E,{text:"Отменить",width:"100%",onClick:v}),n.jsx(xt,{isLoading:c,completed:h,text:"Обновить",popUpFailureMessage:`Требование к паролю: ${x==null?void 0:x.text}`,action:j,setCompleted:g,height:"38px",isActive:m})]})]})]})},F2=e=>{const{open:t}=K(),i=()=>t(n.jsx(M2,{}));return n.jsx(Kn,_(f({},e),{onClick:i}))},B2=()=>{var e;const{user:{currentUser:t},settings:i}=F({user:ne.user,settings:ge.userSettings});if(!i)return null;const o=i.syncAcrossAllDevices;return n.jsxs(Oi,{children:[n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{children:"Данные"})),n.jsx(C2,{title:"Фото профиля",value:t==null?void 0:t.avatar,icon:n.jsx(Tt,{avatar:t==null?void 0:t.avatar,name:(e=t==null?void 0:t.fullName)!==null&&e!==void 0?e:"",width:"22px",height:"22px",marginRight:"0"}),description:"Смена аватара"}),n.jsx(nc,{icon:n.jsx(tx,{}),type:"text",title:"Email",description:tc(t==null?void 0:t.email),value:t==null?void 0:t.email,action:s=>Ux(s!=null?s:""),additionalActions:{onSuccess:s=>{ce.update({key:"email",value:s})}}}),n.jsx(nc,{icon:n.jsx(Fc,{}),type:"tel",title:"Телефон",description:tc(t==null?void 0:t.phone),value:t==null?void 0:t.phone,action:s=>Hx(s!=null?s:""),additionalActions:{onSuccess:s=>{ce.update({key:"phone",value:s})}}}),(t==null?void 0:t.user_status)==="staff"&&n.jsxs(n.Fragment,{children:[n.jsx(g2,{}),n.jsx(v2,{})]}),n.jsx(F2,{icon:n.jsx(nx,{}),type:"password",title:"Пароль",description:"Смена пароля"})]}),n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{children:"Синхронизация"})),n.jsx(Fe,{title:"Сохранить для всех устройств",state:o,action:s=>{const a=s?"Вы точно хотите синхронизировать настройки? Текущие настройки будут использоваться на всех устройствах.":"Вы точно хотите отключить синхронизацию настроек на всех устройствах? Настройки на текущем устройстве не изменятся.";nt.evokeConfirm({message:a,isSubmitSuccess:s,onConfirm:()=>{qe.update({syncAcrossAllDevices:s}),nt.closeConfirm()}})}})]})]})},U2=()=>{const e=F(ge.userSettings),i=(e==null?void 0:e.appearance.theme)===Re.Light;return n.jsxs(n.Fragment,{children:[n.jsx(M,_(f({},ft),{children:"Вид"})),n.jsx(Fe,{title:"Темная тема",state:!i,action:o=>Oo({isDark:o})})]})},Cm=["settings-personal","settings-customize-menu","settings-appearance","settings-home-page","settings-notifications","settings-tutorial"],H2=()=>{var e;const{allRoutes:t}=bt.useMenu(),i=(e=bn(Ur))===null||e===void 0?void 0:e.params;return t?n.jsx(W2,{"data-is-base-settings-page":!(i!=null&&i.id),children:n.jsx(G2,{children:n.jsxs(Vo,{children:[Cm.map(o=>n.jsx(yi,{path:t[o].path,component:t[o].Component},o)),n.jsx(yi,{path:"/",children:n.jsx(Yn,{height:"100%",children:n.jsx(ke,{text:"Ничего не выбрано",image:n.jsx(It,{color:"grey",size:50,children:n.jsx(Ca,{})})})})})]})})}):null},W2=p.div.withConfig({componentId:"sc-10mblme-0"})(["width:100%;height:100%;overflow:hidden;flex-direction:column;display:flex;","{&[data-is-base-settings-page='false']{flex:1;}&[data-is-base-settings-page='true']{display:none;}}"],X.isMobile),G2=p.div.withConfig({componentId:"sc-10mblme-1"})(["width:100%;height:100%;overflow-y:auto;overflow:hidden;padding:0 32px;","{padding:0;}"],X.isMobile),V2=Ke(bu),q2=()=>{var e;const{allRoutes:t}=bt.useMenu(),i=(e=bn(Ur))===null||e===void 0?void 0:e.params;return t?n.jsx(Y2,{"data-is-base-settings-page":!(i!=null&&i.id),tutorialModule:{id:"settings",step:0},children:Cm.map((o,s)=>d.createElement(V2,_(f({},t[o]),{title:t[o].title.slice(11,t[o].title.length),key:o,orientation:"horizontal",shadow:!1,isActive:o===(i==null?void 0:i.id),tutorialModule:{id:"settings",step:s+1}})))}):null},Q2=p.div.withConfig({componentId:"sc-1a9mljr-0"})(["display:flex;flex-direction:column;gap:6px;","{&[data-is-base-settings-page='false']{display:none;}&[data-is-base-settings-page='true']{flex:1;}}"],X.isMobile),Y2=Ke(({children:e,forwardedRef:t})=>{var i;const o=(i=bn(Ur))===null||i===void 0?void 0:i.params;return n.jsx(Q2,{ref:t,"data-is-base-settings-page":!(o!=null&&o.id),children:e})}),K2=()=>n.jsx(Yn,{padding:"10px",children:n.jsx(wn,{topRightCornerElement:n.jsx(J2,{icon:n.jsx(Oc,{}),text:"Выйти из аккаунта",onClick:()=>{nt.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:ce.logout})},textColor:"var(--red)",background:"var(--block)"}),children:n.jsxs(A,{ai:"flex-start",children:[n.jsx(q2,{}),n.jsx(H2,{})]})})}),J2=p(E).withConfig({componentId:"sc-cqv4z9-0"})(["","{.text{display:none;}.icon{margin-right:0;}}"],X.isMobile),X2=({chats:e,search:t})=>e.filter(i=>{var o;return Be(((o=i.opponent)===null||o===void 0?void 0:o.name)+i.lastmessage.text+i.lastmessage.datetime+i.subject).includes(Be(t))}),Sm=S({name:"setSearch",sid:"-3oydq8"}),Im=R("",{name:"$search",sid:"-rqcw3l"}).on(Sm,(e,t)=>t),Z2=Ae({and:[qt.chats.$data,Im,(e,t)=>!t||!e?e:X2({search:t,chats:e})],or:{name:"$foundChats",sid:"-w695fw"}}),eA={setSearch:Sm},Tm={search:Im,foundChats:Z2},Lr=e=>e?`${e.name} ${e.surname}`:"",zr=S({name:"resendErrorMessage",sid:"-j6vf9f"}),Em=Fo({and:{source:He.selectedChatId,effect:e=>T(void 0,null,function*(){if(!e)throw new Error("Чат не выбран");const t=new AbortController;J({sid:"-ag8f97",fn:()=>Sc(()=>{t.abort()}),name:"none",method:"onAbort"});let i=0;for(;i<3;){const{data:o}=yield _C(e,t.signal),s=!(o!=null&&o.map);if(o&&!s)return o.reverse();i++}throw new Error("Не удалось загрузить сообщения")})},or:{name:"getChatMessagesFx",sid:"-vtascx"}}),tA=Fo({and:{source:[He.selectedChatId,ne.user],effect:(o,s)=>T(void 0,[o,s],function*([e,t],i){if(!e)throw new Error("Чат не выбран");const a=t.currentUser,r=yield ip(_(f({},i),{chatId:e}));return _(f({},r),{currentUser:a})})},or:{name:"addChatMessageFx",sid:"-8xd7jw"}}),kn=J({sid:"4jrlxz",fn:()=>we({handler:tA}),name:"addMessageMutation",method:"createMutation"}),Cn=J({sid:"vwkfuy",fn:()=>Ct({handler:Em,enabled:Yu.$visible}),name:"chatMessagesQuery",method:"createQuery"});J({sid:"-8klqd8",fn:()=>_c(Cn,{strategy:"TAKE_LATEST"}),name:"none",method:"concurrency"});J({sid:"-87eo4k",fn:()=>jc(Cn,{adapter:J({sid:"53m8po",fn:()=>kc({maxEntries:10,maxAge:"60sec"}),name:"adapter",method:"sessionStorageCache"}),purge:ce.logout}),name:"none",method:"cache"});w({and:[{clock:He.selectedChatId,target:Cn.reset}],or:{sid:"-83k3z1"}});const{tick:nA}=J({sid:"-eto2mu",fn:()=>Cc({timeout:6e4,start:ca.set,stop:ce.logout}),name:"none",method:"interval"});w({and:[{clock:nA,target:Cn.start}],or:{sid:"-7lyozh"}});const Li=R({},{name:"$inProgressChatsMessages",sid:"t11gzj"}),zi=R({},{name:"$errorChatsMessages",sid:"6cq9m2"}),iA=Ae({and:[Li,He.selectedChatId,(e,t)=>{var i;return(i=e[t!=null?t:""])!==null&&i!==void 0?i:[]}],or:{name:"$inProgressChatMessages",sid:"-uvi455"}}),Pm=Ae({and:[zi,He.selectedChatId,(e,t)=>{var i;return(i=e[t!=null?t:""])!==null&&i!==void 0?i:[]}],or:{name:"$errorChatMessages",sid:"-pm9xmc"}}),Rr=R({},{name:"$isFirstFetchedChats",sid:"7ddxse"}).on(Em.done,(e,{params:t})=>{const i=t;return e[i.id]?e:_(f({},e),{[i.id]:!0})}),oA=Ae({and:[Rr,He.selectedChatId,(e,t)=>{var i;return(i=e[t!=null?t:""])!==null&&i!==void 0?i:!1}],or:{name:"$isFirstFetched",sid:"-kgmmld"}});w({and:[{clock:ne.user,target:Rr.reinit}],or:{sid:"rijqk5"}});w({and:[{clock:kn.started,source:{inProgressChatsMessages:Li,user:ne.user},fn:({inProgressChatsMessages:e,user:t},{params:i})=>{var o,s,a,r;return _(f({},e),{[i.chatId]:[...(o=e[i.chatId])!==null&&o!==void 0?o:[],{datetime:Ui(Date.now()),html:i.text,readed:!1,readed_opponent:!1,files:(s=i.files)!==null&&s!==void 0?s:[],author_id:(a=(r=t.currentUser)===null||r===void 0?void 0:r.id.toString())!==null&&a!==void 0?a:"",author_name:Lr(t.currentUser),msg_id:i.localId}]})},target:Li}],or:{sid:"rkqwxl"}});w({and:[{clock:kn.finished.finally,source:Li,fn:(e,{params:t})=>_(f({},e),{[t.chatId]:e[t.chatId].filter(({msg_id:i})=>i!==t.localId)}),target:Li}],or:{sid:"sys6xg"}});w({and:[{clock:kn.finished.failure,source:{errorChatsMessages:zi,user:ne.user},fn:({errorChatsMessages:e,user:t},{params:i})=>{var o,s,a,r;return _(f({},e),{[i.chatId]:[...(o=e[i.chatId])!==null&&o!==void 0?o:[],{datetime:Ui(Date.now()),html:i.text,readed_opponent:!1,readed:!0,files:(s=i.files)!==null&&s!==void 0?s:[],author_id:(a=(r=t.currentUser)===null||r===void 0?void 0:r.id.toString())!==null&&a!==void 0?a:"",author_name:Lr(t.currentUser),msg_id:i.localId}]})},target:zi}],or:{sid:"tu4gr1"}});w({and:[{clock:zr,source:{errorChatMessages:Pm,chatId:He.selectedChatId},filter:({errorChatMessages:e},{msg_id:t})=>!!e.some(({msg_id:i})=>i===t),fn:({errorChatMessages:e,chatId:t},{msg_id:i})=>{var o,s;const a=e.find(({msg_id:r})=>r===i);return{chatId:t,localId:i,text:(o=a==null?void 0:a.html)!==null&&o!==void 0?o:"",files:(s=a==null?void 0:a.files)!==null&&s!==void 0?s:[]}},target:kn.start}],or:{sid:"uwm2ab"}});w({and:[{clock:zr,source:{errorChatsMessages:zi,chatId:He.selectedChatId},filter:({chatId:e})=>!!e,fn:({chatId:e,errorChatsMessages:t},{msg_id:i})=>_(f({},t),{[e]:t[e].filter(({msg_id:o})=>o!==i)}),target:zi}],or:{sid:"-sfbl67"}});J({sid:"-rf160d",fn:()=>ja(Cn,{on:kn,by:{success:({query:e,mutation:t})=>{if(e&&"result"in e){var i,o,s;const{currentUser:a}=t.result,r={datetime:Ui(Date.now()),html:t.params.text,readed:!0,readed_opponent:!1,files:(i=(o=t.params.files)===null||o===void 0?void 0:o.map(l=>({name:l.name,url:""})))!==null&&i!==void 0?i:[],author_id:(s=a==null?void 0:a.id.toString())!==null&&s!==void 0?s:"",author_name:Lr(a),msg_id:t.params.localId};return{result:[...e.result,r],refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});J({sid:"-pjy9mb",fn:()=>ja(qt.chats,{on:kn,by:{success:({query:e,mutation:t})=>{if(e&&"result"in e){var i,o;const s={datetime:Ui(Date.now()),html:t.params.text,readed:!0,readed_opponent:!0,files:(i=(o=t.params.files)===null||o===void 0?void 0:o.map(a=>({name:a.name,url:""})))!==null&&i!==void 0?i:[],from:"you",text:vn(t.params.text,{allowedTags:[]})};return{result:e.result.map(a=>a.id===t.params.chatId?_(f({},a),{lastmessage:s}):a),refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});w({and:[{clock:He.selectedChat,filter:Boolean,target:Cn.refresh}],or:{sid:"-dqdict"}});const Mo={chatMessages:Cn},Am={addMessage:kn},Ri={errorChatMessages:Pm,inProgressChatMessages:iA,isFirstFetched:oA,isFirstFetchedChats:Rr},sA={resendErrorMessage:zr},Nm=S({name:"changed",sid:"y46nz0"}),Dm=S({name:"sended",sid:"-67181"}),$i=R({},{name:"$chatsMessage",sid:"wydyrf"});w({and:[{clock:Nm,source:{selectedChatId:He.selectedChatId,chatsMessage:$i},filter:({selectedChatId:e})=>!!e,fn:({chatsMessage:e,selectedChatId:t},i)=>_(f({},e),{[t]:i}),target:$i}],or:{sid:"59yzc0"}});const Om=Ae({and:[$i,He.selectedChatId,(e,t)=>{var i;return t?(i=e[t])!==null&&i!==void 0?i:{text:"",files:[]}:{text:"",files:[]}}],or:{name:"$currentMessage",sid:"-y9pnxk"}});w({and:[{clock:Dm,source:{message:Om,chatId:He.selectedChatId},fn:({chatId:e,message:t})=>_(f({chatId:e},t),{localId:new Date().getTime().toString()}),target:Am.addMessage.start}],or:{sid:"jtinwe"}});w({and:[{clock:Am.addMessage.started,source:{selectedChatId:He.selectedChatId,chatsMessage:$i},filter:({selectedChatId:e})=>!!e,fn:({chatsMessage:e,selectedChatId:t})=>_(f({},e),{[t]:{text:"",files:[]}}),target:$i}],or:{sid:"kr243f"}});const aA={currentMessage:Om},ho={changed:Nm,sended:Dm},rA=Ae({and:[Mo.chatMessages.$data,Ri.errorChatMessages,Ri.inProgressChatMessages,(e,t,i)=>[...e!=null?e:[],...t.map(o=>_(f({},o),{status:"error"})),...i.map(o=>_(f({},o),{status:"inProgress"}))]],or:{name:"$allChatMessages",sid:"-9487ro"}}),lA={messages:rA},cA=Y(e=>T(void 0,null,function*(){var t;const{search:i="",page:o,limit:s,filter:a}=e,{data:r}=yield td(i,(t=a==null?void 0:a.id.toString())!==null&&t!==void 0?t:"",o,s);return{results:r.items}}),{name:"getFetchStudentsFx",sid:"-93w3z"}),ac=Vp({getFx:cA,limit:50}),Lm=S({name:"setSearchMode",sid:"-4x5h57"}),dA=R(null,{name:"$searchMode",sid:"-gp6rgs"}).on(Lm,(e,t)=>t),uA={searchMode:dA},rc={setSearchMode:Lm},Ws=[{title:"Сотрудники",id:"employee"},{title:"Студенты",id:"student"},{title:"Группа",id:"group"}],pA=()=>{const[e,t]=F([ne.user,uA.searchMode]),{open:i}=K(),[o,s]=d.useState(""),{$items:a,$isPending:r}=F(Ao),{$items:l,$isPending:c}=F(ac);return d.useEffect(()=>{e.currentUser&&rc.setSearchMode(e.currentUser.user_status==="stud"?"employee":"student")},[e.currentUser]),d.useEffect(()=>{s("")},[t]),e.currentUser?n.jsxs(hA,{children:[n.jsx(us,{pages:Ws,currentPage:Ws.findIndex(({id:u})=>u===t),setCurrentPage:u=>rc.setSearchMode(Ws[u].id),appearance:!1}),t=="student"&&n.jsx(ko,{load:function(){},loading:c,error:null,data:l,children:n.jsx(ua,{searchPlaceholder:"Поиск студентов",paginationList:ac,filterRequest:Qs,filterPlaceholder:"Группа",defaultFilter:"",customMask:on.groupMask})}),t=="employee"&&n.jsx(ko,{load:function(){},loading:r,error:null,data:a,children:n.jsx(ua,{searchPlaceholder:"Поиск сотрудников",paginationList:Ao,filterRequest:Qo,defaultFilter:"",filterPlaceholder:"Подразделения"})}),t=="group"&&n.jsx(mr,{width:"100%",leftIcon:n.jsx(Go,{}),placeholder:"Номер группы",value:o,setValue:s,customMask:on.groupMask,onHintClick:u=>{i(n.jsx(Er,{group:u.id}),"Группа")},request:Qs,size:"big"})]}):null},hA=p.div.withConfig({componentId:"sc-1d1vs0j-0"})(["display:flex;flex-direction:column;gap:8px;min-height:700px;min-width:50dvw;"]),gA=p.button.withConfig({componentId:"sc-dpors2-0"})(["width:fit-content;padding:0 12px;height:36px;background:var(--search);border-radius:var(--brLight);display:flex;align-items:center;gap:8px;border:none;font-weight:500;cursor:pointer;color:var(--text);svg{width:18px;height:18px;}&:hover{filter:brightness(0.98);}"]),mA=({forwardedRef:e})=>{const{open:t}=K(),i=()=>{t(n.jsx(pA,{}),"Новое сообщение")};return n.jsxs(gA,{ref:e,onClick:i,children:[n.jsx(ix,{}),"Написать"]})},fA=Ke(mA),xA=p.div.withConfig({componentId:"sc-ldtz4l-0"})(["display:",";padding:8px;border-radius:6px;background:",";color:#fff;font-weight:600;align-items:center;justify-content:center;font-size:0.7rem;"],({visible:e})=>e?"flex":"none",C.red.light1),zm=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"numeric",minute:"numeric"}),vA=({lastMessage:e})=>e.from==="you"?e.readed_opponent?n.jsx($o,{direction:"left",text:"Прочитано",children:n.jsx(Bc,{})}):n.jsx($o,{direction:"left",text:"Отправлено",children:n.jsx(Uc,{})}):null,bA=p(ue).withConfig({componentId:"sc-1319ptr-0"})(["text-decoration:none;.chat-item-content{display:flex;align-items:center;justify-content:center;width:100%;height:76px;color:",";padding:0 20px;background:",";overflow:hidden;position:relative;&:hover{filter:brightness(0.95);}.name-and-message{display:flex;flex-direction:column;justify-content:center;width:100%;min-width:250px;.subject{font-size:0.67em;opacity:0.85;background:var(--almostTransparent);padding:2px 4px;border-radius:4px;font-weight:600;width:fit-content;}& b{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:0.85em;font-weight:500;}.last-message{width:100%;font-size:0.75em;opacity:0.7;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}.sent-time{min-height:30px;width:100%;display:flex;align-items:flex-start;justify-content:flex-end;font-size:0.8em;opacity:0.6;font-weight:500;}}"],({isChosen:e})=>e?"#fff":"var(--text)",({isChosen:e})=>e?C.blue.main:"var(--block-content)");function Rm({size:e,marginRight:t}){return n.jsx(It,{marginRight:t,borderRadius:"100%",size:e!=null?e:25,color:"lightBlue",children:n.jsx(Go,{})})}const yA=p(xA).withConfig({componentId:"sc-2lmu2t-0"})(["min-width:20px;width:20px;height:20px;border-radius:100%;"]),wA=e=>{const t=new Date(e);return new Date().getTime()-t.getTime()>36e5*24?t.toLocaleDateString("ru-RU"):zm(t)},_A=e=>{var t,i,o,s,a,r;const l=(t=bn(Mi))===null||t===void 0?void 0:t.params,c=F(Ri.isFirstFetchedChats),u={name:(i=(o=e.opponent)===null||o===void 0?void 0:o.name)!==null&&i!==void 0?i:"",avatar:(s=(a=e.opponent)===null||a===void 0?void 0:a.avatar)!==null&&s!==void 0?s:"",width:"40px",height:"40px",marginRight:"12px",notifications:void 0},h=e.lastmessage.from==="you"?"Вы: "+e.lastmessage.text:e.lastmessage.text,g=e.subject.split(" ")[0]==="Группе"&&e.lastmessage.from==="you",m=wA(e.lastmessage.datetime),x=!!c[e.id];return n.jsx(bA,{to:Sn+`/${e.id}`,isChosen:(l==null?void 0:l.chatId)===e.id,isOpen:!0,children:n.jsxs("div",{className:"chat-item-content",children:[g?n.jsx(Rm,{size:40,marginRight:"7px"}):n.jsx(Tt,f({},u)),n.jsx(n.Fragment,{children:n.jsxs("div",{className:"name-and-message",children:[e.subject&&n.jsx("span",{className:"subject",children:e.subject}),((r=e.opponent)===null||r===void 0?void 0:r.name)&&n.jsxs(A,{jc:"space-between",w:"100%",gap:"8px",children:[n.jsx("b",{children:e.opponent.name}),n.jsxs(A,{gap:"4px",w:"fit-content",children:[n.jsx(vA,{lastMessage:e.lastmessage}),n.jsx(re,{fontSize:"0.7rem",children:m})]})]}),n.jsxs(A,{gap:"6px",children:[n.jsx("div",{className:"last-message",children:h}),n.jsx(yA,{visible:!e.lastmessage.readed&&!x,children:"1"})]})]})})]})})},jA=p.div.withConfig({componentId:"sc-1nhr3r-0"})(["display:flex;align-items:center;padding:10px;.name-and-message{display:flex;flex-direction:column;justify-content:center;}"]),jt=()=>n.jsxs(jA,{children:[n.jsx(ee,{shape:"circle",size:{width:"40px",height:"40px"},margin:"0 7px 0 0"}),n.jsxs("div",{className:"name-and-message",children:[n.jsx(ee,{shape:"rect",size:{width:"150px",height:"12px"},margin:"2px 0"}),n.jsx(ee,{shape:"rect",size:{width:"70px",height:"10px"},margin:"0"})]})]}),kA=e=>T(void 0,null,function*(){const t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.href=t,i.setAttribute("download",e.name),document.body.appendChild(i),i.click()}),CA={pdf:n.jsx(ox,{color:"#c54646"}),docx:n.jsx(vo,{}),doc:n.jsx(vo,{}),jpeg:n.jsx(Ns,{}),jpg:n.jsx(Ns,{}),png:n.jsx(Ns,{})},SA=({file:e,isYourMessage:t})=>{var i,o;const s=(i=e.name.split(".").pop())!==null&&i!==void 0?i:"doc",a=r=>{r.stopPropagation(),"url"in e&&e.url&&window.open(e.url,"_blank"),e instanceof File&&kA(e)};return n.jsx(IA,{onClick:a,children:n.jsxs("div",{className:"file-body",children:[n.jsx("div",{className:"image-container",children:(o=CA[s])!==null&&o!==void 0?o:n.jsx(vo,{})}),n.jsx("div",{className:"name-and-size",children:n.jsx("b",{className:"file-name",style:{color:t?C.white.main:"var(--text)"},children:e.name})})]})})},IA=p.div.withConfig({componentId:"sc-zdi5bn-0"})(["width:100%;padding:6px;display:flex;justify-content:space-between;align-items:center;background:",";border-radius:var(--brLight);overflow:hidden;cursor:pointer;&:hover{filter:brightness(0.95);}.file-body{display:flex;gap:8px;align-items:center;cursor:pointer;.name-and-size{display:flex;flex-direction:column;.file-name{font-size:0.8em;word-break:break-all;font-weight:500;}}.image-container{padding:8px;display:flex;align-items:center;justify-content:center;background:var(--theme);border-radius:var(--brLight);svg{width:20px;height:20px;}}}"],C.grey.transparent2),TA=({message:e})=>n.jsxs(A,{gap:"8px",d:"column",children:[n.jsx(E,{text:"Копировать",icon:n.jsx(sx,{}),width:"100%",align:"left",background:"transparent",onClick:()=>{var t;navigator.clipboard.writeText((t=vn(e.html,{allowedTags:[]}))!==null&&t!==void 0?t:""),Ye.close(),Q.evokePopUpMessage({message:"Сообщение скопировано",type:"info"})}}),e.status==="error"&&n.jsx(E,{text:"Повторить",icon:n.jsx(ax,{}),width:"100%",align:"left",background:"transparent",onClick:()=>{sA.resendErrorMessage(e),Ye.close()}})]}),EA=({message:e})=>{var t,i;const[o]=F([ne.user]);return e.status==="inProgress"?n.jsx($c,{className:"icon"}):e.status==="error"?n.jsx(_a,{className:"icon red"}):e.author_id===(o==null||(t=o.currentUser)===null||t===void 0?void 0:t.id.toString())&&e.readed_opponent||e.author_id!==(o==null||(i=o.currentUser)===null||i===void 0?void 0:i.id.toString())?n.jsx($o,{text:"Прочитано",direction:"left",children:n.jsx(Bc,{className:"icon"})}):n.jsx($o,{text:"Отправлено",direction:"left",children:n.jsx(Uc,{className:"icon"})})};function PA(e){return e.replace(/(https?:\/\/[^\s|)|<]+)/g,'<a href="$1">$1</a>')}const AA=({name:e,message:t,isLast:i})=>{var o;const[s]=F([ne.user]),a=zm(t.datetime),{isMobile:r}=Me(),l=t.author_id===((o=s.currentUser)===null||o===void 0?void 0:o.id.toString()),c=u=>{"tagName"in u.target&&u.target.tagName==="A"||Ye.open({e:u,content:n.jsx(TA,{message:t}),height:70})};return n.jsx(NA,{onClick:r?c:void 0,isYourMessage:l,isLast:i,onContextMenu:c,children:n.jsxs("div",{className:"name-and-message",children:[n.jsx("div",{className:"name-and-time",children:n.jsx("b",{children:e})}),n.jsx("span",{className:"message",dangerouslySetInnerHTML:{__html:vn(PA(t.html))}}),!!t.files.length&&n.jsx(A,{d:"column",className:"files",gap:"4px",children:t.files.map(u=>n.jsx(SA,{isYourMessage:l,file:u},u.name))}),n.jsxs(A,{jc:"flex-end",gap:"4px",h:"2px",children:[n.jsx(re,{fontSize:"0.65rem",children:a}),n.jsx(EA,{message:t})]})]})})},NA=p.div.withConfig({componentId:"sc-1wk8wcw-0"})(["display:flex;align-items:flex-end;padding:",";.message-avatar{width:32px;height:32px;position:sticky;bottom:0px;top:0px;}.name-and-message{display:flex;flex-direction:column;gap:8px;background:",";color:",";padding:12px;border-radius:",";margin-left:16px;max-width:430px;width:100%;position:relative;&::before{content:'';display:",";position:absolute;width:12px;height:17px;bottom:0px;left:-12px;background:",";}&::after{content:'';display:",";position:absolute;width:16px;height:25px;bottom:0px;left:-16px;border-radius:0 0 30px;background:var(--block);}a{text-decoration:underline;color:",";}.name-and-time{b{color:",";font-size:0.8em;margin-bottom:5px;margin-right:10px;font-weight:600;}span{font-size:0.7em;opacity:0.8;}}.message{font-size:0.85em;word-break:break-word;line-height:1.3rem;ul,li{margin-left:1em;}& p{line-height:1.4rem;}}.red{color:",";}}@media (max-width:1000px){.name-and-message{max-width:80%;}}"],({isLast:e})=>e?"4px 0 4px 0":"4px 0",({isYourMessage:e})=>e?"var(--reallyBlue)":"var(--message-item)",({isYourMessage:e})=>e?"#fff":"var(--text)",({isLast:e})=>e?"10px 10px 10px 0":"10px",({isLast:e})=>e?"block":"none",({isYourMessage:e})=>e?"var(--reallyBlue)":"var(--message-item)",({isLast:e})=>e?"block":"none",({isYourMessage:e})=>e?"#fff":"",({isYourMessage:e})=>e?"#fff":"var(--text)",C.red.main),DA=({forwardedRef:e})=>{const[t,i,o]=F([qt.chats.$pending,Tm.foundChats,Ju.isFirstFetched]);return t&&!o?n.jsxs(lc,{children:[n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{}),n.jsx(jt,{})]}):n.jsxs(lc,{ref:e,children:[!(i!=null&&i.length)&&n.jsx(M,{size:3,children:"Нет чатов"}),i==null?void 0:i.map(s=>d.createElement(_A,_(f({},s),{key:s.id})))]})},lc=p.div.withConfig({componentId:"sc-1eual6l-0"})(["overflow-y:auto;height:100%;"]),OA=()=>{var e,t,i,o,s,a,r;const[l,c,u]=F([He.selectedChat,qt.chats.$pending,Ju.isFirstFetched]),h=d.useRef(null),g=wt(),m=()=>{g.push(Sn)},x=(l==null||(e=l.opponent)===null||e===void 0?void 0:e.status)==="сотрудник",b=c&&!u;return n.jsxs(LA,{ref:h,children:[n.jsx(E,{icon:n.jsx(rx,{}),onClick:m,background:"transparent"}),((l==null||(t=l.opponent)===null||t===void 0?void 0:t.id)||b)&&n.jsx(Zi,{id:l==null||(i=l.opponent)===null||i===void 0?void 0:i.id,type:x?"staff":"stud",avatar:l==null||(o=l.opponent)===null||o===void 0?void 0:o.avatar,name:(s=l==null||(a=l.opponent)===null||a===void 0?void 0:a.name)!==null&&s!==void 0?s:"",loading:b,group:x||l==null||(r=l.opponent)===null||r===void 0?void 0:r.data}),!b&&!!(l!=null&&l.subject.length)&&n.jsxs(A,{gap:"8px",w:"fit-content",children:[n.jsx(Rm,{}),n.jsx(re,{style:{color:"var(--text)",whiteSpace:"nowrap"},children:l==null?void 0:l.subject})]})]})},LA=p.div.withConfig({componentId:"sc-n06mxd-0"})(["width:100%;height:50px;display:flex;align-items:center;padding:8px 10px;position:relative;border-bottom:1px solid #00000024;background:var(--block-content);"]),cc=e=>{e!=null&&e.current&&e.current.scrollTo({top:e.current.scrollHeight,behavior:"auto"})},zA=()=>{const e=d.useRef(null),t=d.useRef(!1),[i,o,s,a,r]=F([Mo.chatMessages.$data,Mo.chatMessages.$pending,Ri.isFirstFetched,Ri.inProgressChatMessages,He.selectedChatId]),l=o&&!s;return d.useLayoutEffect(()=>{if(!e.current)return;const c=e.current.scrollTop+e.current.clientHeight>=e.current.scrollHeight;i&&(!t.current||c)&&!l&&cc(e)},[i]),d.useEffect(()=>{t.current=!1},[r]),d.useEffect(()=>{if(e.current){const c=()=>{t.current||(t.current=!0)};return e.current.addEventListener("scroll",c),()=>{var u;(u=e.current)===null||u===void 0||u.removeEventListener("scroll",c)}}},[]),d.useEffect(()=>{cc(e)},[a,i==null?void 0:i.length]),n.jsx(RA,{"data-is-loading":l,ref:e,children:l?n.jsx(Ot,{}):n.jsx(UA,{})})},RA=p.div.withConfig({componentId:"sc-1pr0rlx-0"})(["width:100%;position:relative;overflow-y:auto;flex:1;padding:10px;.loading-circle{max-height:40px;}&[data-is-loading='true']{display:flex;justify-content:center;align-items:center;}@media (max-width:1000px){button{position:fixed;right:20px;bottom:70px;border-radius:100%;}}"]),$A=({chat:e,currentUser:t,messages:i})=>{const o={};let s=0,a="";return i.forEach((r,l,c)=>{var u;if((((u=c[l-1])===null||u===void 0?void 0:u.author_name)!==r.author_name||xe(c[l-1].datetime)!==xe(r.datetime)||!c[l-1])&&s++,o[s])o[s].messages.push(r);else{var h;o[s]={messages:[r],avatar:((h=e.opponent)===null||h===void 0?void 0:h.id)!==r.author_id.toString()?t.avatar:e.opponent.avatar,date:xe(r.datetime)!==a?xe(r.datetime):null},a=xe(r.datetime)}}),o},MA=p.div.withConfig({componentId:"sc-14w8ekg-0"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;color:var(--text);opacity:0.5;font-weight:500;font-size:0.86em;gap:4px;svg{width:100px;height:100px;}"]),$m=({message:e="Выберите чат"})=>n.jsxs(MA,{children:[n.jsx(lx,{}),n.jsx("span",{children:e})]}),FA=p.div.withConfig({componentId:"sc-1qy6g0w-0"})(["margin-top:30px;margin-bottom:10px;color:var(--text);position:sticky;top:10px;z-index:10;display:flex;align-items:center;justify-content:center;span{background:var(--theme);padding:6px 12px;border-radius:var(--brSemi);display:inline-block;font-weight:500;font-size:0.8rem;color:var(--theme-mild-opposite);}"]),BA=({date:e})=>e?n.jsx(FA,{children:n.jsx("span",{children:e})}):null,UA=()=>{const{open:e}=K(),[t,i,o,s]=F([lA.messages,He.selectedChat,Mo.chatMessages.$pending,ne.user]),a=r=>{var l,c,u,h,g;!i||r.author_id===(s==null||(l=s.currentUser)===null||l===void 0?void 0:l.id.toString())||e((i==null||(c=i.opponent)===null||c===void 0?void 0:c.status)==="сотрудник"?n.jsx(cm,f({},i.opponent)):n.jsx(lm,_(f({},i==null?void 0:i.opponent),{id:(u=i.opponent)===null||u===void 0?void 0:u.id,name:(h=(g=i.opponent)===null||g===void 0?void 0:g.name)!==null&&h!==void 0?h:""})))};return!i||!s||!t?null:n.jsxs(HA,{children:[(t==null?void 0:t.length)===0&&!o&&n.jsx($m,{message:"Нет сообщений"}),Object.values($A({chat:i,messages:t,currentUser:s.currentUser})).map(r=>n.jsxs(pe.Fragment,{children:[n.jsx(BA,{date:r.date}),n.jsxs("div",{className:"messages-section",children:[n.jsx("div",{className:"message-avatar",children:n.jsx(Tt,{name:r.messages[0].author_name.split(" ").reverse().join(" "),avatar:r.avatar,width:"32px",height:"32px",marginRight:"0",onClick:()=>a(r.messages[0])})}),n.jsx("div",{className:"messages",children:r.messages.map((l,c)=>n.jsx(AA,{name:l.author_name,message:l,isLast:c===r.messages.length-1},l.msg_id))})]})]},r.date+i.id+r.messages[0].msg_id))]})},HA=p.div.withConfig({componentId:"sc-90i0cx-0"})(["padding:20px 5px;min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;.messages-section{position:relative;display:flex;align-items:flex-end;width:100%;.messages{width:100%;}}.message-avatar{width:32px;height:32px;position:sticky;bottom:7px;margin-bottom:10px;cursor:pointer;}@media (max-width:1000px){padding:10px 0px;}"]);p.div.withConfig({componentId:"sc-93e00n-0"})(["@media (min-width:1001px){width:500px;height:500px;}"]);const WA=Ke(DA),GA=Ke(o=>{var s=o,{forwardedRef:e,children:t}=s,i=Je(s,["forwardedRef","children"]);return n.jsx(A,_(f({ref:e},i),{children:t}))}),VA=()=>{var e;const t=(e=bn(Mi))===null||e===void 0?void 0:e.params,{search:i}=F(Tm);return n.jsxs(qA,{isOpen:!0,chatId:t==null?void 0:t.chatId,children:[n.jsxs(QA,{children:[n.jsx(M,{size:3,align:"left",children:"Чаты"}),n.jsx(fA,{tutorialModule:{id:"chat",step:1}})]}),n.jsx(GA,{gap:"4px",p:"0 14px",d:"column",tutorialModule:{id:"chat",step:2},children:n.jsx(Vn,{value:i,setValue:eA.setSearch,placeholder:"Поиск чатов"})}),n.jsx(ye,{margin:"10px auto"}),n.jsx(WA,{tutorialModule:{id:"chat",step:0}})]})},qA=p.div.withConfig({componentId:"sc-csffye-0"})(["min-width:",";width:",";transition:0.2s width,0.2s min-width,0.2s padding,0.2s opacity;height:100%;color:var(--text);border-radius:20px 0 0 20px;overflow:hidden;border-right:1px solid #00000018;display:flex;flex-direction:column;background:var(--block-content);","{padding:0;border-radius:0;width:",";min-width:",";opacity:",";}"],({isOpen:e})=>e?"350px":"115px",({isOpen:e})=>e?"350px":"115px",X.isTablet,({chatId:e})=>e?"0":"100%",({chatId:e})=>e?"0":"100%",({chatId:e})=>e?"0":"1"),QA=p.div.withConfig({componentId:"sc-csffye-1"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;padding:14px;.collapse-button{min-width:30px;height:30px;padding:2px;background:transparent;svg{width:17px;height:17px;}}@media (max-width:1000px){.collapse-button{display:none;}}"]);p.div.withConfig({componentId:"sc-csffye-2"})(["display:flex;flex-direction:row;gap:8px;"]);const YA=()=>{const[e,t]=F([aA.currentMessage,He.selectedChat]),i=o=>{ho.changed(_(f({},e),{files:[...e.files,...o]}))};return t!=null&&t.subject&&t.lastmessage.from==="opponent"?null:n.jsxs(KA,{children:[n.jsxs(JA,{children:[n.jsx(np,{setFiles:i}),n.jsx(tp,{value:e.text,setValue:o=>ho.changed(_(f({},e),{text:o})),placeholder:"Введите сообщение..."},t==null?void 0:t.id),n.jsx(E,{icon:n.jsx(Ic,{}),onClick:()=>ho.sended(),background:"transparent",isActive:!!vn(e.text,{allowedTags:[]}).trim()})]}),n.jsx(XA,{hideHeader:!0,files:e.files,setFiles:o=>{ho.changed(_(f({},e),{files:o}))}})]})},KA=p.div.withConfig({componentId:"sc-1wrnb99-0"})(["display:flex;flex-direction:column;background:var(--block-content);padding:8px 16px;border-top:1px solid #00000018;gap:8px;max-width:100%;"]),JA=p.div.withConfig({componentId:"sc-1wrnb99-1"})(["display:flex;align-items:flex-end;gap:8px;"]),XA=p(Wa).withConfig({componentId:"sc-1wrnb99-2"})(["padding:0 48px 0 46px;","{padding:0;}"],X.isMobile),ZA=()=>n.jsxs(e5,{children:[n.jsx(OA,{}),n.jsx(zA,{}),n.jsx(YA,{})]}),e5=p.div.withConfig({componentId:"sc-1xn0ric-0"})(["width:100%;display:flex;flex-direction:column;position:relative;border-radius:20px;& > img{position:absolute;width:200px;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.4;}"]),dc=()=>{var e;const t=(e=bn(Mi))===null||e===void 0?void 0:e.params,{data:i}=F(qt.chats);return d.useEffect(()=>{fC.load()},[]),d.useEffect(()=>{if(!(t!=null&&t.chatId)){ca.reset();return}ca.set(t.chatId)},[t==null?void 0:t.chatId,i]),n.jsxs(t5,{children:[n.jsx(VA,{}),!(t!=null&&t.chatId)&&n.jsx($m,{}),n.jsx(Vo,{children:n.jsx(yi,{path:Mi,children:n.jsx(ZA,{})})})]})},t5=p.div.withConfig({componentId:"sc-182b33p-0"})(["display:flex;height:90%;max-width:1100px;margin:40px auto;background:var(--block);box-shadow:var(--very-mild-shadow);border-radius:12px;overflow:hidden;","{margin:0;height:100%;border-radius:0;max-width:100%;}"],X.isSmallTesktop),n5=()=>{const[e,t]=F([ze.tutorials,ne.user]);if(!e)return null;const i=Object.values(e).filter(r=>{var l;return r.roles.includes((t==null||(l=t.currentUser)===null||l===void 0?void 0:l.user_status)||"")}).filter(r=>r.name),o=Object.keys(i).length,s=Object.values(i).reduce((r,l)=>l.completed?r+1:r,0),a=Math.round(s/o*100);return n.jsx(_m,{value:a,size:"small",title:`Пройдено: ${s}/${o}`,coloring:!1,color:"green"})},i5=i=>{var o=i,{action:e}=o,t=Je(o,["action"]);const{isMobile:s,isTablet:a}=Me();return n.jsx(Kn,_(f({},t),{onClick:e,icon:t.completed?n.jsx(cx,{}):n.jsx(Mc,{}),rightIcon:n.jsx(St,{}),fancyBG:!s&&!a}))},o5=e=>Object.entries(e),s5=()=>{const e=wt(),[t,i,o,s,a]=F([ze.tutorials,ze.tutorialState,je.tutorialEnabled,je.moduleRestarted,ne.user]);return t?n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{bottomGap:"8px",children:"Запустить программу обучения"})),n.jsx(a5,{children:o5(t).sort((r,l)=>r[1].index-l[1].index).filter(([,r])=>{var l;return r.roles.includes((a==null||(l=a.currentUser)===null||l===void 0?void 0:l.user_status)||"")}).map(([r,l])=>{if(l.name)return n.jsx(i5,{completed:l.completed,action:()=>{l.completed&&s(r),i||o(!0),e.push(l.path)},title:l.name,type:"link"},r)})})]}):null},a5=p.div.withConfig({componentId:"sc-146j841-0"})(["display:flex;flex-direction:column;gap:4px;"]),r5=()=>{const[e,t,i,o,s,a,r]=F([ze.tutorialState,je.tutorialEnabled,je.clearProgress,je.getTutorialData,je.sync,Q1.syncMutation.$pending,je.clearAll]);d.useEffect(()=>{o()},[]);const l=F(nt.evokeConfirm),[c,u]=d.useState(navigator.onLine),[h,g]=d.useState(!1),m=()=>{g(!0),u(navigator.onLine),navigator.onLine&&s(JSON.parse(localStorage.getItem(Nn)||""))};return d.useEffect(()=>(window.addEventListener("online",m),window.addEventListener("offline",m),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",m)}),[]),e===null?n.jsxs(Oi,{children:[n.jsx(M,_(f({},ft),{bottomGap:"4px",children:"Общее"})),n.jsx(Fe,{title:"Обучение",state:!!e,action:x=>t(x)})]}):n.jsxs(Oi,{children:[h&&(c?a?n.jsx(M,{icon:n.jsx(d5,{}),size:4,align:"left",iconColor:C.orange.main,style:{color:C.orange.main},children:"Синхронизация"}):n.jsx(M,{icon:n.jsx(ux,{}),iconColor:"var(--greenMain)",size:4,align:"left",style:{color:"var(--greenMain)"},children:"Синхронизировано"}):n.jsx(M,{size:4,align:"left",style:{color:C.red.main},children:"Нет подключения к интернету"})),n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{bottomGap:"4px",children:"Общее"})),n.jsx(Fe,{title:"Обучение",state:!!e,action:x=>t(x)}),n.jsx(n5,{})]}),n.jsx(s5,{}),n.jsxs("div",{children:[n.jsx(M,_(f({},ft),{bottomGap:"4px",children:"Необратимые действия"})),n.jsx(l5,{onClick:()=>{l({message:"Прогресс обучения будет сброшен. Вы хотите продолжить?",onConfirm:()=>{i(),nt.closeConfirm()}})},text:"Сбросить прогресс",background:C.red.main,textColor:"white"}),!Oe]})]})},l5=p(E).withConfig({componentId:"sc-1fx8h7l-0"})(["margin:8px;"]),c5=Ho(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),d5=p(dx).withConfig({componentId:"sc-1fx8h7l-1"})(["animation:"," 1s infinite linear;"],c5),Mm="/login",u5="/forgot-password",Fm="/medical-certificate",p5="/vaccination",mi="/all",$r="/home",Mr="/profile",Sn="/chat",Mi=Sn+"/:chatId",Fr="/electronic-interaction-agreement",Fi="/payments",In="/schedule",Bm="/all-students",h5="/all-students/:filter",no="/all-teachers",g5="/all-teachers/:filter",Br="/feedback",Um="/cant-access",Hm="/memo-freshmen",Wm="/get-your-login",Gm="/memo-teacher",Qe="/configurations",Ur=Qe+"/:id",m5=Qe+"/settings-appearance",f5=Qe+"/settings-personal",x5=Qe+"/settings-home-page",v5=Qe+"/settings-customize-menu",b5=Qe+"/settings-notifications",y5=Qe+"/settings-tutorial",w5="/instructions",Vm="/project-activity",_5="/softskills",qm="/alerts",Qm="/lk-notifications",Ym="/helpful-information",j5="/safety-information",Jn=In+"/:page/:filter",Km=In+"/current",k5=In+"/semestr",C5=In+"/session",S5=In+"/retake",I5=Ym+"/:infoType",T5=Fr+"/:type",Jm=Fr+"/personal",E5=Fr+"/third-party";var P5=(e=>(e.GENERAL="Основное",e.FINANCES_DOCS="Кадровая среда",e.LEARNING_ACTIVITIES="Учебная деятельность",e.OTHER="Находится в разработке",e.COMMUNICATION="Коммуникация",e.SCIENCE="Научная деятельность",e))(P5||{});const A5=[{id:0,title:"",icon:"",path:Mm,Component:LP},{id:1,title:"",icon:"",path:u5,Component:FP},{id:2,title:"Обратная связь",icon:n.jsx(vi,{}),path:Br,Component:um},{id:3,title:"Не получается войти в Личный кабинет",icon:n.jsx(cn,{}),path:Um,Component:$P},{id:4,title:"Узнать свой логин ЕУЗ",icon:"",path:Wm,Component:JP},{id:5,title:"Вниманию студентов 1 курса!",icon:"",path:Hm,Component:XP},{id:6,title:"Вниманию сотрудников!",icon:"",path:Gm,Component:ZP}],Xm={all:{id:"all",title:"Все разделы",icon:n.jsx(px,{}),path:mi,Component:zP,color:"lightGreen",isTemplate:!1,show:!1,group:"GENERAL",withoutBackButton:!0,pageSize:"big"},doclist:{id:"doclist",title:"Ознакомление с документами",icon:n.jsx(L,{}),path:xr,Component:KP,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},alerts:{id:"alerts",title:"Новости",icon:n.jsx(Ac,{}),path:qm,Component:BP,color:"purple",isTemplate:!1,group:"COMMUNICATION",keywords:["Оповещения"]},home:{id:"home",title:"Главная",icon:n.jsx(Hc,{}),path:$r,Component:UP,color:"blue",isTemplate:!1,group:"GENERAL",keywords:["домой"],withoutHeader:!0},settings:{id:"settings",title:"Настройки",icon:n.jsx(Ca,{}),path:Qe,Component:K2,color:"lightGreen",isTemplate:!0,show:!0,group:"GENERAL"},profile:{id:"profile",title:"Профиль",icon:n.jsx(Dc,{}),path:Mr,Component:GP,color:"purple",isTemplate:!1,group:"GENERAL",withoutHeader:!0},"lk-notifications":{id:"lk-notifications",title:"Уведомления",icon:n.jsx(Wo,{}),path:Qm,Component:e2,color:"orange",isTemplate:!1,group:"GENERAL",keywords:["Оповещения"]},"electronic-interaction-agreement":{id:"electronic-interaction-agreement",title:"Соглашение об электронном взаимодействии",shortTitle:"Соглашение об электр...",icon:n.jsx(Nc,{}),path:T5,Component:MP,color:"blue",isTemplate:!1,group:"GENERAL",pageSize:"small",menuPath:Jm},chat:{id:"chat",title:"Сообщения",icon:n.jsx(Xr,{}),path:Sn,Component:dc,color:"red",group:"COMMUNICATION",keywords:["чат","сообщения","написать"],pageSize:"big",isTemplate:!1,planeHeader:!1,hiddenTitle:!0},"specific-chat":{id:"specific-chat",title:"Сообщения",icon:n.jsx(Xr,{}),path:Mi,Component:dc,color:"red",pageSize:"big",isTemplate:!1,planeHeader:!1,hiddenTitle:!0,group:"COMMUNICATION",isSubPage:!0,show:!1},schedule:{id:"schedule",title:"Расписание",icon:n.jsx(Gt,{}),path:In,menuPath:Km,Component:pm,color:"pink",isTemplate:!0,show:!0,group:"LEARNING_ACTIVITIES",pageSize:"large"},"all-students":{id:"all-students",title:"Студенты",icon:n.jsx(An,{}),path:Bm,Component:dm,color:"lightBlue",isTemplate:!1,group:"COMMUNICATION",keywords:["одногруппники","ученики"]},feedback:{id:"feedback",title:"Обратная связь",icon:n.jsx(vi,{}),path:Br,Component:um,color:"blue",isTemplate:!1,group:"COMMUNICATION"},instructions:{id:"instructions",title:"Полезная информация",icon:n.jsx(hx,{}),path:w5,Component:HP,color:"blue",isTemplate:!1,group:"GENERAL",show:!1},vaccination:{id:"vaccination",title:"Вакцинация",icon:n.jsx(Pc,{}),path:p5,Component:()=>(pe.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=vaccination")},[]),null),color:"blue",isTemplate:!1,group:"GENERAL",keywords:["медицинская","справка","грипп","dfrwbyfwbz"],isOldLkPage:!0,show:!Oe},"safety-information":{id:"safety-information",title:"Безопасность",icon:n.jsx(Ec,{}),path:j5,Component:WP,color:"red",isTemplate:!0,group:"GENERAL"},"technical-maintenance":{id:"technical-maintenance",hiddenTitle:!0,title:"КСУТО",icon:n.jsx(L,{}),color:"blue",path:vr,Component:t2,isTemplate:!1,group:"GENERAL",isSubPage:!0}},N5={"schedule-current":{id:"schedule-current",title:"Текущее расписание",shortTitle:"Текущее",icon:n.jsx(Gt,{}),path:Km,Component:VP,color:"pink",isTemplate:!1,show:!1,group:"OTHER",pageSize:"large"},"schedule-semestr":{id:"schedule-semestr",title:"Расписание на семестр",shortTitle:"Семестр",icon:n.jsx(Ta,{}),path:k5,Component:qP,color:"orange",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"},"schedule-session":{id:"schedule-session",title:"Расписание сессии",shortTitle:"Сессия",icon:n.jsx(Rc,{}),path:C5,Component:QP,color:"red",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"},"schedule-retake":{id:"schedule-retake",title:"Пересдачи",icon:n.jsx(Bo,{}),path:S5,Component:YP,color:"red",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"}},Zm=_(f({"schedule-filter":{id:"schedule-filter",title:"Расписание",icon:n.jsx(Gt,{}),path:Jn,Component:pm,color:"pink",isTemplate:!1,show:!1,group:"OTHER",pageSize:"large"}},N5),{"filtered-all-students":{id:"filtered-all-students",title:"Все студенты",icon:n.jsx(An,{}),path:h5,Component:dm,color:"blue",isTemplate:!1,show:!1,group:"OTHER"},"filtered-all-teachers":{id:"filtered-all-teachers",title:"Все сотрудники",icon:n.jsx(An,{}),path:g5,Component:RP,color:"blue",isTemplate:!1,show:!1,group:"OTHER"},"settings-appearance":{id:"settings-appearance",title:"Настройки. Внешний вид",icon:n.jsx(gx,{}),path:m5,Component:U2,color:"purple",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Внешний вид",fallbackPrevPage:Qe,backButtonText:"Настройки"},"settings-personal":{id:"settings-personal",title:"Настройки. Аккаунт",icon:n.jsx(mx,{}),path:f5,Component:B2,color:"pink",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Аккаунт",fallbackPrevPage:Qe,backButtonText:"Настройки"},"settings-home-page":{id:"settings-home-page",title:"Настройки. Главная страница",icon:n.jsx(Hc,{}),path:x5,Component:a2,color:"blue",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Главная страница",fallbackPrevPage:Qe,backButtonText:"Настройки"},"settings-customize-menu":{id:"settings-customize-menu",title:"Настройки. Меню",icon:n.jsx(fx,{}),path:v5,Component:r2,color:"red",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Меню",fallbackPrevPage:Qe,backButtonText:"Настройки"},"settings-notifications":{id:"settings-notifications",title:"Настройки. Уведомления",icon:n.jsx(Wo,{}),path:b5,Component:c2,color:"orange",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Уведомления",fallbackPrevPage:Qe,backButtonText:"Настройки"},"settings-tutorial":{id:"settings-tutorial",title:"Настройки. Обучение",icon:n.jsx(zc,{}),path:y5,Component:r5,color:"green",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Обучение",fallbackPrevPage:Qe,backButtonText:"Настройки"},"useful-info-template":{id:"useful-info-template",title:"Полезная информация",icon:"",path:I5,Component:dr,color:"grey",isTemplate:!0,show:!1}}),ef=S({name:"load",sid:"-j15bef"}),Hr=Fo({and:{effect:t=>T(void 0,[t],function*({currentUser:e}){var i,o;const{data:s}=yield Mv((i=e==null?void 0:e.guid)!==null&&i!==void 0?i:"");return _(f({},s.data),{id:(o=e==null?void 0:e.guid)!==null&&o!==void 0?o:""})}),source:ne.user},or:{name:"loadFx",sid:"-eig4dk"}}),D5=wc(Hr,null,{name:"$peTeacher",sid:"-re5m8w"});w({and:[{clock:ef,target:Hr}],or:{sid:"1dijsf"}});const O5=Hr.pending,L5={load:ef},fD={peTeacher:D5,isLoading:O5},tf=S({name:"loadDivisions",sid:"geqed"}),nf=Y(cv,{name:"loadDivisionsFx",sid:"r8zouz"});w({and:[{clock:tf,target:nf}],or:{sid:"-bth0w0"}});const of=R([],{name:"$hrDivisions",sid:"ity2yg"});Ae({and:[of,e=>e.map(t=>t.divisionName)],or:{name:"$hrDivisionsSuggestions",sid:"-kfuh61"}});w({and:[{clock:nf.doneData,target:of}],or:{sid:"-d0844n"}});function sf(e){const{pathname:t}=Wt();d.useEffect(()=>{e==null||e.scrollTo(0,0)},[t])}const z5=()=>{const{allRoutes:e}=bt.useMenu();return e?n.jsxs(Vo,{children:[Object.values(e).map(({path:t,Component:i,isTemplate:o})=>n.jsx(yi,{path:t,component:i,exact:!o},t)),n.jsx(Et,{exact:!0,to:$r})]}):null},R5=pe.memo(z5),$5=p.div.withConfig({componentId:"sc-1onvp4g-0"})(["height:fit-content;opacity:",";visibility:",";transform:",";position:absolute;width:220px;left:",";top:",";background:var(--block);border-radius:var(--brLight);box-shadow:var(--very-mild-shadow);transition:0.2s transform,0.2s opacity,0.2s visibility;z-index:4;padding:8px;color:var(--text);@media (max-width:500px){width:calc(100vw - 20px);left:50%;transform:",";bottom:10px;top:auto;padding:16px;}"],({isVisible:e})=>e?1:0,({isVisible:e})=>e?"visible":"hidden",({isVisible:e})=>e?"translateY(0)":"translateY(20px)",({left:e})=>e+"px",({top:e})=>e+"px",({isVisible:e})=>e?"translateY(0) translateX(-50%)":"translateY(20px) translateX(-50%)"),M5=()=>{const{open:e,content:t,position:i}=ey.useContextMenu(),o=d.useRef(null);return Gn(o,()=>Ye.close()),n.jsx(Is,{isOpen:e,children:n.jsx($5,{isVisible:e,ref:o,left:i.x,top:i.y,onClick:s=>{s.stopPropagation()},children:t})})},af=200,F5=5e3,B5=()=>{const{visibleNotifications:e}=Qt.useLkNotifications(),[t,i]=d.useState(null),o=d.useRef(),s=a=>(o.current=void 0,()=>{i(a),setTimeout(()=>{$n.clearVisibleById(a)},af)});return d.useEffect(()=>{if(e.length&&o.current===void 0){var a,r,l;o.current=setTimeout(s((a=e[0])===null||a===void 0?void 0:a.id),(r=(l=e[0])===null||l===void 0?void 0:l.duration)!==null&&r!==void 0?r:F5)}},[e]),{handleClose:s,closing:t}},U5=p.div.withConfig({componentId:"sc-bpx6y2-0"})(["position:absolute;width:320px;max-width:500px;bottom:10px;right:10px;z-index:100;display:flex;flex-direction:column-reverse;padding:10px;padding-top:0;@media (max-width:1000px){width:90%;flex-direction:column;left:50%;transform:translateX(-50%);top:10px;bottom:auto;}"]),H5=p.div.withConfig({componentId:"sc-bpx6y2-1"})(["border-radius:var(--brLight);background:var(--block);color:var(--text);display:flex;flex-direction:column;justify-content:center;box-shadow:0 0 50px #00000521;transition:0.2s;animation:"," ","s forwards;@keyframes open{0%{padding:0px;height:0px;margin-top:0px;opacity:0;transform:scale(0.9);}100%{padding:8px;height:65px;margin-top:8px;opacity:1;transform:scale(1);}}@keyframes close{0%{height:65px;padding:8px;opacity:1;margin-top:8px;transform:scale(1);}100%{height:0px;opacity:0;padding:0px;margin-top:0px;transform:scale(0.9);}}"],({open:e})=>e?"open":"close",af/1e3);p.div.withConfig({componentId:"sc-bpx6y2-2"})(["height:4px;border-radius:3px;background:",";animation:",";@keyframes decrease{0%{width:100%;}100%{width:0%;}}"],C.blue.main,({started:e,duration:t})=>e&&`decrease ${t/1e3}s linear forwards`);const W5=()=>{const{visibleNotifications:e}=Qt.useLkNotifications(),{closing:t,handleClose:i}=B5();return n.jsx(U5,{children:e.map(o=>n.jsx(H5,{onClick:()=>{var s;i(o.id)(),(s=o.onClick)===null||s===void 0||s.call(o)},open:t!==o.id,children:n.jsx(fg,_(f({},o),{fullText:!1,maxLetters:19,closeAnimation:!1,onClose:()=>{var s;i(o.id)(),(s=o.onClose)===null||s===void 0||s.call(o)}}))},o.id))})},uc=p.div.withConfig({componentId:"sc-13zg4xi-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;background:",";z-index:100;display:flex;justify-content:center;align-items:center;animation:",";animation-delay:0.8s;background-size:100% 10000%;flex-direction:column;.loading-circle{width:40px;height:40px;bottom:40px;position:absolute;opacity:0.7;}@keyframes logo{0%{transform:translateY(0px);opacity:1;}30%{transform:translateY(5px);opacity:1;}100%{opacity:0;transform:translateY(-10px);}}@keyframes load_finished{0%{background-size:10% 100%;opacity:0;visibility:hidden;}50%{background-size:10% 1000%;opacity:1;visibility:visible;}100%{background-size:100% 10000%;opacity:1;visibility:visible;}}img{animation:",";animation-delay:",";width:100px;}"],({color:e})=>`linear-gradient(360deg, ${e} 50%, var(--theme))`,({$loading:e})=>!e&&"load_finished 1.2s forwards ease-in-out reverse",({$loading:e})=>!e&&"logo 0.7s forwards ease-in-out",({$loading:e})=>e?"0s":"1s"),G5=({loading:e})=>{const{data:{user:t},error:i}=Te.useUser(),o=t?ht(t==null?void 0:t.fullName):C.blue.main,s=()=>{var r;return Wv.getUserFx(JSON.parse((r=localStorage.getItem(te.Token))!==null&&r!==void 0?r:""))},a=()=>ce.logout();return i?n.jsx(uc,{$loading:!0,color:o,children:n.jsx(ke,{text:i,children:n.jsxs(A,{d:"column",gap:"8px",children:[n.jsx(E,{onClick:s,text:"Попробовать снова",icon:n.jsx(Bo,{}),width:"200px"}),n.jsx(E,{onClick:a,textColor:"var(--theme-mild-opposite)",text:"Выйти",width:"200px",background:"var(--theme)"})]})})}):n.jsxs(uc,{color:o,$loading:e,children:[n.jsx(Xo,{short:!0,width:"100px"}),e&&n.jsx(Ot,{})]})},V5=p.div.withConfig({componentId:"sc-7gkguq-0"})(["width:100%;height:5px;background:var(--almostTransparentOpposite);border-radius:10px;overflow:hidden;.inner-line{height:5px;transition:0.2s;width:",";background:var(--reallyBlue);animation:",";animation-play-state:",";@keyframes filling{0%{width:0%;}100%{width:100%;}}}"],({filled:e})=>e!=null?e:"0%",({playing:e})=>e!==null&&"10s filling linear forwards",({playing:e})=>e?"running":"paused"),q5=({filled:e,playing:t,isLast:i,onClose:o})=>{const{currentPage:s}=Dr.useStory();return n.jsx(V5,{filled:e,playing:t,children:n.jsx("div",{className:"inner-line",onAnimationEnd:()=>i?o():Zt.changeCurrentPage({value:s+1})})})},Q5=p(Ko).withConfig({componentId:"sc-vzuuz1-0"})(["position:absolute;top:30px;left:0;padding:0px 30px;z-index:2;svg{min-width:20px;height:20px;}"]),Y5=({playing:e,pages:t,onClose:i})=>{const{currentPage:o}=Dr.useStory();return n.jsxs(Q5,{height:"10px",verticalAlign:"center",direction:"horizontal",width:"100%",children:[Array(t).fill(0).map((s,a)=>n.jsx(q5,{onClose:i,isLast:a+1===t,playing:o===a?e:null,filled:o>a?100:o===a?void 0:0},a)),e?n.jsx(vx,{}):n.jsx(xx,{}),n.jsx(E,{minWidth:"25px",width:"25px",height:"25px",icon:n.jsx(Nt,{}),onClick:i})]})},K5=e=>`translate(${e.horizontal==="center"?"-50%":"0px"}, ${e.vertical==="center"?"-50%":"0px"})})`,J5=p(Dt).withConfig({componentId:"sc-11839ai-0"})(["overflow:hidden;position:relative;background:",";display:flex;justify-content:",";align-items:center;user-select:none;@media (max-width:700px){border-radius:0px;}"],({background:e})=>e,({imageAlign:e})=>(e==null?void 0:e.horizontal)==="left"?"flex-start":(e==null?void 0:e.horizontal)==="right"?"flex-end":"center"),X5=p.div.withConfig({componentId:"sc-11839ai-1"})(["width:80%;height:fit-content;position:absolute;left:",";right:",";bottom:",";top:",";display:flex;flex-direction:column;gap:7px;color:",";transform:",";text-align:",";"],({align:e})=>e.horizontal==="left"?"30px":e.horizontal==="center"?"50%":"auto",({align:e})=>e.horizontal==="right"?"30px":e.horizontal==="center"?"50%":"auto",({align:e})=>e.vertical==="bottom"?"30px":e.vertical==="center"?"50%":"auto",({align:e})=>e.vertical==="top"?"30px":e.vertical==="center"?"50%":"auto",({color:e})=>e!=null?e:"var(--text)",({align:e})=>K5(e),({textAlign:e})=>e!=null?e:"left"),Z5=({background:e,align:t,image:i,color:o,title:s,text:a,children:r,setPlaying:l,link:c,imageAlign:u,imageSize:h={width:"auto",height:"100%"},textAlign:g="left"})=>{const m=wt();return n.jsxs(J5,{imageAlign:u,onClick:()=>l(x=>!x),background:e,align:t,padding:"0",height:"100%",color:o,children:[i&&n.jsx($a,{src:i,loading:!1,width:h.width,height:h.height}),n.jsxs(X5,{imageAlign:u,onClick:()=>l(x=>!x),background:e,align:t,color:o,children:[n.jsx(M,{size:2,align:g,children:s}),n.jsx(re,{fontSize:"1.1em",align:g,children:a}),!!(c!=null&&c.text)&&n.jsx(E,{onClick:()=>{m.push(c.to),Zt.close()},text:c.text}),r&&n.jsx("div",{className:"content-children",children:r})]})]})},eN=p.div.withConfig({componentId:"sc-tnji4s-0"})(["padding:15px;width:100%;max-width:400px;height:100%;max-height:750px;transition:0.2s;transform:scale(",");opacity:",";visibility:",";position:relative;display:flex;@media (max-width:700px){padding:0;}"],({isOpen:e})=>e?1:.95,({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden"),pc=p.div.withConfig({componentId:"sc-tnji4s-1"})(["position:absolute;top:50px;left:",";right:",";height:calc(100% - 65px);display:flex;justify-content:center;align-items:center;width:25%;z-index:3;opacity:0;svg{width:30px;height:30px;color:var(--text);background:var(--almostTransparentOpposite);border-radius:var(--brLight);}@media (min-width:1001px){&:hover{opacity:1;background:",";}}@media (max-width:1000px){left:",";right:",";&:active{opacity:1;background:",";}}"],({left:e})=>e!=null?e:"auto",({right:e})=>e!=null?e:"auto",({left:e})=>e?"linear-gradient(90deg, var(--almostTransparentOpposite), transparent)":"linear-gradient(90deg, transparent, var(--almostTransparentOpposite))",({left:e})=>e?`calc(${e} - 15px)`:"auto",({right:e})=>e?`calc(${e} - 15px)`:"auto",({left:e})=>e?"linear-gradient(90deg, var(--almostTransparentOpposite), transparent)":"linear-gradient(90deg, transparent, var(--almostTransparentOpposite))"),tN=()=>{const{pages:e,isOpen:t,currentPage:i}=Dr.useStory(),o=d.useRef(null);Gn(o,()=>Zt.close());const[s,a]=d.useState(!0),r=e[i];return e.length===0?null:n.jsx(Is,{isOpen:t,children:n.jsx(eN,{isOpen:t,ref:o,children:e.length!==0&&n.jsxs(n.Fragment,{children:[n.jsx(Y5,{pages:e.length,onClose:()=>Zt.close(),playing:s}),n.jsx(pc,{left:"15px",onClick:()=>{i!==0&&Zt.changeCurrentPage({value:i-1}),a(!0)},children:n.jsx(Hn,{})}),n.jsx(Z5,f({setPlaying:a,currentPage:i},r)),n.jsx(pc,{right:"15px",onClick:()=>{i!==e.length-1?Zt.changeCurrentPage({value:i+1}):Zt.close(),a(!0)},children:n.jsx(St,{})})]})})})},nN=()=>{const{data:{user:e}}=Te.useUser(),{notifications:t,loading:i,loaded:o}=Qt.useLkNotifications(),s=F(ge.userSettings),[a]=F([cu.$electronicInteractionStore]),r=s==null?void 0:s.notifications;d.useEffect(()=>{na.getElectronicInteraction(),a&&!a.status&&$n.add(Tr("electronic-interaction","electronic-interaction"))},[a==null?void 0:a.status]),d.useEffect(()=>{a||na.getElectronicInteraction()},[a]),d.useEffect(()=>{e&&r&&Object.values(r).some(Boolean)&&!o&&!i&&(rg(r,[{id:"schedule",type:"schedule",title:"Скоро пара!",text:"Осталось меньше 15 мин."}]).length,$n.initialize({settings:r}))},[e,r,i,o]),d.useEffect(()=>{At.changeNotifications({page:"lk-notifications",notifications:t.length})},[t])},iN=()=>{const{data:{user:e}}=Te.useUser(),[t,i]=F([ze.heroVisited,ze.tutorialState]),[o,s]=d.useState(!1),a=r=>{const l=localStorage.getItem("lastLocalAccess")||r,c=new Date(Ix);new Date(r)<c&&new Date(l)<c&&(t||i)&&(localStorage.setItem("lastLocalAccess",new Date().toISOString()),s(!0))};return d.useEffect(()=>{e&&a(e.lastaccess)},[e]),o},oN=()=>{const e=hu(),{open:t}=K(),i=iN();return nN(),d.useEffect(()=>{i&&i&&t(n.jsx(Jg,{}),"Что нового")},[i]),{currentPage:e}},sN=p.div.withConfig({componentId:"sc-5qiuwq-0"})(["display:flex;width:100%;max-height:100%;flex:1;z-index:3;background:var(--theme);overflow:hidden;position:relative;@media (max-width:1000px){font-size:0.9em;}"]),aN=p.div.withConfig({componentId:"sc-5qiuwq-1"})(["position:relative;overflow-x:hidden;overflow-y:scroll;scrollbar-gutter:stable;padding-top:",";width:100%;flex:1;@media (max-width:1000px){margin-bottom:var(--mobile-bottom-menu-height);}"],({withHeader:e})=>e?"var(--header-height)":"0"),rN="/assets/tutorial-picture-652f946f.jpg",lN=p.div.withConfig({componentId:"sc-12ow9dl-0"})(["position:fixed;width:100%;height:100%;z-index:5;background-color:rgba(0,0,0,0.4);display:flex;justify-content:center;align-items:end;padding:8px;@media (min-width:1000px){justify-content:center;align-items:center;}"]),cN=p.div.withConfig({componentId:"sc-12ow9dl-1"})(["display:flex;flex-direction:column;gap:20px;@media (min-width:1000px){width:60ch;max-width:600px;padding:40px 40px 40px 60px;}"]),dN=p.div.withConfig({componentId:"sc-12ow9dl-2"})(["min-width:100%;position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:15px;backdrop-filter:blur(6.8px);background:rgba(95,109,236,0.7);padding:16px;@media (min-width:1000px){padding:0;bottom:auto;min-width:0;max-width:90%;flex-direction:row;}animation:"," 150ms ease-in forwards;"],({deleted:e})=>e?rr:""),uN=p.h2.withConfig({componentId:"sc-12ow9dl-3"})(["margin-top:32px;margin-bottom:16px;color:#f4f4f4;font-size:20px;font-weight:600;line-height:normal;@media (min-width:1000px){margin-bottom:40px;}"]),Tn=p.p.withConfig({componentId:"sc-12ow9dl-4"})(["font-weight:600;font-size:16px;line-height:139%;color:#f4f4f4;margin-bottom:20px;"]),pN=p.div.withConfig({componentId:"sc-12ow9dl-5"})(["margin:auto 0 0 0;display:flex;justify-content:space-between;"]),hN=()=>{const[e,t]=d.useState(!1),[i,o,s,a]=F([ze.heroVisited,ze.tutorialState,je.tutorialEnabled,je.setHeroVisited]),{data:{user:r}}=Te.useUser(),{isMobile:l,isTablet:c}=Me();return o!==null||i&&!e?null:n.jsx(lN,{onMouseUp:()=>a(!0),children:n.jsxs(dN,{onMouseUp:u=>u.stopPropagation(),deleted:e,children:[n.jsx(gN,{src:rN}),n.jsxs(cN,{children:[(r==null?void 0:r.user_status)==="staff"?n.jsxs(n.Fragment,{children:[n.jsx(Tn,{children:"В Личном кабинете есть обучение, которое знакомит с основными разделами и рассказывает о возможностях Личного кабинета."}),n.jsx(Tn,{children:"Следить за прогрессом прохождения можно в настройках Личного кабинета. Также в настройках можно напрямую запусить обучение по разделу."}),!l&&!c&&n.jsx(Tn,{children:"Связь со студентами и сотрудниками, доступ к корпоративным контактным данным, цифровые сервисы - все в одном месте."})]}):n.jsxs(n.Fragment,{children:[n.jsx(uN,{children:"Привет!"}),n.jsx(Tn,{children:"В Личном кабинете есть обучение. Пройдя его, ты познакомишься с основными разделами и возможностями Личного кабинета, которые сделают твое обучение удобнее."}),n.jsx(Tn,{children:"Следить за прогрессом прохождения можно в настройках Личного кабинета. Также в настройках можно напрямую запустить обучение по разделу."}),!l&&!c&&n.jsx(Tn,{children:"Отслеживай расписание, заказывай справки, проводи оплаты, общайся с сотрудниками, преподавателями и студентами - все в одном месте."})]}),n.jsxs(pN,{children:[n.jsx(E,{padding:"16px 24px",background:"none",height:"52px",fontSize:"16px",textColor:"#B5BDFF",hoverTextColor:"#9EA8F8",text:"Отказаться",onClick:()=>{s(!1),a(!0),t(!0),setTimeout(()=>{t(!1)},150)}}),n.jsx(E,{padding:"16px 36px",text:"Поехали!",fontSize:"16px",height:"52px",background:C.blue.light1,hoverBackground:"#6E7AE0",textColor:"white",onClick:()=>{s(!0),a(!0),t(!0),setTimeout(()=>{t(!1)},150)}})]})]})]})})},gN=p.img.withConfig({componentId:"sc-10jbk67-0"})(["object-fit:cover;aspect-ratio:1;position:absolute;width:72px;border-radius:50%;right:24px;top:24px;background-size:20%;@media (min-width:1000px){scale:1;position:relative;width:50%;max-width:500px;border-radius:0;height:auto;top:0;right:0;}"]),mN=Ke(jT),fN=()=>{const{data:{user:e}}=Te.useUser(),t=d.useRef(null),{allRoutes:i}=bt.useMenu(),{currentPage:o}=oN(),[s,a]=d.useState(!1),r=l=>{a(l.currentTarget.scrollTop>0)};return sf(t.current),n.jsxs(n.Fragment,{children:[n.jsx(G5,{loading:!e||!i}),n.jsx(tN,{}),n.jsx(mN,{}),n.jsxs(sN,{children:[n.jsx(rT,{noTitle:o==null?void 0:o.hiddenTitle,headerVisible:s,currentPage:o}),n.jsx(aN,{ref:t,onScroll:r,withHeader:!(o!=null&&o.withoutHeader),children:n.jsx(vd,{children:n.jsx(d.Suspense,{fallback:null,children:n.jsx(R5,{})})})}),n.jsx(ZE,{})]}),n.jsx(PT,{}),n.jsx(CT,{}),n.jsx(NT,{}),n.jsx(M5,{}),n.jsx(aP,{}),n.jsx(hN,{}),n.jsx(W5,{})]})},xN=pe.memo(fN),vN=()=>{const e=wu(JSON.stringify(ml));je.setRoles([]);const t=localStorage.getItem(Na);return e!==Number(t)?je.initialized([...ml]):je.getTutorialData()},bN=()=>{const t=Wt().pathname,[i,o,s,a]=F([ze.tutorials,ze.currentModule,je.setCurrentTutorial,je.resetStep]);d.useEffect(()=>{if(i){const r=Object.values(i).find(l=>l.path===t);if(!r){s(null);return}(o==null?void 0:o.id)!==r.id&&(s(r.id),a())}},[i,t])},yN=()=>{const{data:{isAuthenticated:e,user:t}}=Te.useUser();return sf(window),d.useEffect(()=>{window.location.href==="https://e.mospolytech.ru/?p=children#/home"&&window.location.replace("https://e.mospolytech.ru/old/index.php?p=children")},[window.location.href]),d.useEffect(()=>{e&&(Zs.getUserDataApplicationsFx(),t!=null&&t.guid&&vN(),(t==null?void 0:t.user_status)==="staff"&&(_t.effects.getFx(),Zs.getWorkerPosts(),xs.getSubdivisions(),ai.appStarted(),tf()),L5.load())},[e,t]),bN(),e?n.jsx(xN,{}):n.jsx(d.Suspense,{fallback:null,children:n.jsxs(Vo,{children:[A5.map(({path:i,Component:o},s)=>n.jsx(yi,{path:i,component:o,exact:!0},s)),n.jsx(Et,{exact:!0,to:Mm})]})})};const wN=()=>(d.useEffect(()=>{Wc()},[]),n.jsx(_b,{children:n.jsx(bx,{basename:"/",children:n.jsx(vd,{children:n.jsx(yN,{})})})}));yc.render(n.jsxs(pe.StrictMode,{children:[n.jsx(XT,{}),n.jsx(wN,{})]}),document.getElementById("root"));export{ie as $,bw as A,E as B,lt as C,ye as D,re as E,Fa as F,nt as G,fD as H,Jt as I,Yn as J,Xt as K,Ot as L,ve as M,wn as N,us as O,oS as P,Pb as Q,ke as R,xt as S,M as T,KN as U,JN as V,ko as W,EN as X,PN as Y,NN as Z,AN as _,SN as a,Zs as a$,ON as a0,DN as a1,BN as a2,FN as a3,TN as a4,RN as a5,zN as a6,Ee as a7,UN as a8,Te as a9,Ay as aA,vv as aB,yn as aC,Ey as aD,Jk as aE,tD as aF,Oy as aG,aw as aH,Ga as aI,$r as aJ,Gc as aK,bu as aL,fe as aM,Me as aN,XN as aO,y1 as aP,Ru as aQ,Hi as aR,Dn as aS,LS as aT,P5 as aU,QN as aV,Ha as aW,wg as aX,s1 as aY,ua as aZ,ac as a_,Qa as aa,qa as ab,et as ac,Ua as ad,fw as ae,oT as af,mu as ag,Dt as ah,ga as ai,$e as aj,xu as ak,pn as al,LI as am,bt as an,I5 as ao,DI as ap,Ym as aq,Ts as ar,Bl as as,to as at,ai as au,Kt as av,Po as aw,$C as ax,ZN as ay,eD as az,ol as b,N5 as b$,$n as b0,ge as b1,oD as b2,Re as b3,va as b4,xr as b5,$o as b6,Ke as b7,mD as b8,Yp as b9,ta as bA,pD as bB,fT as bC,XI as bD,q as bE,Hs as bF,nD as bG,op as bH,aD as bI,rD as bJ,lD as bK,Tt as bL,sD as bM,iD as bN,Qe as bO,lI as bP,gg as bQ,f5 as bR,ce as bS,Kn as bT,Sp as bU,Cp as bV,g2 as bW,v2 as bX,vs as bY,rP as bZ,ed as b_,Fi as ba,YN as bb,na as bc,VN as bd,Fr as be,cu as bf,qN as bg,Be as bh,gt as bi,xA as bj,ht as bk,ze as bl,je as bm,XE as bn,hD as bo,cD as bp,DE as bq,Sg as br,Nr as bs,gD as bt,lj as bu,qm as bv,cI as bw,It as bx,Le as by,Gg as bz,LN as c,S5 as c0,C5 as c1,k5 as c2,Ag as c3,uD as c4,Xi as c5,Jn as c6,Aa as c7,dD as c8,cE as c9,kN as cA,CN as cB,zo as cC,KT as cD,Zi as cE,ee as cF,$a as cG,qb as cH,ts as cI,yw as cJ,so as cK,gw as cL,mw as cM,hw as cN,pw as cO,W1 as cP,_r as cQ,OS as cR,dv as cS,Xy as cT,GN as cU,xw as cV,zt as cW,dl as cX,Km as ca,dE as cb,uE as cc,zg as cd,en as ce,bE as cf,qg as cg,vE as ch,Kg as ci,sE as cj,LT as ck,BE as cl,LE as cm,Tg as cn,Og as co,zu as cp,Ni as cq,wE as cr,vu as cs,Wv as ct,Qt as cu,b5 as cv,vI as cw,WN as cx,sy as cy,HN as cz,Pe as d,Q as e,Os as f,oe as g,_n as h,mr as i,on as j,Qs as k,xe as l,Va as m,Fe as n,L5 as o,$N as p,X as q,A as r,ne as s,C as t,K as u,Vn as v,H_ as w,Rv as x,MN as y,IN as z};
