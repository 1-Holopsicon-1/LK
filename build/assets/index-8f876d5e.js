var v=Object.defineProperty,P=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var x=(e,s,t)=>s in e?v(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,j=(e,s)=>{for(var t in s||(s={}))O.call(s,t)&&x(e,t,s[t]);if(h)for(var t of h(s))E.call(s,t)&&x(e,t,s[t]);return e},b=(e,s)=>P(e,k(s));import{j as n,r as p,q as L}from"./vendor-00bea631.js";import{bn as f,G as g,h as S,bj as T,bo as G,aJ as w,ai as R,_ as q,P as y,bp as A,bq as F,br as M,Z as V}from"./index-d824e111.js";const m={Основное:0,"Кадровая среда":1,"Учебная деятельность":2,Коммуникация:3,"Научная деятельность":4,"Находится в разработке":5},_=(e,s)=>e?Object.values(e).filter(({getIsVisibleForCurrentUser:r})=>r&&s?r(s):!0).reduce((r,o)=>{const l=o!=null&&o.group?f[o.group]:f.OTHER;return r[l]||(r[l]={}),r[l][o.id]=o,r},{}):{},$=({title:e,links:s,doNotShow:t,orientation:r,background:o,shadow:l=!0,mode:i})=>n.jsxs(g,{d:"column",children:[n.jsx(S,{size:4,align:"left",bottomGap:!0,children:e}),n.jsxs(g,{gap:"8px",$wrap:!0,children:[Object.values(s).map(a=>{if((a==null?void 0:a.show)!==!1&&t!==(a==null?void 0:a.id))return n.jsx(T,b(j({background:o,orientation:r,mode:i,shadow:l},a),{color:a.color.length?a.color:"blue"}),a.id)}),t!=="all"&&n.jsx(G,{})]})]}),H=()=>{const{visibleRoutes:e,allRoutes:s}=w.useMenu(),[t,r]=p.useState(null),[o,l]=p.useState(""),i=L(V.peTeacher),a=p.useMemo(()=>_(e,i),[e,i]),{data:{user:c}}=R.useUser();return e?n.jsx(q,{padding:"10px",children:n.jsxs(y,{children:[n.jsx(A,{placeholder:"Поиск разделов",whereToSearch:s!=null?s:{},searchEngine:F,setResult:r,setExternalValue:l,validationCheck:!0,loadingOnType:!0}),!t&&n.jsx(g,{d:"column",gap:"24px",children:o.length===0&&Object.keys(a).sort((u,d)=>m[u]-m[d]).map(u=>{const d=a[u];return n.jsx($,{title:u==="Кадровая среда"&&(c==null?void 0:c.user_status)==="stud"?"Договоры и оплаты":u,doNotShow:"all",align:"left",links:d},u)})}),n.jsx(M,{pages:t})]})}):null};export{H as default};
