var C=Object.defineProperty,q=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var c=(e,t,a)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))F.call(t,a)&&c(e,a,t[a]);if(n)for(var a of n(t))S.call(t,a)&&c(e,a,t[a]);return e},p=(e,t)=>q(e,y(t));import{p as k,k as I,N as h,x as o,cI as D,r as f,i as M,j as i,z as j}from"./vendor-8a1e4858.js";import{ei as T,ee as B,p as x,bA as w,t as A,bB as P,i as R,ea as $,d2 as G,bC as U}from"./index-a5cbed1f.js";import{c as V}from"./create-checkbox-field-d0ba0451.js";const b=k({name:"sendFormClicked",sid:"-kz4mj5"}),u=V(),s=I({sid:"se3ry5",fn:()=>h({handler:T}),name:"createTaxCertRequestMutation",method:"createMutation"}),z=s.$pending;o({and:[{clock:b,target:s.start}],or:{sid:"be7ny1"}});o({and:[{clock:s.$succeeded,target:[u.setValue.prepend(()=>!0),B.getTaxCertsFx,x.evokePopUpMessage.prepend(()=>({message:"Заявка отправлена на рассмотрение",type:"success",time:1e4}))]}],or:{sid:"bgeubh"}});o({and:[{clock:s.$failed,target:x.evokePopUpMessage.prepend(()=>({message:"При отправке заявки произошла ошибка. Попробуйте позднее",type:"failure"}))}],or:{sid:"bwcviy"}});const Y=()=>{const{id:e,paymentId:t}=D(),[a,l]=f.useState(null),[g,r,v]=M([z,u.value,u.setValue]),d=r!=null?r:!1;return f.useEffect(()=>{l(H({taxCertGuid:e,paymentGuid:t}))},[]),i.jsx(w,{isDone:d,children:!!a&&!!l&&i.jsxs(A,{noHeader:!0,children:[i.jsx(P,p(m({},a),{collapsed:d,setData:l})),i.jsx(R,{text:"Отправить",action:()=>{const N=$(G[""],[a],!0);b(N)},isLoading:g,completed:r,setCompleted:v,buttonSuccessText:"Отправлено",isDone:d,isActive:U(a),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},E=j.enum(["21","03","07","08","10","11","12","13","14","15","19","22","23","24","27","91"]),O=E.options,L={21:"Паспорт гражданина Российской Федерации","03":"Свидетельство о рождении","07":"Военный билет","08":"Временное удостоверение, выданное взамен военного билета",10:"Паспорт иностранного гражданина",11:"Свидетельство о рассмотрении ходатайства о признании лица беженцем на территории Российской Федерации по существу",12:"Вид на жительство в Российской Федерации",13:"Удостоверение беженца",14:"Временное удостоверение личности гражданина Российской Федерации",15:"Разрешение на временное проживание в Российской Федерации",19:"Свидетельство о предоставлении временного убежища на территории Российской Федерации",22:"Загранпаспорт гражданина Российской Федерации",23:"Свидетельство о рождении, выданное уполномоченным органом иностранного государства",24:"Удостоверение личности военнослужащего Российской Федерации",27:"Военный билет офицера запаса",91:"Иной документ"},W=O.map(e=>({id:e,title:L[e]})),H=({taxCertGuid:e,paymentGuid:t})=>({title:"Замена плательщика по платежу",data:[{fieldName:"TaxCertGuid",title:"",value:e,visible:!1},{fieldName:"PaymentGuid",title:"",value:t,visible:!1},{fieldName:"Comment",title:"Текст заявки",value:"",type:"textarea",editable:!0,required:!0},{fieldName:"FIO",title:"ФИО нового плетельщика",value:"",editable:!0,required:!0},{fieldName:"Birthday",title:"Дата рождения плательщика",value:"",type:"date",editable:!0,required:!0,maxValueInput:new Date().toISOString()},{fieldName:"INN",title:"ИНН",value:"",editable:!0,required:!0},{fieldName:"SNILS",title:"СНИЛС",value:"",editable:!0,required:!0},{fieldName:"DocumentKindCode",title:"Тип документа удостоверения личности",type:"select",value:null,items:W,editable:!0,required:!0,width:"100%",isSpecificSelect:!0},{fieldName:"Series",title:"Серия документа",value:"",editable:!0,required:!0},{fieldName:"Number",title:"Номер документа",value:"",editable:!0,required:!0},{fieldName:"DateIssue",title:"Дата выдачи",value:"",editable:!0,required:!0,type:"date",maxValueInput:new Date().toISOString()},{fieldName:"Department",title:"Подразделение",value:"",editable:!0,required:!0},{fieldName:"DepartmentCode",title:"Код подразделения",value:"",editable:!0,required:!0}],documents:{files:[],fieldName:"docs",required:!1,allowedTypes:["pdf","jpg","png"],maxFileSizeInMegaBytes:5}});export{Y as default};
