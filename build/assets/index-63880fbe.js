var x=Object.defineProperty,v=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var d=(a,e,t)=>e in a?x(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,m=(a,e)=>{for(var t in e||(e={}))h.call(e,t)&&d(a,t,e[t]);if(c)for(var t of c(e))F.call(e,t)&&d(a,t,e[t]);return a},f=(a,e)=>v(a,g(e));import{r as i,j as l}from"./vendor-249420f4.js";import{ad as N,aa as S,F as A,I as j,S as C,ab as E,cI as I,ac as y}from"./index-72b1dbf4.js";import{C as _}from"./error-c869e6c2.js";const k=a=>{const{surname:e,name:t,patronymic:s,group:o,email:r,phone:p}=a;return{title:"Переселение внутри общежития",data:[{title:"ФИО",fieldName:"fio",value:e+" "+t+" "+s,editable:!1},{title:"Учебная группа",fieldName:"group",type:"tel",value:o,editable:!1},{title:"Электронная почта",fieldName:"email",type:"email",value:r,editable:!0,required:!0},{title:"Телефон",fieldName:"phone",type:"tel",value:p,editable:!0,required:!0},{title:"Комната",fieldName:"room",value:"",placeholder:"Укажите номер комнаты, в которую хотите переселиться",editable:!0,required:!1},{title:"Комментарий",type:"textarea",fieldName:"reason_for_relocation",value:"",placeholder:"Укажите необходимость переселения",editable:!0,required:!0}]}},B=()=>{var u;var a;const[e,t]=i.useState(null),{data:{dataUserApplication:s}}=N.useApplications(),[o,r]=i.useState(!1),[p,b]=i.useState(!1),n=o!=null?o:!1;return i.useEffect(()=>{s&&t(k(s))},[s]),new Date<new Date(2024,8,15)?l.jsx(_,{}):l.jsx(S,{isDone:n,children:!!e&&!!t&&l.jsxs(A,{children:[l.jsx(j,f(m({},e),{collapsed:n,setData:t})),l.jsx(C,{text:"Отправить",action:()=>E(I.USG_RELOCATION_INNER,[e],b,r),isLoading:p,completed:o,setCompleted:r,repeatable:!1,buttonSuccessText:"Отправлено",isDone:n,isActive:y(e)&&((u=(a=e.optionalCheckbox)===null||a===void 0?void 0:a.value)!=null?u:!0),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{B as default};
