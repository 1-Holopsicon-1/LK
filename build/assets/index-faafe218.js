var b=Object.defineProperty,f=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var O=(i,t,l)=>t in i?b(i,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[t]=l,p=(i,t)=>{for(var l in t||(t={}))g.call(t,l)&&O(i,l,t[l]);if(T)for(var l of T(t))D.call(t,l)&&O(i,l,t[l]);return i},k=(i,t)=>f(i,P(t));import{j as e,bb as v,s as j,r as _,az as w,aH as U,F as H}from"./vendor-8a1e4858.js";import{A as Y}from"./consts-efab0afd.js";import{f as A,d as y,g as N,S as R,B as S,Y as G,a3 as C,bO as B,bP as V,bQ as W,bR as K,bS as z,bT as X,bU as $,bV as Q,bW as Z,bX as q,bY as J,bZ as tt,b_ as it,b$ as et,c0 as lt,c1 as nt,c2 as st,c3 as at,c4 as rt,c5 as ot,c6 as ct,c7 as dt,c8 as Et,c9 as _t,ca as At,cb as x,cc as It,cd as Tt,ce as Ot,cf as pt,cg as kt,ch as Ct,ci as ut,cj as Nt,ck as Rt,cl as s,cm as u,cn as St,co as xt,cp as ht,cq as Lt,bL as mt,cr as Mt,cs as Ft,ct as bt,cu as ft,cv as Pt,aC as gt,aB as Dt,cw as vt,cx as jt,cy as wt,cz as Ut,cA as Ht,c as Yt,cB as yt,cC as Gt,cD as Bt,cE as Vt,cF as Wt,cG as Kt,cH as zt,cI as Xt,cJ as $t,cK as Qt,cL as Zt,cM as qt,cN as Jt,cO as ti,cP as ii,cQ as ei,cR as li,cS as ni,U as h,s as si,E as ai,T as ri,a5 as oi,a8 as L,b5 as ci,bw as di,W as Ei,o as _i,P as Ai}from"./index-04c2f683.js";import{T as Ii}from"./index-25a1de01.js";const Ti=()=>[{title:"Запрос",field:"subject",priority:"one",search:!0,showFull:!0,render:(i,t)=>{var l;return e.jsxs(A,{jc:"space-between",children:[i,!!(t!=null&&(l=t.files_output)!==null&&l!==void 0&&l.length)&&t.files_output.map(a=>e.jsx("div",{onClick:r=>r.stopPropagation(),children:e.jsx(Ii,{text:a.fname,direction:"left",children:e.jsx(y,{icon:e.jsx(v,{}),background:"transparent",href:a==null?void 0:a.url})})},a.url))]})}},...m()],m=()=>{var i;return[{title:"Дата",field:"created",priority:"two",sort:!0,type:"date",align:"center",width:"120px"},{title:"Рег. номер",field:"num",priority:"five",align:"center",width:"170px"},{title:"Статус",field:"status",priority:"one",width:"165px",catalogs:[...(i=Object.values(Y).map((t,l)=>({id:l.toString(),title:t})))!==null&&i!==void 0?i:[]],render:t=>e.jsx(N,{type:t==="Готово"||t==="Выдано"||t==="Получено"||t==="Выполнена"?"success":t==="Отклонено"?"failure":"alert",title:t||"—",align:"center",icon:null})},{title:"Структурное подразделение, адрес",priority:"four",field:"response_div",showFull:!1},{title:"Примечание",field:"comment",priority:"five",width:"150px"}]},Oi=()=>[...m(),{title:"Файлы для скачивания",align:"center",field:"files_output",priority:"five",width:"150px",render:i=>i.length?i.map(t=>e.jsxs(A,{jc:"space-between",children:[e.jsx(R,{children:t.fname}),e.jsx(S,{onClick:()=>pi(t),text:"Скачать",background:"transparent",textColor:G.green.main,width:"100%"})]},t.url)):"-"}],pi=i=>{const t=document.createElement("a");t.href=i.url,t.download=i.fname,t.target="_blank",t.click(),t.remove()},ki=(i,t)=>t.reduce((l,a)=>{const r=a.links.filter(d=>C(d.title).includes(C(i)));return r.length&&l.push({title:a.title,links:r}),l},[]),Ci=({studentFinance:i})=>[{title:"Многофункциональный центр",links:[{link:B,title:"Справка о прослушанных дисциплинах за период обучения (справка об обучении)"},{link:V,title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования"},{link:W,title:"Справка в социальные учреждения (Пенсионный фонд, УСЗН и пр.)"},{link:K,title:"Справка-вызов"},{link:z,title:"Заявление на пересдачу для получения диплома с отличием"},{link:X,title:"Запрос на изменение персональных данных"},{link:$,title:"Запрос на восстановление магнитного пропуска"},{link:Q,title:"Уточнение паспортных данных"},{link:Z,title:"Выдача лицензий и свидетельств о государственной аккредитации"},{link:q,title:"Предоставление каникул в связи с окончанием университета"},{link:J,title:"Предоставление академического отпуска"},{link:tt,title:"Выход из академического отпуска"},{link:it,title:"Отчисление по инициативе обучающегося"},{link:et,title:"Продление промежуточной аттестации или ГИА"}]},{title:"Управление студенческим городком",links:[{link:lt,title:"Предоставление медицинских справок для проживающих в общежитии"},{link:nt,title:"Предоставление права проживания (очная форма)",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:st,title:"Предоставление права проживания (очно-заочная форма)",exceptionalFormEducationList:["Очная","Заочная"]},{link:at,title:"Предоставление права проживания (заочная форма)",exceptionalFormEducationList:["Очная","Очно-заочная"]},{link:rt,title:"Предоставление права проживания льготной категории граждан"},{link:ot,title:"Предоставление права проживания в период академического отпуска",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:ct,title:"Предоставление права проживания в семейной комнате",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:dt,title:"Переселение внутри общежития",exceptionalFormEducationList:["Заочная"]},{link:Et,title:"Переселение в другое общежитие",exceptionalFormEducationList:["Заочная"]},{link:_t,title:"Расторжение договора найма"},{link:At,title:"Предоставление права проживания в период каникул"}]},{title:"Профсоюзная организация",links:[{link:x,title:"Вступить в Профсоюз",isExternalLink:!0,isOpenInNewWindow:!0},{link:It,title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)"},{link:Tt,title:"Заявка на материальную помощь"},{link:Ot,title:"Оформить социальную стипендию"},{link:pt,title:i==="С оплатой обучения"?"Конкурс на назначение стипендии Московского Политеха":"Конкурс на назначение повышенной государственной академической стипендии",exceptionalFormEducationList:["Очно-заочная","Заочная"],exceptionalDegreeLevelList:["Аспирантура"]}]},{title:"Мобилизационный отдел",links:[{link:kt,title:"Отправить документы воинского учета"},{link:Ct,title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу (форма 10)"},{link:ut,title:"Заказать справку об обучении для студентов в военкомат (форма 4)",description:"Доступна после заполнения формы № 10"},{link:Nt,title:"Заказать справку об обучении для аспирантов в военкомат (форма 5)",description:"Доступна после заполнения формы № 10"},{link:Rt,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Отдел платных образовательных услуг"+(s?" (Сервис временно недоступен)":""),disabled:s,links:[{link:u,title:"Оформить дополнительное соглашение к договору об обучении"},{link:u,title:"Отправить квитанцию об оплате обучения или пени"}]},{title:"Приемная комиссия",links:[{link:St,isExternalLink:!0,title:"Изменение условий обучения (направление подготовки (специальность), форма), в том числе перевод с платного обучения на бесплатное"}]},{title:"Прочее",links:[{link:xt,title:"Предоставление справок о группе здоровья"},{link:ht,title:"Контактные данные родителей"},{link:Lt,title:"Техническая эксплуатация"},{link:mt,title:"Произвольный запрос"}]},{title:"Прочее (в разработке)",disabled:s,links:[{link:Mt,title:"Трудоустройство студентов"}]}],ui=i=>[{title:"Цифровые сервисы",links:[{link:Ft,title:"Справка с места работы"},{link:bt,title:"Справка с места работы для предоставления в визовый центр"},{link:ft,title:"Справка о количестве неиспользованных дней отпуска"},{disabled:s,link:Pt,title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»"}]},{title:"Телефонный справочник",links:[...Ri(i),{link:gt,title:"Запрос на изменение внутреннего телефона"},{link:Dt,title:"Запрос на изменение корпоративной электронной почты"}]},...Ni()],Ni=()=>[{title:"Цифровые сервисы (в разработке)",disabled:s,links:[{link:vt,title:"Справка о стаже работы"},{link:jt,title:"Копия трудовой книжки"},{link:wt,title:"Копии документов из личного дела"},{link:Ut,title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку"}]},{disabled:s,title:"Общее",links:[{link:Ht,title:"Актуализация контактных данных"}]},{title:"Обслуживание кампуса и в сфере ИТ",links:[{link:Yt,title:"Обслуживание кампуса и в сфере ИТ"}]},{title:"Бухгалтерия",disabled:s,links:[{link:yt,title:"Справка по форме 2-НДФЛ"},{link:Gt,title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка"},{link:Bt,title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет"},{link:Vt,title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)"}]},{title:"Управление студенческого городка",disabled:s,links:[{link:Wt,title:"Предоставление права проживания в жилом помещении"},{link:Kt,title:"Временное размещение гостей в студгородке"},{link:zt,title:"Проход гостей на территорию студенческого городка"},{link:Xt,title:"Переселение"},{link:$t,title:"Расторжение договора найма жилого помещения"}]},{title:"Бюро пропусков",disabled:s,links:[{link:Qt,title:"Выдача пропуска (повторная)"},{link:Zt,title:"Заказ гостевого пропуска"}]},{title:"Отдел контроля и делопроизводства",disabled:s,links:[{link:qt,title:"Заверение и выдача копий внутренних документов"}]},{title:"Многофункциональный центр",disabled:s,links:[{link:Jt,title:"Выдача лицензий и свидетельств о государственной аккредитации"}]},{title:"Экспедиция отдела контроля и делопроизводства",disabled:s,links:[{link:ti,title:"Курьер"}]},{title:"Мобилизационный отдел",disabled:s,links:[{link:ii,title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу"},{link:ei,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Прочее",disabled:s,links:[{link:li,title:"Произвольный запрос"},{link:x,title:"Вступить в Профсоюз",isExternalLink:!0}]}],Ri=i=>i.head_div&&i.head_div.length>0?[{link:ni,title:"Внесение изменений данных подразделения в телефонном справочнике"}]:[],Si=(i,t)=>!(t!=null&&t.length)||!i?!0:!(t!=null&&t.includes(i)),xi=(i,t)=>!(t!=null&&t.length)||!i?!0:!(t!=null&&t.includes(i)),hi=j.div.withConfig({componentId:"sc-1i4ujt1-0"})(["@media (min-width:1001px){width:100%;max-width:900px;min-width:900px;max-height:600px;}display:flex;flex-direction:column;height:70vh;.list{padding:5px;margin-top:10px;overflow-y:auto;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:calc(50% - 5px);background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]),Li=({isTeachers:i=!1,currentFormEducation:t,currentDegreeLevel:l})=>{const{close:a}=h(),{data:{user:r}}=si.useUser(),d=(i&&r?ui(r):Ci({studentFinance:r==null?void 0:r.finance})).map(o=>{const n=o.links.filter(E=>!E.disabled);return k(p({},o),{links:n})}),[I,M]=_.useState(""),[c,F]=_.useState(d);return e.jsxs(hi,{children:[e.jsx(ai,{whereToSearch:d,searchEngine:ki,setResult:F,placeholder:"Поиск заявок",setExternalValue:M}),e.jsx("div",{className:"list",children:e.jsxs("div",{className:"links-wrapper",children:[(c!=null?c:d).map(o=>{if(!o.disabled)return e.jsxs("div",{className:"link-list",children:[e.jsx(ri,{size:4,align:"left",bottomGap:!0,children:o.title}),e.jsx("div",{className:"links",children:o.links.map((n,E)=>{if(!(n.disabled||!Si(t,n.exceptionalFormEducationList)||!xi(l,n.exceptionalDegreeLevelList)))return n.isExternalLink?e.jsx("a",{href:n.link,target:n.isOpenInNewWindow?"_blank":"_self",rel:"noreferrer",children:n.title},n.link+E):e.jsxs(A,{d:"column",ai:"flex-start",children:[e.jsx(w,{to:n.link,onClick:a,children:n.title},n.link+E),n.description&&e.jsx(R,{children:n.description})]})})})]},o.title)}),!(c!=null&&c.length)&&!!I.length&&e.jsx(oi,{text:`По запросу ${I} ничего не найдено`})]})})]})},mi=L(S),Mi=L(ci),Fi=({isTeachers:i})=>{const{data:{listApplication:t,dataUserApplication:l}}=di.useApplications(),{open:a}=h(),r=_.useCallback(()=>{a(e.jsx(Li,{isTeachers:i,currentFormEducation:l==null?void 0:l.educationForm,currentDegreeLevel:l==null?void 0:l.degreeLevel}),"Создать заявку")},[]);return e.jsx(Ei,{load:()=>_i.getApplicationsFx(),loading:!t,error:null,data:t,children:e.jsxs(Ai,{topRightCornerElement:e.jsx(mi,{onClick:r,text:"Подать заявку",background:"var(--reallyBlue)",textColor:"#fff",icon:e.jsx(U,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0,tutorialModule:{id:"applications",step:3,params:{position:"bottom"}}}),children:[e.jsx(N,{type:"info",title:"Информация",icon:e.jsx(H,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:e.jsxs("p",{children:["Данный сервис позволяет заказать необходимую справку, подать заявление, запрос. Статус (информация о степени готовности) заказанных справок меняется согласно действиям оператора. В колонке «Структурное подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом.",i&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Остальные Цифровые сервисы доступны"," ",e.jsx("a",{href:"https://e.mospolytech.ru/old/index.php?p=sprav",target:"_blank",rel:"noreferrer",children:"по ссылке"}),"."]})]})}),e.jsx(Mi,{loading:!t,columns:Ti(),columnsExtended:Oi(),data:t,maxOnPage:7,tutorialModule:{id:"applications",step:[0,1,2],params:{position:"top"}}})]})})},vi=_.memo(Fi);export{vi as T};
