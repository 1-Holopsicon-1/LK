import{j as e,n as c,r as p,M as g}from"./vendor-91dd51cf.js";import{bn as r,G as l,h as x,b0 as d,u as m,S as h,P as j,q as u}from"./index-2caaee2c.js";import{s as i,e as n,g as w}from"./article-d6d3d37e.js";import{S as b}from"./index-1ec4141b.js";import"./create-checkbox-field-f3c298f6.js";const v=()=>{const{isMobile:s}=r();return e.jsxs(l,{d:"column",gap:"0.5rem",mw:"calc(800px + 1rem)",children:[e.jsxs(l,{gap:"1rem",ai:"flex-start",d:s?"column":"row",children:[e.jsx(S,{}),e.jsx(M,{})]}),e.jsx(k,{})]})},S=()=>{const{isMobile:s}=r(),[o,t]=c([i.scopusFile,n.setScopusFile]);return e.jsxs(l,{d:"column",w:s?"100%":"50%",mw:s?"100%":"400px",children:[e.jsx(x,{size:4,align:"left",children:"Scopus"}),e.jsx(d,{files:o,isActive:!0,setFiles:t,maxFiles:1,formats:["csv"]})]})},M=()=>{const{isMobile:s}=r(),[o,t]=c([i.wosFile,n.setWosFile]);return e.jsxs(l,{d:"column",w:s?"100%":"50%",mw:s?"100%":"400px",children:[e.jsx(x,{size:4,align:"left",children:"WoS"}),e.jsx(d,{files:o,isActive:!0,setFiles:t,maxFiles:1,formats:["csv"]})]})},k=()=>{const{close:s}=m(),[o,t,f,a,F]=c([i.scopusFile,i.wosFile,n.uploadFiles,i.filesUploaded,i.uploadLoading]);return p.useEffect(()=>{a&&s()},[a]),e.jsx(h,{text:"Загрузить",action:()=>{f({scopusFile:o[0],wosFile:t[0]})},completed:a,isLoading:F,popUpFailureMessage:"Необходимо загрузить оба файла!",background:"var(--reallyBlue)",height:"36px",width:"108px",isActive:o.length>0&&t.length>0})},I=()=>{const{open:s}=m(),[o,t]=c([n.pageMounted,n.modalOpened]);return p.useEffect(()=>{o()},[]),e.jsxs(j,{outerPadding:"10px",height:"100%",topRightCornerElement:e.jsx(u,{onClick:()=>{t(),s(e.jsx(v,{}),"Загрузить данные")},text:"Загрузить",background:"var(--reallyBlue)",textColor:"#fff",icon:e.jsx(g,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0}),children:[e.jsx(b,{columns:w()}),e.jsx(l,{jc:"flex-end",w:"100%",children:e.jsx(u,{onClick:()=>{},text:"Сохранить",background:"var(--reallyBlue)",textColor:"#fff",minWidth:"35px",height:"36px",isActive:!1})})]})};export{I as default};
