var Rm=Object.defineProperty,Mm=Object.defineProperties;var Fm=Object.getOwnPropertyDescriptors;var gs=Object.getOwnPropertySymbols;var al=Object.prototype.hasOwnProperty,rl=Object.prototype.propertyIsEnumerable;var ol=(e,t,i)=>t in e?Rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,b=(e,t)=>{for(var i in t||(t={}))al.call(t,i)&&ol(e,i,t[i]);if(gs)for(var i of gs(t))rl.call(t,i)&&ol(e,i,t[i]);return e},T=(e,t)=>Mm(e,Fm(t));var lt=(e,t)=>{var i={};for(var s in e)al.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&gs)for(var s of gs(e))t.indexOf(s)<0&&rl.call(e,s)&&(i[s]=e[s]);return i};var P=(e,t,i)=>new Promise((s,o)=>{var a=c=>{try{l(i.next(c))}catch(p){o(p)}},r=c=>{try{l(i.throw(c))}catch(p){o(p)}},l=c=>c.done?s(c.value):Promise.resolve(c.value).then(a,r);l((i=i.apply(e,t)).next())});import{p as I,s as u,r as d,j as n,F as Tt,a as Ci,b as wn,c as Qi,H as ia,d as pt,z as Wo,e as J,x as y,h as M,u as ye,f as Qt,o as ui,g as $m,i as ll,k as cl,l as gt,m as Z,I as Et,v as Xs,n as H,q as Ut,t as Bm,w as Sc,y as Hm,A as Um,B as Wm,C as Gm,D as La,E as Zs,G as F,J as Vm,S as Zn,K as Oe,L as Hn,R as me,M as jn,N as ei,O as Pt,P as Go,Q as qm,T as Ps,U as Ym,V as Qm,W as Ic,X as Tc,Y as za,Z as At,_ as dl,$ as Jm,a0 as Km,a1 as Xm,a2 as Zm,a3 as eo,a4 as Ce,a5 as ut,a6 as tn,a7 as Ec,a8 as As,a9 as ex,aa as de,ab as tx,ac as Xt,ad as Pc,ae as Ac,af as Ds,ag as nx,ah as ix,ai as to,aj as Dc,ak as sx,al as ox,am as ax,an as rx,ao as lx,ap as cx,aq as dx,ar as Nc,as as nn,at as Oc,au as Lc,av as px,aw as zc,ax as Rc,ay as Mc,az as Fc,aA as $c,aB as ux,aC as hx,aD as fx,aE as gx,aF as mx,aG as xx,aH as vx,aI as bx,aJ as yx,aK as wx,aL as jx,aM as _x,aN as An,aO as kx,aP as Ra,aQ as Ji,aR as Bc,aS as Ns,aT as sn,aU as Ma,aV as Os,aW as Ft,aX as Un,aY as Cx,aZ as Sx,a_ as Ix,a$ as Tx,b0 as Ex,b1 as Px,b2 as Ax,b3 as ue,b4 as Hc,b5 as sa,b6 as Dx,b7 as Nx,b8 as Si,b9 as Ox,ba as Lx,bb as Dn,bc as pl,bd as zx,be as Rx,bf as Uc,bg as xi,bh as Wc,bi as ms,bj as Mx,bk as Fx,bl as Gc,bm as Vc,bn as $x,bo as no,bp as qc,bq as Fa,br as Yc,bs as io,bt as ge,bu as ul,bv as Qc,bw as Cs,bx as Bx,by as Hx,bz as Ux,bA as Wx,bB as Gx,bC as Vx,bD as qx,bE as Yx,bF as Qx,bG as Jx,bH as Kx,bI as Xx,bJ as Zx,bK as e0,bL as t0,bM as n0,bN as i0,bO as s0,bP as o0,bQ as a0,bR as r0,bS as l0,bT as c0,bU as d0,bV as p0,bW as u0,bX as Jc,bY as h0,bZ as f0,b_ as $a,b$ as Kc,c0 as g0,c1 as m0,c2 as x0,c3 as v0,c4 as b0,c5 as y0,c6 as w0,c7 as j0,c8 as Xc,c9 as Ba,ca as _0,cb as Ha,cc as oa,cd as k0,ce as C0,cf as Ii,cg as S0,ch as I0,ci as T0,cj as Zc,ck as E0,cl as ed,cm as P0,cn as A0,co as so,cp as Ti,cq as D0,cr as td,cs as nd,ct as N0,cu as Vo,cv as O0,cw as L0,cx as z0,cy as R0,cz as M0,cA as F0,cB as $0,cC as B0,cD as id,cE as hl,cF as H0,cG as U0,cH as W0,cI as G0,cJ as V0,cK as q0,cL as Y0}from"./vendor-0c8c29fe.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();const sd=I({name:"appStarted",sid:"-buvb0l"}),Q0=u.div.withConfig({componentId:"sc-1iflyta-0"})(["display:grid;grid-template-rows:",";overflow:hidden;transition:0.2s;width:100%;margin-bottom:",";"],e=>{let{isOpen:t}=e;return t?"1fr":"0fr"},e=>{let{bottomMargin:t,isOpen:i}=e;return t&&i?"12px":"0"}),J0=u.div.withConfig({componentId:"sc-1iflyta-1"})([""]),K0=u.div.withConfig({componentId:"sc-1iflyta-2"})(["min-height:0;min-width:0;transform:scale(",");transition:0.2s transform;opacity:",";"],e=>{let{isOpen:t}=e;return t?"1":"0.98"},e=>{let{isOpen:t}=e;return t?"1":"0"}),od=e=>{let{title:t,children:i,bottomMargin:s,forceState:o=!1}=e;const[a,r]=d.useState(o);d.useEffect(()=>{r(o)},[o]);const l=()=>r(c=>!c);return n.jsxs(Q0,{isOpen:a,bottomMargin:s,onClick:l,children:[t&&n.jsx(J0,{children:t}),n.jsx(K0,{isOpen:a,children:i})]})},_e=u.div.withConfig({componentId:"sc-w7ek6q-0"})(["width:",";height:",";min-height:",";background:var(--almostTransparentOpposite);margin:",";"],e=>{let{direction:t="horizontal",width:i}=e;return t==="horizontal"?i!=null?i:"90%":"0.5px"},e=>{let{direction:t="horizontal",width:i}=e;return t==="horizontal"?"0.5px":i!=null?i:"90%"},e=>{let{direction:t="horizontal",width:i}=e;return t==="horizontal"?"0.5px":i!=null?i:"90%"},e=>{let{margin:t}=e;return t!=null?t:"5px auto"}),X0="/assets/sad-emoji-0c60bf90.gif",pe=u.span.withConfig({componentId:"sc-7972u0-0"})(["width:",";min-width:",";max-width:",";font-size:",";font-weight:500;opacity:0.7;text-align:",";color:",";display:",";line-height:",";word-wrap:break-word;overflow-wrap:normal;"],e=>{let{width:t}=e;return t!=null?t:"fit-content"},e=>{let{width:t}=e;return t!=null?t:"fit-content"},e=>{let{maxWidth:t}=e;return t!=null?t:"fit-content"},e=>{let{fontSize:t}=e;return t!=null?t:"0.8em"},e=>{let{align:t}=e;return t!=null?t:"left"},e=>{let{color:t}=e;return t},e=>{let{visible:t}=e;return!(t==null||t)&&"none"},e=>{let{lineHeight:t}=e;return t}),Z0=u.div.withConfig({componentId:"sc-m2dj25-0"})(["width:100%;height:100%;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:var(--text);line-height:1.7rem;span{font-weight:500;}.image{margin-bottom:10px;img,& > svg{min-width:",";height:",";}& > svg{margin:20px 0;opacity:0.6;}}.error-content{margin-top:20px;}"],e=>{let{size:t}=e;return t!=null?t:"100px"},e=>{let{size:t}=e;return t!=null?t:"100px"});function ke(e){let{text:t,image:i,size:s,children:o}=e;return n.jsxs(Z0,{size:s,children:[n.jsx("div",{className:"image",children:typeof i=="string"||!i?n.jsx("img",{src:i||X0,alt:"груфтим("}):i}),n.jsx(pe,{fontSize:"1rem",align:"center",maxWidth:"500px",width:"auto",children:t}),o&&n.jsx("div",{className:"error-content",children:o})]})}const N=u.div.withConfig({componentId:"sc-sw1tlu-0"})(["position:",";width:",";max-width:",";height:",";max-height:",";gap:",";display:flex;align-items:",";justify-content:",";flex-direction:",";flex-wrap:",";padding:",";margin:",";border-radius:",";cursor:",";:hover{background:",";}"],e=>{let{position:t}=e;return t},e=>{let{w:t}=e;return t!=null?t:"100%"},e=>{let{mw:t}=e;return t},e=>{let{h:t}=e;return t!=null?t:"fit-content"},e=>{let{mh:t}=e;return t},e=>{let{gap:t}=e;return t!=null?t:"0"},e=>{let{ai:t}=e;return t!=null?t:"center"},e=>{let{jc:t}=e;return t!=null?t:"flex-start"},e=>{let{d:t}=e;return t!=null?t:"row"},e=>{let{$wrap:t}=e;return t&&"wrap"},e=>{let{p:t}=e;return t},e=>{let{m:t}=e;return t},e=>{let{brad:t}=e;return t},e=>{let{cursor:t}=e;return t},e=>{let{hoverBackground:t}=e;return t});var Fe=(e=>(e.Dark="dark",e.Light="light",e))(Fe||{});const ev="Не удалось загрузить информацию. Проверьте соединение и попробуйте ещё раз",ad=8,Ua=["home","settings","all"],rd=["all"],Wa=["home","settings","all"],ld="https://lk.eseur.ru/signup",tv="https://mospolytech.ru/obuchauschimsya/izmenenie-uslovij-obucheniya-i-vosstanovlenie",C={green:{dark3:"#106c3f",dark2:"#188851",dark1:"#27b56e",main:"#3cd288",light1:"#49e698",light2:"#58f3a6",light3:"#a1ffd1",transparent1:"#a7ffd38a",transparent2:"#a7ffd35c",transparent3:"#4ad18e1f"},lightGreen:{dark3:"#166363",dark2:"#207878",dark1:"#2e9b9b",main:"#40c5c5",light1:"#66dfdf",light2:"#8bf1f1",light3:"#a3fbfb",transparent1:"#98e8e899",transparent2:"#a3fbfb59",transparent3:"#a3fbfb29"},blue:{dark3:"#3d4695",dark2:"#3742b1",dark1:"#4552c9",main:"#5f6dec",light1:"#7c88f5",light2:"#99a3ff",light3:"#bac0ff",transparent1:"#bac0ffa3",transparent2:"#bac0ff42",transparent3:"#bac0ff17"},lightBlue:{dark3:"#5278cd",dark2:"#668de4",dark1:"#789ff6",main:"#9cbbff",light1:"#b9cfff",light2:"#ceddff",light3:"#e0e9ff",transparent1:"#e0e9ffba",transparent2:"#e0e9ff6b",transparent3:"#e0e9ff29"},darkBlue:{dark3:"#211d69",dark2:"#272279",dark1:"#2e2891",main:"#3831a5",light1:"#443cc5",light2:"#5850d4",light3:"#beb9ff",transparent1:"#7f77ff78",transparent2:"#7f77ff78",transparent3:"#7f77ff12"},purple:{dark3:"#5c3381",dark2:"#7434af",dark1:"#8b4ac7",main:"#a85fec",light1:"#bd7cfa",light2:"#ce99ff",light3:"#dcb7ff",transparent1:"#dcb7ff99",transparent2:"#dcb7ff5c",transparent3:"#dcb7ff2b"},pink:{dark3:"#8d4370",dark2:"#a62b77",dark1:"#c34191",main:"#ec5fb6",light1:"#fd84cf",light2:"#ffa8de",light3:"#ffbce5",transparent1:"#ffbce59e",transparent2:"#ffbce561",transparent3:"#ffbce530"},red:{dark3:"#8f454b",dark2:"#bf3641",dark1:"#cf4b56",main:"#ec5f6b",light1:"#ff7b86",light2:"#ff98a1",light3:"#ffbbc1",transparent1:"#ffbbc194",transparent2:"#ffbbc159",transparent3:"#ffbbc133"},orange:{dark3:"#815b32",dark2:"#a76821",dark1:"#ca8231",main:"#ee9e44",light1:"#fcb566",light2:"#ffc686",light3:"#ffd7ab",transparent1:"#ffd7ab99",transparent2:"#ffd7ab54",transparent3:"#ffd7ab4a"},grey:{dark3:"#353535",dark2:"#484848",dark1:"#646464",main:"#797979",light1:"#979797",light2:"#bdbdbd",light3:"#d5d5d5",transparent1:"#d5d5d5a3",transparent2:"#d5d5d559",transparent3:"#d5d5d521"},white:{dark3:"",dark2:"",dark1:"",main:"#fff",light1:"",light2:"",light3:"",transparent1:"",transparent2:"#80808014",transparent3:"#ffffff17"}},hn={monday:{full:"Понедельник",short:"Пн"},tuesday:{full:"Вторник",short:"Вт"},wednesday:{full:"Среда",short:"Ср"},thursday:{full:"Четверг",short:"Чт"},friday:{full:"Пятница",short:"Пт"},saturday:{full:"Суббота",short:"Сб"}},VO={Зачтено:C.green,"Не зачтено":C.red,Отлично:C.green,Хорошо:C.blue,Удовлетворительно:C.orange,Неудовлетворительно:C.red,"Не явился":C.red,default:C.red},qO={Зачтено:5,"Не зачтено":2,Отлично:5,Хорошо:4,Удовлетворительно:3,"Не явился":2,Неудовлетворительно:2},q="https://e.mospolytech.ru/old",nv="2023-10-03T10:43:43",_n={info:{icon:Tt,color:"blue",title:"Информация"},alert:{icon:Ci,color:"orange",title:"Внимание!"},failure:{icon:wn,color:"red",title:"Ошибка"},success:{icon:Qi,color:"green",title:"Успешно"},tip:{icon:ia,color:"grey",title:"Подсказка"},hint:{icon:ia,color:"white",title:"Подсказка"},hrFailure:{icon:wn,color:"red",title:"Ошибка"}},iv={"-":"red",А:"lightGreen",Б:"purple",В:"green",Г:"pink",Д:"blue",Е:"blue",Ё:"red",Ж:"blue",З:"lightGreen",И:"pink",Й:"lightBlue",К:"lightGreen",Л:"green",М:"red",Н:"green",О:"purple",П:"blue",Р:"lightBlue",С:"orange",Т:"pink",У:"lightGreen",Ф:"blue",Х:"green",Ч:"purple",Ц:"green",Ш:"red",Щ:"red",Ъ:"purple",Ы:"green",Ь:"blue",Э:"red",Ю:"orange",Я:"green",A:"lightGreen",B:"purple",C:"green",D:"pink",E:"purple",F:"blue",G:"red",H:"blue",I:"lightGreen",J:"pink",K:"lightGreen",L:"green",M:"red",N:"green",O:"purple",P:"blue",Q:"lightBlue",R:"orange",S:"blue",T:"lightGreen",U:"blue",V:"green",W:"purple",X:"red",Y:"red",Z:"purple"},fl={jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},sv=10,cd="(max-width: 766px)",ov="(min-width: 767px)",dd="(max-width: 1000px)",pd="(max-width: 1380px)",ud="(min-width: 1381px)",ee={isMobile:"@media ".concat(cd),isNotMobile:"@media ".concat(ov),isTablet:"@media ".concat(dd),isSmallTesktop:"@media ".concat(pd),isMiddleTesktop:"@media ".concat(ud)},av=[{query:cd,title:"isMobile",value:"mobile"},{query:dd,title:"isTablet",value:"tablet"},{query:pd,title:"isSmallDesktop",value:"smallDesktop"},{query:ud,title:"isMiddleDesktop",value:"middleDesktop"}],Ga={minute:6e4,ten_seconds:1e4,thirty_seconds:3e4},B=!window.location.port||window.location.port==="80"||window.location.port==="4001",Va="tHash",Ei="tProgressHash",Wn="tProgress",oo="tProgressDate";console.log("Running on production",B);function rv(e,t,i){return(t=dv(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gl(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,s)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?gl(Object(i),!0).forEach(function(s){rv(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gl(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function hd(e,t){if(e==null)return{};var i,s,o=lv(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],t.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function lv(e,t){if(e==null)return{};var i={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;i[s]=e[s]}return i}function cv(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dv(e){var t=cv(e,"string");return typeof t=="symbol"?t:t+""}const pv=u.button.withConfig({componentId:"sc-45v2xp-0"})(["display:flex;align-items:center;justify-content:",";border:none;color:",";background:",";padding:",";font-size:",";border-radius:10px;cursor:pointer;font-weight:600;transition:0.2s transform;width:",";min-width:",";text-decoration:none;flex-direction:",";opacity:",";height:",";",";&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:isactive{transform:scale(0.95);}&:hover{background:",";filter:brightness(0.9);color:",";}.text{margin-top:",";}.icon{margin-right:",";width:",";min-width:",";height:",";display:flex;align-items:center;justify-content:center;background:transparent;svg{width:100%;height:100%;max-width:18px;max-height:18px;margin-right:0 !important;}}","{font-size:12px;height:",";position:",";z-index:",";bottom:10px;right:10px;.text{margin-top:",";}.icon{width:",";min-width:",";margin-right:",";height:",";svg{max-width:23px;}}span{display:",";}}"],({align:e="center"})=>e,({textColor:e})=>e||"var(--text)",({isChosen:e,background:t})=>e?"var(--reallyBlue)":t!=null?t:"var(--search)",({padding:e})=>e!=null?e:"10px",({fontSize:e})=>e,({width:e})=>e||"fit-content",({minWidth:e})=>e&&e,({direction:e})=>e==="vertical"&&"column",({isActive:e})=>e?1:.5,({height:e="40px"})=>e,({flipped:e})=>e&&"transform: rotate(180deg);",({hoverBackground:e,isChosen:t,background:i})=>e!=null?e:t?"var(--blue)":i!=null?i:"var(--search)",({hoverTextColor:e})=>e,({direction:e,text:t})=>e==="vertical"&&t&&"6px",({text:e,direction:t})=>e&&t==="horizontal"?"7px":"0",({direction:e,text:t})=>e==="vertical"||!t?"20px":"fit-content",({direction:e,text:t})=>e==="vertical"||!t?"20px":"fit-content",({direction:e,text:t})=>e==="vertical"||!t?"20px":"15px",ee.isTablet,({height:e="36px"})=>e,({fixedInMobile:e})=>e&&"absolute",({fixedInMobile:e})=>e&&"5",({direction:e,shrinkTextInMobile:t})=>e==="vertical"&&!t?"4px":"0px",({direction:e})=>e==="vertical"?"30px":"15px",({direction:e})=>e==="vertical"?"30px":"15px",({shrinkTextInMobile:e,text:t,direction:i})=>e||i==="vertical"||!t?"0px":"7px",({direction:e})=>e==="vertical"?"30px":"15px",({shrinkTextInMobile:e})=>e?"none":"flex");var ie=(e=>(e.OldSettings="NewSettings",e.Settings="SettingsV2",e.HomeRoutes="HomeRoutes",e.Token="Token",e.JWT="JWT",e.JWTRefresh="JWTRefresh",e.Version="Version",e.SavePassword="SavePassword",e.SearchHistory="SearchHistory",e))(ie||{});const Wt=()=>localStorage.getItem(ie.JWT)||sessionStorage.getItem(ie.JWT),ti=e=>{const i=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)},uv=()=>{var e;return JSON.parse((e=localStorage.getItem(ie.SavePassword))!=null?e:"true")},Gn=e=>t=>P(void 0,null,function*(){var s;const i=(s=t==null?void 0:t.config)!=null?s:{};if(t.request.status===401)if(i._retry)fe.logout();else{i._retry=!0;const o=localStorage.getItem(ie.JWTRefresh);try{const{accessToken:a,refreshToken:r}=yield _v(o!=null?o:"");return uv()?(localStorage.setItem(ie.JWT,a),localStorage.setItem(ie.JWTRefresh,r)):(sessionStorage.setItem(ie.JWT,a),sessionStorage.setItem(ie.JWTRefresh,r)),e(i)}catch(a){fe.logout()}}return Promise.reject(t)}),Ki=e=>(e.headers||(e.headers={}),e.headers.Authorization=`Bearer ${Wt()}`,e),hv=`${q}/lk_api.php`,fv="https://api.mospolytech.ru/serviceforfrontpersonnelorders",oe=pt.create({baseURL:hv,withCredentials:!0}),$e=pt.create({baseURL:fv});$e.interceptors.request.use(Ki);!B&&$e.interceptors.response.use(e=>e,Gn($e));function qa(e){return e.isAxiosError}function re(){var e,t;return(t=(e=localStorage.getItem(ie.Token))!=null?e:sessionStorage.getItem(ie.Token))!=null?t:""}const gv=e=>{let{login:t,password:i}=e;return oe.post("","ulogin=".concat(encodeURIComponent(t),"&upassword=").concat(encodeURIComponent(i)))},mv=e=>oe.get("?getUser&token=".concat(e)),xv=e=>oe.get("?getADName&fio=".concat(e.fio,"&pn=").concat(e.pn)),ml=e=>P(void 0,null,function*(){const t=new FormData;return t.set("avatar",e!=null?e:""),t.set("token",re()),oe.post("?changeAvatar=1",t,{headers:{"Content-Type":"multipart/form-data"}})}),vv=(e,t)=>P(void 0,null,function*(){const i=new FormData;return i.set("old_pass",e),i.set("new_pass",t),oe.post("?changeADPass=1&token=".concat(re()),i,{headers:{"Content-Type":"multipart/form-data"}})}),bv=e=>P(void 0,null,function*(){const t=new FormData;return t.set("email",e),t.set("token",re()),oe.post("?changeEmail=1",t,{headers:{"Content-Type":"multipart/form-data"}})}),yv=e=>P(void 0,null,function*(){const t=new FormData;return t.set("phone",e),t.set("token",re()),oe.post("?changePhone=1",t,{headers:{"Content-Type":"multipart/form-data"}})}),wv=e=>P(void 0,null,function*(){var t,i,s,o;const a=new FormData;return a.set("token",re()),a.set("phone",e.phone_staff||""),a.set("allow_mobphone_in",(t=(i=e.allow_mobphone_in)===null||i===void 0?void 0:i.toString())!==null&&t!==void 0?t:"false"),a.set("allow_mobphone_out",(s=(o=e.allow_mobphone_out)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:"false"),oe.post("?changeStaffPhone=1",a,{headers:{"Content-Type":"multipart/form-data"}})}),jv=e=>P(void 0,null,function*(){const t=new FormData;t.set("token",re()),t.set("guid",e.guid_staff),t.set("room",e.room),t.set("address",e.address);const{data:i}=yield oe.post("?changeStaffAddress=1",t,{headers:{"Content-Type":"multipart/form-data"}});if(i.result!=="ok")throw new Error}),_v=e=>P(void 0,null,function*(){const{data:t}=yield pt.post("https://api.mospolytech.ru/frontendtokenservice/Token/Refresh",{refreshToken:e});return t}),kv=e=>oe.get("?getSchedule&group=".concat(e,"&token=").concat(re())),Cv=e=>oe.get("?getScheduleTeacher&fio=".concat(e,"&token=").concat(re())),Sv=()=>oe.get("?getSchedule&session=1&token=".concat(re())),Iv=e=>oe.get("?getScheduleTeacher&fio=".concat(e,"&session=1&token=").concat(re())),Tv=()=>oe.get("?getPayments&token=".concat(re())),Ev=e=>oe.get("?signAgreement=".concat(e,"&token=").concat(re())),Pv=e=>oe.get("?signContract=".concat(e,"&token=").concat(re())),Av=e=>P(void 0,null,function*(){let{agreementId:t,userEmail:i,clientEmail:s}=e;const o=new FormData;o.append("guid_agreement",t),o.append("email_student",i),o.append("email_client",s);const{data:a}=yield oe.post("?mailCode4Agreement=1&token=".concat(re()),o,{headers:{"Content-Type":"multipart/form-data"}});if(a.result!=="ok")throw new Error(a.error_text);return a}),Dv=e=>P(void 0,null,function*(){let{agreementId:t,userPass:i,clientPass:s}=e;const{data:o}=yield oe.get("?signAgreement=".concat(t,"&token=").concat(re(),"&pass_student=").concat(i,"&pass_client=").concat(s));if(o[0].result!=="ok")throw new Error(o[0].error_text);return o}),Nv=e=>P(void 0,null,function*(){let{clientGuid:t,clientEmail:i}=e;const s=new FormData;s.append("guid_client",t),s.append("email_client",i);const{data:o}=yield oe.post("?mailCode4Client=1&token=".concat(re()),s,{headers:{"Content-Type":"multipart/form-data"}});if(o.result!=="ok")throw new Error(o.error_text);return o}),Ov=e=>P(void 0,null,function*(){let{clientGuid:t,clientPass:i}=e;const{data:s}=yield oe.get("?setPEPAcceptClient&client_guid=".concat(t,"&client_pass=").concat(i,"&token=").concat(re()));if(s[0].result!=="ok")throw new Error(s[0].error_text);return s}),Lv=()=>P(void 0,null,function*(){return(yield oe.get("?getPEPStatus&token=".concat(re()))).data}),zv=()=>P(void 0,null,function*(){return(yield oe.get("?setPEPAccept&token=".concat(re()))).data}),Rv=()=>oe.get("?getAppRequests&token=".concat(re())),fd=()=>oe.get("?getAppData&token=".concat(re())),Mv=()=>P(void 0,null,function*(){var e;return yield $e.get("/Dismissal.GetAllHistory?employeeGuid=".concat(ti((e=Wt())!==null&&e!==void 0?e:"").IndividualGuid))}),Fv=()=>P(void 0,null,function*(){const{data:e}=yield $e.get("/AnotherPlaceWork.GetDivisions");return e.divisions}),$v=e=>P(void 0,null,function*(){const{formId:t,args:i}=e,s=new FormData;s.set("token",re()),s.set("saveAppData",t);for(const[a,r]of Object.entries(i))s.set(a,r);const{data:o}=yield oe.post("?saveAppData=".concat(t),s,{headers:{"Content-Type":"multipart/form-data"}});return o}),Bv=()=>$e.get("?getAppRequests&token=".concat(re())),Hv=()=>$e.get("?getAppData&token=".concat(re())),Uv=e=>$e.post("Dismissal.Post",e),Wv=()=>P(void 0,null,function*(){return(yield oe.get("?getAdminLinks&token=".concat(re()))).data}),Gv=e=>P(void 0,null,function*(){return(yield oe.get("?PDinfo&token=".concat(re()))).data}),Vv=()=>oe.get("?getPhoneBookDivisions&token=".concat(re())),gd=(e,t,i,s)=>oe.get("?getStaff&search=".concat(e,"&division=").concat(t,"&page=").concat(i,"&perpage=").concat(s,"&token=").concat(re())),ao=e=>oe.get("?getDivs=".concat(e,"&page=",1,"&token=").concat(re())),md=(e,t,i,s)=>oe.get("?getStudents&search=".concat(e,"&group=").concat(t,"&page=").concat(i,"&perpage=").concat(s,"&token=").concat(re())),aa=e=>P(void 0,null,function*(){return yield oe.get("?getGroups=".concat(e,"&perpage=",30,"&page=",1,"&token=").concat(re()))}),qv="https://api.mospolytech.ru/allowanceservice/",Yv="https://api.mospolytech.ru/testallowanceservice/",Qv=B?qv:Yv,Xe=pt.create({baseURL:Qv});Xe.interceptors.request.use(Ki);const Jv=e=>P(void 0,null,function*(){try{const{data:t}=yield Xe.post("/Allowance/GetAllAllowances",{employeeId:e}).catch(i=>{var s;throw new Error((i==null||(s=i.response)===null||s===void 0?void 0:s.data)||i.message)});return t}catch(t){throw new Error(t)}}),Kv=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/Allowance/CreateAllowance",e);return t}),Xv=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/Allowance/GetAllSubordinateEmployeesOfInitiator",{initiatorEmployeeId:e});return t}),Zv=e=>P(void 0,null,function*(){let{allowanceId:t,role:i,userId:s}=e;const{data:o}=yield Xe.post("/Allowance/GetEmployeesInAllowanceBy".concat(i),{allowanceId:t,["".concat(i.toLowerCase(),"EmployeeId")]:s});return o}),eb=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/Allowance/SetVerdictToAllowanceEmployee",e);return t}),tb=()=>P(void 0,null,function*(){const{data:e}=yield Xe.get("/Allowance/GetRolesOfPersonal");return e}),xd=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/Handbook/GetHandbook",{handbookName:e});return t}),nb=e=>P(void 0,null,function*(){const t=new FormData;t.append("file",e);const{data:i}=yield Xe.post("/File/UploadFile",t);return i}),ib=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/File/DeleteFile",{fileId:e});return t}),sb=()=>P(void 0,null,function*(){const{data:e}=yield Xe.get("/Allowance/GetNotifications");return e}),ob=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/Allowance/ReadNotification",{notificationId:e});return t}),ab=()=>P(void 0,null,function*(){const{data:e}=yield Xe.post("/Allowance/ReadAllNotifications");return e}),rb=()=>P(void 0,null,function*(){const{data:e}=yield Xe.get("/Allowance/GetAllowancesToConfirm");return e}),lb=e=>P(void 0,null,function*(){const{data:t}=yield Xe.post("/Allowance/ConfirmAllowance",e);return t}),cb=()=>oe.get(`?getNotifications&token=${re()}`),db=e=>oe.get(`?clearNotificationById=${e}&token=${re()}`),pb=()=>oe.get(`?clearAllNotifications&token=${re()}`),ub=Wo.object({type:Wo.string(),detail:Wo.string()}),hb=B?"https://api.mospolytech.ru/physedjournal/":"http://docker.mospolytech.ru:5200/",Ee=pt.create({baseURL:hb});Ee.interceptors.request.use(Ki);Ee.interceptors.response.use(e=>e,Gn(Ee));Ee.interceptors.response.use(e=>e,e=>{var i;const t=ub.safeParse((i=e.response)==null?void 0:i.data);return t.success?Promise.reject(new vd(t.data.type,t.data.detail)):Promise.reject(e)});class vd extends Error{constructor(t,i){super("Во время запроса произошла ошибка"),this.type=t,this.detail=i}}const YO=(e,t)=>e instanceof vd&&e.type!="unknown-error"?e.detail:t,fb=40,gb=e=>{const t={};return e["group.groupName"]&&(t.groupNumber=e["group.groupName"].value),e.group&&(t.groupNumber=e.group.value),e.fullName&&(t.fullName=e.fullName.value),e.course&&(t.course=e.course.value),t},QO=(e,t,i=fb)=>Ee.get("/student",{params:b({page:e+1,pageSize:i},gb(t))}),JO=e=>Ee.get(`/student/${e}`),KO=e=>Ee.post("/points/visit",e),XO=e=>Ee.delete(`/points/visit/${e}`),ZO=e=>Ee.post("/points/other",e),e3=e=>Ee.delete(`/points/other/${e}`),t3=e=>Ee.post("/points/standard",e),n3=e=>Ee.delete(`/points/standard/${e}`),i3=e=>Ee.post("/competition",{competitionName:e}),s3=e=>Ee.delete("/competition",{params:{competitionName:e}}),o3=()=>Ee.get("/competition"),mb=e=>Ee.get(`/teacher/${e}`),a3=e=>Ee.get("/group",{params:{curatorGuid:e}}),r3=e=>Ee.post("/student/archive",{studentGuid:e}),l3=e=>Ee.post("/student/health-group",e),c3=e=>Ee.post("/student/specialization",e);function xb(e){let{name:t,surname:i,patronymic:s}=e;return"".concat(i," ").concat(t," ").concat(s)}const vb=()=>{localStorage.removeItem(ie.Token),localStorage.removeItem(ie.JWT),localStorage.removeItem(ie.JWTRefresh),sessionStorage.removeItem(ie.Token),sessionStorage.removeItem(ie.JWT),localStorage.removeItem(ie.JWTRefresh)};var qo;const Jt=(qo=localStorage.getItem(ie.Token))!==null&&qo!==void 0?qo:"",Kt=()=>{var e;return JSON.parse((e=localStorage.getItem(ie.SavePassword))!==null&&e!==void 0?e:"true")},ro=J(e=>P(void 0,null,function*(){try{const{data:a}=yield gv(e),r=new FormData;r.set("ulogin",e.login),r.set("upassword",e.password),r.set("auth_action","userlogin");try{yield pt.post("/old",r)}catch(l){}if(vb(),Kt()){var t,i;localStorage.setItem(ie.Token,a.token),localStorage.setItem(ie.JWT,(t=a==null?void 0:a.jwt)!==null&&t!==void 0?t:""),localStorage.setItem(ie.JWTRefresh,(i=a.jwt_refresh)!==null&&i!==void 0?i:"")}else{var s,o;sessionStorage.setItem(ie.Token,a.token),sessionStorage.setItem(ie.JWT,(s=a==null?void 0:a.jwt)!==null&&s!==void 0?s:""),localStorage.setItem(ie.JWTRefresh,(o=a.jwt_refresh)!==null&&o!==void 0?o:"")}return a}catch(a){throw new Error(navigator.onLine?"Неверный логин или пароль":"Потеряно соединение с интернетом")}}),{name:"getUserTokenFx",sid:"-e169qm"}),fn=J(e=>P(void 0,null,function*(){try{const[t,i]=yield Promise.all([mv(e.token),fd()]),s=t.data.user,{name:o,surname:a,patronymic:r}=s;return{currentUser:k(k({},s),{},{guid:i.data.guid_person,fullName:xb({name:o,surname:a,patronymic:r})}),isAuthenticated:!!e,error:null,savePassword:Kt()}}catch(t){throw console.log(t),new Error("Возникла какая-то ошибка: ".concat(t.message))}}),{name:"getUserFx",sid:"-jwv5r7"}),ra=J(e=>P(void 0,null,function*(){try{return(yield xv(e)).data}catch(t){throw console.log(t),new Error("Возникла какая-то ошибка")}}),{name:"getLoginEuzFx",sid:"bigpzn"}),bd=J(()=>{Kt()?(localStorage.removeItem(ie.Token),localStorage.removeItem(ie.JWT),localStorage.removeItem(ie.JWTRefresh)):(sessionStorage.removeItem(ie.Token),sessionStorage.removeItem(ie.JWT),sessionStorage.removeItem(ie.JWTRefresh)),localStorage.removeItem(Va),localStorage.removeItem(Wn),localStorage.removeItem(oo),localStorage.removeItem(Ei)},{name:"logoutFx",sid:"4h4324"}),yd=e=>{const t=localStorage.getItem(ie.SavePassword),i=e!=null?e:JSON.parse(t!=null?t:"true");return localStorage.setItem(ie.SavePassword,i.toString()),i},wd=I({name:"login",sid:"4ue10z"}),Ya=I({name:"logout",sid:"zef25s"}),jd=I({name:"clear",sid:"v39e31"}),_d=I({name:"update",sid:"davw09"}),kd=I({name:"updateBulk",sid:"-coga5m"}),Cd=I({name:"changeSavePassword",sid:"-h8i797"});y({and:[{clock:wd,target:ro}],or:{sid:"hxtekp"}});y({and:[{clock:ro.doneData,target:fn}],or:{sid:"i00ky5"}});y({and:[{clock:Ya,target:bd}],or:{sid:"idrfs6"}});Jt&&Kt()?fn({token:Jt,jwt:localStorage.getItem(ie.JWT)}):bd();const bb={currentUser:null,error:null,isAuthenticated:!!(Jt!=null&&Jt.length),savePassword:Kt(),loginEuz:""};yd();const Qa=M(bb,{name:"$userStore",sid:"-5zr6k7"}).on(fn,e=>k(k({},e),{},{error:null})).on(fn.doneData,(e,t)=>t).on(fn.failData,(e,t)=>({error:t.message,currentUser:null,isAuthenticated:!!(Jt!=null&&Jt.length),savePassword:Kt()})).on(ro.failData,(e,t)=>({error:t.message,isAuthenticated:null,currentUser:null,savePassword:Kt()})).on(Ya,()=>({error:"",isAuthenticated:null,currentUser:null,savePassword:Kt()})).on(Cd,(e,t)=>{let{savePassword:i}=t;return k(k({},e),{},{savePassword:yd(i)})}).on(ra,e=>k(k({},e),{},{error:null})).on(ra.doneData,(e,t)=>k(k({},e),{},{loginEuz:t})).on(fn.failData,(e,t)=>k(k({},e),{},{error:t.message})).on(_d,(e,t)=>{let{key:i,value:s}=t;return k(k({},e),{},{currentUser:e.currentUser?k(k({},e.currentUser),{},{[i]:s}):null})}).on(kd,(e,t)=>k(k({},e),{},{currentUser:e.currentUser?k(k({},e.currentUser),t):null})).on(jd,e=>k(k({},e),{},{currentUser:null})),yb=Qa.map(e=>{var t;let{currentUser:i}=e;return(t=i==null?void 0:i.guid)!==null&&t!==void 0?t:null}),Pe={useUser:()=>{const{currentUser:e,error:t,isAuthenticated:i,savePassword:s,loginEuz:o}=ye(Qa);return{data:{user:e,isAuthenticated:i,savePassword:s,loginEuz:o},loading:ye(ro.pending),error:t}}},fe={login:wd,logout:Ya,changeSavePassword:Cd,clear:jd,update:_d,updateBulk:kd},wb={getUserFx:fn,getLoginEuzFx:ra},se={user:Qa,userGuid:yb},xl={message:"",type:"success",isOpen:!1,time:2e3},jb=()=>Qt(_b),Sd=I({name:"evokePopUpMessage",sid:"x5m2"}),Id=I({name:"openPopUpMessage",sid:"bjmva0"}),_b=M(xl,{name:"$popUpstore",sid:"sdh220"}).on(Sd,(e,{message:t,type:i,time:s=2e3,onClick:o})=>({isOpen:!0,message:t,type:i,time:s,onClick:o})).on(Id,(e,{isOpen:t})=>T(b({},e),{isOpen:t})).on(se.userGuid,()=>b({},xl)),kb={usePopUpMessage:jb},Y={evokePopUpMessage:Sd,openPopUpMessage:Id},Td="/assets/loading-c8041cd3.gif",Cb=()=>n.jsx(Sb,{src:Td,alt:"loading",className:"loading-circle"}),Sb=u.img.withConfig({componentId:"sc-1vou73h-0"})(["position:relative;transform:none;left:auto;top:auto;width:30px;height:30px;"]),Ib=["icon","text","onClick","width","minWidth","background","textColor","hoverBackground","align","isChosen","padding","shrinkTextInMobile","fixedInMobile","direction","isActive","height","notActiveClickMessage","flipped","forwardedRef","loading"];function S(e){const{icon:t,text:i,onClick:s,width:o,minWidth:a,background:r,textColor:l,hoverBackground:c,align:p,isChosen:f,padding:g,shrinkTextInMobile:h,fixedInMobile:m,direction:v="horizontal",isActive:w=!0,height:x,notActiveClickMessage:j,flipped:D,forwardedRef:_,loading:A}=e,O=hd(e,Ib),X=z=>{w?s==null||s(z):j&&Y.evokePopUpMessage({type:"failure",message:j,time:1e4})};return n.jsx(pv,k(k({text:!!i,onClick:X,isChosen:f,width:o,minWidth:a,background:r,padding:g,textColor:l,shrinkTextInMobile:h,hoverBackground:c,align:p,direction:v,isActive:A?!1:w,fixedInMobile:m,height:x,flipped:D,ref:_},O),{},{children:A?n.jsx(Cb,{}):n.jsxs(n.Fragment,{children:[!!t&&n.jsx("div",{className:"icon",children:t}),n.jsx("span",{className:"text",children:i})]})}))}const la=e=>{switch(e){case"center":return"center";case"right":return"flex-end";case"evenly":return"space-evenly"}return"flex-start"},vl=e=>{switch(e){case"center":return"center";case"bottom":return"flex-end";case"space-between":return"space-between"}return"flex-start"},Tb=u.div.withConfig({componentId:"sc-1g0azvr-0"})(["padding:",";position:",";width:",";height:",";min-width:",";.bottom-wrapper{margin-top:5px;display:flex;align-items:center;justify-content:center;gap:10px;}"],({padding:e})=>e!=null?e:"0",({position:e})=>e!=null?e:"relative",({width:e})=>e!=null?e:"100%",({height:e})=>e!=null?e:"fit-content",({minWidth:e})=>e),Eb=["wrap","horizontalAlign","verticalAlign","innerPadding","scroll","wrapOnMobile"],lo=u.div.withConfig({shouldForwardProp:e=>!Eb.includes(e)}).withConfig({componentId:"sc-1g0azvr-1"})(["display:flex;flex-direction:",";max-height:100%;align-items:center;height:",";justify-content:",";align-items:",";gap:",";width:",";min-width:",";color:var(--text);font-size:",";overflow-x:",";flex-wrap:",";padding:",";scroll-behavior:smooth;::-webkit-scrollbar{display:",";}@media (max-width:1000px){flex-wrap:",";overflow-x:auto;}"],({direction:e})=>(e!=null?e:"vertical")==="vertical"&&"column",({height:e})=>e!=null?e:"fit-content",({direction:e,horizontalAlign:t,verticalAlign:i})=>(e!=null?e:"vertical")==="vertical"?vl(i):la(t),({direction:e,horizontalAlign:t,verticalAlign:i})=>(e!=null?e:"vertical")==="vertical"?la(t):vl(i),({gap:e})=>(e!=null?e:5)+"px",({width:e})=>e!=null?e:"100%",({minWidth:e,width:t})=>e!=null?e:t,({fontSize:e})=>e!=null?e:"1em",({scroll:e})=>e&&"auto",({wrap:e})=>e&&"wrap",({innerPadding:e})=>e!=null?e:"0",({direction:e})=>e==="horizontal"&&"none",({wrapOnMobile:e})=>e?"wrap":"nowrap"),Pb=u.div.withConfig({componentId:"sc-1xqpwpa-0"})(["width:",";min-width:",";height:",";border-radius:",";background:var(--almostTransparent);margin:",";animation:",";@keyframes skeleton{0%{opacity:1;}50%{opacity:0.6;}100%{opacity:1;}}"],({size:e})=>e?e.width:"100px",({size:e})=>e?e.width:"100px",({size:e,shape:t})=>e?t==="circle"?e.width:e.height:"20px",({shape:e})=>e==="circle"?"100%":"10px",({margin:e})=>e,({pulse:e})=>e&&"skeleton 1s infinite");function ne({shape:e,size:t,margin:i="10px 0",pulse:s=!0}){return n.jsx(Pb,{pulse:s,size:t,shape:e,margin:i})}const Ab=u(lo).withConfig({componentId:"sc-j33f83-0"})(["height:100%;"]),Db=e=>{let{direction:t,shapes:i,horizontalAlign:s,verticalAlign:o}=e;return n.jsx(Ab,{direction:t,horizontalAlign:s,verticalAlign:o,children:i.map((a,r)=>d.createElement(ne,k(k({},a),{},{key:r})))})},ln=e=>({display:"flex",alignItems:"center",justifyContent:"center",width:e});function Nb({size:e,children:t,width:i}){switch(e){case 1:return n.jsx("h1",{className:"title",style:ln(i),children:t});case 2:return n.jsx("h2",{className:"title",style:ln(i),children:t});case 3:return n.jsx("h3",{className:"title",style:ln(i),children:t});case 4:return n.jsx("h4",{className:"title",style:ln(i),children:t});case 5:return n.jsx("h5",{className:"title",style:ln(i),children:t});case 6:return n.jsx("h6",{className:"title",style:ln(i),children:t});default:return n.jsx("h1",{className:"title",style:ln(i),children:t})}}const Ob=u.div.withConfig({componentId:"sc-15eib47-0"})(["width:100%;text-align:",";margin-bottom:",";display:inline-flex;align-items:center;justify-content:",";svg{min-width:",";height:",";margin-right:8px;color:",";}"],({align:e})=>e,({bottomGap:e})=>typeof e=="string"?e:e?"10px":"0",({align:e})=>e?e==="left"?"flex-start":e==="right"?"flex-end":e:"center",({size:e})=>`${58-e*10}px`,({size:e})=>`${58-e*10}px`,({iconColor:e})=>e),Lb=u.span.withConfig({componentId:"sc-15eib47-1"})(["color:var(--red);margin-right:5px;"]),zb=u.div.withConfig({componentId:"sc-15eib47-2"})(["display:flex;align-items:center;justify-content:space-between;column-gap:10px;width:",";"],({width:e})=>e);function $(e){const{icon:t,iconColor:i,children:s,size:o=1,required:a,width:r,style:l,align:c="center",bottomGap:p=!1,visible:f=!0}=e;return f?n.jsxs(Ob,{style:l,size:o,className:"title-wrapper",align:c,bottomGap:p,iconColor:i,children:[t,n.jsxs(Nb,{size:o,width:r,children:[a&&n.jsx(Lb,{children:"*"}),n.jsx(zb,{width:r,children:s})]})]}):null}const Rb=(e,t,i)=>i?"#fff":e?C[_n[t].color].dark3:C[_n[t].color].light3,Mb=u.div.withConfig({componentId:"sc-7u4k5f-0"})(["width:",";max-width:",";color:",";background:",";width:",";min-width:",";max-width:",";font-size:",";padding:",";border-radius:var(--brLight);position:relative;display:flex;flex-direction:column;gap:10px;font-weight:500;justify-content:flex-end;line-height:",";align-items:",";.close-button{position:absolute;top:5px;right:5px;border-radius:100%;width:30px;height:30px;}.info-text{display:flex;flex-direction:column;gap:",";}a{text-decoration:underline;color:",";}"],e=>{let{width:t}=e;return t!=null?t:"100%"},e=>{let{maxWidth:t}=e;return t!=null?t:"none"},e=>{let{type:t,isLightTheme:i,solidBackground:s}=e;return Rb(i,t,s)},e=>{let{type:t,solidBackground:i}=e;return C[_n[t].color][i?"main":"transparent3"]},e=>{let{width:t}=e;return t!=null?t:"100%"},e=>{let{minWidth:t}=e;return t!=null?t:"none"},e=>{let{maxWidth:t}=e;return t!=null?t:"none"},e=>{let{fontSize:t}=e;return t!=null?t:"0.8em"},e=>{let{padding:t}=e;return t!=null?t:"10px"},e=>{let{lineHeight:t}=e;return t},e=>{let{align:t}=e;return t==="left"?"flex-start":t==="center"?"center":"flex-end"},e=>{let{gap:t}=e;return t!=null?t:0},e=>{let{type:t,isLightTheme:i}=e;return C[_n[t].color][i?"main":"light2"]}),Fb=e=>({appearance:{theme:window.matchMedia("(prefers-color-scheme: dark)").matches?Fe.Dark:Fe.Light},customizeMenu:{pages:e?Wa:Ua},homePage:{pages:["settings","profile","chat","schedule","payments","project-activity","all-students"],hasSchedule:!0,hasPayment:!0,hasNews:!0},notifications:{all:!0,messages:!0,applications:!0,doclist:!0,newVersion:!0,news:!0,schedule:!0},syncAcrossAllDevices:!1}),Ed=e=>`${ie.Settings}-${e}`,$b="https://api.mospolytech.ru/config/",$n=pt.create({baseURL:$b});$n.interceptors.request.use(Ki);$n.interceptors.response.use(e=>P(void 0,null,function*(){var t,i,s,o;return((o=(s=(i=(t=e==null?void 0:e.data)==null?void 0:t.errors)==null?void 0:i[0])==null?void 0:s.extensions)==null?void 0:o.code)==="AUTH_NOT_AUTHENTICATED"?yield Gn($n)(e):e}),Gn($n));const Bb=ui({appearance:ui({theme:$m([Fe.Light,Fe.Dark])}),customizeMenu:ui({pages:ll(cl())}),homePage:ui({pages:ll(cl()),hasSchedule:gt(),hasPayment:gt(),hasNews:gt()}),notifications:ui({all:gt(),messages:gt(),newVersion:gt(),schedule:gt(),news:gt(),applications:gt(),doclist:gt()}),syncAcrossAllDevices:gt()}),Hb=()=>P(void 0,null,function*(){const{data:e}=yield $n.get("",{signal:AbortSignal.timeout(5e3)});return Bb.parse(e)}),Ub=e=>P(void 0,null,function*(){const{data:t}=yield $n.post("",e);return t}),co=Z({sid:"-ijhf03",fn:()=>Et({handler:Hb}),name:"serverSettingsQuery",method:"createQuery"});y({and:[{clock:se.user,filter:({currentUser:e})=>!!e,target:co.start}],or:{sid:"u6xq0w"}});const Ja=I({name:"update",sid:"-hcq4dy"}),Wb=J(({settings:e,userId:t})=>{localStorage.setItem(Ed(t),JSON.stringify(e))},{name:"saveUsersSettingsLocalFx",sid:"-by3t4p"}),Pd=J(e=>Ub(e),{name:"saveSettingsGlobalFx",sid:"e26uy5"}),Ad=Xs({and:{source:{userStore:se.user,serverSettingsQueryData:co.$data},effect:({userStore:{currentUser:e},serverSettingsQueryData:t})=>{var r,l,c,p,f,g,h,m,v;const i=e==null?void 0:e.guid,s=localStorage.getItem(Ed(i!=null?i:"")),o=Fb((e==null?void 0:e.user_status)==="staff");if(t!=null&&t.syncAcrossAllDevices)return t;if(!s){const w=localStorage.getItem(ie.OldSettings);if(!w)return o;const j=JSON.parse(w)[(r=e==null?void 0:e.id)!=null?r:""];return j?{homePage:{pages:(l=j==null?void 0:j["settings-home-page"].property.pages)!=null?l:o.homePage.pages,hasNews:(c=j==null?void 0:j["settings-home-page"].property.news)!=null?c:o.homePage.hasNews,hasSchedule:(p=j==null?void 0:j["settings-home-page"].property.widgetSchedule)!=null?p:o.homePage.hasPayment,hasPayment:(f=j==null?void 0:j["settings-home-page"].property.widgetPayment)!=null?f:o.homePage.hasPayment},appearance:(h=(g=j==null?void 0:j["settings-appearance"])==null?void 0:g.property)!=null?h:o.appearance,customizeMenu:(m=j==null?void 0:j["settings-customize-menu"].property)!=null?m:o.customizeMenu,notifications:(v=j==null?void 0:j["settings-notifications"].property)!=null?v:o.notifications,syncAcrossAllDevices:o.syncAcrossAllDevices}:o}const a=JSON.parse(s);return T(b({},a),{syncAcrossAllDevices:!1})}},or:{name:"getSettingsFx",sid:"zfc407"}});y({and:[{source:{userStore:se.user,isServerSettingsLoaded:co.$finished},filter:({userStore:e,isServerSettingsLoaded:t})=>!!(e.currentUser&&t),fn:({userStore:e})=>e,target:Ad}],or:{sid:"-i0288q"}});const kn=M(null,{name:"$userSettings",sid:"djovoc"}).on(Ad.doneData,(e,t)=>t).reset(se.userGuid),Dd=kn.map(e=>e==null?void 0:e.appearance.theme),Gb=J(e=>{document.documentElement.setAttribute("data-theme",e)},{name:"setThemeToDocument",sid:"d36ila"});y({and:[{clock:Dd,filter:Boolean,target:Gb}],or:{sid:"-h0blo9"}});y({and:[{source:{settings:kn,userStore:se.user},filter:({userStore:e,settings:t})=>!!e.currentUser&&!!t,fn:({settings:e,userStore:t})=>{var i,s;return{settings:e,userId:(s=(i=t.currentUser)==null?void 0:i.guid)!=null?s:""}},target:Wb}],or:{sid:"-gm0y8v"}});y({and:[{source:{settings:kn,userStore:se.user,isSettingsLoadedFromServer:co.$succeeded},filter:({userStore:e,settings:t,isSettingsLoadedFromServer:i})=>!!(e.currentUser&&(t!=null&&t.syncAcrossAllDevices)&&i),fn:({settings:e})=>e,target:Pd}],or:{sid:"61zcpa"}});y({and:[{clock:Ja,source:kn,filter:Boolean,fn:(e,t)=>b(b({},e),t),target:kn}],or:{sid:"6yz0ay"}});y({and:[{clock:Ja,source:kn,filter:(e,t)=>"syncAcrossAllDevices"in t&&!!e,fn:(e,t)=>b(b({},e),t),target:Pd}],or:{sid:"7h47vv"}});const ve={userSettings:kn,theme:Dd},Qe={update:Ja},Vb=()=>n.jsx(Db,{shapes:[{shape:"rect",size:{width:"200px",height:"13px"},margin:"0"},{shape:"rect",size:{width:"100px",height:"12px"},margin:"5px 0"},{shape:"rect",size:{width:"120px",height:"12px"},margin:"0"}],direction:"vertical",horizontalAlign:"left"});function ce(e){let{type:t,children:i,icon:s,width:o,minWidth:a,maxWidth:r,title:l,onClose:c,padding:p,fontSize:f,gap:g,lineHeight:h,solidBackground:m=!1,align:v="left",visible:w=!0,loading:x=!1}=e;if(!w)return null;const j=H(ve.userSettings);return n.jsxs(Mb,{isLightTheme:(j==null?void 0:j.appearance.theme)===Fe.Light,className:"message",closable:!!c,type:t,align:v,width:o,minWidth:a,maxWidth:r,padding:p,fontSize:f,gap:g,lineHeight:h,solidBackground:m,children:[n.jsx($,{size:4,align:v,icon:s===null?null:s!=null?s:_n[t].icon({}),children:l!=null?l:_n[t].title}),c&&n.jsx(S,{onClick:c,icon:n.jsx(Ut,{}),className:"close-button"}),i&&n.jsx("div",{className:"info-text",children:i}),x&&n.jsx(Vb,{})]})}const qb=u.div.withConfig({componentId:"sc-12bwuta-0"})(["max-height:400px;overflow-y:auto;"]),Yb=e=>{let{error:t}=e;return n.jsx(n.Fragment,{children:n.jsx(ke,{text:t.message,image:n.jsx(Bm,{}),children:n.jsxs(N,{mw:"500px",d:"column",gap:"16px",children:[n.jsx(_e,{}),n.jsx(od,{title:n.jsx(ce,{type:"failure",fontSize:"0.95rem",title:n.jsxs(N,{children:[n.jsx("span",{children:"Суть ошибки"}),n.jsx(Sc,{})]})}),children:n.jsx(ce,{type:"failure",fontSize:"0.95rem",title:"",icon:"",children:n.jsx(qb,{children:t.stack})})})]})})})},Qb=/Cannot access 'get' before initialization/,Jb=/Failed to fetch dynamically imported module/,Kb=2,bl="reloadCount";class Nd extends d.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){var s;console.error("Uncaught error:",t,i);const o=(s=Number(sessionStorage.getItem("reloadCount")))!==null&&s!==void 0?s:0;o<Kb&&t!==null&&t!==void 0&&t.message&&(Jb.test(t.message)||Qb.test(t.message))&&(sessionStorage.setItem(bl,"".concat(o+1)),window.location.reload())}render(){return this.state.hasError?n.jsx(Yb,{error:this.state.error}):(sessionStorage.setItem(bl,"0"),this.props.children)}}const Od=I({name:"close",sid:"jt4tnx"}),Ld=I({name:"open",sid:"gxr3sv"}),Xb=M(!1,{name:"$isModalOpen",sid:"-2d2og0"}).on(Ld,()=>!0).on(Od,()=>!1),yl={close:Od,open:Ld},Zb={$isModalOpen:Xb},Ka=d.createContext({isOpen:!1,component:void 0,back:()=>{},close:()=>{},open:()=>{},title:void 0,canBack:!1}),ey=e=>{let{children:t}=e;const[i,s]=d.useState(!1),[o,a]=d.useState([]),[r,l]=d.useState([]),c=H(Zb.$isModalOpen),p=r.length>1,f=d.useCallback(()=>{p&&(r.pop(),o.pop(),l([...r]),a([...o]))},[r,l]),g=d.useCallback((x,j)=>{x&&(i?(l(()=>[...r,x]),a(()=>[...o,j!=null?j:""])):(l(()=>[x]),a(j?[j]:[])),s(()=>!0),yl.open())},[l,s,r,i]),h=d.useCallback(()=>{s(()=>!1),yl.close()},[l,s]),m=d.useMemo(()=>r[r.length-1],[r]),v=d.useMemo(()=>o[o.length-1],[o]),w=d.useCallback(x=>{x&&l([...r,x])},[]);return d.useEffect(()=>{c!==i&&s(c)},[c]),n.jsx(Ka.Provider,{value:{back:f,open:g,close:h,isOpen:i,canBack:p,component:m,title:v,setComponent:w},children:t})},ty=["open","isOpen"],K=()=>{const e=d.useContext(Ka),{open:t,isOpen:i}=e,s=hd(e,ty);return k({open:t,isOpen:i},s)},Gt=u.div.withConfig({componentId:"sc-1d238v1-0"})(["display:flex;align-items:",";justify-content:",";background:",";line-height:",";border-radius:var(--brLight);flex-direction:",";box-shadow:",";padding:",";height:",";max-width:",";width:",";color:var(--text);gap:",";max-height:",";min-height:",";.list{width:100%;display:flex;height:100%;flex-direction:column;overflow-y:auto;padding-right:5px;}","{flex-direction:column;box-shadow:",";border-radius:",";padding:",";background:",";}"],({alignItems:e})=>e!=null?e:"center",({justifyContent:e})=>e!=null?e:"space-between",({background:e})=>e!=null?e:"var(--block)",({lineHeight:e})=>e,({orientation:e})=>e==="vertical"?"column":"row",({shadow:e})=>(e!=null?e:!0)&&"var(--very-mild-shadow)",({padding:e})=>e!=null?e:"20px",({height:e})=>e!=null?e:"330px",({maxWidth:e})=>e!=null?e:"800px",({width:e})=>e!=null?e:"100%",({gap:e})=>e!=null?e:"0",({maxHeight:e})=>e,({minHeight:e})=>e,ee.isMobile,({noAppearanceInMobile:e})=>e&&"none",({noAppearanceInMobile:e})=>e&&"none",({noAppearanceInMobile:e})=>e&&"6px",({noAppearanceInMobile:e})=>e&&"transparent"),ny=u.img.withConfig({componentId:"sc-1x2uh6l-0"})(["width:40px;"]);function kt(e){return n.jsx(ny,T(b({},e),{src:Td,alt:"loading",className:"loading-circle"}))}const iy="/assets/logo-4d9aa449.png",sy="/assets/mospolytech-logo-white-b1e4f630.png",oy=u.div.withConfig({componentId:"sc-1bbepw4-0"})(["width:",";height:fit-content;display:flex;justify-content:center;img{filter:invert(var(--invert));width:100%;}"],({width:e})=>e!=null?e:"100%");function po({width:e,className:t,short:i=!1}){return n.jsx(oy,{width:e,className:t!=null?t:"logo",children:n.jsx("img",{src:i?sy:iy,alt:"Logo"})})}const ay=u.img.withConfig({componentId:"sc-1j5d4xx-0"})([""]);function Xa({loading:e,src:t,height:i,width:s,alt:o=""}){return e?n.jsx(ne,{shape:"rect",size:{width:s,height:i},margin:"0"}):n.jsx(ay,{src:t,alt:o,height:i,width:s})}const ry=u.div.withConfig({componentId:"sc-saptpr-0"})([".wrapper{position:relative;width:",";height:",";}.circle-blue{position:absolute;width:",";height:",";border-radius:50%;background:",";animation:expand 0.4s cubic-bezier(0.77,0,0.175,1) forwards;}.circle-blue-shadow{position:absolute;width:",";height:",";border-radius:50%;opacity:1;}.circle-white{position:absolute;top:3px;left:3px;width:",";height:",";transform:scale(0);border-radius:50%;background:var(--block);animation:expand 0.4s 0.5s cubic-bezier(0.77,0,0.175,1) forwards;}@keyframes expand{0%{transform:scale(0);}100%{transform:scale(1);}}.check-svg{position:absolute;width:",";height:",";top:-18px;left:-20px;width:50px;height:50px;top:-13px;left:-14px;transform-origin:center;animation:0.4s cubic-bezier(0.77,0,0.175,1) 0.4s 1 both scaleCheck;}.check-poly{fill:transparent;stroke-width:3;stroke-dasharray:36px 36px;stroke:",";animation:1s cubic-bezier(0.77,0,0.175,1) 0.4s 1 both drawCheck;}@keyframes scaleCheck{0%{opacity:0;}1%{opacity:1;}100%{transform:scale(0.8);}}@keyframes drawCheck{0%{stroke-dashoffset:36px;}100%{stroke-dashoffset:0;}}"],({size:e})=>e,({size:e})=>e,({size:e})=>e,({size:e})=>e,({color:e})=>e!=null?e:"var(--blue)",({size:e})=>e,({size:e})=>e,({size:e})=>`calc(${e} - 6px)`,({size:e})=>`calc(${e} - 6px)`,({size:e})=>`calc(${e} + 10px)`,({size:e})=>`calc(${e} + 10px)`,({color:e})=>e!=null?e:"var(--blue)");function Za({size:e,color:t,forwardedRef:i}){return n.jsx(ry,{ref:i,size:e,color:t?C[t].main:void 0,children:n.jsxs("div",{className:"wrapper",children:[n.jsx("div",{className:"circle-blue",children:n.jsx("div",{className:"circle-white"})}),n.jsx("div",{className:"circle-blue-shadow"}),n.jsx("svg",{className:"check-svg",width:e,height:e,viewBox:`0 0 ${e} ${e}`,children:n.jsx("polyline",{className:"check-poly",points:"26 37 34 43 47 27",strokeLinecap:"round"})})]})})}const ly=u.div.withConfig({componentId:"sc-k8mqiv-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}textarea{border:none;color:var(--text);outline:none;background:",";height:100%;width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:35px;min-height:36px;height:fit-content;max-height:120px;overflow-x:hidden;resize:none;&::placeholder{font-weight:500;}&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e!=null?e:"100%",({width:e})=>e,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({textAreaAppearance:e})=>e?"var(--search)":"transparent",({textAreaAppearance:e})=>e?"10px":"0");function cy(e){const{value:t,setValue:i,width:s,placeholder:o,required:a,title:r,textAreaAppearance:l=!0,isActive:c=!0}=e;return n.jsxs(ly,{isActive:c,width:s,textAreaAppearance:l,children:[n.jsx($,{size:5,required:a,align:"left",bottomGap:"5px",visible:!!r,children:r}),n.jsx("textarea",{onChange:p=>i(p.target.value),placeholder:o,required:a,value:t})]})}const dy=u.button.withConfig({componentId:"sc-r09aw-0"})(["position:relative;width:",";padding:10px;box-sizing:border-box;opacity:",";color:#fff;font-weight:600;display:flex;align-items:center;justify-content:center;height:",";min-height:",";border-radius:10px;position:relative;overflow:hidden;border:none;cursor:pointer;background:",";animation:",";@keyframes pulsing{0%{outline:0px solid var(--blue);}100%{outline:10px solid transparent;}}&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}@keyframes button-animation-in{0%{opacity:0;transform:scale(0.95);}50%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(0.95);}}@keyframes short-button-animation-in{0%{opacity:0;transform:scale(0.95);}100%{opacity:1;transform:scale(1);}}@keyframes button-animation-out{0%{opacity:0;transform:scale(0.95);}100%{opacity:1;transform:scale(1);}}.inner-button{z-index:1;.inner-button-success{animation:",";}.inner-button-text{animation:button-animation-out 0.5s forwards;}}&::before{content:'';position:absolute;display:block;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--green);width:",";height:",";border-radius:100%;transition:0.6s;z-index:0;}.loading-circle{position:relative;transform:none;left:auto;top:auto;width:30px;height:30px;}@media (max-width:1000px){font-size:0.8em;height:36px;}"],({width:e})=>e!=null?e:"100%",e=>e.isLoading?.5:1,({height:e})=>e!=null?e:"40px",({height:e})=>e!=null?e:"40px",({isDone:e,background:t,isActive:i})=>e?i?"var(--green)":"var(--greenTransparent)":t!=null?t:i?"var(--blue)":"var(--blueTransparent)",({pulsing:e})=>e&&"1s pulsing infinite",({repeatable:e})=>e?"button-animation-in 2s forwards":"short-button-animation-in 2s forwards",e=>e.completed?"2000px":"0",e=>e.completed?"2000px":"0"),yt=({text:e,action:t,width:i,height:s,setCompleted:o,background:a,buttonSuccessText:r="Готово",popUpSuccessMessage:l="Успешно",popUpFailureMessage:c="Nope",pulsing:p,isDone:f=!1,isActive:g=!0,isLoading:h=!1,completed:m=!1,repeatable:v=!0,alerts:w=!0})=>{d.useEffect(()=>{m&&w&&(Y.evokePopUpMessage({message:l,type:"success"}),v&&setTimeout(()=>{o(!1)},2e3))},[m,o]);const x=()=>{if(g&&!f&&!h)return t();w&&Y.evokePopUpMessage({message:c,type:"failure"})};return n.jsx(dy,{isLoading:h,background:a,className:"submit-button",completed:m,isActive:g&&!f&&!m,onClick:x,isDone:f,width:i,height:s,repeatable:v,tabIndex:g&&!f?0:-1,pulsing:p&&!f,children:n.jsx("div",{className:"inner-button",children:m?n.jsxs("div",{className:"inner-button-success",children:[n.jsx(Hm,{})," ",r]}):h?n.jsx(kt,{}):n.jsx("div",{className:"inner-button-text",children:e})})})},Ls={small:"32px",middle:"36px",big:"44px"},It=e=>({size:t})=>e[t],Ss=(e,t)=>{var i;return(t==null?void 0:t.length)===0?null:(i=e.find(s=>s.title===t))!=null?i:null},py=[{id:"0",title:"ул. Большая Семёновская, 38"},{id:"1",title:"ул. Прянишникова, 2А"},{id:"2",title:"ул. Автозаводская, 16"},{id:"3",title:"ул. Павла Корчагина, 22"},{id:"4",title:"ул. Михалковская, 7"},{id:"5",title:"ул. Садовая-Спасская, 6"},{id:"6",title:"ул. Малая Семеновская, 12"},{id:"7",title:"ул. Лефортовский вал, 26"},{id:"8",title:"ул. 1-я Дубровская, 16а"},{id:"9",title:"ул. 7-я Парковая, 9/26"},{id:"10",title:"ул. 800-летия Москвы, 28 корп. 1"},{id:"11",title:"ул. Михалковская, 7, корп. 3"},{id:"12",title:"ул. Бориса Галушкина, 9"},{id:"13",title:"ул. Павла Корчагина, 20А, корп. 3"},{id:"14",title:"Рижский проезд, 15, корп. 1"},{id:"15",title:"Рижский проезд, 15, корп. 2"},{id:"16",title:"1-й Балтийский переулок, 6/21, корп. 3"}],Se=[...py],d3=(e,t)=>{var i,s,o,a,r,l;return{title:"Актуализируйте контактные данные",data:[{fieldName:"guid_staff",title:"Подразделение/должность",value:t.guid_staff,width:"100",required:!0,type:"text",visible:!1},{fieldName:"",title:`${t.subdivision} (${t.post})`,value:`${t.subdivision} (${t.post})`,width:"100",required:!0,type:"text-header",visible:!0},{fieldName:"site",title:"Адрес рабочего места",type:"select",value:Ss(Se,e.site),items:Se,width:"100",editable:!0,required:!0},{fieldName:"aud_number",title:"Номер кабинета",type:"cabinet",mask:!0,value:e.aud_number,editable:!0,required:!0},{fieldName:"email_staff",title:"Корпоративная электронная почта",type:"email",value:e.email_staff,required:!0},{title:"Показывать рабочий email внутри Личного кабинета",fieldName:"show_email_inner",type:"checkbox",value:(i=e.show_email_inner)!=null?i:!0},{title:"Показывать рабочий email на сайте",fieldName:"show_email_outer",type:"checkbox",value:(s=e.show_email_outer)!=null?s:!0},{title:"Служебный мобильный телефон",type:"tel",value:e==null?void 0:e.tel_mob_staff,fieldName:"tel_mob_staff",mask:!0},{title:"Показывать служебный мобильный телефон внутри Личного кабинета",fieldName:"show_tel_mob_staff_inner",type:"checkbox",value:(o=e.show_tel_mob_staff_inner)!=null?o:!0},{title:"Показывать служебный мобильный телефон на сайте",fieldName:"show_tel_mob_staff_outer",type:"checkbox",value:(a=e.show_tel_mob_staff_outer)!=null?a:!0},{title:"Внутренний телефон",type:"innerPhone",value:e==null?void 0:e.tel_staff,mask:!0,fieldName:"tel_staff",minValueLength:4},{title:"Показывать внутренний телефон внутри Личного кабинета",fieldName:"show_tel_staff_inner",type:"checkbox",value:(r=e.show_tel_staff_inner)!=null?r:!0},{title:"Показывать внутренний телефон на сайте",fieldName:"show_tel_staff_outer",type:"checkbox",value:(l=e.show_tel_staff_outer)!=null?l:!0}]}},uy={БС:"БС",ПР:"ПР",АВ:"АВ",ПК:"ПК",МИХ:"МИХ",СС:"СС",РП:"РП",БАЛТ:"БАЛТ",Д:"Д",ПАРК:"ПАРК",ВЛМ:"ВЛМ",БГ:"БГ",МС:"МС","":""},ca=e=>{const t=()=>e===Se[0].title,i=()=>e===Se[1].title,s=()=>e===Se[2].title,o=()=>e===Se[3].title||e===Se[13].title,a=()=>e===Se[4].title,r=()=>e===Se[5].title,l=()=>e===Se[16].title,c=()=>e===Se[14].title||e===Se[15].title,p=()=>e===Se[8].title,f=()=>e===Se[9].title,g=()=>e===Se[10].title,h=()=>e===Se[12].title,m=()=>e===Se[6].title;return t()?"БС":i()?"ПР":s()?"АВ":o()?"ПК":a()?"МИХ":r()?"СС":c()?"РП":l()?"БАЛТ":p()?"Д":f()?"ПАРК":g()?"ВЛМ":h()?"БГ":m()?"МС":""},p3=e=>{const t=ca(e);return t?t+" ":""},hy=(e,t)=>e.length>8?e.substring(0,8):e.length===3&&(t==null?void 0:t.length)===2?e+"-":e.length===3&&(t==null?void 0:t.length)===4?e.substring(0,2):e,fy=e=>{var a;const t=e.target.selectionStart;let i=e.target.value.replace(/\D/g,""),s="";return i.length?e.target.value.length!==t?/\D/g.test((a=e.nativeEvent.data)!=null?a:"")?i:e.target.value:(i[0]!=="7"&&(i="7"+i),s="+7"+" ",i.length&&(s+="("+i.substring(1,4)),i.length>=5&&(s+=") "+i.substring(4,7)),i.length>=8&&(s+="-"+i.substring(7,9)),i.length>=10&&(s+="-"+i.substring(9,11)),s):""},wl=(e,t,i,s,o,a=4)=>{var r,l;return t+=i.substring(0,a),!s||!((l=(r=s[0])==null?void 0:r.toLowerCase())!=null&&l.match(/[а-я]/))?t:(t+=s[0].toLowerCase(),t.substring(0,o.length+a+2))},gy=(e,t)=>{var a,r,l,c;const i=e.replace(/\D/g,""),s=e.match(new RegExp("(?<=\\d)[а-яА-Я]"));let o=t+" ";switch(t){case"БС":const p=e.substring(3).match(/^[а-яА-Я]{1,2}/);return!p||!((r=(a=p[0])==null?void 0:a.toUpperCase())!=null&&r.match(/^(А|Б|В|НД?D?)$/))?o:(o+=p[0].toUpperCase(),(p[0].length===1?e[3]&&!e[5]&&e[4]===" ":e[4]&&!e[6]&&e[5]===" ")?o+" ":(i.length>0&&(o+=" "),o+=i.substring(0,3),!s||!((c=(l=s[0])==null?void 0:l.toLowerCase())!=null&&c.match(/[а-я]/))?o:(o+=s[0].toLowerCase(),o.substring(0,10))));case"ПК":return wl(e,o,i,s,t,3);case"АВ":case"ПР":case"СС":case"МИХ":return wl(e,o,i,s,t);case"":return e;default:return o+e.substring(t.length+1)}},my=e=>e.replace(/\D/g,"").substring(0,4),mn={groupMask:hy,phoneMask:fy,cabinetMask:gy,innerPhoneMask:my},xy=(e,t,i,s,o,a,r,l)=>{const[c,p]=d.useState(i),[f,g]=d.useState(s!=null?s:!1);d.useEffect(()=>{p(i)},[i]);const h=d.useCallback(x=>x.replace(/@\.*/,"@mospolytech.ru").replace(/mospolytech.ru?/,""),[i]);return{inputType:c,danger:f,phoneMaskKeyDown:x=>{x.key==="Backspace"&&(e[1]==="7"&&e.length<=4||e[0]==="8"&&e.length<=3)&&t("")},buttonOnClick:()=>p(x=>x==="password"?"text":"password"),handleOnChange:x=>{if(l)if(r)t(r(x.target.value,e));else if(i==="tel")t(mn.phoneMask(x));else if(i==="email")t(h(x.target.value));else if(i==="cabinet"){const D=Object.keys(uy).find(_=>x.target.value.startsWith(_));t(mn.cabinetMask(x.target.value,D||""))}else t(i==="innerPhone"?mn.innerPhoneMask(x.target.value):x.target.value);else t(x.target.value);if(i==="date"&&(o||a)){const j=new Date(x.target.value);let D=!1;if(o){const _=new Date(o);D=j<_}if(a&&!D){const _=new Date(a);D=j>_}g(D)}}}},vy=u.div.withConfig({componentId:"sc-lq59rg-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.left-icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}.message{margin-bottom:5px;}input{border:none;color:var(--text);outline:none;background:",";width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:",";height:",";max-height:",";border:",";&::placeholder{font-weight:500;}&:focus-visible{outline:",";}&:focus:not(:focus-visible){outline:none;}}.loading-circle{position:absolute;bottom:5px;right:5px;width:25px;height:25px;}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:",";color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e!=null?e:"100%",({minWidth:e,width:t})=>e!=null?e:t,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({inputAppearance:e})=>e?"var(--theme-1)":"transparent",({leftIcon:e,inputAppearance:t})=>e?"30px":t?"10px":"0",({inputAppearance:e})=>e?"35px":"0",It(Ls),It(Ls),({danger:e})=>e&&`2px solid ${C.red.main}`,({inputAppearance:e})=>e&&"4px solid var(--almostTransparentOpposite)",({inputAppearance:e})=>e?"var(--search2)":"transparent"),Ne=d.forwardRef(function(t,i){const{value:s,setValue:o,leftIcon:a,title:r,required:l,width:c,minWidth:p,customMask:f,placeholder:g="Введите сюда",type:h="text",danger:m,alertMessage:v,loading:w=!1,isActive:x=!0,inputAppearance:j=!0,mask:D=!1,autocomplete:_=!1,minValue:A=void 0,maxValue:O=void 0,minLength:X=void 0,maxLength:z=void 0,hideCross:Q=!1,stepSize:G=.1,size:W="middle",onClear:U}=t,{inputType:V,buttonOnClick:ae,danger:Ae,handleOnChange:Le,phoneMaskKeyDown:je}=xy(s,o,h,m,A,O,f,D),De=s&&h==="date"?Um(new Date(s),"yyyy-MM-dd"):s!=null?s:"";return n.jsxs(vy,{leftIcon:!!a,isActive:x,inputAppearance:j,width:c,danger:Ae,minWidth:p,size:W,children:[n.jsx($,{size:5,align:"left",visible:!!r,bottomGap:"5px",required:l,children:r}),n.jsx(ce,{type:"alert",visible:!!v,icon:n.jsx(Wm,{}),title:v!=null?v:""}),a&&n.jsx("span",{className:"left-icon",children:a}),n.jsx("input",{id:g,min:A,max:O,minLength:X,maxLength:z,step:G!=null?G:void 0,type:V,placeholder:g,value:De,autoComplete:_?"on":"off",onKeyDown:rt=>h==="tel"&&je(rt),onChange:Le,required:l,readOnly:!x,ref:i}),h!=="password"?!!(s!=null&&s.length)&&x&&(w?n.jsx(kt,{}):!Q&&n.jsx(S,{icon:n.jsx(Ut,{}),onClick:U!=null?U:()=>o(""),tabIndex:-1})):n.jsx(S,{icon:V==="password"?n.jsx(Gm,{}):n.jsx(La,{}),tabIndex:-1,onClick:ae})]})}),by=u.div.withConfig({componentId:"sc-1e8ovcm-0"})(["user-select:none;min-width:56px;height:30px;.checkbox{display:none;}.toggle-body{width:100%;height:100%;display:block;position:relative;background:var(--theme-2);cursor:pointer;border-radius:50px;padding:4px;transition:0.2s background;}.toggle-circle{height:100%;background:#fff;width:22px;display:block;border-radius:100%;transition:0.2s;}.checkbox:checked + .toggle-body .toggle-circle{margin-left:calc(100% - 22px);}.checkbox:checked + .toggle-body{background:#6290e4;}.checkbox:active + .toggle-body .toggle-circle{transform:scale(0.9);}"]),yy="/assets/thinking-emoji-f3c10f79.gif",wy=["loading"],jy=u.div.withConfig({shouldForwardProp:e=>!wy.includes(e)}).withConfig({componentId:"sc-1c80rzu-0"})(["position:relative;width:100%;padding:10px;height:100%;.loading{width:100%;height:100%;position:absolute;top:0;left:0;transition:0.2s;opacity:",";visibility:",";transform:scale(",");display:flex;align-items:center;justify-content:center;z-index:5;img{width:40px;}}.content{transition:0.2s;opacity:",";visibility:",";height:100%;}.reload{display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text);& > * + *{margin-top:10px;}}@media (max-width:550px){padding:10px;}"],({loading:e})=>e?1:0,({loading:e})=>e?"visible":"hidden",({loading:e})=>e?"1":"0.98",({loading:e})=>e?0:1,({loading:e})=>e?"hidden":"visible"),at=({children:e,load:t,error:i,data:s,deps:o=[],noDataCheck:a=!1,loadEveryVisit:r=!1})=>(d.useEffect(()=>{(!s||r)&&t()},o),n.jsxs(jy,{loading:!!i||!s,children:[n.jsx("span",{className:"loading",children:i?n.jsx("div",{className:"reload",children:n.jsx(ke,{text:i,image:a&&yy,children:!a&&n.jsx(S,{onClick:()=>t(),text:"Загрузить снова",icon:n.jsx(Zs,{})})})}):n.jsx(kt,{})}),n.jsx("div",{className:"content",children:e})]})),_y=u.a.withConfig({componentId:"sc-jdcjy5-0"})(["display:flex;align-items:center;justify-content:",";border:none;color:",";background:",";padding:",";border-radius:10px;cursor:pointer;font-weight:600;transition:0.2s transform;width:",";text-decoration:none;font-size:0.8em;height:",";min-height:",";opacity:",";pointer-events:",";button{outline:none;}&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:active{transform:scale(0.95);}&:hover{background:",";filter:brightness(0.9);color:",";}svg{margin-right:",";width:15px;height:15px;}@media (max-width:1000px){font-size:12px;height:36px;svg{width:14px;height:14px;}}"],({align:e})=>e!=null?e:"center",({textColor:e})=>e||"var(--text)",({isChosen:e,background:t})=>e?"var(--blue)":t!=null?t:"var(--search)",({padding:e})=>e!=null?e:"10px",({width:e})=>e||"fit-content",({height:e="40px"})=>e,({minHeight:e="40px"})=>e,({isActive:e})=>e?1:.5,({isActive:e})=>!e&&"none",({hoverBackground:e,isChosen:t,background:i})=>e!=null?e:t?"var(--blue)":i!=null?i:"var(--search)",({hoverTextColor:e})=>e,({text:e})=>e?"7px":"0"),ky=({icon:e,text:t,onClick:i,width:s,background:o,textColor:a,align:r,href:l,height:c,minHeight:p,padding:f,isActive:g=!0,isChosen:h=!1})=>n.jsxs(_y,{text:!!t,onClick:m=>g&&i&&i(m),isChosen:h,width:s,background:o,textColor:a,href:l,align:r,isActive:g,height:c,padding:f,minHeight:p,children:[!!e&&e,t&&n.jsx("span",{children:t})]}),Cn=d.memo(ky),er=u.div.withConfig({componentId:"sc-1ur01ep-0"})(["width:100%;height:fit-content;max-width:",";padding:20px;border-radius:var(--brLight);background:var(--block);box-shadow:var(--block-shadow);display:flex;flex-direction:column;row-gap:20px;padding-top:",";@media (max-width:1000px){box-shadow:none;padding:10px 0px;background:transparent;}"],({maxWidth:e})=>e!=null?e:"700px",({noHeader:e})=>e?"20px":"80px"),Cy=u.a.withConfig({componentId:"sc-1lxo6dx-0"})(["display:flex;align-items:center;justify-content:flex-start;column-gap:5px;text-decoration:none;color:var(--text);padding:5px;border-radius:var(--brLight);.title{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold;font-size:0.8em;}.icon{display:flex;align-items:center;justify-content:center;min-width:28px;width:28px;height:28px;svg{width:21px;height:21px;}}"]),Sy=({title:e,link:t,type:i})=>n.jsxs(Cy,{href:t,target:"_blank",children:[n.jsx("div",{className:"icon",children:i==="document"?n.jsx(F,{}):n.jsx(Vm,{})}),n.jsx("div",{className:"title",children:e})]}),Iy=u.label.withConfig({componentId:"sc-1b034ry-0"})(["transition:0.1s;opacity:",";transform:scale(",");display:flex;align-items:center;opacity:",";cursor:pointer;input[type='checkbox']{display:none;}.checkbox-text{user-select:none;white-space:pre-wrap;font-size:",";margin-left:8px;}&:hover > .checkbox-square{box-shadow:0 0 1px 5px var(--theme-3);}"],({invisibleOnFalse:e,checked:t})=>e?t?1:0:1,({invisibleOnFalse:e,checked:t})=>e?t?1:.8:1,({isActive:e})=>!e&&.7,({fontSize:e})=>e!=null?e:"1rem"),Ty=u.div.withConfig({componentId:"sc-1b034ry-1"})(["min-width:16px;width:16px;height:16px;border:2px solid var(--grey);border-radius:6px;display:flex;align-items:center;justify-content:center;transition:0.1s box-shadow;.checkbox:checked + &{background:var(--reallyBlue);border:2px solid var(--reallyBlue);}svg{color:#fff;width:13px;height:13px;}&:focus-visible{outline:4px solid var(--theme-4);}&:focus:not(:focus-visible){outline:none;}"]),wt=({text:e,checked:t,setChecked:i,fontSize:s,visible:o=!0,isActive:a=!0,invisibleOnFalse:r=!1})=>{if(!o)return null;const l=()=>{a&&i(!t)};return n.jsxs(Iy,{checked:t,invisibleOnFalse:r,fontSize:s,isActive:a,className:"checkbox",onClick:c=>c.stopPropagation(),children:[n.jsx("input",{className:"checkbox",type:"checkbox",checked:t,onChange:l}),n.jsx(Ty,{tabIndex:0,className:"checkbox-square",children:t&&n.jsx(Qi,{})}),e&&n.jsx("div",{className:"checkbox-text",children:e})]})},Sn=u.span.withConfig({componentId:"sc-1qnplef-0"})(["color:#fff;background:",";position:",";box-shadow:",";top:",";left:",";right:",";outline:",";font-size:0.6em;border-radius:10px;display:flex;justify-content:center;align-items:center;transform:translate(-50%,-50%);width:fit-content;padding:0 5px;min-width:16px;font-weight:bold;height:16px;display:",";&::before{content:'';background:",";display:block;width:100%;height:16px;border-radius:10px;position:absolute;inset:0;top:0px;z-index:-1;animation:",";}@keyframes pulse-animation{0%{transform:scale(1);opacity:1;}90%{transform:scale(2);opacity:0;}100%{transform:scale(1);opacity:0;}}"],({color:e})=>C[e!=null?e:"red"].light1,({position:e})=>e!=null?e:"absolute",({color:e,shadow:t})=>t&&`0 0 35px ${C[e!=null?e:"red"].main}`,({top:e})=>e!=null?e:"50%",({left:e})=>e!=null?e:"auto",({right:e})=>e!=null?e:"50%",({outline:e})=>e,({visible:e})=>!e&&"none",({color:e})=>C[e!=null?e:"red"].light1,({pulsing:e})=>e?"pulse-animation 1s infinite linear":"none"),da=e=>e.split(" ").map(t=>t[0]),mt=(e,t)=>{const i=da(e),s=C[iv[i[0]]];return s==null?void 0:s[t!=null?t:"main"]},Ey=(e,t=265,i=200)=>(e.preventDefault(),{x:e.clientX<window.innerWidth/2?e.clientX:e.clientX-t,y:e.clientY<window.innerHeight/2?e.clientY:e.clientY-i}),Py={open:!1,content:null,type:"left-click",position:{x:0,y:0}},Ay=()=>ye(Dy),zd=I({name:"open",sid:"-wfpi1u"}),Rd=I({name:"close",sid:"-wdkoya"}),Md=I({name:"changePosition",sid:"-o97fsi"}),Dy=M(Py,{name:"$contextMenuStore",sid:"8g6rv0"}).on(zd,(e,{content:t,e:i,height:s,type:o="left-click"})=>({position:Ey(i,220,s),open:!0,content:t,type:o})).on(Rd,e=>T(b({},e),{open:!1})).on(Md,(e,{position:t})=>T(b({},e),{position:t})),Ke={open:zd,close:Rd,changePosition:Md},Ny={useContextMenu:Ay},jl={isOpen:!1,message:null,onConfirm:()=>null,onReject:()=>null},Oy=()=>Qt(Ly),Fd=I({name:"evokeConfirm",sid:"-pu33lb"}),$d=I({name:"closeConfirm",sid:"pyvl9s"}),Ly=M(jl,{name:"$confirm",sid:"-3b3bt0"}).on(Fd,(e,{message:t,onReject:i,onConfirm:s,isSubmitSuccess:o})=>({isOpen:!0,message:t,onConfirm:s,onReject:i,isSubmitSuccess:o})).on($d,e=>T(b({},e),{isOpen:!1})).on(se.userGuid,()=>b({},jl)),zy={useConfirm:Oy},it={evokeConfirm:Fd,closeConfirm:$d},Ry="Jun 26 2024 12:00:00 GMT+0300",Bd="Jun 28 2024 12:00:00 GMT+0300",My="Подача заявок открыта с 12:00 26 июня до 12:00 28 июня!",u3=e=>{const t=new Date;return t<new Date(Ry)?My:t>new Date(Bd)?"Подача заявок закрыта":""},_l={message:"",type:"success",isOpen:!1,time:2e3},Hd=I({name:"evokePopUpMessage",sid:"-w0lm76"}),Ud=I({name:"openPopUpMessage",sid:"-zezpg0"}),Wd=I({name:"clearStore",sid:"-j3lgvb"});M(_l,{name:"$popUpstore",sid:"7lm213"}).on(Hd,(e,{message:t,type:i,time:s=2e3,onClick:o})=>({isOpen:!0,message:t,type:i,time:s,onClick:o})).on(Ud,(e,{isOpen:t})=>T(b({},e),{isOpen:t})).on(Wd,()=>b({},_l));const on={evokePopUpMessage:Hd,openPopUpMessage:Ud,clearStore:Wd},kl={listApplication:null,error:null,dataUserApplication:null},vi=J(()=>P(void 0,null,function*(){const e=yield Bv();try{return e.data.reverse()}catch(t){throw new Error("Не удалось загрузить заявления")}}),{name:"getApplicationsFx",sid:"tybprn"}),Is=J(()=>P(void 0,null,function*(){const e=yield Hv();try{return e.data}catch(t){throw new Error("Не удалось загрузить информацию о пользователе")}}),{name:"getUserDataApplicationsFx",sid:"-ny1ocy"}),uo=J(e=>P(void 0,null,function*(){return yield Uv(e)}),{name:"postApplicationFx",sid:"l7zpyo"});y({and:[{clock:uo.doneData,fn:e=>{const t=e.data.dismissalResponse;return t.isError?{message:t.errorString,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:on.evokePopUpMessage}],or:{sid:"-ds2jr9"}});y({and:[{clock:uo.fail,fn:()=>({message:"Не удалось отправить форму. Попробуйте позже",type:"hrFailure",time:3e5}),target:on.evokePopUpMessage}],or:{sid:"-cuj3k8"}});const Fy=I({name:"clearStore",sid:"wrw6pq"});Zn({and:{from:uo.doneData,to:vi},or:{sid:"-ccdvzb"}});M(kl,{name:"$applicationsStore",sid:"-2f4djn"}).on(Is,e=>T(b({},e),{error:null})).on(Is.doneData,(e,t)=>T(b({},e),{dataUserApplication:t})).on(Is.failData,(e,t)=>T(b({},e),{error:t.message})).on(vi,e=>T(b({},e),{error:null})).on(vi.doneData,(e,t)=>T(b({},e),{listApplication:t})).on(vi.failData,(e,t)=>T(b({},e),{error:t.message})).on(Fy,()=>b({},kl));const $y={getApplicationsFx:vi,getUserDataApplicationsFx:Is,postApplicationFx:uo},Cl={listApplication:null,error:null,dataUserApplication:null,dataWorkerApplication:null},zs=J(()=>P(void 0,null,function*(){const e=yield Mv();try{return e.data}catch(t){throw new Error("Не удалось загрузить информацию о пользователе")}}),{name:"getWorkerPostsFx",sid:"pwe8rj"}),bi=J(()=>P(void 0,null,function*(){const e=yield Rv();try{return e.data.reverse()}catch(t){throw new Error("Не удалось загрузить заявления")}}),{name:"getApplicationsFx",sid:"-nmy8wp"}),yi=J(()=>P(void 0,null,function*(){const e=yield fd();try{return e.data}catch(t){throw new Error("Не удалось загрузить информацию о пользователе")}}),{name:"getUserDataApplicationsFx",sid:"-meik6r"}),tr=J(e=>P(void 0,null,function*(){const t=yield $v(e);if(t.result==="ok")return"ok";throw new Error(t.error_text)}),{name:"postApplicationFx",sid:"tvfs23"}),By=()=>{const{listApplication:e,dataUserApplication:t,dataWorkerApplication:i,error:s}=Qt(Gd);return{data:{listApplication:e,dataUserApplication:t,dataWorkerApplication:i},loading:Qt(yi.pending),workerLoading:Qt(Oe({and:[zs.pending,$y.postApplicationFx.pending,(o,a)=>o||a],or:{name:"workerLoading",sid:"-qy8hlf"}})),error:s}};Zn({and:{from:tr.doneData,to:bi},or:{sid:"-tk9r3i"}});y({and:[{clock:tr.failData,fn:e=>({message:"Не удалось отправить форму. Ошибка: ".concat(e.message),type:"failure",time:3e4}),target:Y.evokePopUpMessage}],or:{sid:"-ti2kq2"}});const Gd=M(Cl,{name:"$applicationsStore",sid:"dx8185"}).on(yi,e=>k(k({},e),{},{error:null})).on(yi.doneData,(e,t)=>k(k({},e),{},{dataUserApplication:t})).on(yi.failData,(e,t)=>k(k({},e),{},{error:t.message})).on(bi,e=>k(k({},e),{},{error:null})).on(bi.doneData,(e,t)=>k(k({},e),{},{listApplication:t})).on(bi.failData,(e,t)=>k(k({},e),{},{error:t.message})).on(zs,e=>k(k({},e),{},{error:null})).on(zs.doneData,(e,t)=>k(k({},e),{},{dataWorkerApplication:t})).on(se.userGuid,()=>k({},Cl)),st={useApplications:By},$t={getApplicationsFx:bi,getUserDataApplicationsFx:yi,postApplicationFx:tr,getWorkerPosts:zs},h3={applications:Gd},he=(e,t="long")=>{if(!e)return"";switch(t){case"long":return new Date(Date.parse(e)).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"});case"short":return new Date(Date.parse(e)).toLocaleDateString("ru",{month:"short",day:"numeric"});case"numeric":return new Date(Date.parse(e)).toLocaleDateString("ru",{year:"numeric",month:"2-digit",day:"2-digit"});case"weird":const i=e.getMonth()<10?`0${e.getMonth()+1}`:`${e.getMonth()+1}`;return`${e.getFullYear()}-${i}-${e.getDate()}`;case"extraWeird":const s=e.getMonth()<9?`0${e.getMonth()+1}`:`${e.getMonth()+1}`,o=e.getDate()<10?`0${e.getDate()}`:`${e.getDate()}`;return`${e.getFullYear()}-${s}-${o}`;default:return new Date(Date.parse(e)).toLocaleDateString("ru",{month:"short",day:"numeric"})}},Sl=(e,t)=>{if(t){const i=new Date(Date.parse(t));return i.setDate(i.getDate()+e),he(i,"extraWeird")}else{const i=new Date;return i.setDate(i.getDate()+e),he(i,"extraWeird")}},qt=({config:e})=>({title:e.title,data:[{title:"Дата выдачи",type:"date",value:"",editable:!0,fieldName:e.issueDateFieldName,required:!0,minValueInput:Sl(-30*11),maxValueInput:Sl(0)},{title:"Организация, выдавшая справку",type:"textarea",fieldName:e.organizationFieldName,value:"",editable:!0,required:!0}],documents:{files:[],fieldName:e.docsFieldName,required:!0,maxFiles:1,allowedTypes:["pdf"]}}),xs={kvdCert:qt({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}}),fluorographyCert:qt({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}}),vichRwCert:qt({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}}),graftCert:qt({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}})},nt=(e,t)=>{var o;const i=!((o=e.documents)!=null&&o.required)||!!e.documents.files.length,s=Hy(e);return!e.data.find(a=>{var l,c,p,f;if(a.type==="date"&&(a.maxValueInput||a.minValueInput)){const g=new Date((c=(l=a.value)==null?void 0:l.toString())!=null?c:0);if(a.minValueInput){const h=new Date(a.minValueInput);if(g<h)return!0}if(a.maxValueInput){const h=new Date(a.maxValueInput);if(g>h)return!0}}const r=(f=(p=a.value)==null?void 0:p.toString())==null?void 0:f.length;return a.minValueLength&&r&&r<a.minValueLength?!0:t&&a.specialType&&!Object.values(t).includes(a.specialType)?null:a.type!=="checkbox-docs"?!a.value&&a.required:a.required&&!a.items.find(g=>!!g.files.length)})&&i&&s};function Hy(e){if(!e.addNew)return!0;const t=!e.data.length,i=e.default[0].every(s=>{var o;return!s.required||((o=e.optionalCheckbox)==null?void 0:o.value)});return!!(t&&i||!t&&e.data.every(s=>s.every(o=>!o.required||o.value)))}u.div.withConfig({componentId:"sc-1f20f07-0"})(["display:flex;align-items:flex-start;justify-content:center;position:relative;.message{position:absolute;right:",";left:",";top:",";bottom:",";}.circle + .message{top:",";left:",";right:",";bottom:auto;}.circle{min-width:",";min-height:",";background:",";outline:6px solid ",";margin:6px;border-radius:100%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:0.8em;font-weight:bold;cursor:pointer;}"],({direction:e})=>e==="vertical"?"calc(100% + 10px)":"auto",({direction:e})=>"auto",({direction:e})=>e==="vertical"?"0%":"auto",({direction:e})=>e==="vertical"?"auto":"calc(100% + 10px)",({direction:e})=>e==="vertical"?"0%":"calc(100% + 10px)",({direction:e})=>e==="vertical"?"calc(100% + 10px)":"auto",({direction:e})=>e==="vertical"?"100%":"auto",({type:e})=>e==="big"?"30px":"20px",({type:e})=>e==="big"?"30px":"20px",({reached:e,current:t})=>t?"var(--reallyBlue)":e?C.green.main:C.grey.main,({reached:e,current:t})=>t?C.blue.transparent3:e?C.green.transparent3:C.grey.transparent3);const Uy=u.div.withConfig({componentId:"sc-1pl20gt-0"})(["min-width:",";background:var(--almostTransparentOpposite);border-radius:10px;height:",";overflow:hidden;width:100%;.inside-line{height:",";border-radius:10px;width:",";background:",";}"],({direction:e,distance:t})=>e==="vertical"?"5px":(t!=null?t:100)+"px",({direction:e,distance:t})=>e==="vertical"?(t!=null?t:100)+"px":"5px",({direction:e,filled:t})=>e==="vertical"?(t!=null?t:100)+"%":"5px",({direction:e,filled:t})=>e==="vertical"?"100%":(t!=null?t:100)+"%",({reached:e})=>e?C.green.main:"none"),Wy=({distance:e,filled:t,reached:i,direction:s})=>n.jsx(Uy,{direction:s,distance:e,reached:i,filled:t,children:n.jsx("div",{className:"inside-line"})}),Gy=300,ho=({defaultValue:e,onDebounce:t,onClear:i,triggerOn:s,triggerDelay:o,deps:a=[],delay:r=Gy})=>{const[l,c]=d.useState(e!=null?e:""),[p,f]=d.useState(""),[g,h]=d.useState(!1);return d.useEffect(()=>{if(l!==null)if(l.length){h(!0);const m=setTimeout(()=>P(void 0,null,function*(){yield t(l),f(l),h(!1)}),r);return()=>clearTimeout(m)}else p.length!==0&&(i==null||i(l),c(""),h(!1))},[l]),d.useEffect(()=>{var m;if(a.length&&((m=s==null?void 0:s(l))==null||m)){h(!0);const v=setTimeout(()=>P(void 0,null,function*(){yield t(l),h(!1)}),o!=null?o:r);return()=>clearTimeout(v)}},[...a]),[l,c,g]},Ge=(e,t)=>{if(!e.length)return"";const i=t!=null?t:!0,s=e.replace(/\s/g,"").replace(/\$/g,"s").replace(/-/g,"").toLowerCase();return i?s.replace(/[,'._/]/g,""):s},Vd=e=>{const t={a:"ф",b:"и",c:"с",d:"в",e:"у",f:"а",g:"п",h:"р",i:"ш",j:"о",k:"л",l:"д",m:"ь",n:"т",o:"щ",p:"з",q:"й",r:"к",s:"ы",t:"е",u:"г",v:"м",w:"ц",x:"ч",y:"н",z:"я","[":"х","{":"Х","]":"ъ","}":"Ъ","'":"э",";":"ж",",":"б",".":"ю","<":"Б",">":"Ю",":":"Ж",'"':"Э"};let i="";for(let s=0;s<e.length;s++){const o=Ge(e.charAt(s),!1),a=t[o]?s===0?t[o].toUpperCase():t[o]:o;i+=a}return i},qd=e=>/[A-Za-z]/.test(e),Vy=u.span.withConfig({componentId:"sc-fcxzak-0"})(["color:var(--blue);font-weight:500;border-radius:2px;cursor:pointer;&:hover{background:",";}&:focus-visible{background:",";outline:none;}&:focus:not(:focus-visible){outline:none;}"],C.blue.transparent2,C.blue.transparent2),Yd=({value:e,setValue:t,visible:i=!0})=>{if(e.length===0||!i||!qd(e))return null;const s=Vd(e),o=()=>t(s);return n.jsxs(pe,{width:"100%",maxWidth:"100%",onClick:o,children:["Возможно, вы имели в виду ",n.jsx(Vy,{tabIndex:10,children:s})]})};function ni(e,t){d.useEffect(()=>{const i=s=>{const o=e==null?void 0:e.current;!o||o.contains(s.target)||t(s)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}},[e,t])}function Zt(e,t,i=0){return e>t?i:e<i?t:e}const qy=u.div.withConfig({componentId:"sc-19hjk36-0"})(["display:flex;flex-direction:column;row-gap:8px;width:",";position:relative;"],({width:e})=>e!=null?e:"100%"),Yy=u(Gt).withConfig({componentId:"sc-19hjk36-1"})(["position:absolute;top:45px;z-index:10;height:auto;width:100%;left:0;overflow-y:auto;"]),Qy=u.div.withConfig({componentId:"sc-19hjk36-2"})(["padding:8px 12px;width:100%;display:flex;align-items:center;gap:8px;font-weight:",";color:",";background:",";font-size:0.85rem;.icon{display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;}}&:hover{background:",";}"],({selected:e})=>e?"600":"500",({selected:e})=>e?"#fff":"var(--text)",({selected:e})=>e?C.blue.main:"transparent",({selected:e})=>e?C.blue.main:"var(--theme-1)"),ii=({value:e,width:t,placeholder:i,inputAppearance:s,loading:o,hints:a,leftIcon:r,focusOn:l,setValue:c,customMask:p,onHintClick:f,validationCheck:g=!1,size:h="middle"})=>{const[m,v]=d.useState(0),[w,x]=d.useState(!1),j=d.useRef(null),D=d.useRef(null),_=d.useRef(null);ni(j,()=>x(!1)),d.useEffect(()=>{l&&setTimeout(()=>{var z;return(z=_.current)==null?void 0:z.focus()},50)},[l]);const A=z=>{var Q,G,W,U,V;(((Q=a==null?void 0:a.length)!=null?Q:0)>0||o)&&x(!0),z.key==="ArrowDown"?((G=D.current)==null||G.scrollIntoView({block:"start",behavior:"smooth"}),typeof m=="number"&&v(Zt(m+1,((W=a==null?void 0:a.length)!=null?W:1)-1,0))):z.key==="ArrowUp"?((U=D.current)==null||U.scrollIntoView({block:"end",behavior:"smooth"}),typeof m=="number"&&v(Zt(m-1,((V=a==null?void 0:a.length)!=null?V:1)-1,0))):z.key==="Enter"?(a!=null&&a[m!=null?m:0].title&&c(a==null?void 0:a[m!=null?m:0].title),x(!1),f==null||f(a==null?void 0:a[m!=null?m:0])):v(0)},O=z=>()=>{var Q;v(z),c((Q=a==null?void 0:a[z].title)!=null?Q:""),x(!1),f==null||f(a==null?void 0:a[z])},X=()=>{a!=null&&a.length&&x(!0)};return n.jsxs(qy,{width:t,onKeyDown:A,onMouseDown:X,ref:j,children:[n.jsx(Ne,{size:h,value:e,placeholder:i,leftIcon:r!=null?r:n.jsx(Hn,{}),inputAppearance:s,setValue:c,loading:o,width:t,mask:!0,customMask:p,ref:_}),n.jsx(Yd,{setValue:c,value:e,visible:g}),w&&n.jsx(Yy,{height:"fit-content",maxWidth:"100%",maxHeight:"250px",width:"100%",onKeyDown:A,padding:"0",orientation:"vertical",children:a==null?void 0:a.map(({title:z,icon:Q},G)=>{const W=m===G;return n.jsxs(Qy,{onClick:O(G),ref:W?D:null,selected:W,children:[Q&&n.jsx("div",{className:"icon",children:Q}),n.jsx("span",{children:z})]},z+G)})})]})},fo=({whereToSearch:e,searchEngine:t,setResult:i,inputAppearance:s,setExternalValue:o,hints:a,width:r,loadingOnType:l=!1,placeholder:c="Поиск по меню",validationCheck:p=!1})=>{const f=x=>{i(t(x,e))},g=()=>{i(null)},[h,m,v]=ho({onDebounce:f,onClear:g}),w=x=>{m(x),o&&o(x)};return n.jsx(ii,{value:h!=null?h:"",setValue:w,inputAppearance:s,placeholder:c,validationCheck:p,loading:l?v:!1,hints:a,width:r})},Jy=({id:e,isToggled:t,setIsToggled:i})=>n.jsxs(by,{children:[n.jsx("input",{type:"checkbox",name:e,id:e,className:"checkbox",checked:t,onChange:i}),n.jsx("label",{className:"toggle-body",htmlFor:e,children:n.jsx("span",{className:"toggle-circle"})})]}),Qd=u.div.withConfig({componentId:"sc-54ypew-0"})(["width:8px;height:8px;border-radius:100%;margin:3px;"]),Ky=u(Qd).withConfig({componentId:"sc-54ypew-1"})(["background:var(--almostTransparentOpposite);"]),Xy=u(Qd).withConfig({componentId:"sc-54ypew-2"})(["transition:0.2s;left:0;position:absolute;background:",";transform:",";"],({color:e})=>C[e!=null?e:"blue"].main,({current:e})=>`translateX(${e*16}px)`),Jd=({amount:e,current:t,color:i,direction:s="horizontal"})=>isNaN(e)||e<=1?null:n.jsxs(Be,{direction:s,gap:2,width:"fit-content",minWidth:"fit-content",verticalAlign:"center",horizontalAlign:"center",children:[Array(e).fill(0).map((o,a)=>n.jsx(Ky,{},a)),n.jsx(Xy,{color:i,current:t})]}),Zy=u.div.withConfig({componentId:"sc-18zd6l5-0"})(["display:flex;flex-direction:column;justify-content:center;"]),e1=({checkbox:e,loadfile:t,docVisible:i})=>n.jsxs(Zy,{children:[n.jsx(wt,b({},e)),i&&n.jsx(ir,b({},t))]}),t1=u.div.withConfig({componentId:"sc-1ml0vvo-0"})(["width:100%;display:flex;align-items:center;gap:5px;flex-direction:column;.date-interval-inputs{width:100%;display:flex;align-items:center;gap:10px;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),Kd=({title:e,required:t,dates:i,setDates:s,valid:o,setValid:a,diff:r,minValue:l})=>{if(d.useEffect(()=>{a(new Date(i[0])<=new Date(i[1])||!i[0].length||!i[1].length)},[i]),r!=null){const c=new Date(i[0]),p=new Date(c);p.setDate(c.getDate()+r),i[1]=he(p,"extraWeird")}return n.jsxs(t1,{children:[n.jsx($,{size:5,align:"left",visible:!!e,required:t,children:e}),n.jsx(ce,{title:"Внимание",type:"alert",icon:n.jsx(Ci,{}),visible:!o,children:"Дата начала не может быть больше даты конца"}),n.jsxs("div",{className:"date-interval-inputs",children:[n.jsx(Ne,{value:i[0],danger:!o,setValue:c=>s([c,i[1]]),type:"date",minValue:l}),n.jsx(Ne,{value:i[1],setValue:c=>s([i[0],c]),type:"date",danger:!o})]})]})},Xi=()=>{const[e,t]=d.useState({width:0,height:0}),i=()=>{t({width:window.innerWidth,height:window.innerHeight})};return d.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]),e},n1=(e,t)=>{var w,x,j,D,_;const{width:i}=Xi(),s=d.useRef(null),[o,a]=d.useState(!1),[r,l]=d.useState(!1),[c,p]=d.useState(0),[f,g]=d.useState(0),h=(x=(w=s.current)==null?void 0:w.clientWidth)!=null?x:1,m=Math.ceil(((D=(j=s.current)==null?void 0:j.scrollWidth)!=null?D:0)/(h+(e!=null?e:0)));return d.useEffect(()=>{s.current&&(s.current.scrollLeft=c,s.current.clientWidth<s.current.scrollWidth?(a(!0),l(!0)):(l(!1),a(!1)))},[c,(_=s.current)==null?void 0:_.clientWidth,i,t]),{listRef:s,leftArrow:o,rightArrow:r,setScrollLeft:p,pageOffset:h,amountOfPages:m,currentPage:f,setCurrentPage:g,handleScroll:A=>{g(Math.ceil(A.currentTarget.scrollLeft/(h+(e!=null?e:0))))}}},i1=e=>{const je=e,{title:t,children:i,gap:s,width:o,height:a,padding:r,fontSize:l,wrap:c,onAdd:p,onWatchMore:f,onDelete:g,showPages:h,innerPadding:m,minWidth:v,wrapOnMobile:w,position:x,direction:j="vertical",verticalAlign:D="top",horizontalAlign:_="left",scroll:A=!0,visible:O=!0,forwardedRef:X}=je,z=lt(je,["title","children","gap","width","height","padding","fontSize","wrap","onAdd","onWatchMore","onDelete","showPages","innerPadding","minWidth","wrapOnMobile","position","direction","verticalAlign","horizontalAlign","scroll","visible","forwardedRef"]);if(!O)return null;const{listRef:Q,leftArrow:G,rightArrow:W,handleScroll:U,setScrollLeft:V,pageOffset:ae,amountOfPages:Ae,currentPage:Le}=n1(s,i);return n.jsxs(Tb,{ref:X,padding:r,position:x,width:o,minWidth:v,height:a,children:[n.jsxs($,{size:4,align:"left",bottomGap:!0,visible:!!t,width:"calc(fit-content + 50px)",children:[t,p&&n.jsx(S,{icon:n.jsx(jn,{}),width:"35px",height:"15px",background:C.grey.transparent3,textColor:"var(--reallyBlue)",onClick:p}),f&&n.jsx(S,{width:"50px",height:"15px",background:C.blue.transparent3,textColor:C.blue.light1,onClick:f,text:"Ещё"}),g&&n.jsx(S,{width:"fit-content",height:"15px",background:C.grey.transparent3,textColor:"var(--reallyBlue)",onClick:g,text:"Удалить"})]}),n.jsx(lo,T(b({verticalAlign:D,horizontalAlign:_,direction:j,ref:Q,gap:s,width:o,height:a,fontSize:l,wrap:c,innerPadding:m,scroll:A,wrapOnMobile:w,onScroll:U},z),{children:i})),(W||G)&&n.jsxs("div",{className:"bottom-wrapper",children:[G&&n.jsx(S,{background:"transparent",minWidth:"40px",height:"25px",icon:n.jsx(ei,{}),className:"left-button",textColor:C.grey.main,onClick:()=>{V(De=>{var rt,zt;return Zt(De-ae-(s!=null?s:0),(zt=(rt=Q.current)==null?void 0:rt.scrollWidth)!=null?zt:0)})}}),h&&n.jsx(Jd,{direction:"horizontal",current:Le,amount:Ae}),W&&n.jsx(S,{background:"transparent",minWidth:"40px",height:"25px",icon:n.jsx(Pt,{}),className:"right-button",textColor:C.grey.main,onClick:()=>{V(De=>{var rt,zt;return Zt(De+ae+(s!=null?s:0),(zt=(rt=Q.current)==null?void 0:rt.scrollWidth)!=null?zt:0)})}})]})]})},Be=me.memo(i1),s1=e=>e*1024*1024,o1=(e,t)=>{var i;return((i=t==null?void 0:t.map(s=>fl[s]))!=null?i:Object.values(fl)).indexOf(e.type)!==-1},Xd="jpg, png, pdf",Il=(e,t,i,s,o=sv)=>{var a;if(i&&t.length+e.length>i)return Y.evokePopUpMessage({message:`Нельзя загрузить больше ${i} файлов`,type:"failure"}),t;for(let r=0;r<e.length;r++)return o1(e[r],s)?e[r].size>s1(o)?(Y.evokePopUpMessage({message:`Размер файла слишком большой. Максимальный размер файла: ${o} MB`,type:"failure",time:1e4}),t):[...t,e[r]]:(console.log(e[r]),Y.evokePopUpMessage({message:`Неверный формат файла. Доступные форматы: ${(a=s==null?void 0:s.map(l=>l).join(", "))!=null?a:Xd}`,type:"failure",time:5e3}),t)},a1=u.label.withConfig({componentId:"sc-1j2y5lo-0"})(["width:100%;min-height:150px;border-radius:var(--brLight);transition:0.2s border;border:",";background:",";display:flex;justify-content:center;align-items:center;flex-direction:column;cursor:",";pointer-events:",";opacity:",";position:relative;.info{display:flex;flex-wrap:wrap;gap:5px;padding:4px;border-radius:var(--brLight);background:red;pointer-events:none;width:calc(100% + 6px);.info-item{padding:5px 10px;background:var(--block);border-radius:5px;display:flex;align-items:center;justify-content:center;font-size:0.7em;font-weight:600;pointer-events:none;}}input[type='file']{display:none;}.message{display:flex;justify-content:center;align-items:center;flex-direction:column;opacity:0.7;color:var(--text);pointer-events:none;b{font-weight:600;margin-bottom:4px;}.front-icon{z-index:2;}.icons-behind{z-index:1;position:absolute;filter:grayscale(1);opacity:0.7;transform:scale(0.8);& .icon-1{opacity:0;animation:",";}& .icon-2{opacity:0;animation:",";}@keyframes behind-1{0%{opacity:0;transform:translate(10px,-15px) rotate(0deg);}100%{opacity:1;transform:translate(-3px,-15px) rotate(-10deg);}}@keyframes behind-2{0%{opacity:0;transform:translate(-10px,-15px) rotate(0deg);}100%{opacity:1;transform:translate(3px,-15px) rotate(10deg);}}}svg{width:40px;height:40px;margin-bottom:10px;transition:0.2s;animation:",";@keyframes jumping{0%{transform:translateY(0%);}100%{transform:translateY(-5%) scale(1.1);}}}}"],({showPulse:e})=>e?`2px dashed ${C.blue.main}`:`2px dashed ${C.grey.main}`,({showPulse:e})=>e?C.blue.transparent3:"",({isActive:e})=>e&&"pointer",({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.4,({showPulse:e})=>e?"behind-1 0.5s forwards":"",({showPulse:e})=>e?"behind-2 0.5s forwards":"",({showPulse:e})=>e?"jumping 1s forwards":""),xt=({words:e})=>{if(!e.length)return null;const t=e.filter(i=>i.length!==0);return n.jsx(n.Fragment,{children:t.map((i,s)=>i+(s===t.length-1?"":" • "))})},r1=({files:e,maxFiles:t,setFiles:i,isActive:s,formats:o,maxFileSizeInMegaBytes:a})=>{const r=d.useRef(null),[l,c]=d.useState(!1),p=v=>{const w=v.target.files;w!=null&&w.length&&i(Il(w,e,t,o,a))},f=v=>{v.preventDefault()},g=v=>{v.preventDefault(),c(!1);const w=v.dataTransfer.files;w.length&&i(Il(w,e,t,o,a))},h=v=>{v.preventDefault(),c(!0)},m=v=>{v.preventDefault(),c(!1)};return n.jsxs(a1,{isActive:s,showPulse:l,onDragOver:v=>s&&f(v),onDragEnter:v=>s&&h(v),onDragLeave:v=>s&&m(v),onDrop:v=>s&&g(v),topPadding:!!t,children:[n.jsx("input",{type:"file",name:"",id:"",ref:r,onChange:p,accept:o==null?void 0:o.map(v=>`.${v}`).join(", ")}),n.jsxs("div",{className:"message",children:[n.jsx(Go,{className:"front-icon"}),n.jsxs("div",{className:"icons-behind",children:[n.jsx(Go,{className:"icon-1"}),n.jsx(Go,{className:"icon-2"})]}),n.jsx("b",{children:"Нажмите сюда или перетащите файл"}),n.jsx(pe,{align:"center",children:n.jsx(xt,{words:[`Форматы: ${o?o.join(", "):Xd}`,t?`Макс. файлов: ${t}`:""]})})]})]})},l1=e=>{if(e===0)return"0 Bytes";const t=1024,i=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+i[s]},c1=(e,t,i)=>(e.preventDefault(),e.stopPropagation(),[...i.filter(o=>o.name!==t)]),d1=u.div.withConfig({componentId:"sc-pc8war-0"})(["width:100%;padding:6px;display:flex;justify-content:space-between;align-items:center;background:",";border-radius:var(--brLight);.loading-circle{position:relative;transform:none;left:auto;top:auto;width:20px;height:20px;}.file-body{display:flex;gap:8px;align-items:center;cursor:pointer;.name-and-size{display:flex;flex-direction:column;.file-name{font-size:0.8em;word-break:break-all;}}.image-container{padding:8px;display:flex;align-items:center;justify-content:center;background:var(--theme);border-radius:var(--brLight);svg{width:20px;height:20px;}}}"],C.grey.transparent3),p1=({file:e,files:t,setFiles:i})=>{const{open:s}=K(),o=(r,l)=>{r.preventDefault(),r.stopPropagation();const c=new FileReader;c.onloadend=()=>{s(n.jsx(Xa,{src:c.result,loading:!1,width:"500px",height:""}))},l&&c.readAsDataURL(l)},a=r=>it.evokeConfirm({message:"Вы уверены, что хотите удалить файл?",onConfirm:()=>i(c1(r,e.name,t))});return n.jsxs(d1,{onClick:r=>r.preventDefault(),children:[n.jsxs("div",{className:"file-body",onClick:r=>e.type.includes("image")&&o(r,e),children:[n.jsx("div",{className:"image-container",children:e.type.includes("image")?n.jsx(qm,{}):n.jsx(Ps,{})}),n.jsxs("div",{className:"name-and-size",children:[n.jsx("b",{className:"file-name",children:e.name}),n.jsx(pe,{fontSize:"0.7em",children:l1(e.size)})]})]}),n.jsx(S,{icon:n.jsx(Ut,{}),height:"30px",width:"30px",background:"transparent",onClick:a})]})},nr=({files:e,setFiles:t,hideHeader:i,className:s})=>{const o=i?{}:{title:"Список файлов",visible:!!e.length,onDelete:()=>{it.evokeConfirm({message:"Вы уверены, что хотите удалить все файлы?",onConfirm:()=>t([])})}};return n.jsx(Be,T(b({},o),{className:s,children:e.map(a=>n.jsx(p1,{file:a,files:e,setFiles:t},a.name))}))},ir=e=>n.jsxs(Be,{gap:12,children:[n.jsx(r1,b({},e)),n.jsx(nr,{files:e.files,setFiles:e.setFiles})]}),u1=({documents:e,optionalCheckbox:t,data:i,setData:s,optional:o,collapsed:a,confirmed:r,defaultOpenArea:l})=>{const[c,p]=d.useState(r===void 0),[f,g]=d.useState(!a),[h,m]=d.useState(!1),v=()=>{if(i[0]===void 0&&!(t!=null&&t.value)&&(t!=null&&t.required))return Y.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3});Array.isArray(i[0])?e?t!=null&&t.required?e.files.length&&e.required||t.value?(s(_=>(_.confirmed=!0,b({},_))),p(!1),g(!1)):Y.evokePopUpMessage({message:"Необходимо загрузить файл. Если у вас нет соответствующего документа, отметье это галочкой",type:"failure",time:5e3}):!c&&!i.find(_=>!!_.find(A=>!A.value&&A.required))||t!=null&&t.value&&!e.required||e.files.length||!e.required?(s(_=>(_.confirmed=!0,b({},_))),p(!1),g(!1)):Y.evokePopUpMessage({message:"Необходимо загрузить файл",type:"failure",time:5e3}):t!=null&&t.value&&t.required||!i.length||!i.find(_=>!!_.find(A=>!A.value&&A.required))&&!i.find(_=>!!_.find(A=>{var O;return A.value.id==="not-chosen"&&!!((O=A.items)!=null&&O.length)}))?(s(_=>(_.confirmed=!0,b({},_))),p(!1),g(!1)):Y.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3}):e?t!=null&&t.required?e.files.length&&e.required||t.value?(s(_=>(_.confirmed=!0,b({},_))),p(!1),g(!1)):Y.evokePopUpMessage({message:"Необходимо загрузить файл. Если у вас нет соответствующего документа, отметьте это галочкой",type:"failure",time:5e3}):!c&&!i.find(_=>!_.value&&_.required)||t!=null&&t.value&&!e.required||e.files.length||!e.required?(s(_=>(_.confirmed=!0,b({},_))),p(!1),g(!1)):Y.evokePopUpMessage({message:"Необходимо загрузить файл",type:"failure",time:5e3}):t!=null&&t.value&&t.required||!i.find(_=>!_.value&&_.required)&&!i.find(_=>{var A;return _.value===null&&!!((A=_.items)!=null&&A.length)})?(s(_=>(_.confirmed=!0,b({},_))),p(!1),g(!1)):Y.evokePopUpMessage({message:"Не все необходимые поля заполнены",type:"failure",time:5e3})},w=()=>{s(_=>{const A=_.default[0].map(O=>{var X;return{fieldName:(X=O.fieldName)!=null?X:"",title:O.title,value:O.type==="select"&&(O!=null&&O.items)?null:"",type:O.type,items:O.items,width:O.width,required:O.required,isSpecificSelect:O.isSpecificSelect}});return T(b({},_),{data:[..._.data,A]})})},x=_=>{s(A=>{const O=A.data.filter((X,z)=>_!==z);return T(b({},A),{data:O})})},j=_=>{s(A=>(A.documents&&(A.documents.files=[..._]),b({},A)))},D=()=>{t&&(t.value=!t.value),s(_=>T(b({},_),{optionalCheckbox:t}))};return d.useEffect(()=>{g(!h&&o?!1:a?!a:!!l)},[h,a]),{openArea:f,changeInputArea:c,included:h,setOpenArea:g,setIncluded:m,setChangeInputArea:p,handleRemove:x,handleAddNew:w,handleLoadFiles:j,handleConfirm:v,handleCheckbox:D}},h1=u.div.withConfig({componentId:"sc-mwppph-0"})(["width:100%;display:flex;flex-direction:column;transition:0.2s row-gap;row-gap:",";.inputs{display:flex;flex-direction:column;row-gap:15px;transition:0.2s height,0.2s opacity,0.2s visibility;height:",";opacity:",";visibility:",";.data-line{display:flex;align-items:flex-end;column-gap:5px;}}"],({openArea:e})=>e?"15px":"0",({openArea:e})=>e?"auto":"0",({openArea:e})=>e?"1":"0",({openArea:e})=>e?"visible":"hidden"),pa=(e,t)=>{const i=e.find(s=>s.id.toString()===t[0]);return t.length&&(i!=null&&i.children)?(t.shift(),pa(i.children,t)):i?i.children:e},f1=e=>{const{items:t,setSelected:i,onClick:s,selected:o,appearance:a=!0,multiple:r=!1,withSearch:l}=e,[c,p]=d.useState(""),[f,g]=d.useState(!1),h=d.useRef(null),m=d.useRef(null),[v,w]=d.useState([]),[x,j]=d.useState(t),[D,_]=d.useState(x),[A,O]=d.useState("");d.useEffect(()=>{j(t)});const X=d.useCallback(()=>{g(U=>!U)},[g]),z=d.useCallback(U=>{var V;if(U.children)v.push(U.id.toString()),j((V=pa(t,[...v]))!=null?V:[]),w([...v]);else{if(r)if(o)if(o.find(ae=>ae.id===U.id)){const ae=o.filter(Ae=>Ae.id!==U.id);ae.length?i(ae):i(null)}else i([...o,U]);else i([U]);else i(U),l&&p(U.title);!r&&X(),O(v.join("/"))}s==null||s(U)},[i,v]),Q=d.useCallback(()=>{var U;v.pop(),w([...v]),v.length===0?j(t):j((U=pa(t,v))!=null?U:[])},[v,j]);ni(h,()=>{f&&X()}),d.useEffect(()=>{if(!l||!c){_(x);return}const U=setTimeout(()=>{_(x.filter(V=>V.title.toLowerCase().includes(c.toLowerCase())))},300);return()=>{clearTimeout(U)}},[x,c,l]);const G=d.useCallback(()=>{i(null),g(!1)},[]),W=d.useCallback(U=>{i(null),p(U),g(!0)},[]);return d.useEffect(()=>{r||p(o?o.title:"")},[o]),{handleOpen:X,refElement:h,isOpen:f,multiple:r,handleSelect:z,selectedRoute:A,currentItems:D,route:v,goBack:Q,refItems:m,appearance:a,searchQuery:c,changeQuery:W,clearQuery:G}},g1=u.div.withConfig({componentId:"sc-1fwtyz-0"})(["display:flex;justify-content:space-between;align-items:center;min-height:",";padding:",";box-shadow:",";position:relative;background:var(--block-content);border-radius:6px;overflow:hidden;&:hover{filter:brightness(0.98);}"],It(Ls),({multiple:e})=>e?"5px 10px 5px 5px":"5px 10px",({appearance:e})=>e&&"var(--block-content-shadow)"),m1=u.div.withConfig({componentId:"sc-ij5vqu-0"})(["max-width:",";width:100%;min-width:50px;min-height:",";position:relative;user-select:none;font-weight:599;white-space:nowrap;font-size:",";z-index:",";opacity:",";pointer-events:",";color:var(--text);cursor:pointer;transition:0.3s;&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:active{transform:translateY(3px);}"],({width:e})=>e!=null?e:"155px",It(Ls),({appearance:e})=>e&&"0.9em",({isOpen:e})=>e?5:2,({isActive:e})=>!e&&.7,({isActive:e})=>!e&&"none"),x1=u.header.withConfig({componentId:"sc-lxnhqo-0"})(["display:flex;align-items:center;width:calc(100% - 15px);column-gap:5px;overflow-x:auto;&::-webkit-scrollbar{display:none;}.single-header,.header-item{display:flex;align-items:center;}.header-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;}.not-chosen{font-size:",";opacity:",";&.multi{margin-left:5px;}}.header-item{background:",";color:",";border-radius:6px;padding:5px 10px;font-size:0.85em;min-width:fit-content;}.select-icon{float:left;display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}"],({appearance:e})=>e&&"0.9em",({appearance:e})=>e&&"0.6",C.blue.transparent2,C.blue.main),v1=u.ul.withConfig({componentId:"sc-qv0atr-0"})(["max-width:",";width:100%;min-width:50px;min-height:60px;position:absolute;top:",";box-shadow:var(--very-mild-shadow);border-radius:6px;background:var(--block-content);user-select:none;max-height:250px;overflow-y:auto;overflow-x:hidden;opacity:0;transition:0.2s opacity,0.2s visibility,0.2s top,height 0.3s;&.open{opacity:1;visibility:visible;top:",";}&.close{opacity:0;visibility:hidden;display:none;top:36px;}"],({width:e})=>e!=null?e:"155px",({title:e})=>e?"80px":"46px",({title:e})=>e?"60px":"46px"),Yo=u.li.withConfig({componentId:"sc-8p0565-0"})(["list-style-type:none;background:var(",");color:",";min-height:30px;padding:5px 10px;display:flex;align-items:center;justify-content:space-between;.icon{display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}.select-item-title{overflow:hidden;white-space:pre-line;width:100%;text-overflow:ellipsis;}animation:fadeIn 0.4s forwards;&::before{content:'';display:block;position:absolute;margin-top:auto;margin-bottom:auto;margin-left:-7px;min-width:",";height:5px;border-radius:10px;background:var(--reallyBlue);}.back-button{display:flex;align-items:center;justify-content:flex-start;color:var(--blue);transition:0.2s transform;&:active{transform:translateX(-20px);}}@keyframes fadeIn{0%{opacity:0;transform:scale(1.04);}100%{opacity:1;transform:scale(1);}}"],({isSelected:e})=>e?"--reallyBlue":"",({isSelected:e})=>e?"#fff":"",({leadingToSelected:e})=>e?"5px":"0px"),b1=["isOpen"],y1=u(Ym).withConfig({shouldForwardProp:e=>!b1.includes(e)}).withConfig({componentId:"sc-4j7s4z-0"})(["transition:0.3s;min-width:15px;transform:rotateZ(",");"],({isOpen:e})=>e?"0deg":"180deg"),w1=e=>{const{handleOpen:t,refElement:i,isOpen:s,multiple:o,handleSelect:a,selectedRoute:r,currentItems:l,route:c,goBack:p,refItems:f,appearance:g,searchQuery:h,changeQuery:m,clearQuery:v}=f1(e),{isActive:w,width:x,title:j,required:D,selected:_,placeholder:A,size:O="middle",withSearch:X}=e,z=d.useRef(null);return n.jsxs(m1,{onClick:t,appearance:g,ref:i,isOpen:s,isActive:w!=null?w:!0,width:x,size:O,children:[n.jsx($,{size:4,align:"left",bottomGap:"5px",visible:!!j,required:D,children:j}),n.jsxs(g1,{multiple:o,appearance:g,size:O,children:[n.jsx(x1,{appearance:g,children:o?_?_.map(Q=>n.jsxs("div",{className:"header-item",children:[!!Q.icon&&n.jsx("span",{className:"icon",children:Q.icon}),n.jsx("span",{className:"header-title",children:Q.title})]},Q.id)):n.jsx("span",{className:"not-chosen multi",children:A!=null?A:"Не выбрано"}):X?n.jsx(Ne,{ref:z,inputAppearance:!1,isActive:w,value:h,setValue:m,onClear:()=>{var Q;(Q=z.current)==null||Q.focus(),v()},placeholder:A}):n.jsx("div",{className:"single-header",children:_?n.jsxs(n.Fragment,{children:[!!_.icon&&n.jsx("span",{className:"select-icon",children:_.icon}),n.jsx("span",{className:"header-title",children:_.title})]}):n.jsx("span",{className:"not-chosen",children:A!=null?A:"Не выбрано"})})}),n.jsx(y1,{isOpen:s})]}),n.jsxs(v1,{width:x,ref:f,isOpen:s,className:s?"open":"close",itemsAmount:l.length+(c.length?1:0),title:j,children:[!!c.length&&n.jsx(Yo,{isSelected:!1,onClick:Q=>{Q.stopPropagation(),p()},children:n.jsxs("span",{className:"back-button",children:[n.jsx(ei,{}),"Назад"]})},-1),l.length?l.map(({id:Q,icon:G,title:W,children:U,data:V})=>n.jsxs(Yo,{onClick:ae=>{ae.stopPropagation(),a({id:Q,icon:G,title:W,children:U,data:V})},isSelected:!o&&!!_&&(_.id?Q===_.id:W===_.title),leadingToSelected:r.includes(Q.toString()),children:[!!G&&n.jsx("span",{className:"icon",children:G}),n.jsx("span",{className:"select-item-title",children:W}),!!U&&n.jsx("span",{className:"right-icon",children:n.jsx(Pt,{})}),o&&!!_&&!!_.find(ae=>ae.title.includes(W))&&n.jsx("span",{className:"right-icon",children:n.jsx(Qi,{})})]},Q!=null?Q:W)):n.jsx(Yo,{onClick:Q=>{Q.stopPropagation()},isSelected:!1,children:n.jsx("span",{className:"select-item-title",children:"Не найдено"})})]})]})},sr=d.memo(w1),j1=u.div.withConfig({componentId:"sc-1p4newz-0"})(["padding:0px 12px;height:45px;width:100%;min-width:fit-content;display:flex;align-items:center;border-radius:var(--brLight);opacity:",";pointer-events:",";.icon{width:22px;height:22px;margin-right:10px;display:flex;justify-content:center;align-items:center;svg{width:22px;height:22px;opacity:0.4;}}& > label{display:flex;align-items:center;justify-content:space-between;width:100%;user-select:none;cursor:pointer;min-width:fit-content;gap:8px;b{color:var(--text);opacity:0.7;font-weight:500;font-size:0.85rem;}}&:hover{background:var(--theme-1);}"],({disabled:e})=>e?"0.5":"1",({disabled:e})=>e?"none":"all"),We=({title:e,state:t,action:i,icon:s,disabled:o})=>{const a=()=>{i(!t)};return n.jsxs(j1,{disabled:o,children:[s&&n.jsx("div",{className:"icon",children:s}),n.jsxs("label",{children:[n.jsx("b",{children:e}),n.jsx(Jy,{id:e,isToggled:t,setIsToggled:a},e)]})]},e)};u.div.withConfig({componentId:"sc-teqowe-0"})(["width:100%;h2{margin-top:10px;}"]);const _1=u.div.withConfig({componentId:"sc-51ymr4-0"})([""]),k1=({title:e,items:t,setChecked:i,setFiles:s})=>n.jsxs(_1,{children:[n.jsx($,{size:5,align:"left",bottomGap:!0,children:e}),t.map(({value:o,title:a,files:r,maxFiles:l,checkboxCondition:c,maxFileSizeInMegaBytes:p},f)=>n.jsx(e1,{checkbox:{checked:o,setChecked:()=>i(o,f),text:a},loadfile:{files:r,maxFiles:l,maxFileSizeInMegaBytes:p,isActive:!0,setFiles:g=>s(g,f)},docVisible:c==="straight"?o:!o},a))]}),C1=({title:e,buttons:t,required:i=!1,current:s,setCurrent:o,isSpecificRadio:a=!1})=>n.jsxs("div",{children:[n.jsx($,{visible:!!e,size:5,align:"left",bottomGap:!0,required:i,children:e}),n.jsxs(Be,{children:[!a&&n.jsx(wt,{text:"Не выбрано",checked:s===null,setChecked:()=>o(null)},-1),t.map(r=>{const{id:l,title:c}=r;return n.jsx(wt,{text:c,checked:l===(s==null?void 0:s.id),setChecked:()=>o({id:l,title:a?l.toString():c})},l)})]})]}),S1=u.div.withConfig({componentId:"sc-1ywubg9-0"})(["width:100%;text-align:start;margin-top:-10px;margin-bottom:10px;.title{font-size:0.83em;font-weight:bold;}.value{font-size:0.83em;padding-left:10px;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),I1=({title:e,value:t,visible:i})=>i?n.jsxs(S1,{children:[n.jsxs("span",{className:"title",children:[e,":"]})," ",n.jsx("span",{className:"value",children:t})]}):null,T1=u.div.withConfig({componentId:"sc-n6paow-0"})(["transition:0.1s;opacity:",";transform:scale(",");display:flex;align-items:center;opacity:",";.hr-checkbox-text{user-select:none;white-space:pre-wrap;font-size:0.75em;}svg{color:var(--reallyBlue);background:var(--theme);border-radius:100%;padding:2px;}"],({invisibleOnFalse:e,checked:t})=>e?t?1:0:1,({invisibleOnFalse:e,checked:t})=>e?t?1:.8:1,({isActive:e})=>!e&&.7),E1=({text:e,checked:t,setChecked:i,visible:s=!0,isActive:o=!0,invisibleOnFalse:a=!1})=>s?n.jsxs(T1,{checked:t,invisibleOnFalse:a,onClick:()=>{o&&i(!t)},isActive:o,className:"checkbox",children:[n.jsx(S,{width:"25px",height:"25px",onClick:()=>null,icon:t||a?n.jsx(Qm,{style:{maxWidth:"20px",width:"20px",height:"20px",maxHeight:"20px"}}):n.jsx(Ic,{style:{maxWidth:"20px",width:"20px",height:"20px",maxHeight:"20px"}}),background:"transparent"}),e&&n.jsx("div",{className:"hr-checkbox-text",children:e})]}):null,P1=u.div.withConfig({componentId:"sc-12u5ru-0"})(["width:100%;text-align:start;margin-top:5px;margin-bottom:15px;.title{font-size:1em;font-weight:bold;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),A1=({title:e,visible:t})=>t?n.jsx(P1,{children:n.jsx("span",{className:"title",children:e})}):null,D1=u.div.withConfig({componentId:"sc-fko9m3-0"})(["display:flex;flex-direction:column;justify-content:space-between;position:relative;width:",";min-width:",";pointer-events:",";opacity:",";.left-icon{position:absolute;left:7px;top:55%;transform:translateY(-50%);color:var(--text);opacity:0.4;}.message{margin-bottom:5px;}input{border:none;color:var(--text);outline:none;background:",";height:100%;width:100%;padding:10px;font-weight:bold;border-radius:7px;padding-left:",";padding-right:",";max-height:36px;border:",";&::placeholder{font-weight:500;}&:focus-visible{outline:",";}&:focus:not(:focus-visible){outline:none;}}button{position:absolute;bottom:5px;right:5px;width:25px;height:25px;border-radius:5px;background:var(--search2);color:var(--text);padding:0;&:active{transform:scale(1);}svg{width:15px;height:15px;}}"],({width:e})=>e!=null?e:"100%",({minWidth:e,width:t})=>e!=null?e:t,({isActive:e})=>!e&&"none",({isActive:e})=>!e&&.7,({inputAppearance:e})=>e?"var(--search)":"transparent",({leftIcon:e,inputAppearance:t})=>e?"30px":t?"10px":"0",({inputAppearance:e})=>e?"35px":"0",({danger:e})=>e&&`2px solid ${C.red.main}`,({inputAppearance:e})=>e&&"4px solid var(--almostTransparentOpposite)"),N1=u.ul.withConfig({componentId:"sc-fko9m3-1"})(["max-width:",";width:100%;min-width:50px;z-index:5;cursor:pointer;min-height:60px;position:absolute;top:",";box-shadow:var(--light-box-shadow);border-radius:var(--brLight);background:var(--block);user-select:none;max-height:250px;overflow-y:auto;overflow-x:hidden;opacity:0;transition:0.2s opacity,0.2s visibility,0.2s top,height 0.3s;&.open{opacity:1;visibility:visible;top:",";}&.close{opacity:0;visibility:hidden;top:36px;}"],({width:e})=>e!=null?e:"155px",({title:e})=>e?"80px":"46px",({title:e})=>e?"60px":"46px"),O1=u.li.withConfig({componentId:"sc-fko9m3-2"})(["list-style-type:none;background:var(",");color:",";min-height:30px;padding:5px 10px;display:flex;align-items:center;justify-content:space-between;.icon{display:flex;align-items:center;justify-content:flex-start;margin-right:5px;}.select-item-title{overflow:hidden;white-space:pre-line;width:100%;text-overflow:ellipsis;}animation:fadeIn 0.4s forwards;&::before{content:'';display:block;position:absolute;margin-top:auto;margin-bottom:auto;margin-left:-7px;min-width:",";height:5px;border-radius:10px;background:var(--reallyBlue);}.back-button{display:flex;align-items:center;justify-content:flex-start;color:var(--blue);transition:0.2s transform;&:active{transform:translateX(-20px);}}@keyframes fadeIn{0%{opacity:0;transform:scale(1.04);}100%{opacity:1;transform:scale(1);}}"],({isSelected:e})=>e?"--reallyBlue":"",({isSelected:e})=>e?"#fff":"",({leadingToSelected:e})=>e?"5px":"0px"),L1=({value:e,setValue:t,leftIcon:i,title:s,required:o,width:a,minWidth:r,placeholder:l="Начните ввод...",danger:c,isActive:p=!0,inputAppearance:f=!0,suggestions:g})=>{const[h,m]=d.useState([]),[v,w]=d.useState(!0);return d.useEffect(()=>{if(e){const x=g.filter(j=>j.toLowerCase().includes(e.toLowerCase()));m(x)}else m([])},[e,g]),n.jsxs(D1,{leftIcon:!!i,isActive:p,inputAppearance:f,width:a,danger:c,minWidth:r,children:[n.jsx($,{size:5,align:"left",visible:!!s,bottomGap:"5px",required:o,children:s}),n.jsxs("div",{children:[n.jsx("input",{type:"text",value:e,onChange:x=>{t(x.target.value),w(!0)},placeholder:l}),h.length>0&&n.jsx(N1,{width:"100%",isOpen:v,className:v?"open":"close",itemsAmount:h.length,title:s,children:h.map((x,j)=>n.jsx(O1,{isSelected:!1,onClick:()=>{t(x),m([]),w(!1)},children:x},j))})]})]})},z1=u.div.withConfig({componentId:"sc-xn9fqk-0"})(["width:100%;text-align:start;margin-top:-20px;margin-bottom:-10px;padding:10px;.title{font-size:0.83em;font-weight:bold;color:#e27992;}@media (max-width:400px){.date-interval-inputs{flex-direction:column;}}"]),R1=({title:e,visible:t})=>t?n.jsx(z1,{children:n.jsx("span",{className:"title",children:e})}):null,Tl=e=>{const{value:t,required:i,width:s,indexI:o,indexJ:a,type:r,suggestions:l,items:c,title:p,documents:f,changeInputArea:g,setData:h,mask:m,customMask:v,editable:w,placeholder:x,autocomplete:j,isSpecificRadio:D,specialType:_,specialFieldsNameConfig:A,minValueInput:O,maxValueInput:X,minValueLength:z,maxValueLength:Q,diff:G,visible:W=!0,onChange:U,onKeyPress:V,onBlur:ae,onKeyDown:Ae,onKeyUp:Le,onFocus:je}=e,De=w!=null?w:g&&!f,[rt,zt]=d.useState(!0),Rt=(te,we,Ue)=>{U==null||U(te),h(ze=>(Array.isArray(ze.data[0])?ze.data[we][Ue!=null?Ue:0].value=te:ze.data[we].type==="checkbox-docs"?(ze.data[we].items[Ue!=null?Ue:0].value=!!te,ze.data[we].value=!0):ze.data[we].value=te,b({},ze)))},di=(te,we,Ue)=>{U==null||U(te),h(ze=>(Array.isArray(ze.data[0])?ze.data[we][Ue!=null?Ue:0].value=te:ze.data[we].value=te,b({},ze)))},pi=(te,we,Ue)=>{h(ze=>(ze.data[we].items[Ue!=null?Ue:0].files=te,b({},ze)))},sl=te=>{U==null||U(te),h(we=>(we.data[o].value=te,b({},we)))},fs=te=>{U==null||U(te),V==null||V(te),ae==null||ae(te),Ae==null||Ae(te),Le==null||Le(te),je==null||je(te),h(we=>(we.data[o].value=te,b({},we)))};return A&&_&&!Object.values(A).includes(_)?null:r!=="select"&&r!=="multiselect"||!c?r==="checkbox"?n.jsx(wt,{text:p,isActive:De,checked:t,setChecked:te=>Rt(te,o,a)}):r==="hr-checkbox"?n.jsx(E1,{text:p,isActive:De,checked:t,setChecked:te=>Rt(te,o,a)}):r==="auto-complete-input"?n.jsx(L1,{title:p,suggestions:l!=null?l:[],required:i,value:t,placeholder:x!=null?x:p,setValue:te=>Rt(te,o,a)}):r==="textarea"?n.jsx(cy,{value:t,title:p,setValue:te=>Rt(te,o,a),isActive:De,textAreaAppearance:De,placeholder:x!=null?x:p,required:i,width:s}):r==="checkbox-docs"?n.jsx(k1,{title:p,items:c,setChecked:(te,we)=>Rt(!te,o,we),setFiles:(te,we)=>pi(te,o,we)}):r==="date-interval"?W?n.jsx(Kd,{title:p,required:i,dates:t,setDates:te=>fs(te),valid:rt,setValid:zt,minValue:O,diff:G}):null:r==="simple-text"?n.jsx(I1,{title:p,value:t,visible:W}):r==="text-warning"?n.jsx(R1,{title:p,visible:W}):r==="text-header"?n.jsx(A1,{title:p,visible:W}):r==="radio"?n.jsx(C1,{buttons:c,title:p,required:i,current:t,setCurrent:sl,isSpecificRadio:D}):W?n.jsx(Ne,{value:t,title:p,minValue:O,maxValue:X,minLength:z,maxLength:Q,customMask:v,setValue:te=>Rt(te,o,a),type:r,isActive:De,inputAppearance:De,hideCross:!De,placeholder:x!=null?x:p,required:i,mask:m,width:s,autocomplete:j}):null:W?n.jsx(sr,{items:c,setSelected:te=>di(te,o,a),selected:t,isActive:De,title:p,width:s,multiple:r==="multiselect",required:i}):null},M1=u.div.withConfig({componentId:"sc-52mhmj-0"})(["display:flex;align-items:center;justify-content:space-between;user-select:none;cursor:pointer;position:sticky;top:-2px;background:var(--block);z-index:3;width:100%;.title-and-icon{display:flex;align-items:center;}@media (max-width:1000px){background:transparent;position:relative;}"]),F1=({title:e,included:t,optional:i,confirmed:s,setOpenArea:o,setIncluded:a,collapsed:r,openArea:l})=>n.jsxs(M1,{onClick:()=>!r&&(t||!i)&&o(c=>!c),children:[n.jsxs("div",{className:"title-and-icon",children:[n.jsx($,{size:3,align:"left",icon:s!==void 0?s?n.jsx(Tc,{}):n.jsx(za,{}):void 0,iconColor:s?"var(--green)":"var(--red)",children:e}),i&&n.jsx(wt,{checked:t,setChecked:a})]}),n.jsx(S,{icon:n.jsx(At,{}),onClick:()=>null,background:"transparent",flipped:l})]}),$1=({confirmed:e,changeInputArea:t,setData:i,setChangeInputArea:s,handleConfirm:o})=>e?n.jsx(S,{onClick:()=>{i(a=>(a.confirmed=!1,b({},a))),s(!0)},text:"Изменить",icon:n.jsx(dl,{}),textColor:C.blue.main,hoverBackground:C.blue.transparent3,background:"transparent",width:"130px"}):t?n.jsxs(n.Fragment,{children:[n.jsx(S,{onClick:o,text:"Сохранить",icon:n.jsx(Jm,{}),textColor:C.blue.main,hoverBackground:C.blue.transparent3,background:"transparent",width:"130px"}),n.jsx(S,{onClick:()=>s(!1),text:"Отменить",icon:n.jsx(wn,{}),textColor:C.red.main,hoverBackground:C.red.transparent3,background:"transparent",width:"130px"})]}):n.jsxs(n.Fragment,{children:[n.jsx(S,{onClick:o,text:"Подтвердить",icon:n.jsx(Km,{}),textColor:C.green.main,hoverBackground:C.green.transparent3,background:"transparent",width:"130px"}),n.jsx(S,{onClick:()=>s(!0),text:"Изменить",icon:n.jsx(dl,{}),textColor:C.blue.main,hoverBackground:C.blue.transparent3,background:"transparent",width:"130px"})]}),B1=e=>e.confirmed===void 0?null:n.jsx(Be,{direction:"horizontal",horizontalAlign:"right",children:n.jsx($1,T(b({},e),{confirmed:e.confirmed}))}),dn=({title:e,hint:t,alert:i,data:s,optionalCheckbox:o,documents:a,setData:r,confirmed:l,optional:c=!1,addNew:p=!1,divider:f,collapsed:g,links:h,specialFieldsNameConfig:m,defaultOpenArea:v=!0})=>{var W,U;const{openArea:w,changeInputArea:x,included:j,setOpenArea:D,setIncluded:_,setChangeInputArea:A,handleRemove:O,handleAddNew:X,handleLoadFiles:z,handleConfirm:Q,handleCheckbox:G}=u1({documents:a,optionalCheckbox:o,data:s.filter(Boolean),setData:r,optional:c,collapsed:g,confirmed:l,defaultOpenArea:v});return n.jsxs(n.Fragment,{children:[n.jsxs(h1,{openArea:w,children:[n.jsx(F1,{title:e,included:j,optional:c,confirmed:l,setOpenArea:D,setIncluded:_,collapsed:g}),n.jsxs("div",{className:"inputs",children:[n.jsx(ce,{type:"alert",visible:!!i,icon:n.jsx(Ci,{}),children:i}),n.jsx(ce,{type:"info",visible:!!t&&(x||l===void 0),title:"Как заполнить",icon:n.jsx(Tt,{}),children:t}),Array.isArray(s[0])?s.map((V,ae)=>n.jsxs("div",{className:"data-line",children:[V.map((Ae,Le)=>n.jsx(Tl,b({documents:a,changeInputArea:x&&!(o!=null&&o.value),setData:r,indexI:ae,indexJ:Le,specialFieldsNameConfig:m},Ae),Le)),x&&p&&n.jsx(S,{icon:n.jsx(Xm,{}),textColor:C.red.main,onClick:()=>O(ae),background:"transparent",isActive:!(o!=null&&o.value)})]},ae)):s.map((V,ae)=>n.jsx(Tl,b({documents:a,changeInputArea:x&&!(o!=null&&o.value),setData:r,indexI:ae,specialFieldsNameConfig:m},V),ae)),p&&x&&n.jsx(S,{icon:n.jsx(Zm,{}),text:"Добавить",onClick:X,background:"transparent",isActive:!(o!=null&&o.value)}),!!a&&x&&a.visible!==!1&&n.jsx(ir,{files:a.files,setFiles:V=>z(V),maxFileSizeInMegaBytes:a.maxFileSizeInMegaBytes,maxFiles:a.maxFiles,formats:a.allowedTypes,isActive:a.checkboxCondition?a.checkboxCondition==="straight"?!!(o!=null&&o.value):!(o!=null&&o.value):!0}),(h==null?void 0:h.length)&&h.map(V=>d.createElement(Sy,T(b({},V),{key:V.title}))),n.jsx(wt,{visible:!!o&&((W=o.visible)!=null?W:!0),text:o==null?void 0:o.title,isActive:(o==null?void 0:o.editable)||x,checked:(U=o==null?void 0:o.value)!=null?U:!1,setChecked:G}),n.jsx(B1,{confirmed:l,changeInputArea:x,setData:r,setChangeInputArea:A,handleConfirm:Q})]})]}),f&&n.jsx(_e,{})]})},H1=u.div.withConfig({componentId:"sc-1pnt9cd-0"})(["color:#fff;cursor:pointer;background:",";outline:6px solid ",";min-width:30px;min-height:30px;margin:6px;border-radius:100%;display:flex;align-items:center;justify-content:center;font-size:0.8em;font-weight:bold;"],({reached:e})=>e?C.green.main:C.grey.main,({reached:e,current:t})=>t?C.blue.transparent1:e?C.green.transparent3:C.grey.transparent3),U1=u.div.withConfig({componentId:"sc-1pnt9cd-1"})(["display:flex;margin-bottom:-0.5rem;overflow-x:auto;"]),W1=u.div.withConfig({componentId:"sc-1pnt9cd-2"})(["width:",";display:flex;align-items:center;"],({lastElement:e})=>e?"42px":"100%"),G1=({stagesConfig:e})=>{const[t,i]=d.useState(0),[s,o]=d.useState({});d.useEffect(()=>{a(0)},[]);const a=r=>{o(l=>T(b({},l),{[t]:nt(e[t][0].dataForm)})),i(r)};return d.useEffect(()=>{o(r=>T(b({},r),{[t]:nt(e[t][0].dataForm)}))},[t]),n.jsxs(n.Fragment,{children:[n.jsx(U1,{children:e.map((r,l)=>n.jsxs(W1,{lastElement:l===e.length-1,children:[n.jsx(H1,{current:l===t,onClick:()=>a(l),reached:s[l],children:l+1}),l!==e.length-1&&n.jsx(Wy,{direction:"horizontal",reached:s[l],filled:100,distance:40})]},l))}),n.jsx(n.Fragment,{children:e[t].map((r,l)=>d.createElement(dn,T(b({},r.dataForm),{setData:c=>{r.setDataForm(c),o(p=>T(b({},p),{[t]:nt(e[t][0].dataForm)}))},key:l})))}),n.jsxs(N,{jc:"space-between",children:[n.jsx(S,{text:"Назад",isActive:t>0,onClick:()=>{t!==0&&a(t-1)}}),n.jsx(S,{text:"Далее",isActive:t<e.length-1,onClick:()=>{t!==e.length-1&&a(t+1)}})]})]})},V1=()=>({title:"Дополнительно",data:[{title:"Комментарий",type:"textarea",fieldName:"comment",value:"",editable:!0}]}),q1=()=>({title:"Период предоставления льготы",hint:"Период предоставления льготы по плате за пользование жилым помещением соответствует дате подачи заявки и дате окончания действия документа",data:[{title:"Начало периода соответствия льготной категории",type:"date",value:"",fieldName:"beginning_of_benefit_period",editable:!0,required:!0},{title:"Окончание периода соответствия льготной категории",type:"date",value:"",fieldName:"end_of_benefit_period",editable:!0,required:!0},{title:"Отсутствует срок действия документа (бессрочный)",type:"checkbox",value:"",fieldName:"is_indefinite",editable:!0,required:!1}],documents:{files:[],required:!0,checkboxCondition:"reverse",fieldName:"invalidFiles",maxFiles:1,allowedTypes:["pdf"]}}),Y1=()=>({title:"Адрес регистрации",data:[],hint:"Необходимо приложить скан-копию 2-3 страниц паспорта, а также страниц с регистрацией. Для иностранных студентов обязательно приложить перевод паспорта.",documents:{files:[],required:!0,fieldName:"registrationFiles",maxFiles:1,allowedTypes:["pdf"]}}),Q1=e=>{const t=e.data.reduce((s,o)=>{var a;if(!o.value)return s;if(o.type==="checkbox-docs"){const r=(a=o.items)==null?void 0:a.reduce((l,c)=>{for(let p=0;p<c.files.length;p++)l[(c==null?void 0:c.fieldName)+`[${p}]`]=c.files[p];return l},{});s=Object.assign({},s,r)}else if(o.type==="select")s[o.fieldName]=o.isSpecificSelect?o.value.id:o.value.title||null;else{const r=!o.value||typeof o.value!="object";s[o.fieldName]=r?o==null?void 0:o.value:o.value.title}return s},{}),i=()=>{var o,a;const s={};if((o=e.documents)!=null&&o.fieldName)for(let r=0;r<e.documents.files.length;r++)s[((a=e.documents)==null?void 0:a.fieldName)+`[${r}]`]=e.documents.files[r];return s};return b(b({},t),i())},J1=(e,t,i=!1)=>{const s=t.map(l=>{var c;if(i)return Q1(l);if(Array.isArray(l.data[0])){const p=l.data.map(g=>Object.assign({},...g==null?void 0:g.map(h=>El(h)))),f={};return f[(c=l.id)!=null?c:e]=JSON.stringify(p),f}else return l.data.map(p=>El(p))}).flat(),o=t.map(l=>{var p,f;const c={};if((p=l.documents)!=null&&p.fieldName)for(let g=0;g<l.documents.files.length;g++)c[((f=l.documents)==null?void 0:f.fieldName)+`[${g}]`]=l.documents.files[g];return c}),a=t.map(l=>{var p,f;const c={};return(p=l.optionalCheckbox)!=null&&p.fieldName&&(c[(f=l.optionalCheckbox)==null?void 0:f.fieldName]=l.optionalCheckbox.value),c});return Object.assign({},...s,...o,...a)},El=e=>{var i,s,o;const t={};return t[(i=e==null?void 0:e.fieldName)!=null?i:""]=K1(e),e.type==="multiselect"&&(t[(s=e==null?void 0:e.fieldName)!=null?s:""]=JSON.stringify((e==null?void 0:e.value).map(a=>a.title))),e.type==="checkbox-docs"?(o=e.items)==null?void 0:o.reduce((a,r)=>{for(let l=0;l<r.files.length;l++)a[(r==null?void 0:r.fieldName)+`[${l}]`]=r.files[l];return a},{}):(e.type==="select"&&(t[e.fieldName]=e.isSpecificSelect?e.value.id:e.value.title||null),t)},K1=e=>!e.value||typeof e.value!="object"?e==null?void 0:e.value:e.value.title,f3=e=>e.reduce((t,i,s)=>(t[`docs[${s}]`]=i,t),{}),or=(e,t,i,s,o=!1)=>P(void 0,null,function*(){i(!0);const a=J1(e,t,o);try{yield $t.postApplicationFx({formId:e,args:a}),i(!1),s(!0)}catch(r){i(!1)}}),ar=u.div.withConfig({componentId:"sc-1ewdcum-0"})(["display:flex;align-items:",";justify-content:center;width:100%;max-height:",";padding:10px;color:var(--text);@media (max-width:1000px){margin-top:35px;}"],({isDone:e})=>e?"center":"flex-start",({isDone:e})=>e&&"100%");var go=(e=>(e.USG_GETHOSTEL_O="usg_gethostel_o",e.USG_GETHOSTEL_OOZ="usg_gethostel_ooz",e.USG_GETHOSTEL_Z="usg_gethostel_z",e.USG_GETHOSTEL_AO="usg_gethostel_ao",e.USG_GETHOSTEL_BENEFIT="usg_gethostel_benefit",e.USG_GETHOSTEL_FAMILY="usg_gethostel_family",e.USG_CONTR_TERMINATION="usg_contr_termination",e.USG_RELOCATION_INNER="usg_relocation_inner",e.USG_RELOCATION="usg_relocation",e.ACCOMMODATION_FOR_GRADUATES="accommodation_for_graduates",e.OBUCH="obuch",e.STATUS_SOBES="status_sobes",e.SPRVIZOV="sprvizov",e.PERS_DATA="pers_data",e.PROPUSK_RESTORE="propusk_restore",e.PASSPORT_DATA="passport_data",e.DIPL_OTL="dipl_otl",e.STATUS_REGULAR="status_regular",e.OKID_LICAKKRED="okid_licakkred",e.MILDOCS="mildocs",e.MILITARY_REG="military_form_10",e.MILITARY_FORM_4="military_form_4",e.MILITARY_FORM_5="military_form_5",e.MILITARY_COPIES="military_copies",e.VOEN_UCH="voen_uch",e.PR_DONATE="pr_donate",e.PR_MATPOM="pr_matpom",e.PR_SOCSTIP="pr_socstip",e.HIGH_SCHOLARSHIP="high_scholarship",e.DOP_SOGL="dop_sogl",e.SEND_PAYMENT_EDU="send_payment_edu",e.FREE_REQUEST="free_request",e.CRS_VACATIONS="crs_vacations",e.CRS_ACADEMVAC="crs_academvac",e.CRS_EXTACADEMVAC="crs_extacademvac",e.CRS_EXPULSION="crs_expulsion",e.CRS_ATTESTAT="crs_attestat",e.MEDICAL_CERT="postRequestMedicalCertificate",e.STUD_EMPLOYMENT="stud_employment",e.FAMILY_CONTACTS="parent_contacts",e.MEDICAL_CERT_086="medical_cert_086",e.WORK_TRANSFER="",e.EXTRA_HOLIDAY_COLL="",e.HOLIDAY_PLANNING="",e.HOLIDAY_WORK="",e.DISMISSAL="",e.HOLIDAY_POSTPONED="",e.PART_TIME_EMPLOYMENT="",e))(go||{}),X1=(e=>(e.EDIT_PHONEBOOK_SUBDIVISION="edit-phonebook-subdivision",e.EDIT_PHONEBOOK_INNER_PHONE="edit-phonebook-inner-phone",e.EDIT_PHONEBOOK_EMAIL="edit-phonebook-email",e.CONTACT_INFO_ACTUALIZATION="contact-info-actualization",e.DATA_VERIFICATION_ROUTE="data-verification",e.ISSUANCE_OF_LICENSES="issuance-of-licenses",e.GETTING_COMPUTER_EQUIPMENT="getting-computer-equipment",e.CONNECTING_COMPUTER="connecting-computer",e.PRINTER_MAINTENANCE="printer-maintenance",e.QUESTION_SED="question-sed",e.QUESTION_PERSONAL_ACCOUNT="question-personal-account",e.OTHER_IT_SERVICES="other-it-services",e.CERTIFICATE_FROM_PLACE_OF_WORK="certificate-from-the-place-of-work",e.VISA_CERTIFICATE="visa-certificate",e.CERTIFICATE_OF_WORK_EXPERIENCE="certificate-of-work-experience",e.NUMBER_OF_UNUSED_VACATION_DAYS="number-of-unused-vacation-days",e.INCREASE_ANTIPLAGIAT_LIMITS="increase-antiplagiat-limits",e.COPY_OF_EMPLOYMENT_RECORD="copy-of-the-employment-record",e.COPIES_OF_DOCUMENTS_FROM_PERSONAL_FILE="copies-of-documents-from-the-personal-file",e.WORK_ON_TERMS_OF_EXTERNAL_CONCURRENCY="work-on-the-terms-of-external-concurrency",e.CERTIFICATE_TIME_PARENTAL_LEAVE="certificate-time-parental-leave",e.COURIER="courier",e.PERSONA_INCOME_TAX_REFERENCE="persona-income-tax-reference",e.PAYMENT_OF_CHILD_BIRTH_ALLOWANCE="payment-of-child-birth-allowance",e.PAYMENT_FOR_CHILD_CARE="payment-for-child-care",e.LIVING_IN_RESIDENTIAL_PREMISES="living-in-residential-premises",e.GUESTS_ACCOMODATION_ON_CAMPUS="guests-accomodation-on-campus",e.GUESTS_PASSAGE_TO_CAMPUS="guests-passage-to-campus",e.RELOCATION="relocation",e.TERMINATION_OF_AGREEMENT="termination-of-agreement",e.ISSUANCE_OF_PASS="issuance-of-pass",e.GUEST_PASS="guest-pass",e.CERTIFICATION_AND_ISSUANCE_OF_DOCS="certification-and-issuance-of-documents",e.DEFERMENT_FROM_CONSCRIPTION="deferment-from-conscription",e.CERTIFIED_COPIES_OF_MILITARY_DOCS="certified-copies-of-military-docs",e.CHILDREN="children",e))(X1||{});const Z1=[{id:0,title:"1 общежитие"},{id:1,title:"2 общежитие"},{id:2,title:"3 общежитие"},{id:3,title:"4 общежитие"},{id:4,title:"5 общежитие"},{id:5,title:"6 общежитие"},{id:6,title:"7 общежитие"},{id:7,title:"8 общежитие"},{id:8,title:"9 общежитие"},{id:9,title:"10 общежитие"}],ew=[{id:0,title:"имею постоянную регистрацию за пределами А-107 или не имею постоянную регистрацию"},{id:1,title:"имею постоянную регистрацию в пределах А-107"}],tw=e=>{const{surname:t,name:i,patronymic:s,group:o,email:a,phone:r}=e;return{title:"Контактная информация",data:[{title:"ФИО",fieldName:"fio",value:t+" "+i+" "+s,editable:!1},{title:"Учебная группа",fieldName:"group",type:"tel",value:o,editable:!1},{title:"Электронная почта",fieldName:"email",type:"email",value:a,editable:!0,required:!0},{title:"Телефон",fieldName:"phone",type:"tel",value:r,editable:!0,required:!0},{title:"Причина предоставления (в связи с)",type:"select",width:"100%",value:null,fieldName:"reason",placeholder:"укажите причину",editable:!0,required:!0,items:ew},{title:"Приоритетное общежитие",fieldName:"priority_hostel",value:null,type:"select",width:"100%",editable:!0,required:!0,items:Z1}]}},nw=()=>{var G,W;const[e,t]=d.useState(null),[i,s]=d.useState(xs.kvdCert),[o,a]=d.useState(xs.fluorographyCert),[r,l]=d.useState(xs.vichRwCert),[c,p]=d.useState(xs.graftCert),{data:{dataUserApplication:f}}=st.useApplications(),{data:{user:g}}=Pe.useUser(),[h,m]=d.useState(!1),[v,w]=d.useState(!1),[x,j]=d.useState(null),[D,_]=d.useState(null),[A,O]=d.useState(null),X=h!=null?h:!1;if((g==null?void 0:g.educationForm)!=="Недоступен")return n.jsx(ke,{text:"Сервис временно недоступен в связи с отсутствием свободных мест"});const z=!!e&&!!D&&!!x&&!!A;if(d.useEffect(()=>{f&&(t(tw(f)),j(q1()),_(Y1()),O(V1()))},[f]),!z)return null;const Q=[[{dataForm:e,setDataForm:t}],[{dataForm:D,setDataForm:_}],[{dataForm:i,setDataForm:s}],[{dataForm:o,setDataForm:a}],[{dataForm:r,setDataForm:l}],[{dataForm:c,setDataForm:p}]];return n.jsx(ar,{isDone:X,children:n.jsxs(er,{children:[n.jsx($,{size:4,align:"left",children:"Предоставление права проживания (очно-заочная форма)"}),n.jsx(G1,{stagesConfig:Q}),n.jsx(yt,{text:"Отправить",action:()=>or(go.USG_GETHOSTEL_OOZ,[e,D,x,A,i,o,r,c],w,m),isLoading:v,completed:h,setCompleted:m,repeatable:!1,buttonSuccessText:"Отправлено",isDone:X,isActive:((W=(G=e.optionalCheckbox)==null?void 0:G.value)!=null?W:!0)&&nt(e)&&nt(o)&&nt(r)&&nt(c)&&nt(i),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},iw=[{id:0,title:"заключение врачебной комиссии медицинской организации"},{id:1,title:"копия военного билета с отметками о прохождении военной службы"}],sw=e=>({title:"Выход из академического отпуска",data:[{title:"Телефон",type:"tel",mask:!0,fieldName:"phone",editable:!0,required:!0,value:e.phone},{title:"Email",type:"email",fieldName:"email",value:e.email,editable:!0,required:!0},{title:"Дата выхода из академического отпуска:",type:"date",fieldName:"time-exit",value:"",editable:!0,required:!0},{fieldName:"",title:"Приказ о предоставлении академического отпуска:",type:"text-header",visible:!0,value:"Данные военного билета"},{title:"от:",type:"date",fieldName:"order-time",value:"",editable:!0,required:!0},{title:"№:",fieldName:"order-number",type:"text",value:null,editable:!0,required:!0},{title:"Приложения:",type:"select",fieldName:"attachments",width:"100",value:null,required:!0,editable:!0,items:iw},{title:"от:",type:"date",fieldName:"medical-report-time",value:"",specialType:"medicalReport",editable:!0,required:!0},{title:"№:",type:"text",fieldName:"medical-report-number",value:null,specialType:"medicalReport",editable:!0,required:!0},{title:"Количество листов подтверждающих документов:",type:"text",fieldName:"num_sheets",value:null,specialType:"medicalReport",editable:!0,required:!0},{title:"Комментарий к заявке",type:"textarea",fieldName:"comment",value:"",editable:!0}],documents:{files:[],fieldName:"docs",maxFiles:6,required:!0}}),ow=e=>{const t=e.find(s=>s.fieldName==="attachments");let i=null;return t!=null&&t.value&&(t==null?void 0:t.value).title==="заключение врачебной комиссии медицинской организации"&&(i="medicalReport"),{reason_academic:i}},aw=()=>{const[e,t]=d.useState(null),[i,s]=d.useState(!1),[o,a]=d.useState(!1),[r,l]=d.useState({}),c=i!=null?i:!1,{data:{dataUserApplication:p}}=st.useApplications();return d.useEffect(()=>{p&&t(sw(p))},[p]),d.useEffect(()=>{e&&p&&l(ow(e.data))},[e]),n.jsx(ar,{isDone:c,children:!!e&&!!t&&n.jsxs(er,{children:[n.jsx(dn,T(b({},e),{collapsed:c,setData:t,specialFieldsNameConfig:r})),n.jsx(yt,{text:c?"Отправлено":"Отправить",action:()=>or(go.CRS_EXTACADEMVAC,[e],a,s),isLoading:o,completed:i,setCompleted:s,repeatable:!1,buttonSuccessText:"Отправлено",isDone:c,isActive:nt(e,r),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},tt=({oldVersionUrl:e,errorText:t="Страница еще находится в разработке. Если вам она нужна, вернитесь к старому дизайну",buttonText:i="Перейти к старому дизайну",forceForward:s=!1,isRedirectButtonVisible:o=!0})=>(d.useEffect(()=>{s&&(window.location.href=`/old/?p=${e==null?void 0:e.slice(1,e.length)}`)},[]),n.jsx(ke,{text:t,children:o&&n.jsx("a",{href:`${q}/?p=${e==null?void 0:e.slice(1,e.length)}`,children:n.jsx(S,{text:i,icon:n.jsx(eo,{}),width:"100%",background:"var(--reallyBlue)",textColor:"#fff",align:"left",padding:"10px"})})})),rw=(e,t,i)=>{if(!e)return null;const s=e.dormitory.map(o=>o.id===t?T(b({},o),{can_sign:i}):o);return T(b({},e),{dormitory:s})},Zd=e=>e.filter(t=>Number(t.balance_currdate)>0),ep=e=>e.filter(t=>Number(t.balance_currdate)<=0&&(!t.endDateFact||new Date(t.endDateFact).getTime()>Date.now())),tp=I({name:"signAgreement",sid:"-ok9iih"}),np=I({name:"setCompleted",sid:"-3boqvc"}),Vn=J(()=>P(void 0,null,function*(){const e=yield Tv();if(!e.data.contracts.education&&!e.data.contracts.dormitory)throw new Error("У вас нет данных по оплате");try{return e.data.contracts}catch(t){throw new Error("Не удалось загрузить оплату")}}),{name:"getPaymentsFx",sid:"4yi2y2"}),rr=J(e=>P(void 0,null,function*(){try{return yield Pv(e),e}catch(t){throw new Error("Не удалось подписать конкракт. Причина: "+t)}}),{name:"signContractFx",sid:"m208hq"}),Zi=J(e=>P(void 0,null,function*(){if((yield Ev(e)).data[0].result!=="ok")throw new Error}),{name:"signAgreementFx",sid:"yo4lpz"});y({and:[{clock:Zi.doneData,fn:()=>({message:"Успешно подписано",type:"success"}),target:Y.evokePopUpMessage}],or:{sid:"iv3ung"}});y({and:[{clock:Zi.failData,fn:()=>({message:"У вас нет данных по оплате",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"jb1vux"}});y({and:[{clock:tp,target:Zi}],or:{sid:"jqzx2e"}});const ip=I({name:"getPayments",sid:"2z1thb"}),lw=Oe({and:[Zi.pending,Vn.pending,Boolean],or:{name:"$loading",sid:"-pc8xnj"}}),cw=M(!1,{name:"$completed",sid:"8nelcf"}).on(np,(e,t)=>t),dw=M(!1,{name:"$done",sid:"-8c2xjg"}).on(Zi.doneData,()=>!0),pw=M(null,{name:"$error",sid:"-aq6gp8"}).on(Vn,()=>null).on(Vn.failData,(e,t)=>t.message).on(rr.failData,(e,t)=>t.message),es=M(null,{name:"$paymentsStore",sid:"-c0yb6e"}).on(Vn.doneData,(e,t)=>t).on(rr.doneData,(e,t)=>rw(e,t,!1)).on(se.userGuid,()=>null),sp=es.map(e=>Zd((e==null?void 0:e.dormitory)||[])),op=es.map(e=>ep((e==null?void 0:e.dormitory)||[])),ap=es.map(e=>Zd((e==null?void 0:e.education)||[])),rp=es.map(e=>ep((e==null?void 0:e.education)||[])),lp=Oe({and:[sp,op,(e,t)=>e.length+t.length],or:{name:"$combinedDormLength",sid:"qde16u"}}),cp=Oe({and:[ap,rp,(e,t)=>e.length+t.length],or:{name:"$combinedEduLength",sid:"-ps8ego"}}),uw=Oe({and:[lp,cp,(e,t)=>e&&t?"both":e?"dormitory":t?"education":"none"],or:{name:"$paymentType",sid:"1mr1lw"}}),Re={$loading:lw,$completed:cw,$done:dw,$error:pw,$paymentsStore:es,contractsWithDebtDorm:sp,contractsWithoutDebtDorm:op,contractsWithDebtEdu:ap,contractsWithoutDebtEdu:rp,combinedDormLength:lp,combinedEduLength:cp,paymentType:uw};y({and:[{clock:ip,target:Vn}],or:{sid:"l6okuc"}});const lr={getPaymentsFx:Vn,signContractFx:rr},ua={signAgreement:tp,setCompleted:np,getPayments:ip},dp=I({name:"signStarted",sid:"-iiv0dq"}),pp=I({name:"emailsApproved",sid:"d2743c"}),up=I({name:"enterPasses",sid:"-9dgewt"}),hp=I({name:"signAgreement",sid:"bbd2o3"}),fp=I({name:"sendCodes",sid:"-ke1fhy"}),gp=I({name:"activateSignButton",sid:"138m3r"}),mp=I({name:"goBack",sid:"-9z5pk6"}),ts=J(i=>P(void 0,[i],function*({clientEmail:e,userEmail:t}){if(!e||!t)throw new Error("Один из адресов e-mail пуст, введите адрес, затем подтвердите адреса");if(e===t)throw new Error("E-mail адреса не должны совпадать");return{clientEmail:e,userEmail:t}}),{name:"checkEmails",sid:"jns8en"}),mo=M(0,{name:"$step",sid:"eqtrpz"}).on(mp,e=>e-1),xp=M("",{name:"$userEmail",sid:"-brpi4s"}),vp=M("",{name:"$clientEmail",sid:"-gpcpes"}),hw=M(!1,{name:"$signButtonActive",sid:"-b32zbf"}).on(gp,()=>!0),bp=M(!1,{name:"$signed",sid:"-2smwhg"});y({and:[{clock:dp,fn:()=>0,target:mo}],or:{sid:"-lb6x52"}});y({and:[{clock:pp,target:ts}],or:{sid:"-l8fy69"}});y({and:[{clock:ts.doneData,fn:({clientEmail:e})=>e,target:vp}],or:{sid:"-kup3c8"}});y({and:[{clock:ts.doneData,fn:({userEmail:e})=>e,target:xp}],or:{sid:"-kquj6p"}});y({and:[{clock:ts.done,fn:()=>1,target:mo}],or:{sid:"-kbgakl"}});y({and:[{clock:ts.fail,fn:({error:e})=>({message:e.message,type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-jx5n57"}});y({and:[{clock:up,fn:()=>2,target:mo}],or:{sid:"-jg40r0"}});const xo=Z({sid:"-gqojqy",fn:()=>Ce({handler:Av}),name:"sendAgreementCodesMutation",method:"createMutation"});y({and:[{clock:fp,target:xo.start}],or:{sid:"-jbpo04"}});y({and:[{clock:xo.$succeeded,fn:()=>({message:"Пароли для подписания ЭЦП 3-х-сторонних доп.соглашений высланы на указанные адреса e-mail",type:"success"}),target:Y.evokePopUpMessage}],or:{sid:"-ixyt63"}});y({and:[{clock:xo.$succeeded,target:gp}],or:{sid:"-ii0rym"}});y({and:[{clock:xo.finished.failure,fn:({error:e})=>({message:pt.isAxiosError(e)?"Не удалось отправить коды для подписания соглашения.":"Не удалось отправить коды для подписания соглашения. "+e.message,type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-iftll6"}});const ns=Z({sid:"hdlrr6",fn:()=>Ce({handler:Dv}),name:"signThirdPartyAgreementMutation",method:"createMutation"});y({and:[{clock:hp,target:ns.start}],or:{sid:"jjj8nz"}});y({and:[{clock:ns.$succeeded,fn:()=>({message:"Доп.соглашение подписано",type:"success"}),target:Y.evokePopUpMessage}],or:{sid:"jxa3i0"}});y({and:[{clock:ns.$succeeded,target:ua.getPayments}],or:{sid:"k1og8w"}});y({and:[{clock:ns.finished.failure,fn:({error:e})=>({message:pt.isAxiosError(e)?"Один из паролей не введён или не совпадает с высланным, откорректируйте пароли":"Не удалось подписать соглашение: "+e.message,type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"kffb2x"}});bp.on(ns.$succeeded,()=>!0);const qn={signStarted:dp,emailsApproved:pp,sendCodes:fp,signAgreement:hp,enterPasses:up,goBack:mp},xn={step:mo,userEmail:xp,clientEmail:vp,signButtonActive:hw,signed:bp},yp=I({name:"getElectronicInteraction",sid:"r9fh1m"}),wp=I({name:"postElectronicInteraction",sid:"iwql6m"}),jp=I({name:"changeDone",sid:"-xe3ofi"}),_p=I({name:"changeCompleted",sid:"l90b28"}),is=J(()=>P(void 0,null,function*(){const t=(yield zv())[0];if((t==null?void 0:t.result)!=="ok")throw new Error}),{name:"postElectronicInteractionFx",sid:"-ezfxrp"});y({and:[{clock:is.doneData,fn:()=>({message:"Форма отправлена успешно",type:"success"}),target:Y.evokePopUpMessage}],or:{sid:"-56man9"}});y({and:[{clock:is.doneData,fn:()=>!0,target:jp}],or:{sid:"-4qo9fs"}});y({and:[{clock:is.failData,fn:()=>({message:"Не удалось подписать",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-4nxagz"}});const Pi=J(()=>P(void 0,null,function*(){try{return(yield Lv())[0]}catch(e){throw new Error(e)}}),{name:"getElectronicInteractionFx",sid:"qiy9m"});y({and:[{clock:wp,target:is}],or:{sid:"-3qxmvb"}});y({and:[{clock:yp,target:Pi}],or:{sid:"-3d6s1a"}});const fw=Pi.pending,gw=is.pending,mw=M(!1,{name:"$completed",sid:"-q8ea71"}).on(_p,(e,t)=>t),xw=M(!1,{name:"$done",sid:"-cuopmg"}).on(jp,(e,t)=>t),vw=M(null,{name:"$error",sid:"-6xp7g8"}).on(Pi,()=>null).on(Pi.failData,(e,t)=>t.message),bw=M(null,{name:"$electronicInteractionStore",sid:"-wkvhgj"}).on(Pi.doneData,(e,t)=>t).on(se.userGuid,()=>null),kp={$error:vw,$electronicInteractionStore:bw,$completed:mw,$done:xw,$loading:fw,$workerLoading:gw},ha={getElectronicInteraction:yp,postElectronicInteraction:wp,changeCompleted:_p},Cp=I({name:"sendCodes",sid:"-j8sbgu"}),Sp=I({name:"signAgreement",sid:"-w2zhhz"}),yw=kp.$electronicInteractionStore.map(e=>e!=null&&e.clients.length?e.clients[0].status:null),ww=M(0,{name:"$step",sid:"-2e0d0f"}),cr=Z({sid:"tuppl4",fn:()=>Ce({handler:Nv}),name:"sendCodesMutation",method:"createMutation"}),Ip=Z({sid:"-rnn1mq",fn:()=>Ce({handler:Ov}),name:"signAgreementMutation",method:"createMutation"});y({and:[{clock:Cp,target:cr.start}],or:{sid:"-iqe0t4"}});y({and:[{clock:Sp,target:Ip.start}],or:{sid:"-io6ufo"}});y({and:[{clock:cr.$succeeded,target:ha.getElectronicInteraction}],or:{sid:"-iafzln"}});const g3={sendCodes:Cp,signAgreement:Sp},jw={step:ww,thirdPartyInteractionAgreement:yw},m3={sendCodes:cr,signAgreement:Ip},Pl=(e,t)=>{var s;const i=e.split("/");return(s=t[e.slice(1,e.length)])!=null?s:Object.values(t).find(o=>{var r;const a=o.path.split("/");for(let l=0;l<i.length;l++)if(a[l]!==i[l]&&((r=a[l])==null?void 0:r[0])!==":")return!1;return!0})},Tp=()=>{const e=ut(),{allRoutes:t}=_t.useMenu(),i=tn(),s=t!=null?t:{},[o,a]=d.useState(Pl(e.location.pathname,s));return d.useEffect(()=>{a(Pl(i.pathname,s))},[i,s]),o},_w={small:"600px",middle:"700px",big:"963px",large:"100%"},Ep=e=>{var t;return _w[(t=e==null?void 0:e.pageSize)!=null?t:"middle"]},kw=u(Gt).withConfig({componentId:"sc-eq7p52-0"})(["position:relative;","{padding-top:",";}","{padding-top:",";}"],ee.isNotMobile,({titleLen:e})=>e===0?"20px":e<60?"70px":"140px",ee.isMobile,({hasCenterEl:e})=>e?"90px":"45px"),Cw=u.div.withConfig({componentId:"sc-eq7p52-1"})(["position:absolute;top:20px;right:20px;width:100%;display:flex;justify-content:flex-end;","{top:-4px;right:7px;}"],ee.isMobile),Sw=u.div.withConfig({componentId:"sc-eq7p52-2"})(["position:absolute;top:20px;left:50%;transform:translateX(-50%);display:flex;justify-content:flex-end;","{top:40px;}"],ee.isMobile),Dt=d.forwardRef(({children:e,topRightCornerElement:t,topCenterElement:i,padding:s},o)=>{var l,c,p;const a=Tp(),r=Ep(a);return n.jsx(ri,{padding:"0 0 10px 0",children:n.jsxs(kw,{hasCenterEl:!!i,titleLen:(p=(c=(l=a==null?void 0:a.subPageHeaderTitle)==null?void 0:l.length)!=null?c:a==null?void 0:a.title.length)!=null?p:0,justifyContent:"flex-start",height:"100%",orientation:"vertical",maxWidth:r,gap:"24px",ref:o,alignItems:"flex-start",noAppearanceInMobile:!0,padding:s,children:[t&&n.jsx(Cw,{children:t}),i&&n.jsx(Sw,{children:i}),e]})})});Dt.displayName="PageBlock";const Iw=u.div.withConfig({componentId:"sc-uv1246-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;flex-wrap:wrap;align-items:center;flex-direction:column;gap:32px;"]),Tw=u.div.withConfig({componentId:"sc-1ewi6no-0"})(["min-width:",";min-height:",";max-width:",";max-height:",";border-radius:",";display:flex;align-items:center;justify-content:center;position:relative;background:",";transition:0.2s;svg{color:#fff;width:100%;height:100%;scale:0.5;}"],({size:e})=>e+"px",({size:e})=>e+"px",({size:e})=>e+"px",({size:e})=>e+"px",({borderRadius:e})=>e!=null?e:"15px",({backgroud:e})=>C[e]?C[e].main:e),Nt=({children:e,color:t,borderRadius:i,badge:s,marginRight:o,size:a=38})=>{const r=s?isNaN(+s)?!0:+s>0:!1;return n.jsxs(Tw,{style:{marginRight:o},borderRadius:i,backgroud:t,size:a,className:"icon",children:[n.jsx(Sn,{outline:"4px solid var(--block)",color:"red",top:"93%",left:"93%",visible:r,className:"notification-circle",children:s}),e]})},Qo={data:null,preparedData:null,loading:!1,error:null},Pp=e=>{let{initialStore:t,api:i,prepareData:s,errorMessage:o=()=>ev}=e;const a=t!=null?t:Qo,r=()=>({data:ye(f).data,preparedData:ye(f).preparedData,loading:ye(l.pending),error:ye(f).error}),l=J(g=>P(void 0,null,function*(){try{const h=yield i.get(g);return{data:h,preparedData:s?s(h):h}}catch(h){throw new Error(o(h))}}),{name:"getFx",sid:"-b9hj4e"}),c=J(g=>P(void 0,null,function*(){try{var h;const m=yield(h=i.post)===null||h===void 0?void 0:h.call(i,g);return{data:m,preparedData:s?s(m):m}}catch(m){throw new Error(o(m))}}),{name:"postFx",sid:"-aimaf9"}),p=I({name:"clearStore",sid:"-vqshuk"}),f=M(a,{name:"$store",sid:"9y8x2d"}).on(l,g=>k(k({},g),{},{error:null})).on(c.pending,g=>k(k({},g),{},{loading:!0})).on(c.failData,(g,h)=>{let{message:m}=h;return k(k({},g),{},{error:m,loading:!1})}).on(c.doneData,g=>k(k({},g),{},{error:null,loading:!1})).on(l.doneData,(g,h)=>{let{data:m,preparedData:v}=h;return k(k({},g),{},{data:m,preparedData:v})}).on(l.failData,(g,h)=>k(k({},g),{},{error:h.message})).on(p,()=>k({},Qo)).on(se.userGuid,()=>k({},Qo));return{selectors:{useData:r},effects:{getFx:l,postFx:c},events:{clearStore:p},store:f}},Ct=Pp({api:{get:Wv}}),vo=I({name:"addPageToHome",sid:"lkvuvg"}),Ai=I({name:"deletePageFromHome",sid:"nxtipk"}),Ew=Oe({and:[ve.userSettings,e=>{var t;return Array.from(new Set([...rd,...(t=e==null?void 0:e.homePage.pages)!=null?t:[]]))}],or:{name:"$homePages",sid:"dfdpbq"}});y({and:[{clock:vo,source:ve.userSettings,filter:e=>!!e,fn:(e,{pageId:t})=>({homePage:T(b({},e.homePage),{pages:[...e.homePage.pages,t]})}),target:Qe.update}],or:{sid:"-n44dkl"}});y({and:[{clock:Ai,source:ve.userSettings,filter:e=>!!e,fn:(e,{pageId:t})=>({homePage:T(b({},e.homePage),{pages:e.homePage.pages.filter(i=>i!==t)})}),target:Qe.update}],or:{sid:"-mjrzm8"}});const bo=I({name:"addPageToSidebar",sid:"-f2thxq"}),Rs=I({name:"deletePageFromSidebar",sid:"-qzfx9p"}),Yn=Oe({and:[se.user,Ct.store,({currentUser:e},{data:t})=>{if((e==null?void 0:e.status)==="")return Ua;const i=Wa;return Object.values(t!=null?t:{}).some(s=>s.length)?[...i,"download-agreements"]:i}],or:{name:"$requiredSidebarItems",sid:"-m4z2bj"}}),dr=Oe({and:[Yn,ve.userSettings,(e,t)=>Array.from(new Set([...e,...(t==null?void 0:t.customizeMenu.pages)||[]]))],or:{name:"$sidebarItems",sid:"-vjwndt"}});y({and:[{clock:bo,source:dr,filter:e=>e.length>=ad,fn:()=>({message:"Вы достигли максимального количества страниц в боковом меню",type:"failure",time:3e3}),target:Y.evokePopUpMessage}],or:{sid:"-l3jj8x"}});y({and:[{clock:bo,source:{settings:ve.userSettings,sidebarItems:dr,requiredSidebarItems:Yn},filter:({settings:e,sidebarItems:t,requiredSidebarItems:i},{pageId:s})=>!!e&&t.length<ad&&!i.includes(s),fn:({settings:e},{pageId:t})=>({customizeMenu:T(b({},e.customizeMenu),{pages:[...e.customizeMenu.pages,t]})}),target:Qe.update}],or:{sid:"-kly49d"}});y({and:[{clock:Rs,source:{settings:ve.userSettings,requiredSidebarItems:Yn},filter:({settings:e,requiredSidebarItems:t},{pageId:i})=>!!e&&!t.includes(i),fn:({settings:e},{pageId:t})=>({customizeMenu:T(b({},e.customizeMenu),{pages:e.customizeMenu.pages.filter(i=>i!==t)})}),target:Qe.update}],or:{sid:"-j6t92s"}});const Pw=e=>{const{id:t,icon:i,title:s,color:o}=e,[a,r,l]=H([Ew,dr,Yn]),c=a.includes(t),p=r.includes(t),f=l.includes(t),g=rd.includes(t),h=()=>{vo({pageId:t}),Ke.close()},m=()=>{bo({pageId:t}),Ke.close()};return n.jsxs(Aw,{children:[n.jsxs("div",{className:"top",children:[n.jsx(Nt,{color:o,size:22,children:i}),n.jsx(Dw,{children:s})]}),n.jsx(_e,{}),!g&&(c?n.jsx(S,{text:"Убрать с главной",icon:n.jsx(wn,{}),width:"100%",align:"left",background:"var(--block)",onClick:()=>{Ai({pageId:t}),Ke.close()}}):n.jsx(S,{text:"Добавить на главную",icon:n.jsx(jn,{}),width:"100%",align:"left",background:"var(--block)",onClick:h})),!f&&(p?n.jsx(S,{text:"Убрать из меню",icon:n.jsx(wn,{}),width:"100%",align:"left",background:"var(--block)",onClick:()=>{Rs({pageId:t}),Ke.close()}}):n.jsx(S,{text:"Добавить в меню",icon:n.jsx(jn,{}),width:"100%",align:"left",background:"var(--block)",onClick:m}))]})},Aw=u.div.withConfig({componentId:"sc-1kj8zre-0"})([".top{display:flex;align-items:center;gap:6px;padding:7px;}"]),Dw=u.span.withConfig({componentId:"sc-1kj8zre-1"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;font-size:0.8em;font-weight:500;"]),Ap=({route:e})=>{var s;const t=C[(s=e==null?void 0:e.color)!=null&&s.length?e.color:"blue"].main,i=o=>{o.preventDefault(),o.stopPropagation(),Ke.open({e:o,height:105,content:n.jsx(Pw,b({},e))})};return n.jsx(S,{icon:n.jsx(Ec,{}),textColor:t,className:"more-button",background:"transparent",onClick:i})},Dp=(e,t)=>{if(e>=10&&e<=19)return t.fiveToNine;const i=e%10;return i===0?t.zero:i===1?t.one:i>=2&&i<=4?t.twoToFour:t.fiveToNine},Np=u(Gt).withConfig({componentId:"sc-18tgb3a-0"})(["position:relative;cursor:pointer;text-decoration:none;border-radius:var(--brLight);background:var(--block-content);.new{position:absolute;top:",";right:",";border-radius:",";background:",";font-size:0.7em;font-weight:bold;color:#fff;padding:5px 10px;}&[data-selected='true']{.outside{.more-button{opacity:1;visibility:visible;}.notification-circle{opacity:0;}.icon{box-shadow:0 20px 210px 60px ",";transform:",";}b{opacity:",";transform:",";color:",";}.notifications-title{opacity:1;transform:translateY(0px);}}}.more-button{position:absolute;top:",";left:",";right:",";transform:",";opacity:0;visibility:hidden;transition:0.2s;}.outside{position:static;width:100%;height:100%;overflow:hidden;gap:15px;display:flex;flex-direction:",";border-radius:var(--brLight);align-items:center;justify-content:",";padding:15px;.notifications-title{opacity:0;transform:translateY(20px);font-size:0.7em;position:absolute;transition:0.2s;bottom:25px;font-weight:bold;color:var(--text);right:",";}@media (min-width:1001px){&:hover{.more-button{opacity:1;visibility:visible;}.notification-circle{opacity:0;}.icon{box-shadow:0 20px 110px 60px ",";transform:",";}b{opacity:",";transform:",";color:",";}.notifications-title{opacity:1;transform:translateY(0px);}}}b{display:flex;align-items:center;font-size:0.8em;text-align:",";color:var(--text);transition:0.2s;font-weight:600;height:30px;}}"],({isVertical:e})=>e?"5px":"18px",({isVertical:e})=>e?"-5px":"50px",({isVertical:e})=>e?"var(--brLight) calc(var(--brLight) - 4px) calc(var(--brLight) - 4px) var(--brLight)":"var(--brLight)",C.red.light2,({color:e})=>C[e].main,({isVertical:e})=>e&&"scale(1.1) translateY(20px)",({hasNotifications:e,isVertical:t})=>t&&e&&0,({isVertical:e})=>e&&"scale(0.95) translateY(40%)",({isVertical:e})=>e?"#fff":"var(--text)",({isVertical:e})=>e?"5px":"50%",({isVertical:e})=>e?"5px":"auto",({isVertical:e})=>!e&&"10px",({isVertical:e})=>!e&&"translateY(-50%)",({isVertical:e})=>e?"column":"row",({isVertical:e})=>e?"center":"flex-start",({isVertical:e})=>!e&&"50px",({color:e})=>C[e].main,({isVertical:e})=>e&&"scale(1.1) translateY(20px)",({hasNotifications:e,isVertical:t})=>t&&e&&0,({isVertical:e})=>e&&"scale(0.95) translateY(40%)",({isVertical:e})=>e?"#fff":"var(--text)",({isVertical:e})=>e?"center":"left"),Nw=u.div.withConfig({componentId:"sc-18tgb3a-1"})(["position:absolute;top:12px;left:12px;opacity:0.7;"]),fa=e=>{const{color:t,shadow:i,notifications:s,title:o,isNew:a,icon:r,isExternalPage:l,isOldLkPage:c,mode:p,id:f,orientation:g="vertical"}=e,h=g==="vertical",m=H(ve.userSettings);if(!m)return null;const v=m.homePage.pages.find(w=>w===f);return n.jsxs(Np,{padding:"0",width:"100%",maxWidth:"100%",height:h?"135px":"60px",isVertical:h,justifyContent:"center",shadow:i,color:t.length?t:"blue",hasNotifications:!!s,"data-selected":e.isActive,children:[(c||l)&&h&&n.jsxs(Nw,{children:[c&&n.jsx(eo,{title:"Раздел в старом ЛК"}),l&&n.jsx(As,{title:"Раздел на внешнем ресурсе"})]}),n.jsxs("div",{className:"outside",children:[n.jsx(Nt,{badge:s==null?void 0:s.toString(),color:t.length?t:"blue",children:r!=null?r:n.jsx(ex,{})}),n.jsx("b",{title:o,children:o}),!!s&&n.jsxs("span",{className:"notifications-title",children:[s," ",Dp(s,{one:"уведомление",zero:"уведомлений",twoToFour:"уведомления",fiveToNine:"уведомлений"})]})]}),p==="use"&&n.jsx(Ap,{route:e}),p==="add"?v?n.jsx(S,{icon:n.jsx(Ut,{}),width:"80px",align:"center",textColor:"var(--red)",background:"var(--block)",onClick:()=>Ai({pageId:f})}):n.jsx(S,{icon:n.jsx(jn,{}),width:"80px",textColor:"var(--green)",align:"center",background:"var(--block)",onClick:()=>vo({pageId:f})}):null,a&&n.jsx("span",{className:"new",children:"New"})]})},Ow=u(Np).withConfig({componentId:"sc-17rtccq-0"})(["box-shadow:none;color:var(--blue);background:transparent;"]),x3=()=>n.jsx(de,{to:ki,onClick:()=>{Ht.changeOpen({isOpen:!1,currentPage:ki.slice(1,ki.length)})},children:n.jsx(Ow,{padding:"0",width:"125px",height:"135px",isVertical:!0,justifyContent:"center",color:"blue",hasNotifications:!1,children:n.jsxs("div",{className:"outside",children:[n.jsx(Nt,{color:"blue",children:n.jsx(tx,{})}),n.jsx("b",{children:"Все разделы"})]})})}),Lw=u(de).withConfig({componentId:"sc-1fmzc9s-0"})(["width:",";border-radius:var(--brLight);@media (max-width:500px){width:",";}"],({width:e})=>typeof e=="number"?`calc((700px / 5) * ${e} - ${e===2?22:15}px)`:e,({width:e})=>typeof e=="number"?`calc(33vw * ${e} - ${e===2?22:15}px)`:e),zw=u.div.withConfig({componentId:"sc-1fmzc9s-1"})(["width:",";"],({width:e})=>typeof e=="number"?`calc(125px * ${e} + ${(e-1)*10}px)`:e),Op=e=>{const{close:t}=K(),{menuPath:i,path:s,orientation:o="vertical",mode:a="use"}=e,r=o==="vertical"?17:50,l=1;if(a==="add")return n.jsx(zw,{width:o==="vertical"?l:"100%",children:n.jsx(fa,T(b({},e),{mode:a,maxWordLength:r}))});const c=()=>{t(),Ht.changeOpen({isOpen:!1,currentPage:s.slice(1,s.length)})};return n.jsx(Lw,{ref:e.forwardedRef,to:i!=null?i:s,onClick:c,width:o==="vertical"?l:"100%",children:n.jsx(fa,T(b({},e),{maxWordLength:r,mode:a}))})},Rw=u.div.withConfig({componentId:"sc-1rovv03-0"})(["width:100%;display:flex;flex-direction:column;gap:5px;"]),Mw=({pages:e,showNotFound:t=!0})=>!e||!t&&Object.keys(e).length===0?null:!Object.keys(e).length&&t?n.jsx(ke,{text:"Ничего не было найдено"}):n.jsx(Rw,{children:Object.values(e).map(i=>(i==null?void 0:i.show)!==!1&&d.createElement(Op,T(b({},i),{orientation:"horizontal",shadow:!1,key:i.id})))}),Fw=u.div.withConfig({componentId:"sc-10p9gf-0"})(["width:100%;padding:15px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid ",";.payment-item-money{display:flex;align-items:center;color:var(--green);font-weight:500;}"],C.grey.transparent3),$w=({date:e,value:t})=>n.jsxs(Fw,{children:[n.jsxs(N,{gap:"16px",children:[n.jsx(Nt,{color:"grey",size:33,children:n.jsx(Xt,{})}),n.jsxs(N,{d:"column",ai:"flex-start",children:[n.jsx("span",{className:"payment-item-date",children:"Платеж"}),n.jsx(pe,{children:he(e)})]})]}),n.jsxs("span",{className:"payment-item-money",children:["+",t," ",n.jsx(Xt,{})," "]})]}),Bw=u.div.withConfig({componentId:"sc-1yrw9my-0"})(["display:flex;align-items:center;font-size:",";font-weight:",";color:",";svg{width:",";max-width:",";height:",";min-width:",";margin:0;stroke-width:0.2;}"],({fontSize:e})=>e,({fontWeight:e})=>e,({color:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e,({iconSize:e})=>e),Lp=({children:e,size:t,color:i,fontWeight:s,forwardedRef:o})=>{const a=t==="small"?"1rem":t==="big"?"1.5rem":"1.2rem",r=t==="small"?"17px":t==="big"?"22px":"18px";return n.jsxs(Bw,{ref:o,color:i,fontSize:a,iconSize:r,fontWeight:s,children:[e,n.jsx(Xt,{})]})},Hw=e=>Number(e.replace(/,/g,".").replace(/\s/g,"")),Uw=u.div.withConfig({componentId:"sc-uw6vbc-0"})(["width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;.payment-list{margin-bottom:10px;width:100%;overflow-y:auto;min-height:195px;height:195px;padding-right:5px;background:var(--block-content);box-shadow:var(--block-shadow);border-radius:7px;margin-top:10px;}"]),Ww=({payments:e})=>{const t=e==null?void 0:e.reduce((i,s)=>i+Hw(s.value),0).toFixed(1);return n.jsxs(Uw,{children:[n.jsxs(N,{jc:"space-between",children:[n.jsx($,{icon:n.jsx(Pc,{}),size:4,align:"left",width:"fit-content",children:"Поступившие платежи"}),n.jsx(pe,{fontSize:"1rem",width:"fit-content",children:n.jsx(Lp,{size:"small",children:t})})]}),n.jsxs("div",{className:"payment-list",children:[!e.length&&n.jsx(ke,{size:"50px",text:"Нет платежей",image:n.jsx(Ac,{})}),e.map((i,s)=>d.createElement($w,T(b({},i),{key:s})))]})]})},Gw=u.div.withConfig({componentId:"sc-1tvc08s-0"})(["display:flex;flex-wrap:wrap;flex-direction:",";justify-content:flex-start;align-items:",";width:100%;column-gap:5px;row-gap:5px;margin-top:10px;font-size:",";color:var(--text);.value{width:",";line-height:1.4rem;}strong{font-weight:600;}"],({direction:e})=>e==="vertical"&&"column",({direction:e})=>e==="vertical"?"flex-start":"center",({fontSize:e})=>e,({direction:e})=>e==="vertical"?"100%":"fit-content"),pn=({keyStr:e,value:t,fontSize:i,visible:s=!0,direction:o="horizontal"})=>s?n.jsxs(Gw,{direction:o,fontSize:i,children:[n.jsxs("strong",{children:[e,":"]}),n.jsx("span",{className:"value",children:t})]}):null,Vw=()=>n.jsx(ce,{type:"tip",lineHeight:"1.7rem",maxWidth:"700px",fontSize:"0.83rem",children:n.jsxs("p",{children:["По возникновении технических проблем при подписании договоров и дополнительных соглашений обращайтесь на почту ",n.jsx("a",{href:"mailto:info@mospolytech.ru",children:"info@mospolytech.ru"})]})}),qw=e=>e.replace(/\B(?=(\d{3})+(?!\d))/g," "),Yw=u.div.withConfig({componentId:"sc-msxfz5-0"})(["display:flex;width:100%;flex-direction:column;align-items:flex-start;height:330px;justify-content:space-between;.contract-info{display:flex;flex-direction:column;}p{margin:4px 0;}"]),Qw=({contract:e})=>{var X;if(!e)return null;const{number:t,startDate:i,endDatePlan:s,contragent:o,sum:a,can_sign:r,file:l,student:c,signed_user_date:p}=e,{open:f}=K(),[g,h]=d.useState(!1),[m,v]=d.useState(!1),[w,x]=d.useState(!1),j=H(Re.$error),D=[{text:"Номер договора",info:t!=null?t:""},{text:"Начало действия",info:he(i)},{text:"Действует до",info:he(s)},{text:"Подписан",info:he(p)},{text:"Заказчик",info:o||"Московский политех"},{text:"Обучающийся",info:c!=null?c:""},{text:"Сумма к оплате",info:(X=qw(a))!=null?X:""},{text:"Статус",info:""}],_=()=>{var z;navigator.clipboard.writeText((z=e==null?void 0:e.number)!=null?z:""),h(!0)},A=()=>{e&&(v(!0),lr.signContractFx(e.id),v(!1),x(!0))},O=()=>{f(n.jsx(Vw,{}),"Не получается подписать")};return n.jsxs(Yw,{children:[n.jsx("div",{className:"contract-info",children:D.map(({info:z,text:Q})=>n.jsx(pn,{keyStr:Q,value:z},z))}),r&&n.jsxs(N,{d:"column",gap:"8px",children:[n.jsxs(N,{gap:"8px",children:[n.jsx(yt,{text:"Подписать договор",buttonSuccessText:"Подписан",action:A,isLoading:m,completed:w,repeatable:!1,popUpFailureMessage:j!=null?j:"Не удалось подписать договор",setCompleted:x,popUpSuccessMessage:"Договор подписан",isActive:!0,pulsing:!0}),l&&n.jsx(Cn,{onClick:()=>null,href:l!=null?l:"",icon:n.jsx(Ds,{}),width:"45px"})]}),n.jsx(S,{onClick:O,text:"Не получается подписать?",background:"transparent",textColor:C.grey.main})]}),!r&&n.jsxs(N,{gap:"8px",children:[n.jsx(yt,{text:"Скопировать номер договора",action:_,isLoading:!1,completed:g,setCompleted:h,popUpSuccessMessage:"Номер договора скопирован в буфер",isActive:!0}),l&&n.jsx(Cn,{onClick:()=>null,href:l!=null?l:"",icon:n.jsx(Ds,{}),width:"45px"})]})]})},Jw=u.div.withConfig({componentId:"sc-ina9yc-0"})(["display:flex;align-items:center;justify-content:space-between;user-select:none;cursor:pointer;position:sticky;top:-2px;background:var(--block);z-index:3;width:100%;.title-and-icon{display:flex;align-items:center;width:calc(100% - 30px);b{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap;font-weight:500;}svg{min-width:19px;height:19px;margin-right:7px;}}@media (max-width:1000px){background:transparent;position:relative;}"]),Kw=({title:e,confirmed:t,setOpenArea:i})=>n.jsxs(Jw,{onClick:()=>i(s=>!s),children:[n.jsxs("div",{className:"title-and-icon",children:[t?n.jsx(Tc,{style:{color:"var(--green)"}}):n.jsx(za,{style:{color:"var(--red)"}}),n.jsx("b",{children:e})]}),n.jsx(S,{icon:n.jsx(At,{}),onClick:()=>null,background:"transparent"})]}),Xw=u.div.withConfig({componentId:"sc-1xla5d1-0"})(["display:flex;flex-direction:column;transition:0.2s;width:100%;border-radius:var(--brLight);overflow:hidden;.inputs{padding:",";display:flex;flex-direction:column;row-gap:15px;transition:0.2s height,0.2s opacity,0.2s visibility,0.2s padding;height:",";opacity:",";visibility:",";}@media (max-width:500px){.inputs{height:",";}}"],({open:e})=>e?"15px 0":"0",({height:e,open:t})=>t?e+"px":"0",({open:e})=>e?"1":"0",({open:e})=>e?"visible":"hidden",({height:e,open:t})=>t?e+63+"px":"0"),Zw=e=>{const{children:t,title:i,height:s,confirmed:o=!1,show:a=!1}=e,[r,l]=d.useState(a);return n.jsxs(Xw,{height:s,open:r,children:[n.jsx(Kw,{title:i,confirmed:o,setOpenArea:l}),n.jsx("div",{className:"inputs",children:t})]})},Jo=e=>e.reduce((t,i)=>(t[i.title]=i.mql.matches,t),{}),He=()=>{var s;const e=av.map(({query:o,title:a})=>({mql:matchMedia(o),title:a})),[t,i]=d.useState(Jo(e));return d.useLayoutEffect(()=>(e.forEach(({mql:o})=>o.addEventListener("change",()=>{i(Jo(e))})),()=>e.forEach(({mql:o})=>o.removeEventListener("change",()=>{i(Jo(e))}))),[]),T(b({},t),{currentDevice:(s=Object.keys(t).find(o=>t[o]===!0))!=null?s:"desktop"})},Di=u.div.withConfig({componentId:"sc-1dia0f7-0"})(["width:100%;display:grid;grid-template-columns:",";grid-template-rows:",";row-gap:",";column-gap:",";padding:",";"],({columns:e})=>e,({rows:e})=>e,({rowGap:e})=>e,({columnGap:e})=>e,({padding:e})=>e),ej=({agreement:e})=>{const{isMobile:t}=He(),[i,s]=H([xn.clientEmail,xn.userEmail]),[o,a]=d.useState(s||e.user_email),[r,l]=d.useState(i||e.client_email),{close:c}=K(),p=()=>{qn.emailsApproved({clientEmail:r,userEmail:o})};return n.jsxs(n.Fragment,{children:[n.jsx(ce,{type:"info",children:"Проверьте e-mail, при необходимости откорректируйте, в случае отсутствия введите"}),n.jsxs(Di,{columns:t?"1fr":"1fr 1fr",rows:"1fr 1fr",rowGap:"8px",columnGap:"8px",children:[n.jsxs($,{align:"left",size:4,children:[e.user_fio,":"]}),n.jsx(Ne,{type:"email",placeholder:"Ваш e-mail",value:o,setValue:a}),n.jsxs($,{align:"left",size:4,children:[e.client_fio,":"]}),n.jsx(Ne,{type:"email",placeholder:"E-mail заказчика",value:r,setValue:l})]}),n.jsxs(N,{jc:"space-between",p:"8px 0 0 0",children:[n.jsx(S,{text:"Отмена",onClick:()=>{c()},textColor:C.red.main,background:"transparent",hoverBackground:C.red.transparent3}),n.jsx(S,{text:"Подтвердить",onClick:p,textColor:C.blue.main,background:"transparent",hoverBackground:C.blue.transparent3})]})]})},tj=({agreement:e})=>{const{isMobile:t}=He(),[i,s,o,a,r]=H([xn.clientEmail,xn.userEmail,xn.signButtonActive,qn.sendCodes,qn.enterPasses]);return n.jsxs(n.Fragment,{children:[n.jsxs(Di,{columns:t?"1fr":"1fr 1fr",rows:"1fr 1fr",rowGap:"8px",columnGap:"8px",children:[n.jsxs($,{align:"left",size:4,children:[e.user_fio,":"]}),n.jsx($,{align:"left",size:4,children:s}),n.jsxs($,{align:"left",size:4,children:[e.client_fio,":"]}),n.jsx($,{align:"left",size:4,children:i})]}),n.jsxs(N,{d:"column",gap:"8px",children:[n.jsx(S,{text:"Получить пароли на e-mail",onClick:()=>a({agreementId:e.id,userEmail:s,clientEmail:i}),textColor:C.blue.main,background:"transparent",hoverBackground:C.blue.transparent3}),n.jsx(S,{text:"Ввести пароли",isActive:o,onClick:r,background:"var(--reallyBlue)",textColor:"#fff"})]})]})},nj=({agreement:e})=>{const{isMobile:t}=He(),[i,s]=d.useState(""),[o,a]=d.useState(""),[r]=H([qn.signAgreement]);return n.jsxs(n.Fragment,{children:[n.jsxs(Di,{columns:t?"1fr":"1fr 1fr",rows:"1fr 1fr",rowGap:"8px",columnGap:"8px",children:[n.jsxs($,{align:"left",size:4,children:[e.user_fio,":"]}),n.jsx(Ne,{placeholder:"Ваш код",value:i,setValue:s}),n.jsxs($,{align:"left",size:4,children:[e.client_fio,":"]}),n.jsx(Ne,{placeholder:"Код заказчика",value:o,setValue:a})]}),n.jsx(S,{text:"Подписать",onClick:()=>{r({agreementId:e.id,userPass:i,clientPass:o})},background:"var(--reallyBlue)",textColor:"#fff"})]})},ij=["Проверьте и подтвердите адреса e-mail","Получите на адреса e-mail пароли для подписания ЭЦП 3-х-стороннего доп.соглашения","Введите пароли для подписания ЭЦП 3-х-стороннего доп.соглашения"],sj=({agreement:e})=>{const{isMobile:t}=He(),[i,s]=H([xn.step,qn.goBack]),o=i===1;return n.jsxs(N,{w:t?"100%":"600px",d:"column",children:[n.jsxs(oj,{hasBack:o,children:[o&&n.jsx(S,{onClick:s,icon:n.jsx(ei,{}),background:"transparent",textColor:"var(--theme-opposite)",width:"fit-content",align:"left",padding:"8px",height:"fit-content"}),n.jsx($,{align:"left",size:3,children:ij[i]})]}),n.jsxs(N,{d:"column",gap:"24px",m:`${i===0?t?"2rem":"0.5rem":t?"5rem":"3rem"} 0 0 0`,children:[i===0&&n.jsx(ej,{agreement:e}),i===1&&n.jsx(tj,{agreement:e}),i===2&&n.jsx(nj,{agreement:e})]})]})},oj=u.div.withConfig({componentId:"sc-n0fq5u-0"})(["position:absolute;display:flex;align-items:center;top:16px;left:",";gap:15px;width:85%;"],({hasBack:e})=>e?"4px":"20px"),aj=u.div.withConfig({componentId:"sc-72blgj-0"})(["display:flex;align-items:center;@media (max-width:768px){flex-direction:column;gap:16px;}"]),rj=({data:e,isContractSigned:t})=>{const i=ut(),{isTablet:s}=He(),{id:o,signed_user:a,name:r,can_sign:l,date:c,reason:p}=e,[f,g,h,m,v]=H([Re.$done,Re.$completed,Re.$loading,xn.signed,jw.thirdPartyInteractionAgreement]),w=a||f||m?140:s?120:100,{open:x,close:j}=K();d.useEffect(()=>{m&&j()},[m]);const D=O=>{if(O){if(!v){Y.evokePopUpMessage({message:"Чтобы продолжить, подпишите соглашение об электронном взаимодействии",type:"failure",time:1e4}),i.push(KN);return}qn.signStarted(),x(n.jsx(sj,{agreement:e}));return}ua.signAgreement(o)},_=ua.setCompleted,A=e.sides==="3";return n.jsxs(Zw,{height:w,title:r,confirmed:a||f||m,children:[n.jsxs(aj,{children:[n.jsxs(N,{d:"column",ai:"flex-start",gap:"4px",children:[n.jsx($,{size:5,align:"left",children:r}),n.jsx(pe,{children:he(c)})]}),n.jsxs(N,{gap:"8px",w:"100%",jc:"flex-end",children:[n.jsx(Cn,{href:e.file,onClick:()=>null,width:"40px",icon:n.jsx(Ds,{}),isActive:!!e.file}),!(a||f||m)&&n.jsx(yt,{text:a||f||m?"Подписано":"Подписать",action:()=>D(A),isLoading:h,completed:g||m,isDone:a||f||m,width:"160px",setCompleted:_,isActive:!(a||f||m)&&!!l,popUpFailureMessage:l?"Согласие уже подписано":t?p:"Необходимо сначала подписать договор",popUpSuccessMessage:"Согласие успешно подписано"}),n.jsx(ce,{type:"success",title:"Подписано",icon:n.jsx(Qi,{}),align:"center",width:"130px",visible:(a||f||m)&&l})]})]}),(f||a||m)&&n.jsxs(pe,{children:["Дата подписания: ",he(e.signed_user_date||new Date),","," ",e.signed_user_time||`${new Date().getHours()}:${new Date().getMinutes()}`]})]})},lj=({electronicAgreements:e=[],isContractSigned:t})=>n.jsxs(Be,{width:"100%",children:[n.jsx($,{size:4,align:"left",icon:n.jsx(nx,{}),bottomGap:!0,children:"Доп. соглашения"}),e.map((i,s)=>n.jsx(rj,{data:i,isContractSigned:t},s))]}),cj="https://api.mospolytech.ru/tutorial/api",ot=pt.create({baseURL:cj});ot.interceptors.request.use(Ki);ot.interceptors.response.use(e=>P(void 0,null,function*(){var t,i,s,o;return((o=(s=(i=(t=e==null?void 0:e.data)==null?void 0:t.errors)==null?void 0:i[0])==null?void 0:s.extensions)==null?void 0:o.code)==="FST_JWT_AUTHORIZATION_TOKEN_EXPIRED"?yield Gn(ot)(e):e}),Gn(ot));const dj=e=>P(void 0,null,function*(){const{data:t}=yield ot.post("/tutorials/init",{tutorials:e});return t}),pj=()=>P(void 0,null,function*(){const{data:e}=yield ot.get("/users/tutorials");return e}),uj=e=>P(void 0,null,function*(){const{data:t}=yield ot.post("/users/tutorials",{tutorialId:e});return t}),hj=e=>P(void 0,null,function*(){const{data:t}=yield ot.post("/users/rerun",{tutorialId:e});return t}),fj=e=>P(void 0,null,function*(){const{data:t}=yield ot.post("/users/enableTutorial",{tutorialState:e});return t}),gj=()=>P(void 0,null,function*(){const{data:e}=yield ot.post("/users/reset");return e}),mj=()=>P(void 0,null,function*(){const{data:e}=yield ot.post("/users/call");return e}),xj=()=>P(void 0,null,function*(){const{data:e}=yield ot.delete("/users/clear");return e}),vj=e=>P(void 0,null,function*(){const{data:t}=yield ot.post("/users/sync",e);return t}),Al=["home","settings","chat","applications","payments","stud-project-activity"],bj=e=>({home:{index:0,path:"/home",name:"Главная",steps:[{title:"Главная",description:"На главной странице собрана основная информация приложения"},{title:"Поиск",description:"Здесь есть поиск для быстрого поиска информации, раздела или контента"},{title:"Меню быстрого доступа",description:"А также меню быстрого доступа к разделам. Его можно изменить или убрать в настройках"},{title:"Уведомления",description:"Просмотрите уведомления о важных событиях или сообщениях, щелкнув по иконке колокольчика. Уведомления можно выключить или изменить в настройках"},...e.includes("has widgets")?[{title:"Виджеты",description:"Используйте виджеты для быстрого доступа к информации или функциям, размещенным на главной странице. Виджеты можно изменить в настройках"}]:[]],roles:["stud","staff"]},chat:{index:1,path:"/chat",name:"Сообщения",steps:[{title:"Список диалогов",description:"Здесь будут указаны все ваши чаты"},{title:"Новое сообщение",description:"Чтобы создать новый чат, нажмите на эту кнопку"},{title:"Поиск",description:"Для быстрого поиска диалога можно воспользоваться поиском"}],roles:["stud","staff"]},payments:{index:2,path:"/payments",name:"Договоры и оплаты",steps:yj(e),roles:wj(e)},applications:{index:3,path:"/applications",name:"Цифровые сервисы",steps:[{title:"Цифровые сервисы",description:"В этом разделе можно заказать необходимую справку, подать заявление или запрос"},{title:"Цифровые сервисы",description:"В таблице можно посмотреть статус заявления и скачать файлы документов. Доступны поиск и фильтрация по запросам"},{title:"Цифровые сервисы",description:"В колонке «Структурное подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом"},{title:"Подать заявление",description:"Чтобы подать заявление, нажмите на эту кнопку"}],roles:["stud","staff"]},"stud-project-activity":{index:4,path:"/project-activity",name:"Проектная деятельность",steps:[{title:"Проектная деятельность",description:"В этом разделе можно узнать информацию о твоем проекте по проектной деятельности"},{title:"Проект",description:"Здесь указано название проекта и полезная информация"},{title:"Текущий семестр",description:"Раздел с текущим семестром. Для зачета нужно набрать 60 баллов"},{title:"Предыдущий семестр",description:'Если за предыдущий семсетр стоит "не зачтено", то нужно донабрать баллы в текущем семестре'},{title:"Итого",description:"В последнем разделе посчитано итоговое количество баллов и предварительная оценка"}],roles:["stud"]},settings:{index:5,path:"/configurations",name:"Настройки",steps:[{title:"Настройки",description:"Мы стараемся предоставить широкий набор настроек для персонализации Личного кабинета. В этом разделе можно все настроить под себя"},{title:"Аккаунт",description:"В этом разделе можно обновить контактную информацию, изменить фото профиля, поменять пароль или включить синхронизацию настроек между устройствами"},{title:"Меню",description:"В этом разделе можно изменить список разделов для быстрого доступа с боковой панели"},{title:"Внешний вид",description:"Пока что в этом разделе можно изменить только визуальную тему Личного кабинета, но скоро появится больше возможностей для персонализации"},{title:"Главная страница",description:"Здесь можно настроить разделы быстрого доступа домашней страницы и отображение виджетов"},{title:"Уведомления",description:"В этом разделе можно настроить получение и отображение уведомлений по темам"},{title:"Обучение",description:"В этом разделе можно выключить обучение, посмотреть прогресс обучения или запустить программу для выбранного раздела"}],roles:["stud","staff"]}}),yj=e=>{const t="Тут отображается задолженность или переплата по договору",i="Чтобы оплатить договор, нужно нажать на кнопку и отсканировать QR-код в банковском приложении. Если задолженности нет, то будет отображаться зеленая галочка";return[...e.includes("education")&&e.includes("dormitory")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору. У тебя есть договор на общежитие и на обучение. Их можно переключать в этом меню"},{title:"Задолженность",description:t},{title:"Оплата",description:i}]:e.includes("education")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору"},{title:"Задолженность",description:t},{title:"Оплата",description:i}]:e.includes("dormitory")?[{title:"Договоры и оплаты",description:"В этом разделе можно посмотреть задолженность и другую информацию по договору"},{title:"Задолженность",description:t},{title:"Оплата",description:i}]:[]]},wj=e=>e.includes("education")||e.includes("dormitory")?["stud","staff"]:[];function zp(e){let t=0,i,s;if(e.length===0)return t;for(i=0;i<e.length;i++)s=e.charCodeAt(i),t=(t<<5)-t+s,t|=0;return t}const jj=Object.keys,_j=Pp({api:{get:Gv}}),Rp=I({name:"tutorialEnabled",sid:"-2sv3dj"}),yo=I({name:"setHeroVisited",sid:"-gm22ma"}),Mp=I({name:"setTutorialState",sid:"-5jq2w"}),Fp=I({name:"increasedInteractions",sid:"-3ivxzp"}),ss=I({name:"moduleCompleted",sid:"-xkatcn"}),pr=I({name:"moduleRestarted",sid:"j4p4ed"}),$p=I({name:"setCurrentTutorial",sid:"-q4fb5e"}),Bp=I({name:"nextStep",sid:"-2eq4dv"}),Hp=I({name:"prevStep",sid:"zcpqjw"}),ur=I({name:"resetStep",sid:"v08ni"}),hr=I({name:"getTutorialData",sid:"-p5z0x"}),fr=I({name:"clearProgress",sid:"-rx0b70"}),Up=J(e=>{let{tutorials:t,hash:i}=e;localStorage.setItem(Wn,JSON.stringify(t)),localStorage.setItem(oo,new Date().toISOString()),i&&localStorage.setItem(Ei,i.toString())},{name:"saveProgressLocally",sid:"-j6jccn"}),gr=M(!1,{name:"$tutorialState",sid:"-sh281"}).on(Mp,(e,t)=>t).reset(fe.logout),kj=M(!1,{name:"$heroVisited",sid:"vnwair"}).on(yo,(e,t)=>(localStorage.setItem("heroVisited",String(t)),t)).reset(fe.logout),wo=M(null,{name:"$currentModule",sid:"ge6608"}).on(ss,e=>k(k({},e),{},{completed:!0})).reset(fe.logout),Ni=M(0,{name:"$currentStep",sid:"6hckgh"}).reset(ur).reset(fe.logout),jt=M(null,{name:"$tutorials",sid:"7s25br"}).on(ss,(e,t)=>e?k(k({},e),{},{[t]:k(k({},e[t]),{},{completed:!0})}):null).reset(fe.logout),Wp=M(0,{name:"$interactions",sid:"-fcpc1i"}).reset(fe.logout),mr=I({name:"setRoles",sid:"-ocw0mr"}),In=M([],{name:"$roles",sid:"s02h8w"}).on(mr,(e,t)=>t).reset(fe.logout),jo=M(null,{name:"$userTutorialsData",sid:"hrnn7b"}).reset(fe.logout);y({and:[{clock:ve.userSettings,source:In,filter:(e,t)=>!!t,fn:(e,t)=>t!=null&&t.homePage.hasPayment&&t!==null&&t!==void 0&&t.homePage.hasSchedule?[...e,"has widgets"]:e.filter(i=>i!=="has widgets"),target:In}],or:{sid:"-6afpu4"}});y({and:[{clock:_j.store,source:In,filter:e=>!e.includes("has PA last semester"),fn:(e,t)=>{var i;return((i=t.data)===null||i===void 0?void 0:i.last_semestr_result)!=="Данные отсутствуют"?[...e,"has PA last semester"]:e.filter(s=>s!=="has PA last semester")},target:In}],or:{sid:"-66l5ol"}});y({and:[{clock:In,fn:e=>bj(e),target:jo}],or:{sid:"-5r6x2h"}});y({and:[{clock:lr.getPaymentsFx.doneData,source:In,fn:(e,t)=>{let{dormitory:i,education:s}=t;const o=[...e];return i.length&&!o.includes("dormitory")&&o.push("dormitory"),s.length&&!o.includes("education")&&o.push("education"),o},target:mr}],or:{sid:"-5ofy3o"}});y({and:[{clock:Bp,source:{currentStep:Ni,currentModule:wo},fn:e=>{let{currentStep:t,currentModule:i}=e;if(!i)return 0;const s=t+1;return(i==null?void 0:i.steps.length)<=s?0:s},target:Ni}],or:{sid:"-4sjvoq"}});y({and:[{clock:Hp,source:{currentStep:Ni,currentModule:wo},fn:e=>{let{currentStep:t,currentModule:i}=e;if(!i)return 0;const s=t-1;return s<0?t:s},target:Ni}],or:{sid:"gcktz0"}});y({and:[{clock:$p,source:jt,fn:(e,t)=>{if(!e||!t)return null;const i=e[t];return i!=null?i:null},target:wo}],or:{sid:"ha4a61"}});y({and:[{clock:ss,target:ur}],or:{sid:"hrpp5l"}});const Ms=Z({sid:"-4togy4",fn:()=>Ce({handler:hj}),name:"rerunModuleMutation",method:"createMutation"});y({and:[{clock:pr,target:Ms.start}],or:{sid:"i73xrp"}});y({and:[{clock:pr,source:jt,fn:(e,t)=>!e||!t?null:k(k({},e),{},{[t]:k(k({},e[t]),{},{completed:!1})}),target:jt}],or:{sid:"i9b455"}});y({and:[{clock:Ms.$succeeded,source:{id:Ms.__.$latestParams,tutorials:jt},filter:Boolean,fn:e=>{let{id:t,tutorials:i}=e;return!i||!t?null:k(k({},i),{},{[t]:k(k({},i[t]),{},{completed:!1})})},target:jt}],or:{sid:"j576k3"}});y({and:[{clock:Ms.$failed,fn:()=>({message:"Не удалось перезапустить модуль",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"k4xt4k"}});const ht=Z({sid:"149qpd",fn:()=>Et({handler:pj}),name:"getTutorialDataQuery",method:"createQuery"});y({and:[{clock:hr,fn:()=>!!localStorage.getItem("heroVisited"),target:yo}],or:{sid:"ukhae7"}});y({and:[{clock:hr,target:ht.start}],or:{sid:"uyrxtl"}});y({and:[{clock:ht.finished.success,fn:e=>{let{result:{tutorialState:t}}=e;return t},target:gr}],or:{sid:"v0z471"}});y({and:[{clock:ht.finished.success,fn:e=>{let{result:{tutorials:t,hash:i}}=e;return{tutorials:t,hash:i}},target:Up}],or:{sid:"vhgxzv"}});y({and:[{clock:ht.finished.failure,target:[Mp.prepend(()=>!1),yo.prepend(()=>!0)]}],or:{sid:"w05y65"}});y({and:[{clock:ht.finished.success,source:jo,fn:(e,t)=>{let{result:{tutorials:i}}=t;return!e||!i?null:i.reduce((s,o)=>k(k({},s),{},{[o.id]:k(k({},e[o.id]),o)}),{})},target:jt}],or:{sid:"wdwt06"}});y({and:[{clock:jo,source:jt,fn:(e,t)=>{if(!t||!e)return null;const i=k({},e);return jj(e).forEach(s=>{i[s]=k(k({},e[s]),t[s])}),i},target:jt}],or:{sid:"xd3mza"}});y({and:[{clock:ht.finished.success,fn:e=>{let{result:{interactions:t}}=e;return t},target:Wp}],or:{sid:"yan36b"}});const Gp=I({name:"initialized",sid:"8ebr73"}),ga=Z({sid:"effxhg",fn:()=>Ce({handler:dj}),name:"updatedM",method:"createMutation"});y({and:[{clock:Gp,target:ga.start}],or:{sid:"ytc3cl"}});y({and:[{clock:ga.finished.success,source:ga.__.$latestParams,fn:e=>localStorage.setItem(Va,zp(JSON.stringify(e)).toString()),target:ht.start}],or:{sid:"yvj9q1"}});const Cj=Z({sid:"-vvr1dj",fn:()=>Ce({handler:mj}),name:"callInteractionMutation",method:"createMutation"});y({and:[{clock:Fp,target:Cj.start}],or:{sid:"-pr4w66"}});const Oi=Z({sid:"nezpso",fn:()=>Ce({handler:fj}),name:"changeTutorialStateMutation",method:"createMutation"});y({and:[{clock:Rp,target:Oi.start}],or:{sid:"-pbqnk2"}});y({and:[{clock:Oi.$succeeded,source:Oi.__.$latestParams,filter:Boolean,target:gr}],or:{sid:"-p9jh6m"}});y({and:[{clock:Oi.$succeeded,target:ht.start}],or:{sid:"-oup15v"}});y({and:[{clock:Oi.$failed,fn:()=>({message:"Не удалось сохранить данные о прохождении",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-oshusf"}});const _o=Z({sid:"-pnyfi3",fn:()=>Ce({handler:gj}),name:"resetTutorialMutation",method:"createMutation"});y({and:[{clock:fr,target:_o.start}],or:{sid:"-oawfsv"}});const Sj=J(()=>{localStorage.removeItem(Ei),localStorage.removeItem(Wn),localStorage.removeItem(oo)},{name:"clearLocalProgressFx",sid:"yo41xi"});y({and:[{clock:fr,target:Sj}],or:{sid:"-nuem01"}});const Vp=I({name:"clearAll",sid:"-e8pt7k"}),qp=Z({sid:"w8b7vu",fn:()=>Ce({handler:xj}),name:"clearMut",method:"createMutation"});y({and:[{clock:Vp,target:qp.start}],or:{sid:"-negksk"}});y({and:[{clock:qp.$succeeded,fn:()=>{localStorage.clear()},target:fe.logout}],or:{sid:"-n0ppyj"}});y({and:[{clock:_o.$succeeded,target:ht.start}],or:{sid:"-mwv5t0"}});y({and:[{clock:_o.$succeeded,fn:()=>({message:"Прогресс успешно сброшен",type:"success"}),target:Y.evokePopUpMessage}],or:{sid:"-mj4ayz"}});y({and:[{clock:_o.$failed,fn:()=>({message:"Не удалось сбросить данные о прохождении",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-mepy83"}});const xr=Z({sid:"-1f9d4w",fn:()=>Ce({handler:uj}),name:"completeModuleMutation",method:"createMutation"}),vr=I({name:"sync",sid:"-hht7in"}),ko=Z({sid:"-5cm0ys",fn:()=>Ce({handler:vj}),name:"syncMutation",method:"createMutation"});y({and:[{clock:ht.finished.success,filter:e=>{let{result:{hash:t}}=e;return!!localStorage.getItem(Ei)&&!!localStorage.getItem(Wn)&&t!==Number(localStorage.getItem(Ei))},fn:()=>{const e=JSON.parse(localStorage.getItem(Wn)||""),t=localStorage.getItem(oo)||"";return{tutorials:e,date:t}},target:vr}],or:{sid:"-ljdoei"}});y({and:[{clock:vr,target:ko.start}],or:{sid:"-aozr44"}});y({and:[{clock:ko.finished.success,fn:e=>{let{result:t}=e;return t},target:Up}],or:{sid:"-amskqo"}});y({and:[{clock:ko.finished.success,source:jt,filter:(e,t)=>{let{result:{tutorials:i}}=t;return!!(i!=null&&i.length)},fn:(e,t)=>{let{result:{tutorials:i}}=t;return!e||!i?null:i.reduce((s,o)=>k(k({},s),{},{[o.id]:k(k({},e[o.id]),o)}),{})},target:jt}],or:{sid:"-a7ec4k"}});y({and:[{clock:ss,target:xr.start}],or:{sid:"-95gj6n"}});y({and:[{clock:xr.$succeeded,target:ht.start}],or:{sid:"-8rpocm"}});y({and:[{clock:xr.$failed,fn:()=>({message:"Не удалось сохранить данные о прохождении",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-8pihz6"}});y({and:[{clock:fe.logout,target:[ht.reset]}],or:{sid:"-89kgrp"}});const Me={tutorialState:gr,currentModule:wo,currentStep:Ni,tutorials:jt,heroVisited:kj,interactions:Wp,roles:In,userTutorials:jo},Ie={tutorialEnabled:Rp,setHeroVisited:yo,moduleCompleted:ss,moduleRestarted:pr,setCurrentTutorial:$p,getTutorialData:hr,nextStep:Bp,prevStep:Hp,clearProgress:fr,resetStep:ur,increasedInteractions:Fp,initialized:Gp,clearAll:Vp,sync:vr,setRoles:mr},Ij={syncMutation:ko},Dl={small:"30px",middle:"44px",big:"68px"},Yp={small:"8px",middle:"10px",big:"16px"},Tj={small:"0.8rem",middle:"0.9rem",big:"1rem"},Ej={small:"0.65rem",middle:"0.75rem",big:"0.85rem"},Pj=u.div.withConfig({componentId:"sc-a0ws8d-0"})(["max-width:",";width:100%;min-height:calc("," + 6px);padding:",";display:flex;align-items:center;justify-content:flex-start;background:",";border-radius:",";overflow-y:hidden;overflow-x:auto;scroll-snap-type:x proximity;font-size:0.9em;.slider-body{position:relative;display:flex;align-items:center;width:100%;height:",";}&::-webkit-scrollbar{display:none;}&:active .currentPage{transform:scale(0.9);}","{font-size:11px;min-height:40px;.slider-body{height:34px;}}"],({sliderWidth:e})=>e!=null?e:"100%",It(Dl),({appearance:e})=>e&&"3px",({appearance:e})=>e&&"var(--almostTransparent)",It(Yp),It(Dl),ee.isTablet),Aj=u.div.withConfig({componentId:"sc-1tv7iem-0"})(["width:100%;height:100%;min-width:calc(100% / ",");padding:10px 15px;display:flex;align-items:center;justify-content:center;text-align:center;opacity:",";transition:0.2s opacity,0.2s transform;z-index:1;cursor:pointer;user-select:none;color:var(--text);& > b{word-break:normal;text-overflow:ellipsis;font-weight:600;font-size:",";}&:hover{filter:",";}&.active{opacity:1;}&:active{transform:scale(0.97);}","{& > b{font-size:",";}}"],({elementsVisible:e})=>e,({condition:e})=>e?.7:.3,It(Tj),({condition:e})=>e&&"brightness(0.8)",ee.isMobile,It(Ej)),Dj=({id:e,currentPage:t,setCurrentPage:i,pageTitle:s,elementsVisible:o,condition:a=!0,size:r})=>n.jsx(Aj,{size:r,className:`SliderItem ${e===t?"active":""}`,onClick:()=>a&&i(e),elementsVisible:o,condition:a,children:n.jsx("b",{children:s})}),Nj=d.memo(Dj),Oj=u.span.withConfig({componentId:"sc-1qjycjp-0"})(["height:calc(100% - 0px);background:",";display:block;position:absolute;transition:0.3s left,0.2s transform;z-index:0;border-radius:calc("," - 3px);scroll-snap-align:center;left:",";width:",";@media (max-width:1000px){border-radius:calc(var(--brLight) - 2px);}"],({appearance:e})=>e?"var(--theme)":"var(--theme-1)",It(Yp),({currentPage:e,moreThanNeeded:t,pages:i,elementsVisible:s})=>`calc(${e*100/(t?s:i.length)}%)`,({moreThanNeeded:e,pages:t,elementsVisible:i})=>`calc(100% / ${e?i:t.length} - ${t.length>i?3:0}px)`),Lj=({currentPage:e,pages:t,elementsVisible:i,appearance:s,size:o})=>{const a=d.useMemo(()=>t.length>i,[t.length,i]);return n.jsx(Oj,{currentPage:e,appearance:s,moreThanNeeded:a,pages:t,elementsVisible:i,size:o})},zj=d.memo(Lj),Rj=({pages:e,currentPage:t,setCurrentPage:i,sliderWidth:s,appearance:o=!0,size:a="middle",forwardedRef:r})=>{const[l,c]=d.useState(5),p=d.useRef(null),{width:f}=Xi();return d.useEffect(()=>{var h,m;const g=(m=(h=p==null?void 0:p.current)==null?void 0:h.offsetWidth)!=null?m:f;g>800?c(5):g>600&&g<=800||g>400&&g<=600?c(4):g<=400&&c(3)},[f,p.current]),d.useEffect(()=>{r&&r(p.current)},[]),n.jsx(Pj,{ref:p,elementsVisible:l,sliderWidth:s,appearance:o,size:a,children:n.jsxs("div",{className:"slider-body",children:[n.jsx(zj,{size:a,appearance:o,pages:e,currentPage:t,elementsVisible:l}),e.map((g,h)=>n.jsx(Nj,{size:a,id:h,currentPage:t,setCurrentPage:i,pageTitle:g.title,condition:g.condition,elementsVisible:l},h))]})})},Co=d.memo(Rj),Mj=({setAnimation:e})=>{const t=H(Me.currentModule),{isMobile:i,isTablet:s}=He();return t?i||s?n.jsx(Fj,{onClick:()=>{e("out"),setTimeout(()=>{Ie.moduleCompleted(t.id)},200)},children:n.jsx(ix,{size:24})}):n.jsxs($j,{onClick:()=>{e("out"),setTimeout(()=>{Ie.moduleCompleted(t.id)},200)},children:["Пропустить ",">"]}):null},Qp=u.button.withConfig({componentId:"sc-zweyx0-0"})(["position:absolute;color:#ffffff;z-index:6;background:transparent;border:none;font-size:18px;cursor:pointer;"]),Fj=u(Qp).withConfig({componentId:"sc-zweyx0-1"})(["right:1.5em;top:0.5em;padding:1rem;"]),$j=u(Qp).withConfig({componentId:"sc-zweyx0-2"})(["right:2.5em;bottom:1.5em;"]),Bj=({children:e,onSwipe:t})=>{const i=d.useRef(null),[s,o]=d.useState(0),[a,r]=d.useState(0),l=d.useCallback(p=>{i.current&&i.current.contains(p.target)&&(p.preventDefault(),o(p.touches[0].clientX),r(p.touches[0].clientY))},[]),c=d.useCallback(p=>{if(!i.current||!i.current.contains(p.target))return;p.preventDefault();const f=p.changedTouches[0].clientX,g=p.changedTouches[0].clientY,h=f-s,m=g-a;t({deltaX:h,deltaY:m})},[s,a,t]);return d.useEffect(()=>(window.addEventListener("touchstart",l),window.addEventListener("touchend",c),()=>{window.removeEventListener("touchstart",l),window.removeEventListener("touchend",c)}),[l,c]),n.jsx("div",{ref:i,children:e})};function Hj(e,t=300){let i;const s=(...o)=>{i!==null&&clearTimeout(i),i=setTimeout(()=>{e(...o)},t)};return s.cancel=()=>{i!==null&&clearTimeout(i),i=null},s}const Uj=()=>{const[e,t]=d.useState({width:0,height:0}),[i,s]=d.useState(null),[o,a]=d.useState(!1),r=d.useRef(!0),l=d.useRef(null);d.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const c=d.useCallback(p=>{if(l.current=p,!p)return;const f=()=>{if(!p||!r.current)return;const w=p.getBoundingClientRect();r.current&&(t({width:w.width,height:w.height}),s({top:w.top,left:w.left,right:w.right,bottom:w.bottom}))},g=Hj(f,200),h=document.getElementById("root");if(!h)return;f();const m=new IntersectionObserver(([w])=>{r.current&&a(w.isIntersecting),w.isIntersecting&&m.unobserve(p)}),v=new MutationObserver(f);return v.observe(h,{childList:!0,subtree:!0}),m.observe(p),window.addEventListener("resize",f),window.addEventListener("scroll",g,!0),()=>{m.disconnect(),v.disconnect(),window.removeEventListener("resize",f),window.removeEventListener("scroll",g,!0)}},[]);return d.useEffect(()=>()=>{c(null)},[c]),{dimensions:e,position:i,handleRef:c,visible:o,ref:l}};function Wj({threshold:e=0,root:t=null,rootMargin:i="0%",freezeOnceVisible:s=!1,initialIsIntersecting:o=!1,onChange:a}={}){var v;const[r,l]=d.useState(null),[c,p]=d.useState(()=>({isIntersecting:o,entry:void 0})),f=d.useRef();f.current=a;const g=((v=c.entry)==null?void 0:v.isIntersecting)&&s;d.useEffect(()=>{if(!r||!("IntersectionObserver"in window)||g)return;let w;const x=new IntersectionObserver(j=>{const D=Array.isArray(x.thresholds)?x.thresholds:[x.thresholds];j.forEach(_=>{const A=_.isIntersecting&&D.some(O=>_.intersectionRatio>=O);p({isIntersecting:A,entry:_}),f.current&&f.current(A,_),A&&s&&w&&(w(),w=void 0)})},{threshold:e,root:t,rootMargin:i});return x.observe(r),()=>{x.disconnect()}},[r,JSON.stringify(e),t,i,g,s]);const h=d.useRef(null);d.useEffect(()=>{var w;!r&&((w=c.entry)!=null&&w.target)&&!s&&!g&&h.current!==c.entry.target&&(h.current=c.entry.target,p({isIntersecting:o,entry:void 0}))},[r,c.entry,s,g,o]);const m=[l,!!c.isIntersecting,c.entry];return m.ref=m[0],m.isIntersecting=m[1],m.entry=m[2],m}const Ze=e=>i=>{var Ae,Le;const s=me.useRef(null),{width:o}=Xi(),[a,r]=d.useState("in"),[l,c]=d.useState(0),p=document.getElementById("portal"),{dimensions:f,position:g,handleRef:h,visible:m,ref:v}=Uj(),[w,x,j,D]=H([Me.tutorialState,Me.currentModule,Me.currentStep,Me.tutorials]),{isIntersecting:_,ref:A}=Wj({threshold:.5}),O=x==null?void 0:x.steps[j];if(d.useEffect(()=>{h&&h(v.current)},[]),!p||!g||!w||!D||!x||!i.tutorialModule||!O)return n.jsx(e,b({forwardedRef:h},i));const{title:X,description:z}=O,{id:Q,step:G,params:W}=i.tutorialModule,U=x.completed,V=x?j===x.steps.length-1:0;if(!(W!=null&&W.noScroll)&&!m&&!U&&x.id===Q&&G===j&&!_&&v.current&&v.current.scrollIntoView({behavior:"smooth"}),!m||U)return n.jsx(e,b({forwardedRef:h},i));const ae=({deltaX:je,deltaY:De})=>{Math.abs(je)>Math.abs(De)||De>0&&(r("out"),setTimeout(()=>{r("removed"),Ie.moduleCompleted(Q)},200))};return n.jsxs(n.Fragment,{children:[n.jsx(e,b({forwardedRef:h},i)),(typeof G=="number"?G===j:G.some(je=>je===j))&&Q===x.id&&Dc.createPortal(n.jsxs(n.Fragment,{children:[n.jsx(Bj,{onSwipe:ae,children:n.jsx(Gj,{onClick:()=>{c(l+1),l>1&&(r("out"),setTimeout(()=>{r("removed"),Ie.moduleCompleted(Q)},200))}})}),n.jsx(Yj,{dimensions:f,position:g,lastStep:a==="out",noPadding:(Ae=i.tutorialModule.params)==null?void 0:Ae.noPadding}),n.jsxs(Qj,{ref:je=>{je&&(s.current=je,A(je))},pageWidth:o,dimensions:f,childPosition:g,relativePosition:((Le=i.tutorialModule.params)==null?void 0:Le.position)||"right",lastStep:a==="out",children:[n.jsx($,{size:4,align:"left",children:X}),n.jsx(Jj,{children:z}),n.jsxs(Kj,{jc:"flex-end",gap:"20px",children:[n.jsx(Nl,{disabled:j==0,onClick:()=>{Ie.prevStep()},children:n.jsx(sx,{})}),n.jsxs("div",{children:[j+1," / ",x.steps.length]}),n.jsx(Nl,{onClick:()=>{V?(r("out"),setTimeout(()=>{r("removed"),Ie.moduleCompleted(Q)},200)):Ie.nextStep()},children:V?n.jsx(ox,{}):n.jsx(ax,{})})]})]}),n.jsx(Mj,{setAnimation:je=>r(je)})]}),p)]})},Gj=u.div.withConfig({componentId:"sc-18r58yd-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;z-index:4;"]),Vj=to(["0%{opacity:0;}100%{opacity:1;}"]),br=to(["0%{opacity:1;}100%{opacity:0;}"]),qj=to(["0%{background-color:rgba(0,0,0,0.66);}100%{background-color:rgba(0,0,0,0);}"]),Yj=u.div.withConfig({componentId:"sc-18r58yd-1"})(["pointer-events:none;position:fixed;top:","px;left:","px;z-index:6;width:","px;height:","px;padding:",";border-radius:10px;box-shadow:rgba(0,0,0,0.66) 0px 0px 0px 10000px;animation:"," 0.2s ease-in forwards;"],({position:{top:e},noPadding:t})=>t?e:e-10,({position:{left:e},noPadding:t})=>t?e:e-10,({dimensions:{width:e},noPadding:t})=>t?e:e+20,({dimensions:{height:e},noPadding:t})=>t?e:e+20,({noPadding:e})=>e?"0":"10px",({lastStep:e})=>e?br:qj),Qj=u.div.withConfig({componentId:"sc-18r58yd-2"})(["position:fixed;z-index:6;bottom:0;left:0;width:calc(100% - 16px);margin:8px;padding:20px 30px;border-radius:15px;color:#f4f4f4;background:rgba(95,109,236,0.6);backdrop-filter:blur(6.5px);font-family:'Montserrat';font-style:normal;font-weight:600;font-size:16px;line-height:20px;@media (min-width:1000px){min-width:250px;width:20%;max-width:600px;top:","px;left:",";right:",";transform:translateY(",");bottom:auto;margin:10px;animation:"," 200ms ease-in forwards;}"],({dimensions:{height:e},childPosition:{top:t},relativePosition:i})=>{switch(i){case"bottom":return t+e+10;case"top":return t-30;default:return t-20}},({pageWidth:e,dimensions:{width:t},childPosition:{left:i},relativePosition:s})=>{switch(s){case"bottom":case"top":return e-i>250?i-20+"px":"auto";case"left":return"auto";case"right":return i+t+10+"px"}},({pageWidth:e,dimensions:{width:t},childPosition:{left:i,right:s},relativePosition:o})=>{switch(o){case"bottom":case"top":case"right":return e-i-t-20>250?"auto":"10px";case"left":return e-s+t+10+"px"}},({relativePosition:e})=>e==="top"?"-100%":"0",({lastStep:e})=>e?br:Vj),Jj=u.div.withConfig({componentId:"sc-18r58yd-3"})(["margin-top:20px;font-size:12px;line-height:140%;"]),Kj=u(N).withConfig({componentId:"sc-18r58yd-4"})(["margin-top:30px;left:0;"]),Nl=u.button.withConfig({componentId:"sc-18r58yd-5"})(["max-width:26px;aspect-ratio:1;background-color:transparent;border:none;padding:0;color:#f4f4f4;:disabled{opacity:0.5;}:not(:disabled){cursor:pointer;}&:hover:not(:disabled){opacity:0.7;}&:focus{outline:none;}"]),ma=({debt:e,size:t="big",forwardedRef:i})=>{const s=e>0?C.red.main:C.green.main;return n.jsx(Lp,{forwardedRef:i,size:t,color:s,fontWeight:"600",children:e>=0?e:`+${-e}`})},Xj=Ze(ma),Zj=u.div.withConfig({componentId:"sc-1mzs4rv-0"})(["display:flex;justify-content:center;align-items:center;img{border-radius:4px;}@media (max-width:1000px){width:100%;min-width:100%;}"]),vs=({qrCode:e})=>{const[t,i]=d.useState(!0);return d.useEffect(()=>{setTimeout(()=>{i(!1)},500)},[]),n.jsx(Zj,{children:n.jsx(Xa,{loading:t,width:"300px",height:"300px",src:e!=null?e:""})})},e_=u.div.withConfig({componentId:"sc-5t3ts2-0"})(["@media (min-width:1001px){width:300px;}"]),t_=({qr_current:e,qr_total:t,currentPage:i})=>i===0?n.jsx(vs,{qrCode:e}):i===1?n.jsx(vs,{qrCode:t}):n.jsx(e_,{children:n.jsx(Ho,{pages:[{title:"Текущая задолженность",content:n.jsx(vs,{qrCode:e})},{title:"Общая задолженность",content:n.jsx(vs,{qrCode:t})}],appearance:!1,currentPage:i})}),Jp=s=>{var o=s,{type:e="horizontal",forwardedRef:t}=o,i=lt(o,["type","forwardedRef"]);const{open:a}=K(),r="Оплатить через QR-code",l=`linear-gradient(45deg, ${C.green.main}, ${C.green.dark1})`,c=()=>{a(n.jsx(t_,b({},i)),r)};return e==="vertical"?n.jsx(S,{onClick:c,width:"68px",height:"60px",direction:"vertical",text:"QR",icon:n.jsx(rx,{}),textColor:"#fff",background:l,forwardedRef:t}):n.jsx(S,{text:r,onClick:c,width:"100%",textColor:"#fff",background:l,forwardedRef:t})},n_=({currentPage:e,hasDebt:t,qr_current:i,qr_total:s,forwardedRef:o})=>{const{isMobile:a}=He();return t?n.jsx(Jp,{forwardedRef:o,currentPage:e,type:a?"horizontal":"vertical",qr_current:i,qr_total:s}):n.jsx(Za,{forwardedRef:o,color:"green",size:"40px"})},i_=Ze(n_),s_=u.div.withConfig({componentId:"sc-1gb0lvp-0"})(["width:100%;"]),o_=u.div.withConfig({componentId:"sc-1gb0lvp-1"})(["width:100%;padding:16px;background:var(--block-content);border-radius:6px;box-shadow:var(--block-shadow);"]),a_=u.div.withConfig({componentId:"sc-1gb0lvp-2"})(["display:flex;align-items:flex-end;justify-content:space-between;margin-top:20px;width:100%;margin-bottom:30px;@media (max-width:768px){flex-direction:column;align-items:flex-start;gap:20px;}"]),r_=u.div.withConfig({componentId:"sc-1gb0lvp-3"})(["display:flex;align-items:center;gap:1.1rem;height:35px;@media (max-width:768px){flex-direction:column;gap:0;align-items:flex-start;height:fit-content;}"]),l_=u.div.withConfig({componentId:"sc-1gb0lvp-4"})(["position:relative;"]),c_=e=>{const{data:t,index:i,isDormitory:s}=e,{balance_currdate:o,balance:a,endDatePlan:r,can_sign:l,bill:c,bill_next:p,qr_current:f,qr_total:g}=t,h=H(Me.roles),{open:m}=K(),[v,w]=d.useState(0),x=v===0?+o:+a,j=x>0,D=j?v===0?"Долг по договору":"Остаток по договору":x<0?"Переплата по договору":"У вас нет долга",_=v===0?`На ${he(new Date)}`:`До ${he(r)}`,A=i===0&&(h.includes("dormitory")&&h.includes("education")&&s||h.includes("dormitory")===s),O=()=>{m(n.jsx(Qw,{contract:t}),"Реквизиты договора")};return n.jsxs(s_,{children:[n.jsx($,{icon:n.jsx(lx,{}),size:4,align:"left",bottomGap:!0,children:"Задолженность"}),n.jsxs(o_,{children:[n.jsx(Co,{pages:[{title:"Текущая"},{title:"Общая"}],currentPage:v,setCurrentPage:w,appearance:!1}),n.jsxs(a_,{children:[n.jsxs(N,{d:"column",gap:"12px",ai:"flex-start",children:[n.jsx(Xj,{debt:x,tutorialModule:A?{id:"payments",step:1}:void 0}),n.jsxs(N,{d:"column",gap:"4px",ai:"flex-start",children:[n.jsx($,{size:3,align:"left",children:D}),n.jsx(pe,{children:_})]})]}),n.jsx(i_,{currentPage:v,hasDebt:j,qr_current:f,qr_total:g,tutorialModule:A?{id:"payments",step:2,params:{position:"left"}}:void 0})]}),n.jsxs(r_,{children:[c&&n.jsx(Cn,{text:"Квитанция на оплату",background:"transparent",textColor:C.grey.main,align:"left",width:"fit-content",href:c,padding:"0"}),p&&n.jsx(Cn,{text:"Квитанция на оплату следующего периода",background:"transparent",textColor:C.grey.main,align:"left",width:"fit-content",href:p,padding:"0"}),n.jsxs(l_,{children:[n.jsx(S,{onClick:O,text:"Реквизиты договора",background:"transparent",textColor:C.grey.main,width:"fit-content",padding:"0",align:"left"}),n.jsx(Sn,{right:"-25px",top:"10px",visible:l,pulsing:!0,children:"1"})]})]})]})]})},Kp=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,Qn=(e,t)=>{switch(t){case"date":return he(e,"numeric");case"rub":return e+" руб.";default:return e===void 0?"-":e}},d_=(e,t)=>{const i=Number(t==null?void 0:t.sum)||Number(t==null?void 0:t.sum_price),s=Number(t==null?void 0:t.sum_pay);if(!i&&i!==0||!s&&s!==0)return"-";const o=i-s;return o<=0?"Оплачено":`Ожидает оплаты (${Qn(String(o),"rub")})`},p_=()=>[{title:"Год",field:"year",width:"25%",render:(e,t)=>{const i=t==null?void 0:t.date_start;return i?new Date(i).toLocaleDateString("ru",{year:"numeric"}):"-"}},{title:"Месяц",field:"month",width:"25%",render:(e,t)=>{const i=t==null?void 0:t.date_start;if(!i)return"-";const s=new Date(i).toLocaleDateString("ru",{month:"long"});return Kp(s)}},{title:"Оплатить до",field:"date_plan",type:"date",width:"25%",sort:!0},{title:"Статус",field:"sum_pay",width:"25%",render:d_}],u_=(e,t)=>{const[i,s]=d.useState(!1),[o,a]=d.useState(null);return d.useEffect(()=>{i&&setTimeout(()=>{s(!1),t==null||t(null)},200)},[i]),d.useEffect(()=>{setTimeout(()=>{o!==null&&(a(null),t==null||t(r=>(r&&delete r[o],b({},r))))},500)},[o]),{removeAll:i,removeOne:o,setRemoveAll:s,setRemoveOne:a}},Ko=u.div.withConfig({componentId:"sc-27hbiu-0"})(["padding:",";background:",";font-size:0.7em;font-weight:600;color:",";border-radius:var(--brLight);display:flex;align-items:center;justify-content:space-around;height:26px;user-select:none;cursor:pointer;animation:",";.element-text{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}.remove{display:flex;align-items:center;justify-content:center;min-width:15px;height:15px;background:var(--theme);color:var(--blue);border-radius:100%;svg{width:10px;height:10px;}}@keyframes element-added{0%{padding:0;width:0px;max-width:0px;opacity:0;visibility:hidden;margin-right:0;}100%{padding:5px 10px;width:100px;max-width:100px;opacity:1;visibility:visible;margin-right:5px;}}@keyframes element-removed{0%{padding:5px 10px;width:100px;max-width:100px;opacity:1;visibility:visible;margin-right:5px;}100%{padding:0;width:0px;max-width:0px;opacity:0;visibility:hidden;margin-right:0;}}"],({remove:e})=>e?"0px":"5px 10px",({background:e})=>e!=null?e:C.blue.transparent3,({color:e})=>e!=null?e:"var(--reallyBlue)",({remove:e})=>e?"element-removed 0.2s forwards normal":"element-added 0.2s forwards normal"),h_=u.div.withConfig({componentId:"sc-27hbiu-1"})(["display:flex;align-items:center;flex-wrap:wrap;row-gap:5px;transition:0.2s;padding:",";opacity:",";min-height:",";visibility:",";transform:scale(",") translate(",");"],({padding:e})=>e!=null?e:"10px",({removeAll:e})=>e?"0":"1",({removeAll:e,height:t})=>e?"0px":t||"46px",({removeAll:e})=>e?"hidden":"visible",({removeAll:e})=>e?"0.95":"1",({removeAll:e})=>e?"-30px, 20px":"0, 0"),yr=({list:e,onAddElement:t,onRemoveAll:i,onRemoveOne:s,padding:o,height:a,setList:r,hideWithEmpty:l})=>{const c=Object.keys(e!=null?e:{}),{removeAll:p,removeOne:f,setRemoveAll:g,setRemoveOne:h}=u_(c,r);return!c.length&&l?null:n.jsxs(h_,{removeAll:p||closed,padding:o,height:a,children:[!!t&&n.jsxs(Ko,{onClick:t,background:"var(--reallyBlue)",color:"#fff",children:[n.jsx(jn,{}),"Добавить"]}),Object.values(e!=null?e:{}).map(m=>{if(m!=null&&m.id)return n.jsxs(Ko,{background:m.background,remove:f===m.id,children:[n.jsx("div",{className:"element-text",children:m.title}),n.jsx("div",{className:"remove",onClick:()=>{c.length===1?(g(!0),i==null||i()):h(m.id),s(m.id)},children:n.jsx(Ut,{})})]},m.id)}),!!c.length&&!!i&&n.jsx(Ko,{background:"var(--reallyBlue)",color:"#fff",onClick:()=>{i(),g(!0)},children:n.jsx("div",{className:"element-text",children:"Убрать все"})})]})},Ol="Сортировка",Ll=(e,t)=>t?e==null?void 0:e.filter(i=>!Object.values(t).find(s=>{var o,a;return i[(a=(o=s.column)==null?void 0:o.field)!=null?a:""]!==s.value.title})):e,f_=(e,t)=>e?Object.keys(e).find(i=>e[i].title===t):null,g_=e=>{const[t,i]=d.useState(null),[s,o]=d.useState(null),[a,r]=d.useState(null),[l,c]=d.useState(null),[p,f]=d.useState(e),g=d.useCallback(m=>{var v,w;o(x=>(x&&x[m]&&delete x[m],b({},x))),m===((v=t==null?void 0:t.column)==null?void 0:v.field)&&i(null),m===((w=a==null?void 0:a.column)==null?void 0:w.field)&&r(null)},[t,s,a]),h=d.useCallback(()=>{o(null),i(null),r(null)},[]);return d.useEffect(()=>{if(s)if(!l)c(m=>{var w,x,j;const v=Object.values(s)[0].column;return m={[(w=v==null?void 0:v.field)!=null?w:""]:{id:(x=v==null?void 0:v.field)!=null?x:"",title:"Фильтр: "+((j=v==null?void 0:v.title)!=null?j:"")}},b({},m)});else{const m=Object.values(s).find(v=>{var w,x;return!l[(x=(w=v.column)==null?void 0:w.field)!=null?x:""]});m&&c(v=>{var j,D,_,A;const w=(D=(j=m.column)==null?void 0:j.field)!=null?D:"",x="Фильтр: "+((A=(_=m.column)==null?void 0:_.title)!=null?A:"");return v&&(v[w]={id:w,title:x}),b({},v)})}t&&c(m=>{var x,j;const v=(j=(x=t.column)==null?void 0:x.field)!=null?j:"",w="Поиск";return m?m[v]={id:v,title:w}:m={[v]:{id:v,title:w}},b({},m)}),a&&c(m=>{var x,j;const v=(j=(x=a.column)==null?void 0:x.field)!=null?j:"",w=Ol;return m?m[v]={id:v,title:w}:m={[v]:{id:v,title:w}},b({},m)})},[t,s,a]),d.useEffect(()=>{var w;const m=t==null?void 0:t.column,v=(w=t==null?void 0:t.column)==null?void 0:w.field;if(t&&v){const x=e==null?void 0:e.filter(j=>Ge(Qn(j[v],m==null?void 0:m.type)).includes(Ge(Qn(t.value,m==null?void 0:m.type))));f(x)}else f(e)},[t]),d.useEffect(()=>{s?f(Ll(e,s)):(c(m=>b({},m)),f(e))},[s]),d.useEffect(()=>{var v,w;const m=(w=(v=a==null?void 0:a.column)==null?void 0:v.field)!=null?w:"";a?f(x=>{const j=[...x!=null?x:[]];return j==null||j.sort((D,_)=>_[m]<D[m]?a.value==="asc"?1:-1:_[m]>D[m]?a.value==="asc"?-1:1:0),j}):(c(x=>{const j=f_(x,Ol);return x&&j&&delete x[j],b({},x)}),f(Ll(e,s)))},[a==null?void 0:a.value]),d.useEffect(()=>{f(e)},[e]),{sort:a,setSort:r,search:t,setSearch:i,resultData:p,filter:s,setFilter:o,filterList:l,setFilterList:c,onRemoveOne:g,onRemoveAll:h}},m_=e=>{switch(e){case"desc":return Y.evokePopUpMessage({message:"Таблица отсортирована по убыванию",type:"info",time:5e3});case"asc":return Y.evokePopUpMessage({message:"Таблица отсортирована по возрастанию",type:"info",time:5e3});default:return Y.evokePopUpMessage({message:"Сортировка отключена",type:"info",time:5e3})}},x_=u.div.withConfig({componentId:"sc-1c55fql-0"})(["display:flex;align-items:center;width:100%;font-size:0.9em;cursor:pointer;background:",";&:hover{filter:brightness(0.98);}.five{display:none;}@media (max-width:650px){font-size:0.9em;.four{display:none;}}@media (max-width:550px){.three{display:none;}}@media (max-width:450px){.two{display:none;}}"],({even:e})=>e?`${C.blue.transparent3}`:"var(--theme)"),Xp=u.div.withConfig({componentId:"sc-1vnodu8-0"})(["width:",";min-width:",";padding:",";height:100%;text-align:",";cursor:",";overflow:",";display:block;white-space:",";text-overflow:",";position:relative;@media (max-width:700px){padding:",";}"],({width:e})=>e!=null?e:"100%",({width:e})=>e!=null?e:"auto",({padding:e})=>e!=null?e:"20px",({align:e})=>e&&e,({clickable:e})=>e&&"pointer",({overflow:e})=>e!=null?e:"hidden",({showFull:e})=>e?"wrap":"nowrap",({showFull:e})=>e?"clip":"ellipsis",({clickable:e})=>!e&&"10px"),v_=u.div.withConfig({componentId:"sc-1ci0v85-0"})(["display:flex;align-items:center;width:100%;font-weight:600;font-size:0.9em;z-index:10;.icon{position:absolute;top:50%;right:8px;transform:translateY(-50%);}.five{display:none;}@media (max-width:650px){.four{display:none;}}@media (max-width:550px){font-size:0.8em;.three{display:none;}}@media (max-width:450px){.two{display:none;}}"]),b_=u.div.withConfig({componentId:"sc-1tw76ix-0"})(["display:flex;align-items:center;"]),y_=({columns:e,search:t,setSearch:i,filter:s,setFilter:o,sort:a,setSort:r})=>{const l=c=>()=>{c.search&&i({value:"",column:c}),c.sort&&r(p=>{const f=p!=null&&p.value?p.value==="desc"?"asc":null:"desc";return m_(f),f?{column:c,value:f}:null})};return n.jsx(v_,{children:e.map(c=>{var p,f,g,h,m,v;return n.jsxs(Xp,{overflow:c.catalogs?"visible":"hidden",width:c.width,title:c.title,clickable:c.search,align:c.search?"space-between":c.align,showFull:c.showFull,className:(f=(p=c.priority)==null?void 0:p.toString())!=null?f:"one",onClick:l(c),children:[!c.catalogs&&c.title,!c.catalogs&&!c.sort&&c.search&&n.jsx(Hn,{className:"icon",style:{color:c.field===((g=t==null?void 0:t.column)==null?void 0:g.field)?"var(--reallyBlue)":"var(--text)"}}),c.sort&&n.jsx(cx,{className:"icon",style:{color:c.field===((h=a==null?void 0:a.column)==null?void 0:h.field)?"var(--reallyBlue)":"var(--text)"}}),c.catalogs&&n.jsx(b_,{children:n.jsx(sr,{appearance:!1,items:(m=c.catalogs)!=null?m:[],setSelected:w=>o(x=>(w&&(x=T(b({},x),{[c.field]:{column:c,value:w}})),x)),selected:(v=s==null?void 0:s[c.field])==null?void 0:v.value,placeholder:c.title})})]},c.field)})})},w_=d.memo(y_),j_=({pages:e,condition:t,currentPage:i,setCurrentPage:s,align:o="center"})=>{const[a,r]=d.useState(i.toString());d.useEffect(()=>{a.length&&s(+a)},[a]),d.useEffect(()=>{r(i.toString())},[i]);const l=c=>{c.length?+c>=1&&+c<=e+1&&r((+c-1).toString()):r("")};return t?n.jsxs(N,{gap:"10px",jc:o==="left"?"flex-start":o==="right"?"flex-end":o,children:[n.jsx(S,{minWidth:"42px",height:"42px",background:"var(--theme)",icon:n.jsx(ei,{}),onClick:()=>r(Zt(i-1,e).toString())}),n.jsxs(N,{w:"fit-content",gap:"6px",children:[n.jsx(Ne,{width:"12px",placeholder:"",value:a.length?(+a+1).toString():"",setValue:l,inputAppearance:!1,hideCross:!0}),"/"," ",n.jsx(pe,{width:"fit-content",fontSize:"0.85rem",children:e+1})]}),n.jsx(S,{minWidth:"42px",height:"42px",background:"var(--theme)",icon:n.jsx(Pt,{}),onClick:()=>r(Zt(i+1,e).toString())})]}):null},__=u.div.withConfig({componentId:"sc-ynnqlj-0"})(["@media (min-width:1001px){max-width:500px;}"]),k_=({obj:e,columns:t})=>n.jsx(__,{children:t.map(i=>n.jsx(pn,{keyStr:i.title,value:i.render?i.render(e[i.field],e):Qn(e[i.field],i.type)},i.title))}),Zp=({columns:e,columnsExtended:t,el:i,index:s,onRowClick:o})=>{const{open:a}=K(),r=()=>a(n.jsx(k_,{obj:i,columns:t||e}),"Информация");return n.jsx(x_,{even:s%2===0,onClick:()=>o?o(i):r(),children:e.map(l=>{var c,p;return n.jsx(Xp,{showFull:l.showFull,width:l.width,className:(p=(c=l.priority)==null?void 0:c.toString())!=null?p:"one",align:l.align,onClick:f=>{l.onClick&&(f.stopPropagation(),l.onClick(i))},children:l.render?l.render(Qn(i[l.field],l.type),i):Qn(i[l.field],l.type)},l.field)})})},C_=u.div.withConfig({componentId:"sc-htpasl-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;.page-indicator{width:100px;background:var(--theme-1);padding:3px;border-radius:var(--brLight);display:flex;align-items:center;justify-content:center;font-size:0.9em;font-weight:600;}"]),S_=u.div.withConfig({componentId:"sc-htpasl-1"})(["width:100%;display:flex;justify-content:center;align-items:center;padding:20px 0;img{width:35px;height:35px;}"]),I_=u.div.withConfig({componentId:"sc-htpasl-2"})(["padding:10px 0;display:flex;justify-content:center;align-items:center;"]),T_=({data:e,loading:t,columns:i,columnsExtended:s,maxOnPage:o,onRowClick:a,filter:r})=>{var g;const[l,c]=d.useState(0),p=Math.ceil(((g=e==null?void 0:e.length)!=null?g:0)/(o!=null?o:1))-1,f=o?e==null?void 0:e.slice(l*o,(l+1)*o):e;return d.useEffect(()=>{c(0)},[r]),t?n.jsx(S_,{children:n.jsx(kt,{})}):n.jsxs(C_,{children:[f==null?void 0:f.map((h,m)=>n.jsx(Zp,{onRowClick:a,columns:i,columnsExtended:s,el:h,index:m},m)),!(f!=null&&f.length)&&n.jsx(ke,{text:"Нет данных"}),p>0&&n.jsx(_e,{margin:"0",width:"100%"}),n.jsx(I_,{children:n.jsx(j_,{pages:p,condition:!!o&&!!(f!=null&&f.length),currentPage:l,setCurrentPage:c})})]})},E_=u.div.withConfig({componentId:"sc-j476ej-0"})(["display:flex;align-items:center;gap:5px;transition:0.2s;padding:",";width:100%;height:",";opacity:",";visibility:",";"],({closed:e})=>e?"0px":"10px",({closed:e})=>e?"0px":"60px",({closed:e})=>e?"0":"1",({closed:e})=>e?"hidden":"visible"),P_=e=>{switch(e){case"date":return"date";case"rub":return"number";default:return"text"}},A_=({search:e,setSearch:t})=>{var i,s,o;return n.jsx(E_,{closed:!(e!=null&&e.column),children:n.jsx(Ne,{value:(i=e==null?void 0:e.value)!=null?i:"",setValue:a=>t(r=>r?(r.value=a,b({},r)):null),width:"100%",type:P_((s=e==null?void 0:e.column)==null?void 0:s.type),placeholder:(o=e==null?void 0:e.column)==null?void 0:o.title,leftIcon:n.jsx(Hn,{}),minWidth:"auto"})})},D_=(e,t)=>{if(!e)return{};const i=t.reduce((s,{field:o})=>(s[o]=[],s),{});return e==null||e.forEach(s=>{Object.entries(s).forEach(([o,a])=>{i[o]&&a&&i[o].push(a)})}),i};function N_(e){return Object.keys(e).map(t=>({title:"",field:t}))}const O_=({footer:e,columns:t,data:i})=>{if(!e)return null;const s=e(D_(i,t));return n.jsxs(n.Fragment,{children:[n.jsx(_e,{}),n.jsx(Zp,{onRowClick:()=>null,columns:N_(s),el:s,index:1})]})},L_=u.div.withConfig({componentId:"sc-s5rmq8-0"})(["width:100%;box-shadow:var(--block-shadow);border-radius:var(--brLight);color:var(--text);background:var(--block-content);overflow:hidden;"]),Vt=({columns:e,columnsExtended:t,data:i,maxOnPage:s,onRowClick:o,footer:a,loading:r=!1,forwardedRef:l})=>{const{sort:c,setSort:p,search:f,setSearch:g,resultData:h,filter:m,setFilter:v,filterList:w,setFilterList:x,onRemoveOne:j,onRemoveAll:D}=g_(i);return n.jsxs(L_,{ref:l,children:[n.jsx(yr,{hideWithEmpty:!0,setList:x,padding:"0 10px",list:w,onRemoveOne:j,onRemoveAll:D}),n.jsx(A_,{search:f,setSearch:g}),n.jsx(w_,{sort:c,setSort:p,columns:e,search:f,setSearch:g,filter:m,setFilter:v}),n.jsx(T_,{loading:r,onRowClick:o,filter:m,columns:e,columnsExtended:t,data:h,maxOnPage:s}),n.jsx(O_,{footer:a,data:i,columns:e})]})},z_=({paygraph:e})=>n.jsxs(N,{d:"column",children:[n.jsx($,{icon:n.jsx(dx,{}),size:4,align:"left",bottomGap:!0,children:"График платежей"}),n.jsx(Vt,{columns:p_(),data:e!=null?e:[],maxOnPage:3})]}),R_=Ze(({forwardedRef:e,children:t})=>n.jsx(Iw,{ref:e,children:t})),M_=new Date(2022,0,1),bs=({contractsWithDebt:e,contractsWithoutDebt:t})=>{const i=H(Me.roles),s=(e==null?void 0:e.length)+(t==null?void 0:t.length);return!e&&!t?null:n.jsxs(R_,{tutorialModule:{id:"payments",step:!i.includes("dormitory")||!i.includes("education")?0:-1,params:{position:"top",noScroll:!0}},children:[e==null?void 0:e.map((o,a)=>n.jsxs(n.Fragment,{children:[n.jsx(zl,{contract:o,index:a}),a!==s-1&&n.jsx(_e,{margin:"0",width:"100%"})]})),t==null?void 0:t.map((o,a)=>n.jsxs(n.Fragment,{children:[n.jsx(zl,{contract:o,index:a}),e.length+a!==s-1&&n.jsx(_e,{margin:"0",width:"100%"})]}))]})};function zl({contract:e,index:t}){const{agreements:i,number:s,paygraph:o,payments:a,signed_user_date:r,type:l}=e,c=!0,p=i.filter(g=>new Date(g==null?void 0:g.date)>M_),f=l==="Общежитие";return n.jsxs(me.Fragment,{children:[n.jsx(N,{gap:"8px",children:n.jsx(N,{w:"fit-content",children:n.jsxs($,{size:3,align:"left",children:["Договор № ",s," от ",he(r,"numeric")]})})}),n.jsx(c_,{data:e,index:t,isDormitory:f}),n.jsx(Ww,{payments:a!=null?a:[]}),n.jsx(z_,{paygraph:o}),n.jsx(lj,{isContractSigned:c,electronicAgreements:p})]},s)}const wr=u.div.withConfig({componentId:"sc-1nwdjlx-0"})(["max-width:",";min-width:calc(100% / 3);width:100%;height:156px;background:var(--theme-2);border-radius:15px;padding:6px;display:flex;align-items:center;gap:6px;.payment-info{width:100%;height:100%;background:var(--block);border-radius:11px;padding:10px;display:flex;flex-direction:column;justify-content:space-between;position:relative;.top-info{a{position:absolute;top:6px;right:6px;}}}","{width:100%;min-width:100%;max-width:100%;}"],({fullWidth:e})=>e?"100%":"400px",ee.isMobile),F_=()=>n.jsx(wr,{children:n.jsxs("div",{className:"payment-info education",children:[n.jsxs("div",{children:[n.jsx(ne,{shape:"rect",size:{width:"100px",height:"10px"},margin:"0 0 6px 0"}),n.jsx(ne,{shape:"rect",size:{width:"150px",height:"25px"},margin:"0"})]}),n.jsx(ne,{shape:"rect",size:{width:"100%",height:"35px"},margin:"0"})]})}),$_=()=>n.jsx(wr,{children:n.jsx(ke,{text:"Ошибка ",size:"70px"})}),Rl=({data:e,debt:t,overpayment:i,section:s})=>{if(!e.length)return null;const{qr_current:o,qr_total:a}=e[0];return n.jsxs("div",{className:"payment-info",children:[n.jsxs("div",{className:"top-info",children:[n.jsx(pe,{children:s}),n.jsx(ma,{size:"middle",debt:t||i}),!!t&&!!i&&n.jsx(ma,{debt:i,size:"small"}),n.jsx(de,{to:Yi,children:n.jsx(S,{icon:n.jsx(Tt,{}),background:"transparent"})})]}),t>0&&n.jsx(Jp,{qr_current:o,qr_total:a}),t<=0&&n.jsx(ce,{type:"success",title:"Оплачено",width:"100%",align:"center",icon:n.jsx(Qi,{})})]})},Ml=e=>{let t=0,i=0;return e.forEach(s=>{const o=Number(s.balance_currdate);o>0&&(t+=o),o<0&&(i+=o)}),{debt:t,overpayment:i}},B_=({forwardedRef:e,fullWidth:t})=>{const[i,s,o,a,r,l]=H([Re.$paymentsStore,Re.contractsWithDebtDorm,Re.contractsWithoutDebtDorm,Re.contractsWithDebtEdu,Re.contractsWithoutDebtEdu,Re.$error]);if(l)return n.jsx($_,{});if(!i)return n.jsx(F_,{});if(i&&!i.dormitory.length&&!i.education.length)return null;const c=Ml(i==null?void 0:i.dormitory),p=Ml(i==null?void 0:i.education);return n.jsxs(wr,{ref:e,fullWidth:t,children:[n.jsx(Rl,{data:[...s,...o],debt:c.debt,overpayment:c.overpayment,section:"Общежитие"}),n.jsx(Rl,{data:[...a,...r],debt:p.debt,overpayment:p.overpayment,section:"Обучение"})]})},eu=()=>{const[e,t,i,s,o,a,r,l]=H([Re.$error,Re.$loading,Re.$paymentsStore,Re.paymentType,Re.contractsWithDebtDorm,Re.contractsWithoutDebtDorm,Re.contractsWithDebtEdu,Re.contractsWithoutDebtEdu]);return d.useEffect(()=>{Y.evokePopUpMessage({type:"alert",time:1e4,message:"В связи с техническими работами отображение данных по произведенным оплатам может быть не полным"})},[]),n.jsx(at,{loading:t,load:lr.getPaymentsFx,error:e,data:i,noDataCheck:!(i!=null&&i.dormitory.length),children:n.jsxs(Dt,{children:[n.jsx(ce,{type:"alert",title:"Внимание!",children:"Ведутся доработки по информации о долге по оплате и суммам оплат"}),n.jsx(B_,{fullWidth:!0}),s==="none"&&n.jsx(ke,{text:"Нет данных"}),s==="both"&&n.jsx(Ho,{pages:[{title:"Общежитие",content:n.jsx(bs,{contractsWithDebt:o,contractsWithoutDebt:a})},{title:"Обучение",content:n.jsx(bs,{contractsWithDebt:r,contractsWithoutDebt:l})}],appearance:!1}),s==="dormitory"&&n.jsx(bs,{contractsWithDebt:o,contractsWithoutDebt:a}),s==="education"&&n.jsx(bs,{contractsWithDebt:r,contractsWithoutDebt:l})]})})},H_="modulepreload",U_=function(e){return"/"+e},Fl={},E=function(t,i,s){if(!i||i.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(i.map(a=>{if(a=U_(a),a in Fl)return;Fl[a]=!0;const r=a.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!s)for(let f=o.length-1;f>=0;f--){const g=o[f];if(g.href===a&&(!r||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const p=document.createElement("link");if(p.rel=r?"stylesheet":H_,r||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),r)return new Promise((f,g)=>{p.addEventListener("load",f),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a})},W_=d.lazy(()=>E(()=>import("./index-7acb14e7.js"),["assets/index-7acb14e7.js","assets/vendor-0c8c29fe.js"])),G_=d.lazy(()=>E(()=>import("./index-f63507fa.js"),["assets/index-f63507fa.js","assets/vendor-0c8c29fe.js"])),V_=d.lazy(()=>E(()=>import("./index-27445e30.js"),["assets/index-27445e30.js","assets/vendor-0c8c29fe.js"])),q_=d.lazy(()=>E(()=>import("./index-32200dbb.js"),["assets/index-32200dbb.js","assets/vendor-0c8c29fe.js"])),Y_=d.lazy(()=>E(()=>import("./index-4e8ab43f.js"),["assets/index-4e8ab43f.js","assets/vendor-0c8c29fe.js"])),Q_=d.lazy(()=>E(()=>import("./index-ef0f657d.js"),["assets/index-ef0f657d.js","assets/vendor-0c8c29fe.js","assets/student-c7cfca95.js"])),J_=d.lazy(()=>E(()=>import("./index-8bfe46df.js"),["assets/index-8bfe46df.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js","assets/get-reason-for-receiving-ef71d2fc.js"])),K_=d.lazy(()=>E(()=>import("./index-eec96b84.js"),["assets/index-eec96b84.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),X_=d.lazy(()=>E(()=>import("./index-3b9ea99a.js"),["assets/index-3b9ea99a.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),Z_=d.lazy(()=>E(()=>import("./index-e82f52bd.js"),["assets/index-e82f52bd.js","assets/vendor-0c8c29fe.js","assets/error-fc84fcff.js"])),ek=d.lazy(()=>E(()=>import("./index-6b075864.js"),["assets/index-6b075864.js","assets/vendor-0c8c29fe.js","assets/index-c35078c6.js"])),tk=d.lazy(()=>E(()=>import("./index-6490c30b.js"),["assets/index-6490c30b.js","assets/vendor-0c8c29fe.js","assets/is-valid-url-08a91344.js","assets/BoldText-6a73ed2c.js"])),nk=d.lazy(()=>E(()=>import("./index-4c938994.js"),["assets/index-4c938994.js","assets/vendor-0c8c29fe.js","assets/error-fc84fcff.js"])),ik=d.lazy(()=>E(()=>import("./index-edf97844.js"),["assets/index-edf97844.js","assets/vendor-0c8c29fe.js"])),sk=d.lazy(()=>E(()=>import("./index-e07b10ff.js"),["assets/index-e07b10ff.js","assets/vendor-0c8c29fe.js"])),ok=d.lazy(()=>E(()=>import("./index-0893df02.js"),["assets/index-0893df02.js","assets/vendor-0c8c29fe.js","assets/error-fc84fcff.js"])),ak=d.lazy(()=>E(()=>import("./index-8b09f34b.js"),["assets/index-8b09f34b.js","assets/vendor-0c8c29fe.js"])),rk=d.lazy(()=>E(()=>import("./index-f0c7dbdf.js"),["assets/index-f0c7dbdf.js","assets/vendor-0c8c29fe.js","assets/error-fc84fcff.js"])),lk=d.lazy(()=>E(()=>import("./index-d53dca78.js"),["assets/index-d53dca78.js","assets/vendor-0c8c29fe.js"])),ck=d.lazy(()=>E(()=>import("./index-797d328d.js"),["assets/index-797d328d.js","assets/vendor-0c8c29fe.js"])),dk=d.lazy(()=>E(()=>import("./index-056d3190.js"),["assets/index-056d3190.js","assets/vendor-0c8c29fe.js","assets/create-checkbox-field-46223999.js"])),pk=d.lazy(()=>E(()=>import("./index-6466b26b.js"),["assets/index-6466b26b.js","assets/vendor-0c8c29fe.js"])),uk=d.lazy(()=>E(()=>import("./index-c0e5c66b.js"),["assets/index-c0e5c66b.js","assets/vendor-0c8c29fe.js"])),hk=d.lazy(()=>E(()=>import("./index-be361b97.js"),["assets/index-be361b97.js","assets/vendor-0c8c29fe.js"])),fk=d.lazy(()=>E(()=>import("./index-be469fb6.js"),["assets/index-be469fb6.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js","assets/get-reason-for-receiving-ef71d2fc.js"])),gk=d.lazy(()=>E(()=>import("./index-5c7bb053.js"),["assets/index-5c7bb053.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js","assets/get-reason-for-receiving-ef71d2fc.js"])),mk=d.lazy(()=>E(()=>import("./index-a23c4a11.js"),["assets/index-a23c4a11.js","assets/vendor-0c8c29fe.js"])),xk=d.lazy(()=>E(()=>import("./index-13d1cf9e.js"),["assets/index-13d1cf9e.js","assets/vendor-0c8c29fe.js"])),vk=d.lazy(()=>E(()=>import("./index-bbc6763e.js"),["assets/index-bbc6763e.js","assets/vendor-0c8c29fe.js"])),bk=d.lazy(()=>E(()=>import("./index-f94034df.js"),["assets/index-f94034df.js","assets/vendor-0c8c29fe.js"])),yk=d.lazy(()=>E(()=>import("./index-93252ceb.js"),["assets/index-93252ceb.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),wk=d.lazy(()=>E(()=>import("./index-7d003ecc.js"),["assets/index-7d003ecc.js","assets/vendor-0c8c29fe.js"])),jk=d.lazy(()=>E(()=>import("./index-096e71f3.js"),["assets/index-096e71f3.js","assets/vendor-0c8c29fe.js"])),_k=d.lazy(()=>E(()=>import("./index-8b984daa.js"),["assets/index-8b984daa.js","assets/vendor-0c8c29fe.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-student-subdivisions-5a2f2c8d.js","assets/get-divisions-96cfa1b1.js","assets/get-method-obstaing-c0726de9.js"])),kk=d.lazy(()=>E(()=>import("./index-dd361add.js"),["assets/index-dd361add.js","assets/vendor-0c8c29fe.js"])),Ck=d.lazy(()=>E(()=>import("./index-4e486c7d.js"),["assets/index-4e486c7d.js","assets/vendor-0c8c29fe.js"])),Sk=d.lazy(()=>E(()=>import("./index-36df1806.js"),["assets/index-36df1806.js","assets/vendor-0c8c29fe.js"])),Ik=d.lazy(()=>E(()=>import("./index-1c8167eb.js"),["assets/index-1c8167eb.js","assets/vendor-0c8c29fe.js"])),Tk=d.lazy(()=>E(()=>import("./index-8b8cdbb8.js"),["assets/index-8b8cdbb8.js","assets/vendor-0c8c29fe.js"])),Ek=d.lazy(()=>E(()=>import("./index-1dd41609.js"),["assets/index-1dd41609.js","assets/vendor-0c8c29fe.js","assets/error-fc84fcff.js"])),Pk=d.lazy(()=>E(()=>import("./index-5f130486.js"),["assets/index-5f130486.js","assets/vendor-0c8c29fe.js","assets/get-divisions-96cfa1b1.js"])),Ak=d.lazy(()=>E(()=>import("./index-1bf09a0c.js"),["assets/index-1bf09a0c.js","assets/vendor-0c8c29fe.js"])),Dk=d.lazy(()=>E(()=>import("./index-24c5753d.js"),["assets/index-24c5753d.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-default-subdivision-17957fb0.js"])),Nk=d.lazy(()=>E(()=>import("./index-953910e9.js"),["assets/index-953910e9.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Ok=d.lazy(()=>E(()=>import("./index-d298e7cd.js"),["assets/index-d298e7cd.js","assets/vendor-0c8c29fe.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js"])),Lk=d.lazy(()=>E(()=>import("./index-1fcfd01b.js"),["assets/index-1fcfd01b.js","assets/vendor-0c8c29fe.js","assets/form-f13d471c.js","assets/send-form-01e70101.js","assets/create-form-store-cb7f3bfa.js"])),zk=d.lazy(()=>E(()=>import("./form-f13d471c.js"),["assets/form-f13d471c.js","assets/vendor-0c8c29fe.js","assets/send-form-01e70101.js","assets/create-form-store-cb7f3bfa.js"])),tu=d.lazy(()=>E(()=>import("./index-fad0ed6b.js"),["assets/index-fad0ed6b.js","assets/vendor-0c8c29fe.js"])),nu=d.lazy(()=>E(()=>import("./index-6942c2fb.js"),["assets/index-6942c2fb.js","assets/vendor-0c8c29fe.js","assets/index-3fbd5a97.js","assets/dev-mode-message-0aa0e975.js"])),Rk=d.lazy(()=>E(()=>import("./index-23c010b1.js"),["assets/index-23c010b1.js","assets/vendor-0c8c29fe.js","assets/index-c35078c6.js"])),Mk=d.lazy(()=>E(()=>import("./index-931f8493.js"),["assets/index-931f8493.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),Fk=d.lazy(()=>E(()=>import("./index-704ae324.js"),["assets/index-704ae324.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js"])),$k=d.lazy(()=>E(()=>import("./index-913947e2.js"),["assets/index-913947e2.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Bk=d.lazy(()=>E(()=>import("./index-968f8a35.js"),["assets/index-968f8a35.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Hk=d.lazy(()=>E(()=>import("./index-e5d39ed9.js"),["assets/index-e5d39ed9.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Uk=d.lazy(()=>E(()=>import("./index-5c16f214.js"),["assets/index-5c16f214.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Wk=d.lazy(()=>E(()=>import("./index-b045f109.js"),["assets/index-b045f109.js","assets/vendor-0c8c29fe.js","assets/student-c7cfca95.js"])),Gk=d.lazy(()=>E(()=>import("./index-ef0f657d.js"),["assets/index-ef0f657d.js","assets/vendor-0c8c29fe.js","assets/student-c7cfca95.js"])),Vk=d.lazy(()=>E(()=>import("./index-3eaee9e7.js"),["assets/index-3eaee9e7.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),qk=d.lazy(()=>E(()=>import("./index-7f7d51db.js"),["assets/index-7f7d51db.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Yk=d.lazy(()=>E(()=>import("./index-2e286093.js"),["assets/index-2e286093.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-default-subdivision-17957fb0.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Qk=d.lazy(()=>E(()=>import("./index-c10af44f.js"),["assets/index-c10af44f.js","assets/vendor-0c8c29fe.js","assets/get-default-subdivision-17957fb0.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),Jk=d.lazy(()=>E(()=>import("./index-1b777efd.js"),["assets/index-1b777efd.js","assets/vendor-0c8c29fe.js"])),Kk=d.lazy(()=>E(()=>import("./index-728eb3fe.js"),["assets/index-728eb3fe.js","assets/vendor-0c8c29fe.js","assets/get-default-subdivision-17957fb0.js"])),Xk=d.lazy(()=>E(()=>import("./index-ff5f0b39.js"),["assets/index-ff5f0b39.js","assets/vendor-0c8c29fe.js","assets/get-default-subdivision-17957fb0.js"])),Zk=d.lazy(()=>E(()=>import("./index-15de09bb.js"),["assets/index-15de09bb.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),eC=d.lazy(()=>E(()=>import("./index-105f52e6.js"),["assets/index-105f52e6.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/get-last-year-for-period-e1de6b16.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),tC=d.lazy(()=>E(()=>import("./index-32b0a2e6.js"),["assets/index-32b0a2e6.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),nC=d.lazy(()=>E(()=>import("./index-1d52a5b2.js"),["assets/index-1d52a5b2.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/get-last-year-for-period-e1de6b16.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),iC=d.lazy(()=>E(()=>import("./index-ea434e5d.js"),["assets/index-ea434e5d.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js"])),sC=d.lazy(()=>E(()=>import("./index-70745fad.js"),["assets/index-70745fad.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),oC=d.lazy(()=>E(()=>import("./index-f85ea1de.js"),["assets/index-f85ea1de.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-site-and-topic-a96b5f53.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),aC=d.lazy(()=>E(()=>import("./index-4e641ded.js"),["assets/index-4e641ded.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-default-subdivision-17957fb0.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),rC=d.lazy(()=>E(()=>import("./index-d892852a.js"),["assets/index-d892852a.js","assets/vendor-0c8c29fe.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-method-obtaining-fields-8429652d.js","assets/get-teacher-subdivisions-5cd556a9.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js"])),lC=d.lazy(()=>E(()=>import("./index-d086ba16.js"),["assets/index-d086ba16.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),cC=d.lazy(()=>E(()=>import("./index-1feeb0eb.js"),["assets/index-1feeb0eb.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),dC=d.lazy(()=>E(()=>import("./index-5a5d9572.js"),["assets/index-5a5d9572.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),pC=d.lazy(()=>E(()=>import("./index-7ddebdb9.js"),["assets/index-7ddebdb9.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),uC=d.lazy(()=>E(()=>import("./index-71e35404.js"),["assets/index-71e35404.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),hC=d.lazy(()=>E(()=>import("./index-8a5afac4.js"),["assets/index-8a5afac4.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),fC=d.lazy(()=>E(()=>import("./index-d7fb3e80.js"),["assets/index-d7fb3e80.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),gC=d.lazy(()=>E(()=>import("./index-90b2adcc.js"),["assets/index-90b2adcc.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),mC=d.lazy(()=>E(()=>import("./index-67f0b9b8.js"),["assets/index-67f0b9b8.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js"])),xC=d.lazy(()=>E(()=>import("./index-a3d78c23.js"),["assets/index-a3d78c23.js","assets/vendor-0c8c29fe.js","assets/index-bcd1e2a4.js","assets/create-form-store-cb7f3bfa.js","assets/index-3282fbbd.js","assets/send-form-01e70101.js","assets/get-method-obstaing-c0726de9.js","assets/get-basic-fields-application-teacher-53f7b63c.js","assets/get-default-subdivision-17957fb0.js","assets/get-teacher-subdivisions-5cd556a9.js"])),vC=d.lazy(()=>E(()=>import("./index-d8f9f9b6.js"),["assets/index-d8f9f9b6.js","assets/vendor-0c8c29fe.js"])),jr=d.lazy(()=>E(()=>import("./index-6128765c.js"),["assets/index-6128765c.js","assets/vendor-0c8c29fe.js"])),bC=d.lazy(()=>E(()=>import("./index-1eee921d.js"),["assets/index-1eee921d.js","assets/vendor-0c8c29fe.js"])),iu=d.lazy(()=>E(()=>import("./allowances-e889f27d.js"),["assets/allowances-e889f27d.js","assets/vendor-0c8c29fe.js","assets/dev-mode-message-0aa0e975.js","assets/forbidden-f788b6b1.js"])),yC=d.lazy(()=>E(()=>import("./info-fc9dbb14.js"),["assets/info-fc9dbb14.js","assets/vendor-0c8c29fe.js","assets/dev-mode-message-0aa0e975.js","assets/forbidden-f788b6b1.js"])),wC=d.lazy(()=>E(()=>import("./create-allowance-5d383487.js"),["assets/create-allowance-5d383487.js","assets/vendor-0c8c29fe.js","assets/dev-mode-message-0aa0e975.js","assets/forbidden-f788b6b1.js"])),jC=d.lazy(()=>E(()=>import("./index-47a9b111.js"),["assets/index-47a9b111.js","assets/vendor-0c8c29fe.js"])),_C=d.lazy(()=>E(()=>import("./index-8b3b2d53.js"),["assets/index-8b3b2d53.js","assets/vendor-0c8c29fe.js"])),kC=d.lazy(()=>E(()=>import("./index-c0b9a930.js"),["assets/index-c0b9a930.js","assets/vendor-0c8c29fe.js"])),CC=d.lazy(()=>E(()=>import("./index-9311ac4a.js"),["assets/index-9311ac4a.js","assets/vendor-0c8c29fe.js"])),SC=d.lazy(()=>E(()=>import("./index-e629448c.js"),["assets/index-e629448c.js","assets/vendor-0c8c29fe.js","assets/get-default-subdivision-17957fb0.js"])),IC=d.lazy(()=>E(()=>import("./index-1c88f748.js"),["assets/index-1c88f748.js","assets/vendor-0c8c29fe.js","assets/get-default-subdivision-17957fb0.js"])),TC=d.lazy(()=>E(()=>import("./index-13f5db0d.js"),["assets/index-13f5db0d.js","assets/vendor-0c8c29fe.js"])),EC=d.lazy(()=>E(()=>import("./index-0617fc4e.js"),["assets/index-0617fc4e.js","assets/vendor-0c8c29fe.js","assets/send-hr-form-work-transfer-95e1a6ff.js"])),PC=d.lazy(()=>E(()=>import("./index-447174a4.js"),["assets/index-447174a4.js","assets/vendor-0c8c29fe.js","assets/send-hr-form-work-transfer-95e1a6ff.js"])),AC=d.lazy(()=>E(()=>import("./index-7a11f75e.js"),["assets/index-7a11f75e.js","assets/vendor-0c8c29fe.js","assets/BoldText-6a73ed2c.js","assets/help-links-79bb2253.js"])),DC=d.lazy(()=>E(()=>import("./index-809e6832.js"),["assets/index-809e6832.js","assets/vendor-0c8c29fe.js","assets/create-checkbox-field-46223999.js"])),NC=()=>oe.get(`?getRequestMedicalCertificate&token=${re()}`),su=I({name:"load",sid:"-yu7d8"}),ou=J(()=>P(void 0,null,function*(){return(yield NC()).data}),{name:"loadFx",sid:"bf215r"});y({and:[{clock:su,target:ou}],or:{sid:"-rwhij4"}});Nc(ou,null,{name:"$medicalCert",sid:"-k31j1n"});const OC={load:su},LC=[{id:0,title:"г. Москва, ул. Малая Семеновская, д. 12"},{id:1,title:"г. Москва, ул. 7-я Парковая, д. 9/26"},{id:2,title:"г. Москва, ул. 1-я Дубровская, д. 16А, стр. 2"},{id:3,title:"г. Москва, ул. 800-летия Москвы, д. 28, к."},{id:4,title:"г. Москва, ул. Михалковская, д. 7, корп. 3"},{id:5,title:"г. Москва, ул. Бориса Галушкина, д. 9"},{id:6,title:"г. Москва, ул. Павла Корчагина, д. 20А, к. 3"},{id:7,title:"г. Москва, Рижский проезд, д. 15, к. 2"},{id:8,title:"г. Москва, Рижский проезд, д. 15, к. 1"},{id:9,title:"г. Москва, 1-й Балтийский переулок, д. 6/21, к. 3"}],zC=e=>{const{phone:t,email:i}=e;return{title:"Предоставление медицинских справок",data:[{title:"ФИО",value:`${e.surname} ${e.name} ${e.patronymic}`,fieldName:"fio",width:"100%",editable:!1},{title:"Телефон",value:t,fieldName:"phone",type:"tel",width:"100%",editable:!0,required:!0,mask:!0},{title:"Email",value:i,fieldName:"email",type:"email",width:"100%",editable:!0,required:!0},{title:"Адрес общежития",value:null,fieldName:"address",type:"select",items:LC,width:"100%",editable:!0,required:!0},{title:"Комната",fieldName:"room",value:"",editable:!0,required:!0}]}},RC=()=>{const[e,t]=d.useState(null),[i,s]=d.useState(null),[o,a]=d.useState(null),[r,l]=d.useState(null),[c,p]=d.useState(!1),[f,g]=d.useState(null),[h,m]=d.useState(!1),[v,w]=d.useState(!1),x=h!=null?h:!1,{data:{dataUserApplication:j}}=st.useApplications();return d.useEffect(()=>{j&&t(zC(j))},[j]),d.useEffect(()=>{OC.load(),s(qt({config:{title:"Справка из кожно-венерологического диспансера",issueDateFieldName:"kvd_date_of_issue",organizationFieldName:"kvd_organization",docsFieldName:"kvd_docs"}})),a(qt({config:{title:"Флюорография",issueDateFieldName:"fluorography_date_of_issue",organizationFieldName:"fluorography_organization",docsFieldName:"fluorography_docs"}})),l(qt({config:{title:"Результаты лабораторного исследования на ВИЧ, RW",issueDateFieldName:"vichrw_date_of_issue",organizationFieldName:"vichrw_organization",docsFieldName:"vichrw_docs"}})),g(qt({config:{title:"Сертификат о профилактических прививках",issueDateFieldName:"graft_date_of_issue",organizationFieldName:"graft_organization",docsFieldName:"graft_docs"}}))},[]),n.jsx(ar,{isDone:!1,children:n.jsxs(er,{children:[e&&t&&n.jsx(dn,T(b({},e),{setData:t})),i&&s&&n.jsx(dn,T(b({},i),{setData:s})),o&&a&&n.jsx(dn,T(b({},o),{setData:a})),r&&l&&n.jsx(dn,T(b({},r),{setData:l})),f&&g&&n.jsx(dn,T(b({},f),{setData:g})),n.jsx(wt,{checked:c,setChecked:p,text:"Я подтверждаю подлинность предоставленных документов"}),n.jsx(yt,{text:x?"Отправлено":"Отправить",action:()=>{or(go.MEDICAL_CERT,[e,i,o,r,f],w,m)},isLoading:v,completed:h,setCompleted:m,repeatable:!1,buttonSuccessText:"Отправлено",isDone:x,isActive:!!c&&!!e&&!!o&&!!r&&!!f&&!!i&&nt(e)&&nt(o)&&nt(r)&&nt(f)&&nt(i),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})},MC=u.div.withConfig({componentId:"sc-17p2nth-0"})(["width:100%;"]),FC=()=>n.jsxs(MC,{children:[n.jsx(ne,{shape:"rect",size:{width:"50%",height:"24px"},margin:"0 0 30px 0"}),n.jsx(ne,{shape:"rect",size:{width:"100%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ne,{shape:"rect",size:{width:"90%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ne,{shape:"rect",size:{width:"90%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ne,{shape:"rect",size:{width:"80%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ne,{shape:"rect",size:{width:"45%",height:"17px"},margin:"2rem 0 0.8rem 0"}),n.jsx(ne,{shape:"rect",size:{width:"40%",height:"17px"},margin:"0.8rem 0"}),n.jsx(ne,{shape:"rect",size:{width:"60%",height:"17px"},margin:"0.8rem 0"})]}),Ot=i=>{var s=i,{forwardedRef:e}=s,t=lt(s,["forwardedRef"]);const c=t,{children:o,skeleton:a=n.jsx(FC,{}),loading:r=!1}=c,l=lt(c,["children","skeleton","loading"]);return n.jsx(Gt,T(b({ref:e},l),{className:"block",children:r?a:o}))},v3={ready:"Готово",completed:"Выполнена",issued:"Выдано",recieved:"Получено",inProgress:"В работе",pending:"На рассмотрении",accepted:"Принято в работу",rejected:"Отклонено"},So={agreeding:"На согласовании",notAgreed:"Не согласовано",agreed:"Согласовано",empty:"Не создано",rejected:"Отклонено"},_r={signed:"Подписан",agreeding:"На согласовании",fixing:"На доработке",empty:"Не создан"},b3=[{id:1,title:"1"},{id:2,title:"2"},{id:3,title:"3"}],y3=[{id:0,title:"На электронную почту"},{id:1,title:"Лично"}],$C=()=>{var e,t;return[{title:"Должность, Подразделение",field:"jobDivision",priority:"one",width:"200px"},{title:"Статус заявления",field:"status",priority:"one",width:"200px",catalogs:[...(e=Object.values(So).map((i,s)=>({id:s.toString(),title:i})))!=null?e:[]],render:i=>n.jsx(ce,{type:i==="Согласовано"?"success":i==="Не согласовано"||i==="Не создано"?"failure":"alert",title:i,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"dismissalOrder",priority:"one",align:"center",render:i=>i.orderNumber},{title:"Дата приказа",field:"dismissalOrder",priority:"one",align:"center",render:i=>i.formatedOrderDate},{title:"Статус приказа",field:"dismissalOrder",priority:"one",width:"220px",catalogs:[...(t=Object.values(_r).map((i,s)=>({id:s.toString(),title:i})))!=null?t:[]],render:(i,s)=>{if(!i.orderStatus)return null;const o=i.orderStatus+s.dismissalOrder.registrationStatus;return n.jsx(ce,{type:i.orderStatus==="Подписан"?"success":i.orderStatus==="Не создан"?"failure":"alert",title:o,align:"center",width:"100%",icon:null,maxWidth:"220px"})}},{title:"Файл заявления",priority:"one",field:"file",type:"file"}]},BC=({historyIsEmpty:e,historyDataWorkerApplication:t})=>{const[i,s]=d.useState(!1);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(HC,{children:["История должностей:",n.jsx(S,{icon:i?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>!e&&s(o=>!o),background:"transparent"})]}),i&&t.map((o,a)=>o.dismissalApplications.length?n.jsx(UC,{columns:$C(),data:o.dismissalApplications.map(r=>T(b(b({},r),o),{jobDivision:o.jobTitle+", "+o.subDivision})),maxOnPage:10},a):null),n.jsx(S,{onClick:()=>{!e&&s(o=>!o)},text:e?"История пуста":i?"Скрыть":"Подробнее",background:"transparent"})]})},HC=u.div.withConfig({componentId:"sc-1at8wpi-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),UC=u(Vt).withConfig({componentId:"sc-1at8wpi-1"})(["width:100%;"]),WC=e=>P(void 0,null,function*(){const t=`https://api.mospolytech.ru/serviceforfrontpersonnelorders/Dismissal.DownloadFile?guid=${e}`,i={Authorization:`Bearer ${Wt()}`},s=yield pt({url:t,method:"GET",responseType:"blob",headers:i}),o=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement("a");a.href=o,a.setAttribute("download","order.pdf"),document.body.appendChild(a),a.click()}),GC=()=>{var e,t;return[{title:"Статус заявления",field:"status",priority:"one",width:"200px",catalogs:[...(e=Object.values(So).map((i,s)=>({id:s.toString(),title:i})))!=null?e:[]],render:i=>n.jsx(ce,{type:i==="Согласовано"?"success":i==="Не согласовано"||i==="Не создано"?"failure":"alert",title:i,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"dismissalOrder",priority:"one",align:"center",render:i=>i.orderNumber},{title:"Дата приказа",field:"dismissalOrder",type:"date",priority:"one",align:"center",render:i=>he(i.orderDate,"numeric")},{title:"Статус приказа",field:"dismissalOrder",priority:"one",width:"200px",catalogs:[...(t=Object.values(_r).map((i,s)=>({id:s.toString(),title:i})))!=null?t:[]],render:(i,s)=>{if(!i.orderStatus)return null;const o=i.orderStatus+s.dismissalOrder.registrationStatus;return n.jsx(ce,{type:i.orderStatus==="Подписан"?"success":i.orderStatus==="Не создан"?"failure":"alert",title:o,align:"center",width:"100%",icon:null,maxWidth:"150px"})}},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(i,s)=>{if(i)return n.jsx(S,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:()=>{WC(s.applicationGuid)}})}}]},VC=({jobTitleInfo:e,index:t})=>{const{jobTitle:i,subDivision:s,rate:o,canBeRepeated:a,dismissalApplications:r}=e,[l,c]=d.useState(!1);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(YC,{children:[n.jsx("span",{children:i}),n.jsx(S,{icon:l?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>{c(p=>!p)},background:"transparent"})]}),n.jsxs(qC,{children:["Подразделение: ",s,n.jsx("br",{}),"Ставка: ",o,n.jsx("br",{})]}),l&&n.jsxs(JC,{children:[a&&n.jsx(de,{to:`/hr-applications/dismissal/${t}`,children:n.jsx(S,{text:"Уволиться с этой должности",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})}),!!r.length&&n.jsx(QC,{columns:GC(),data:r,maxOnPage:10})]}),n.jsx(S,{onClick:()=>{c(p=>!p)},text:l?"Скрыть":"Подробнее",background:"transparent"})]})},qC=u.div.withConfig({componentId:"sc-17gk7lp-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),YC=u.div.withConfig({componentId:"sc-17gk7lp-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),QC=u(Vt).withConfig({componentId:"sc-17gk7lp-2"})(["width:100%;"]),JC=u.div.withConfig({componentId:"sc-17gk7lp-3"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]),KC=()=>{const{data:{dataWorkerApplication:e}}=st.useApplications(),[t,i]=d.useState(!0);return e?n.jsxs(XC,{children:[e.map((s,o)=>s.isDismissal?(t&&i(!1),null):n.jsx(VC,{jobTitleInfo:s,index:o},s.jobGuid)),n.jsx(BC,{historyIsEmpty:t,historyDataWorkerApplication:e.filter(({isDismissal:s})=>s)})]}):null},XC=u.div.withConfig({componentId:"sc-1q33qx5-0"})(["display:flex;flex-direction:column;gap:30px;"]),Io=u.div.withConfig({componentId:"sc-17c4gv6-0"})(["width:100%;margin-bottom:20px;height:fit-content;max-width:",";padding:20px;border-radius:var(--brSemi);background:transparent;box-shadow:var(--block-shadow);display:flex;flex-direction:column;row-gap:20px;@media (max-width:1000px){box-shadow:none;padding:10px 0px;background:transparent;}"],({maxWidth:e})=>e!=null?e:"600px"),To=()=>n.jsx(ce,{type:"info",title:"Информация",icon:n.jsx(Tt,{}),children:"Данный сервис позволяет заказать необходимую справку, подать заявление, запрос. Статус (информация о степени готовности) заказанных справок меняется согласно действиям оператора. В колонке «Подразделение, адрес» указывается название подразделения и адрес, куда необходимо приехать за готовым документом."}),ZC=()=>{const{data:{listApplication:e},error:t}=st.useApplications();return n.jsx(at,{load:()=>$t.getApplicationsFx(),loading:!e,error:t,data:e,children:n.jsx(eS,{children:n.jsxs(Io,{maxWidth:"1500px",children:[n.jsxs(tS,{children:[n.jsx($,{size:2,align:"left",children:"Заявление на увольнение"}),n.jsx(To,{})]}),n.jsx(KC,{})]})})})},eS=u.div.withConfig({componentId:"sc-zo4mao-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),tS=u.div.withConfig({componentId:"sc-zo4mao-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),au=()=>{var e;return[{title:"Должность, Подразделение",field:"jobDivision",priority:"one",width:"200px"},{title:"Статус заявления",field:"orderRegistrationStatus",priority:"one",width:"200px",catalogs:[...(e=Object.values(So).map((t,i)=>({id:i.toString(),title:t})))!=null?e:[]],render:t=>n.jsx(ce,{type:t==="Согласовано"?"success":t==="Не согласовано"||t==="Не создано"?"failure":"alert",title:t,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"weekends",priority:"one",align:"center",render:t=>t[0].type},{title:"Дата выхода",field:"weekends",priority:"one",align:"center",render:t=>he(t[0].dates[0].date,"numeric")},{title:"Количество часов",field:"weekends",priority:"one",align:"center",render:t=>t[0].dates[0].hours},{title:"Файл заявления",priority:"one",field:"file",type:"file"}]},ru=I({name:"loadBufferHolidayWork",sid:"t9kvcj"}),lu=I({name:"sendBufferHolidayWork",sid:"-337yo"}),cu=J(()=>P(void 0,null,function*(){var t;const{data:e}=yield $e.get(`Weekend.GetAllHistory?PersonalGuid=${ti((t=Wt())!=null?t:"").IndividualGuid}`);return e.orders}),{name:"loadBufferHolidayWorkFx",sid:"-jv46fz"});y({and:[{clock:ru,target:cu}],or:{sid:"4qzcke"}});const os=J(e=>P(void 0,null,function*(){return(yield $e.post("Weekend.AddWeekend",e)).data}),{name:"sendBufferHolidayWorkFx",sid:"-55kkju"});y({and:[{clock:lu,target:os}],or:{sid:"56xdrv"}});const du=M([],{name:"$bufferHolidayWorkOrders",sid:"-9wkgf3"}),nS=os.pending;y({and:[{clock:cu.doneData,target:du}],or:{sid:"5a85c1"}});y({and:[{clock:os.doneData,fn:e=>{const t=e;return t.isError?{message:t.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:on.evokePopUpMessage}],or:{sid:"5nz062"}});y({and:[{clock:os.fail,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure",time:3e5}),target:on.evokePopUpMessage}],or:{sid:"6ligd3"}});const iS={loadBufferHolidayWork:ru,sendBufferHolidayWork:lu},w3={sendBufferHolidayWorkFx:os},sS={useBufferHolidayWork:()=>({data:ye(du),loading:ye(nS)})},oS=()=>{const[e,t]=d.useState(!1);d.useEffect(iS.loadBufferHolidayWork,[]);const{data:i}=sS.useBufferHolidayWork(),s=!!i.every(o=>!o);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(aS,{children:["История заявлений на выход в выходной день:",n.jsx(S,{icon:e?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>!s&&t(o=>!o),background:"transparent"})]}),e&&n.jsx(rS,{columns:au(),data:i.map(o=>b({},o)),maxOnPage:5}),n.jsx(S,{onClick:()=>{!s&&t(o=>!o)},text:s?"История пуста":e?"Скрыть":"Подробнее",background:"transparent"})]})},aS=u.div.withConfig({componentId:"sc-1rgdznj-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),rS=u(Vt).withConfig({componentId:"sc-1rgdznj-1"})(["width:100%;"]),lS=({info:e,index:t})=>{const{jobTitle:i,subDivision:s,rate:o}=e,[a,r]=d.useState(!1);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(dS,{children:[n.jsx("span",{children:i}),n.jsx(S,{icon:a?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>{r(l=>!l)},background:"transparent"})]}),n.jsxs(cS,{children:["Подразделение: ",s,n.jsx("br",{}),"Ставка: ",o,n.jsx("br",{})]}),a&&n.jsx(pS,{children:n.jsx(de,{to:`/hr-applications/holiday-work/${t}`,children:n.jsx(S,{text:"Выйти в выходной день",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})})}),n.jsx(S,{onClick:()=>{r(l=>!l)},text:a?"Скрыть":"Подробнее",background:"transparent",padding:"0px"})]})},cS=u.div.withConfig({componentId:"sc-wf2sno-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),dS=u.div.withConfig({componentId:"sc-wf2sno-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),pS=u.div.withConfig({componentId:"sc-wf2sno-2"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]),uS=()=>{const{data:{dataWorkerApplication:e}}=st.useApplications(),[t,i]=d.useState(!0);return e?n.jsxs(hS,{children:[e.map((s,o)=>s.isDismissal?(t&&i(!1),null):n.jsx(lS,{info:s,index:o},s.jobGuid)),n.jsx(oS,{})]}):null},hS=u.div.withConfig({componentId:"sc-zhdbox-0"})(["display:flex;flex-direction:column;gap:30px;"]),fS=()=>{const{data:{listApplication:e},error:t}=st.useApplications();return n.jsx(at,{load:()=>$t.getApplicationsFx(),loading:!e,error:t,data:e,children:n.jsx(gS,{children:n.jsxs(Io,{maxWidth:"1500px",children:[n.jsxs(mS,{children:[n.jsx($,{size:2,align:"left",children:"Заявление на выход в выходной день"}),n.jsx(To,{})]}),n.jsx(uS,{})]})})})},gS=u.div.withConfig({componentId:"sc-13s8wgh-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),mS=u.div.withConfig({componentId:"sc-13s8wgh-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),pu=I({name:"loadBufferHolidayPlanning",sid:"kx8jhr"}),uu=I({name:"sendBufferHolidayPlanning",sid:"ef93ho"}),as=J(()=>P(void 0,null,function*(){var t;const{data:e}=yield $e.get(`Vacation.GetAllHistory?personalGuid=${ti((t=Wt())!=null?t:"").IndividualGuid}`);return e}),{name:"loadBufferHolidayPlanningFx",sid:"-5s6s2r"});y({and:[{clock:pu,target:as}],or:{sid:"-ct3gtq"}});const Nn=J(e=>P(void 0,null,function*(){return(yield $e.post("Vacation.AddVacation",e)).data}),{name:"sendBufferHolidayPlanningFx",sid:"-vnmzgu"});y({and:[{clock:uu,target:Nn}],or:{sid:"-cd5fm9"}});const Fs=M(null,{name:"$bufferHolidayPlanning",sid:"dbshu0"});y({and:[{clock:as.doneData,fn:({employeeVacations:e})=>e,target:Fs}],or:{sid:"-caegng"}});y({and:[{clock:Nn.doneData,fn:e=>{if(e.isError)throw new Error(e.error);return{message:"Форма отправлена успешно",type:"success"}},target:Y.evokePopUpMessage}],or:{sid:"-bv081c"}});y({and:[{clock:Nn.failData,fn:({message:e})=>({message:e,type:"hrFailure"}),target:Y.evokePopUpMessage}],or:{sid:"-bcb7v2"}});y({and:[{clock:Nn.doneData,source:Fs,fn:(e,{employeeVacations:t})=>[...e,...t],target:Fs}],or:{sid:"-au60a5"}});y({and:[{clock:as.failData,fn:e=>{var i;return{message:qa(e)?((i=e.response)==null?void 0:i.data).error:"Не удалось загрузить данные",type:"failure"}},target:Y.evokePopUpMessage}],or:{sid:"-ad4dvy"}});y({and:[{clock:Nn.doneData,target:as}],or:{sid:"-9jzaft"}});const xS={loadBufferHolidayPlanning:pu,sendBufferHolidayPlanning:uu},j3={sendBufferHolidayPlanningFx:Nn},vS={useBufferHolidayPlanning:()=>({data:ye(Fs),loading:ye(Nn.pending),getDataLoading:ye(as.pending)})},Eo=(e,t)=>P(void 0,null,function*(){const i=`https://api.mospolytech.ru/serviceforfrontpersonnelorders/Vacation.DownloadFile?DocumentGuid=${e}&Type=${t}`,s={Authorization:`Bearer ${Wt()}`},o=yield pt({url:i,method:"GET",responseType:"blob",headers:s}),a=window.URL.createObjectURL(new Blob([o.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","order.pdf"),document.body.appendChild(r),r.click()});var hu=(e=>(e[e["Ежегодный (основной) оплачиваемый отпуск"]=1]="Ежегодный (основной) оплачиваемый отпуск",e[e["Ежегодный дополнительный оплачиваемый отпуск (в т.ч. учебный)"]=2]="Ежегодный дополнительный оплачиваемый отпуск (в т.ч. учебный)",e[e["Отпуск без сохранения заработной платы"]=3]="Отпуск без сохранения заработной платы",e[e["Отпуск по коллективному договору"]=4]="Отпуск по коллективному договору",e))(hu||{});const kr=()=>[{title:"Дата",field:"creationDate",type:"date",sort:!0},{title:"Статус",field:"vacation",width:"150px",render:e=>n.jsx(ce,{type:e.status.orderStatus==="Согласовано"?"success":e.status.orderStatus==="На регистрации"?"info":e.status.orderStatus==="Не утвержден"||e.status.orderStatus==="Не создано"?"failure":"alert",title:e.status.orderStatus||"-",align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Должность",field:"jobTitle",width:"250px",sort:!0},{title:"Вид отпуска",field:"vacation",render:e=>hu[e==null?void 0:e.typeOfVacation]||"-"},{title:"Период",field:"vacation",align:"center",width:"200px",render:e=>{var t,i;return`${he((t=e==null?void 0:e.period)==null?void 0:t.startDate,"numeric")} - ${he((i=e==null?void 0:e.period)==null?void 0:i.endDate,"numeric")}`}},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,t)=>{var i;return(i=t==null?void 0:t.status)!=null&&i.downloadApplication?n.jsx(S,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:s=>{s.stopPropagation(),Eo(t.documentGuid,"0")}}):"-"}}],bS=()=>[...kr(),{title:"Дней",field:"vacation",align:"center",render:e=>{var t;return(t=e==null?void 0:e.period)==null?void 0:t.totalDays}},{title:"Статус приказа",field:"vacation",align:"center",render:e=>{var t;return((t=e==null?void 0:e.status)==null?void 0:t.orderApprovalStatus)||"-"}},{title:"Статус заявления",field:"vacation",align:"center",render:e=>{var t;return((t=e==null?void 0:e.status)==null?void 0:t.applicationApporvalStatus)||"-"}},{title:"Категория",field:"vacation",align:"center",render:()=>"Тут должна быть категория"},{title:"Перенесен",field:"vacation",align:"center",render:(e,t)=>{var i,s,o,a;return t!=null&&t.isCarriedOver?`Перенесен с ${he((s=(i=t==null?void 0:t.carriedOver)==null?void 0:i.period)==null?void 0:s.startDate,"numeric")} - ${he((a=(o=t==null?void 0:t.carriedOver)==null?void 0:o.period)==null?void 0:a.endDate,"numeric")}`:"-"}},{title:"Файл приказа",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,t)=>{var i;return(i=t==null?void 0:t.status)!=null&&i.downloadApplication?n.jsx(S,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:s=>{s.stopPropagation(),Eo(t.documentGuid,"1")}}):"-"}}],yS=()=>{const{data:e,getDataLoading:t}=vS.useBufferHolidayPlanning(),i=()=>xS.loadBufferHolidayPlanning(),s=e&&e.map(o=>[...o.notTaken.map(a=>T(b({},a),{jobTitle:o.jobTitle,creationDate:a.vacation.status.creationDate}))]).flat().sort((o,a)=>Oc(new Date(o.vacation.period.startDate),new Date(a.vacation.period.startDate)));return n.jsx(at,{load:i,error:null,data:e,children:n.jsxs(n.Fragment,{children:[n.jsxs(N,{jc:"space-between",m:"10px 0",children:[n.jsx(wS,{children:"История заявлений на отпуск:"}),n.jsx(de,{to:"/hr-applications/holiday-planning",children:n.jsx(S,{text:"Отпуск",background:"var(--reallyBlue)",textColor:"#fff",icon:n.jsx(jn,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0})})]}),t?n.jsx(N,{w:"100%",jc:"center",ai:"center",children:n.jsx(kt,{})}):n.jsx(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:n.jsx(Vt,{columns:kr(),columnsExtended:bS(),data:s,maxOnPage:10})})]})})},wS=u.div.withConfig({componentId:"sc-cga8n-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),jS=()=>{const{data:{dataWorkerApplication:e},error:t}=st.useApplications(),i=ut();return n.jsx(at,{load:$t.getWorkerPosts,error:t,data:e,children:n.jsxs(Dt,{topRightCornerElement:n.jsx(S,{onClick:()=>{i.replace("/vacation")},text:"График отпусков",background:"var(--reallyBlue)",textColor:"#fff",icon:n.jsx(Lc,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0}),children:[n.jsx(ce,{type:"info",title:"Информация",icon:n.jsx(Tt,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:"Тут можно посмотреть свои заявления на отпуск и согласовать их."}),n.jsx(yS,{})]})})},_S=()=>{var e,t;return[{title:"Должность, Подразделение",field:"jobDivision",priority:"one",width:"200px"},{title:"Статус заявления",field:"status",priority:"one",width:"200px",catalogs:[...(e=Object.values(So).map((i,s)=>({id:s.toString(),title:i})))!=null?e:[]],render:i=>n.jsx(ce,{type:i==="Согласовано"?"success":i==="Не согласовано"||i==="Не создано"?"failure":"alert",title:i,align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Дата заявления",field:"creationDate",type:"date",priority:"one",align:"center"},{title:"Номер приказа",field:"dismissalOrder",priority:"one",align:"center",render:i=>i.orderNumber},{title:"Дата приказа",field:"dismissalOrder",priority:"one",align:"center",render:i=>i.formatedOrderDate},{title:"Статус приказа",field:"dismissalOrder",priority:"one",width:"220px",catalogs:[...(t=Object.values(_r).map((i,s)=>({id:s.toString(),title:i})))!=null?t:[]],render:(i,s)=>{if(!i.orderStatus)return null;const o=i.orderStatus+s.dismissalOrder.registrationStatus;return n.jsx(ce,{type:i.orderStatus==="Подписан"?"success":i.orderStatus==="Не создан"?"failure":"alert",title:o,align:"center",width:"100%",icon:null,maxWidth:"220px"})}},{title:"Файл заявления",priority:"one",field:"file",type:"file"}]},fu=I({name:"loadBufferHolidayTransfer",sid:"zbmmj2"}),gu=I({name:"sendBufferHolidayTransfer",sid:"stn6iz"}),Cr=J(()=>P(void 0,null,function*(){var t;const{data:e}=yield $e.get(`CarryForwardVacation.GetAllHistory?personalGuid=${ti((t=Wt())!=null?t:"").IndividualGuid}`);return e}),{name:"loadBufferHolidayTransferFx",sid:"-hl2c04"});y({and:[{clock:fu,target:Cr}],or:{sid:"vcjzgl"}});const si=J(e=>P(void 0,null,function*(){return(yield $e.post("CarryForwardVacation.AddCarryForwardVacation",e)).data}),{name:"sendBufferHolidayTransferFx",sid:"egiitt"});y({and:[{clock:gu,target:si}],or:{sid:"vsi0o2"}});const $s=M([],{name:"$bufferHolidayTransfer",sid:"jbw49z"});y({and:[{clock:Cr.doneData,fn:({employeeVacations:e})=>e,target:$s}],or:{sid:"vv8zmv"}});y({and:[{clock:si.doneData,fn:e=>e.isError?{message:e.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0},target:on.evokePopUpMessage}],or:{sid:"wan88z"}});y({and:[{clock:si.doneData,source:$s,fn:(e,{employeeVacations:t})=>[...e,...t],target:$s}],or:{sid:"x7mvun"}});y({and:[{clock:Cr.failData,fn:e=>{var i;return{message:qa(e)?((i=e.response)==null?void 0:i.data).error:"Не удалось загрузить данные",type:"failure",time:3e5}},target:Y.evokePopUpMessage}],or:{sid:"xooi8u"}});y({and:[{clock:si.failData,fn:e=>{var i;return{message:qa(e)?((i=e.response)==null?void 0:i.data).error:"Не удалось отправить данные",type:"hrFailure",time:3e5}},target:on.evokePopUpMessage}],or:{sid:"y6tptr"}});const $l={loadBufferHolidayTransfer:fu,sendBufferHolidayTransfer:gu},_3={sendBufferHolidayTransferFx:si},Sr={useBufferHolidayTransfer:()=>({data:ye($s),loading:ye(si.pending)})},kS=()=>{const[e,t]=d.useState(!1),{data:i}=Sr.useBufferHolidayTransfer(),s=!!i.every(o=>!o);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(CS,{children:["История заявлений отпуск:",n.jsx(S,{icon:e?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>!s&&t(o=>!o),background:"transparent"})]}),e&&i.map((o,a)=>n.jsx(SS,{columns:_S(),data:[],maxOnPage:10},a)),n.jsx(S,{onClick:()=>{!s&&t(o=>!o)},text:s?"История пуста":e?"Скрыть":"Подробнее",background:"transparent"})]})},CS=u.div.withConfig({componentId:"sc-m7eon3-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),SS=u(Vt).withConfig({componentId:"sc-m7eon3-1"})(["width:100%;"]),IS=({info:e,index:t,data:i})=>{const{jobTitle:s,subDivision:o,rate:a}=e,[r,l]=d.useState(!1);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(ES,{children:[n.jsx("span",{children:s}),n.jsx(S,{icon:r?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>{l(c=>!c)},background:"transparent"})]}),n.jsxs(TS,{children:["Подразделение: ",o,n.jsx("br",{}),"Ставка: ",a,n.jsx("br",{})]}),r&&n.jsxs(AS,{children:[n.jsx(de,{to:`/hr-applications/holiday-transfer/${t}`,children:n.jsx(S,{text:"Перенос отпуска",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})}),i.map((c,p)=>{if(c.employeeGuid==e.jobGuid){const f=i[p].notTaken.filter(g=>{if(g.vacation.status.orderStatus!="false"&&g.vacation.status.orderStatus!="")return g.vacation.status.orderStatus});return n.jsx(PS,{columns:kr(),data:f,maxOnPage:10},c.jobTitle)}})]}),n.jsx(S,{onClick:()=>{l(c=>!c)},text:r?"Скрыть":"Подробнее",background:"transparent"})]})},TS=u.div.withConfig({componentId:"sc-72ahf3-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),ES=u.div.withConfig({componentId:"sc-72ahf3-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),PS=u(Vt).withConfig({componentId:"sc-72ahf3-2"})(["width:100%;"]),AS=u.div.withConfig({componentId:"sc-72ahf3-3"})(["display:flex;flex-direction:column;gap:10px;align-items:center;width:100%;"]),DS=()=>{const{data:{dataWorkerApplication:e}}=st.useApplications(),{data:t}=Sr.useBufferHolidayTransfer(),[i,s]=d.useState(!0);return!t||!e?null:n.jsxs(NS,{children:[e.map((o,a)=>o.isDismissal?(i&&s(!1),null):n.jsx(IS,{info:o,index:a,data:t},o.jobGuid)),n.jsx(kS,{})]})},NS=u.div.withConfig({componentId:"sc-1dl3ypv-0"})(["display:flex;flex-direction:column;gap:30px;"]),OS=()=>{const{data:e,loading:t}=Sr.useBufferHolidayTransfer();return d.useEffect(()=>{$l.loadBufferHolidayTransfer()},[]),n.jsx(at,{load:$l.loadBufferHolidayTransfer,loading:t,error:null,data:e,children:n.jsx(LS,{children:n.jsxs(Io,{maxWidth:"1500px",children:[n.jsxs(zS,{children:[n.jsx($,{size:2,align:"left",children:"Заявление на перенос отпуска"}),n.jsx(To,{}),n.jsxs("p",{children:["График отпусков вы можете посмотреть по"," ",n.jsx("a",{target:"_blank",href:"#/vacation",rel:"noreferrer",children:"ссылке"}),"."]})]}),n.jsx(DS,{})]})})})},LS=u.div.withConfig({componentId:"sc-18ufg3v-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),zS=u.div.withConfig({componentId:"sc-18ufg3v-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),RS=e=>localStorage.setItem("age",e.toString()),k3=e=>localStorage.getItem(e),MS=e=>e.map(t=>{localStorage.setItem(t.employeeGuid,t.tutor.toString())}),FS={listMedicalExamination:null,error:null},Bn=J(()=>P(void 0,null,function*(){var t;const e=yield $e.get(`MedicalExamination.GetAllHistory?PersonalGuid=${ti((t=Wt())!=null?t:"").IndividualGuid}`);try{return RS(e.data.age),MS(e.data.employeeMedicalExaminations.map(({employeeGuid:i,tutor:s})=>({employeeGuid:i,tutor:s}))),e.data.employeeMedicalExaminations}catch(i){throw new Error("Не удалось загрузить информацию. Попробуйте позже")}}),{name:"loadBufferMedicalExaminationFx",sid:"psbz9j"}),rs=J(e=>P(void 0,null,function*(){try{const t=yield $e.post("MedicalExamination.AddMedicalExamination",e);if(t.data.isError)throw new Error;return t.data}catch(t){throw new Error(t)}}),{name:"sendBufferMedicalExaminationFx",sid:"vimfdw"}),$S=()=>{const{listMedicalExamination:e,error:t}=ye(BS);return{data:e,loading:ye(rs.pending),getDataLoading:ye(Bn.pending),error:t}};I({name:"clearStore",sid:"j1cf9i"});Zn({and:{from:rs.doneData,to:Bn},or:{sid:"-54ezjj"}});y({and:[{clock:rs.doneData,fn:()=>({message:"Форма отправлена успешно",type:"success"}),target:Y.evokePopUpMessage}],or:{sid:"-527t63"}});y({and:[{clock:rs.failData,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure"}),target:Y.evokePopUpMessage}],or:{sid:"-4m9rym"}});const BS=M(FS,{name:"$medicalExaminationStore",sid:"-ovb8fc"}).on(Bn,e=>T(b({},e),{error:null})).on(Bn.doneData,(e,t)=>T(b({},e),{listMedicalExamination:t})).on(Bn.failData,(e,t)=>T(b({},e),{error:t.message})),HS={loadBufferMedicalExaminationFx:Bn,sendBufferMedicalExaminationFx:rs},US={useBufferMedicalExamination:$S},mu=()=>[{title:"Дата",field:"creationDate",width:"100px",sort:!0,type:"date"},{title:"Статус",field:"orderStatus",width:"150px",render:e=>n.jsx(ce,{type:e==="Согласовано"?"success":e==="На регистрации"?"info":e==="Не утвержден"||e==="Не создано"?"failure":"alert",title:e||"-",align:"center",width:"100%",icon:null,maxWidth:"150px"})},{title:"Должность",field:"jobTitle",sort:!0},{title:"Период",field:"medicalExamination",align:"center",width:"200px",render:(e,t)=>`${he(t==null?void 0:t.startDate,"numeric")} - ${he(t==null?void 0:t.endDate,"numeric")}`},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,t)=>t!=null&&t.downloadApplication?n.jsx(S,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:i=>{i.stopPropagation(),Eo(t==null?void 0:t.documentGuid,"0")}}):"-"}],WS=()=>[...mu(),{title:"Статус приказа",field:"orderApprovalStatus",align:"center",render:e=>e||"-"},{title:"Статус заявления",field:"applicationApporvalStatus",align:"center",render:e=>e||"-"},{title:"Файл заявления",priority:"one",field:"downloadable",type:"file",width:"200px",align:"center",render:(e,t)=>t!=null&&t.downloadApplication?n.jsx(S,{text:"Скачать файл",background:"rgb(60,210,136)",textColor:"#fff",id:"downloadButton",width:"150px",align:"center",minWidth:"150px",height:"30px",onClick:i=>{i.stopPropagation(),Eo(t==null?void 0:t.documentGuid,"1")}}):"-"}],GS=()=>{const{data:e,getDataLoading:t}=US.useBufferMedicalExamination(),{data:{dataWorkerApplication:i}}=st.useApplications(),s=i&&e&&e.map(o=>{const a=i.find(r=>r.jobGuid===o.employeeGuid);return[...o.notTaken.map(r=>T(b({},r),{jobTitle:a==null?void 0:a.jobTitle}))]}).flat().sort((o,a)=>Oc(new Date(o.startDate),new Date(a.startDate)));return n.jsxs(at,{load:HS.loadBufferMedicalExaminationFx,error:null,data:e,children:[n.jsxs(N,{jc:"space-between",m:"10px 0",children:[n.jsx(VS,{children:"История заявлений на диспансеризацию:"}),n.jsx(de,{to:"/hr-applications/medical-examination",children:n.jsx(S,{text:"Диспансеризация",background:"var(--reallyBlue)",textColor:"#fff",icon:n.jsx(jn,{}),minWidth:"35px",height:"36px",shrinkTextInMobile:!0})})]}),t?n.jsx(N,{w:"100%",jc:"center",ai:"center",children:n.jsx(kt,{})}):n.jsx(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:n.jsx(Vt,{columns:mu(),columnsExtended:WS(),data:s,maxOnPage:10})})]})},VS=u.div.withConfig({componentId:"sc-1uh96td-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),qS=()=>{const{data:{dataWorkerApplication:e},error:t}=st.useApplications();return n.jsx(at,{load:$t.getWorkerPosts,error:t,data:e,children:n.jsxs(Dt,{children:[n.jsx(ce,{type:"info",title:"Информация",icon:n.jsx(Tt,{}),lineHeight:"1.4rem",fontSize:"0.85rem",children:"Тут можно посмотреть свои заявления на диспансеризацию и согласовать их."}),n.jsx(GS,{})]})})},xu=I({name:"loadBufferWorkTransfer",sid:"84mpis"}),vu=I({name:"sendBufferWorkTransfer",sid:"-s5cqrz"}),bu=J(()=>P(void 0,null,function*(){var t;const{data:e}=yield $e.get(`AnotherPlaceWork.GetAllHistory?PersonalGuid=${ti((t=Wt())!=null?t:"").IndividualGuid}`);return e.employeeHistories}),{name:"loadBufferWorkTransferFx",sid:"s627lq"});y({and:[{clock:xu,target:bu}],or:{sid:"3miwkl"}});const ls=J(e=>P(void 0,null,function*(){return(yield $e.post("AnotherPlaceWork.AddAnotherPlaceOfWork",e)).data}),{name:"sendBufferWorkTransferFx",sid:"lff3rr"});y({and:[{clock:vu,target:ls}],or:{sid:"42gxs2"}});const yu=M([],{name:"$bufferWorkTransferOrders",sid:"77xbns"}),YS=ls.pending;y({and:[{clock:bu.doneData,target:yu}],or:{sid:"45rpc8"}});y({and:[{clock:ls.doneData,fn:e=>{const t=e;return t.isError?{message:t.error,type:"hrFailure",time:3e5}:{message:"Форма отправлена успешно",type:"success",time:0}},target:on.evokePopUpMessage}],or:{sid:"4jik69"}});y({and:[{clock:ls.fail,fn:()=>({message:"Не удалось отправить форму.",type:"hrFailure",time:3e5}),target:on.evokePopUpMessage}],or:{sid:"5h20da"}});const QS={loadBufferWorkTransfer:xu,sendBufferWorkTransfer:vu},C3={sendBufferWorkTransferFx:ls},JS={useBufferWorkTransfer:()=>({data:ye(yu),loading:ye(YS)})},KS=()=>{const[e,t]=d.useState(!1);d.useEffect(QS.loadBufferWorkTransfer,[]);const{data:i}=JS.useBufferWorkTransfer(),s=!!i.every(o=>!o);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(XS,{children:["История заявлений на перевод:",n.jsx(S,{icon:e?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>!s&&t(o=>!o),background:"transparent"})]}),e&&n.jsx(ZS,{columns:au(),data:i.map(o=>b({},o)),maxOnPage:5}),n.jsx(S,{onClick:()=>{!s&&t(o=>!o)},text:s?"История пуста":e?"Скрыть":"Подробнее",background:"transparent"})]})},XS=u.div.withConfig({componentId:"sc-p74s0d-0"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),ZS=u(Vt).withConfig({componentId:"sc-p74s0d-1"})(["width:100%;"]),eI=({info:e,index:t})=>{const{jobTitle:i,subDivision:s,rate:o}=e,[a,r]=d.useState(!1);return n.jsxs(Ot,{orientation:"vertical",alignItems:"flex-start",justifyContent:"flex-start",gap:"10px",width:"100%",maxWidth:"100%",height:"fit-content",children:[n.jsxs(nI,{children:[n.jsx("span",{children:i}),n.jsx(S,{icon:a?n.jsx(nn,{}):n.jsx(At,{}),onClick:()=>{r(l=>!l)},background:"transparent"})]}),n.jsxs(tI,{children:["Подразделение: ",s,n.jsx("br",{}),"Ставка: ",o,n.jsx("br",{})]}),a&&n.jsxs(iI,{children:[n.jsx(de,{to:`/hr-applications/work-transfer/${t}`,children:n.jsx(S,{text:"Перевестись с этой должности",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})}),n.jsx(de,{to:`/hr-applications/work-transfer-change-rate/${t}`,children:n.jsx(S,{text:"Изменить ставку",background:"rgb(236,95,107)",textColor:"#fff",width:"250px",minWidth:"150px",height:"36px"})})]}),n.jsx(S,{onClick:()=>{r(l=>!l)},text:a?"Скрыть":"Подробнее",background:"transparent",padding:"0px"})]})},tI=u.div.withConfig({componentId:"sc-x4jofd-0"})(["line-height:1.5em;margin-top:0px;font-weight:normal;font-size:0.9em;"]),nI=u.div.withConfig({componentId:"sc-x4jofd-1"})(["display:flex;flex-direction:row;gap:10px;align-items:center;"]),iI=u.div.withConfig({componentId:"sc-x4jofd-2"})(["display:flex;flex-direction:row;gap:10px;align-items:center;justify-content:center;width:100%;"]),sI=()=>{const{data:{dataWorkerApplication:e}}=st.useApplications(),[t,i]=d.useState(!0);return e?n.jsxs(oI,{children:[e.map((s,o)=>s.isDismissal?(t&&i(!1),null):n.jsx(eI,{info:s,index:o},s.jobGuid)),n.jsx(KS,{})]}):null},oI=u.div.withConfig({componentId:"sc-t7hy5p-0"})(["display:flex;flex-direction:column;gap:30px;"]),aI=()=>{const{data:{listApplication:e},error:t}=st.useApplications();return n.jsx(at,{load:()=>$t.getApplicationsFx(),loading:!e,error:t,data:e,children:n.jsx(rI,{children:n.jsxs(Io,{maxWidth:"1500px",children:[n.jsxs(lI,{children:[n.jsx($,{size:2,align:"left",children:"Заявление на перевод"}),n.jsx(To,{})]}),n.jsx(sI,{})]})})})},rI=u.div.withConfig({componentId:"sc-pldiax-0"})(["display:flex;align-items:center;color:var(--text);justify-content:center;@media (max-width:1000px){align-items:flex-start;overflow-y:auto;height:100%;}"]),lI=u.div.withConfig({componentId:"sc-pldiax-1"})(["border-radius:var(--brSemi);background:var(--block);box-shadow:var(--block-shadow);height:fit-content;padding:20px;display:flex;flex-direction:column;row-gap:20px;margin-bottom:30px;padding-bottom:40px;margin-bottom:10px;"]),cI=e=>{if(!e[0].length&&e[1].length)return`За весь период до ${he(e[1])} включительно`;if(e[0].length&&!e[1].length)return`За весь период начиная с ${he(e[0])} включительно`;if(!e[0].length&&!e[1].length)return"За все время";if(e[0].length&&e[1].length)return`За период с ${he(e[0])} по ${he(e[1])}`},dI=u.div.withConfig({componentId:"sc-1i6hop4-0"})([".content{display:flex;flex-direction:column;gap:20px;section{display:flex;gap:10px;}}"]),Po=({title:e,links:t})=>{var l;const[i,s]=d.useState(["",""]),[o,a]=d.useState(!0),{data:r}=Ct.selectors.useData();return r?n.jsxs(dI,{children:[n.jsx($,{size:3,align:"left",bottomGap:!0,children:e}),n.jsxs("div",{className:"content",children:[n.jsx(Kd,{dates:i,setDates:s,valid:o,setValid:a}),n.jsx(ce,{type:"info",title:(l=cI(i))!=null?l:"",icon:n.jsx(Tt,{})}),t==null?void 0:t.map((c,p)=>{const f=c.url+"&date_from="+i[0]+"&date_to="+i[1];return n.jsxs(me.Fragment,{children:[n.jsxs("section",{children:[n.jsx($,{size:4,align:"left",children:c.title}),n.jsx(Cn,{onClick:()=>null,href:f,text:"Загрузить",icon:n.jsx(Ds,{}),width:"170px",background:C.blue.main,textColor:"#fff",isActive:o})]}),p!==(t==null?void 0:t.length)-1&&n.jsx(_e,{})]},c.title)})]})]}):null},pI=()=>{const{data:e}=Ct.selectors.useData();return n.jsx(Po,{title:"Скачать отчеты по акцептам",links:e==null?void 0:e.accepts})},uI=()=>{const{data:e}=Ct.selectors.useData();return n.jsx(Po,{title:"Скачать отчеты по доп.соглашениям",links:e==null?void 0:e.agreements})},hI=()=>{const{data:e}=Ct.selectors.useData();return n.jsx(Po,{title:"Скачать отчеты по анкете",links:e==null?void 0:e.checkdata})},fI=()=>{const{data:e}=Ct.selectors.useData();return n.jsx(Po,{title:"Скачать отчеты по телефонному справочнику",links:e==null?void 0:e.phonebook})},gI=()=>{var t;const{data:e}=Ct.selectors.useData();return n.jsx(ri,{padding:"10px",children:n.jsx(Dt,{children:n.jsx(Ho,{appearance:!1,pages:[{title:"Анкета",content:n.jsx(hI,{}),condition:!!(e!=null&&e.checkdata.length)},{title:"Акцепт",content:n.jsx(pI,{}),condition:!!(e!=null&&e.accepts.length)},{title:"Доп. соглашения",content:n.jsx(uI,{}),condition:!!(e!=null&&e.agreements.length)},{title:"Телефонный справочник",content:n.jsx(fI,{}),condition:!!(e!=null&&e.phonebook.length)},{title:"Логины студентов",content:n.jsx(tt,{oldVersionUrl:dT}),condition:!!((t=e==null?void 0:e.studLogins)!=null&&t.length)}]})})})},mI=u.div.withConfig({componentId:"sc-av67fs-0"})(["display:flex;flex-direction:column;gap:24px;padding:12px;width:100%;height:100%;color:var(--text);"]),S3=u.div.withConfig({componentId:"sc-av67fs-1"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr;gap:5px;"]),I3=u.div.withConfig({componentId:"sc-av67fs-2"})(["width:100%;"]),xI=u.div.withConfig({componentId:"sc-di2aau-0"})(["position:relative;width:100%;padding:10px;min-height:100px;height:100%;@media (max-width:550px){padding:10px;}"]),vI=u.div.withConfig({componentId:"sc-di2aau-1"})(["width:100%;height:100%;top:0;left:0;transition:0.2s;opacity:",";visibility:",";transform:scale(",");display:flex;align-items:center;justify-content:center;z-index:5;img{width:40px;}"],({$loading:e})=>e?1:0,({$loading:e})=>e?"visible":"hidden",({$loading:e})=>e?"1":"0.98"),bI=u.div.withConfig({componentId:"sc-di2aau-2"})(["display:flex;flex-direction:column;gap:1rem;transition:0.2s;height:100%;"]),yI=u.div.withConfig({componentId:"sc-di2aau-3"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text);& > * + *{margin-top:10px;}"]),wI=({children:e,load:t,loading:i,error:s,data:o,deps:a=[],couldBeReloaded:r})=>(d.useEffect(()=>{!o&&!i&&t()},a),n.jsx(xI,{children:o?!s&&n.jsx(bI,{children:e}):n.jsx(vI,{$loading:!!s||!o,children:s?n.jsx(yI,{children:n.jsx(ke,{text:s,children:r&&n.jsx(S,{onClick:()=>t(),text:"Загрузить снова",icon:n.jsx(Zs,{})})})}):n.jsx(kt,{})})})),wu=I({name:"setSubdivisionPath",sid:"p0t34c"}),ju=I({name:"getSubdivisions",sid:"-91hxwe"}),Li=J(()=>P(void 0,null,function*(){let e=0;for(;e<3;){const{data:t}=yield Vv(),i=!(t!=null&&t.map);if(t&&!i)return t;e++}throw new Error("Не удалось загрузить подразделения")}),{name:"getSubdivisionsFx",sid:"-w6ukz7"});y({and:[{clock:ju,target:Li}],or:{sid:"-ycw2el"}});const jI=Li.pending,_I=I({name:"clearSubdivisionData",sid:"75s3xc"}),kI=M(null,{name:"$subdivisionPath",sid:"9ftyw7"}).on(wu,(e,t)=>t),CI=M(null,{name:"$subdivisions",sid:"w7m6w5"}).on(Li.doneData,(e,t)=>t),SI=M(null,{name:"$error",sid:"-j5ojba"}).on(Li.failData,(e,t)=>t.message).on(Li,()=>null),Ao={setSubdivisionPath:wu,getSubdivisions:ju,clearSubdivisionData:_I},vt={subdivisionPath:kI,subdivisions:CI,error:SI,pedningGetSubdividions:jI},Do=()=>{const{search:e}=tn();return me.useMemo(()=>new URLSearchParams(e),[e])},_u=({item:e,parents:t})=>{var p;const i=ut(),o=Do().get("fio")||"",a=e.subdivs,r=H(vt.subdivisionPath),[l,c]=d.useState(!1);return d.useEffect(()=>{c(!!(r&&r.some(f=>f.name===e.name)))},[r]),n.jsxs(N,{p:`5px 0 5px ${t.length*15}px`,d:"column",children:[n.jsx(II,{$chosen:!!(r&&((p=r[0])==null?void 0:p.name)===e.name),onClick:()=>{Ao.setSubdivisionPath([e,...t]),i.push({search:new URLSearchParams({subdivision:e.name,fio:o}).toString()})},children:n.jsxs(N,{ai:"center",jc:"space-between",w:"100%",gap:"5px",children:[e.name,a.length>0&&n.jsx(S,{icon:l?n.jsx(Sc,{size:20}):n.jsx(Pt,{size:20}),width:"20px",height:"20px",background:"transparent",onClick:f=>{f.stopPropagation(),c(g=>!g)}})]})}),l&&a.map(f=>n.jsx(_u,{item:f,parents:[e,...t]},f.name))]})},II=u.div.withConfig({componentId:"sc-x1t4q-0"})(["background-color:",";padding:10px 25px 8px 25px;border-radius:10px;width:100%;cursor:pointer;color:var(--text);font-weight:600;line-height:24px;&:hover{background-color:var(--theme-1);}"],({$chosen:e})=>e?"var(--theme-1t)":"transparent"),TI=u.div.withConfig({componentId:"sc-1jvvhj5-0"})(["display:flex;flex-direction:column-reverse;color:#fff;min-height:110px;width:100%;padding-left:",";","{padding-left:",";}@media (max-width:800px){padding-bottom:0;}"],({isEmployee:e})=>e?"125px":"20px",ee.isNotMobile,({isEmployee:e})=>e?"180px":"0"),EI=u.div.withConfig({componentId:"sc-1jvvhj5-1"})(["width:700px;padding-bottom:20px;@media (max-width:800px){width:100%;}"]),PI=u.div.withConfig({componentId:"sc-1jvvhj5-2"})(["display:flex;flex-direction:column;gap:18px;min-width:100%;padding:60px 20px 10px 20px;","{padding:35px 20px 10px ",";}"],ee.isNotMobile,({isEmployee:e})=>e?"180px":"0"),AI=u.h3.withConfig({componentId:"sc-1jvvhj5-3"})(["font-size:1.17rem;line-height:28px;"]),DI=u.h4.withConfig({componentId:"sc-1jvvhj5-4"})(["opacity:0.7;font-weight:400;font-size:1.17rem;line-height:28px;"]),NI=u.div.withConfig({componentId:"sc-1jvvhj5-5"})(["display:flex;align-items:center;justify-content:center;width:100%;gap:8px;a{width:100%;}button{width:100%;}"]),OI=u.div.withConfig({componentId:"sc-1jvvhj5-6"})(["position:absolute;top:100px;left:25px;z-index:50;","{top:95px;left:10px;}"],ee.isMobile),xa=u(N).withConfig({componentId:"sc-1jvvhj5-7"})(["overflow-x:hidden;padding-right:10px;","{overflow-y:scroll;height:calc(100vh - 240px);}","{height:calc(100vh - 300px);}"],ee.isNotMobile,ee.isTablet),LI=u(de).withConfig({componentId:"sc-1jvvhj5-8"})(["width:100%;"]),zI=()=>{const{subdivisions:e}=H({subdivisions:vt.subdivisions});return e?n.jsx(xa,{d:"column",children:e.map(t=>n.jsx(_u,{item:t,parents:[]},t.name))}):null},Bs=(e,t)=>e==="horizontal"?t==="small"?"15px":t==="middle"?"30px":"45px":t==="small"?"30px":t==="middle"?"35px":"45px",ys=({title:e,items:t,action:i})=>n.jsxs(N,{d:"column",ai:"flex-start",gap:"7px",children:[n.jsx(pe,{children:e}),t.length>0?t.map(s=>n.jsxs(RI,{onClick:()=>i("fio"in s?s:null),children:["fio"in s&&n.jsx(Lt,{name:s.fio,avatar:s.avatar,width:Bs("horizontal","middle"),height:Bs("horizontal","middle"),marginRight:"7px"}),"fio"in s?s.fio:s.name]},"fio"in s?s.fio+s.post:s.name)):n.jsx(ke,{size:"60px",text:"Ничего не было найдено",image:n.jsx(La,{})})]}),RI=u.button.withConfig({componentId:"sc-klmhrw-0"})(["display:flex;align-items:center;gap:4px;background-color:transparent;text-align:left;width:100%;padding:10px 25px 8px 25px;border-radius:10px;border:none;margin:0;cursor:pointer;color:var(--text);font-weight:600;line-height:24px;&:hover{background-color:var(--theme-1);}"]),cs=(e,t)=>e.split("/").reduce((o,a)=>{if(a[0]===":"){const r=t[a.slice(1,a.length)];r&&o.push(r)}else o.push(a);return o},[]).join("/"),MI=e=>oe.get(`?getMsgDialogues&token=${re()}`,{signal:e}),ku=px({setup:sd}),No=I({name:"load",sid:"-ly9cxn"}),On=Z({sid:"i6586v",fn:()=>Et({handler:()=>P(void 0,null,function*(){const e=new AbortController;Z({sid:"-42pz7s",fn:()=>$c(()=>{e.abort()}),name:"none",method:"onAbort"});let t=0;for(;t<3;){const{data:i}=yield MI(e.signal),s=!(i!=null&&i.map);if(i&&!s)return i;t++}throw new Error("Не удалось загрузить чаты")}),name:"chatsQuery",enabled:ku.$visible}),name:"chatsQuery",method:"createQuery"}),Cu=M(!1,{name:"$isFirstFetched",sid:"-7rupgk"}).on(On.$succeeded,(e,t)=>e||t);y({and:[{clock:se.userGuid,target:Cu.reinit}],or:{sid:"-32zcqr"}});Z({sid:"-30s6db",fn:()=>zc(On,{strategy:"TAKE_LATEST"}),name:"none",method:"concurrency"});Z({sid:"-2nl44n",fn:()=>Rc(On,{adapter:Z({sid:"eyomm7",fn:()=>Mc({maxEntries:10,maxAge:"60sec"}),name:"adapter",method:"sessionStorageCache"}),purge:fe.logout}),name:"none",method:"cache"});const{tick:FI}=Z({sid:"f3aejn",fn:()=>Fc({timeout:6e4,start:No,stop:fe.logout}),name:"none",method:"interval"});y({and:[{clock:FI,target:On.start}],or:{sid:"-24cbd0"}});y({and:[{clock:se.user,filter:e=>!!e.currentUser,target:No}],or:{sid:"-2254zk"}});y({and:[{clock:No,target:On.refresh}],or:{sid:"-1nuhk6"}});y({and:[{clock:se.userGuid,target:On.reset}],or:{sid:"-1lnb6q"}});const an={chats:On},$I={load:No},Su={isFirstFetched:Cu},Iu=I({name:"set",sid:"y06321"}),Tu=I({name:"reset",sid:"-1zojul"}),Eu=M(null,{name:"$selectedChatId",sid:"-4cghdm"}).on(Iu,(e,t)=>t).reset(Tu),BI=Oe({and:[Eu,an.chats.$data],or:{name:"$selectedChat",sid:"-x4jp04"}}).map(([e,t])=>{var i;return(i=t==null?void 0:t.find(s=>s.id===e))!=null?i:null}),Ve={selectedChat:BI,selectedChatId:Eu},va={set:Iu,reset:Tu},HI=({editor:e,disabled:t})=>{const{isMobile:i}=He();return i?null:n.jsxs(UI,{children:[n.jsx(hi,{isActive:!t,background:e.isActive("bold")?C.blue.main:void 0,textColor:e.isActive("bold")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleBold().run(),icon:n.jsx(ux,{})}),n.jsx(hi,{isActive:!t,background:e.isActive("italic")?C.blue.main:void 0,textColor:e.isActive("italic")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleItalic().run(),icon:n.jsx(hx,{})}),n.jsx(hi,{isActive:!t,background:e.isActive("strike")?C.blue.main:void 0,textColor:e.isActive("strike")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleStrike().run(),icon:n.jsx(fx,{})}),n.jsx(hi,{background:e.isActive("orderedList")?C.blue.main:void 0,isActive:!t,textColor:e.isActive("orderedList")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleOrderedList().run(),icon:n.jsx(gx,{})}),n.jsx(hi,{background:e.isActive("bulletList")?C.blue.main:void 0,isActive:!t,textColor:e.isActive("bulletList")?C.white.main:void 0,height:"26px",width:"26px",onClick:()=>e.chain().focus().toggleBulletList().run(),icon:n.jsx(mx,{})})]})},UI=u.div.withConfig({componentId:"sc-1tp8gvr-0"})(["display:flex;flex-direction:row;gap:5px;"]),hi=u(S).withConfig({componentId:"sc-1tp8gvr-1"})(["svg{width:12px !important;height:12px !important;}"]),Pu=({value:e,placeholder:t,setValue:i,disabled:s})=>{const o=d.useRef(!1),a=vx({extensions:[bx,yx,wx,jx,_x.configure({placeholder:t})],content:e,onUpdate({editor:r}){i(An(r.getHTML()))}});return d.useEffect(()=>{!e&&a&&a.commands.clearContent(),e&&!o.current&&(a==null||a.commands.setContent(e),o.current=!0)},[e]),a?n.jsxs(WI,{children:[n.jsx(HI,{disabled:s,editor:a}),n.jsx(GI,{editor:a})]}):null},WI=u.div.withConfig({componentId:"sc-ttfbcp-0"})(["display:flex;gap:8px;flex:1;width:0;justify-content:space-between;flex-direction:column;"]),GI=u(xx).withConfig({componentId:"sc-ttfbcp-1"})([".ProseMirror:not(:focus) p.is-editor-empty:first-child::before{content:attr(data-placeholder);color:var(--text-color);font-weight:300;}li{margin-left:1em;}.tiptap{color:var(--text);outline:none;background:var(--theme-1);width:100%;padding:10px;max-height:300px;overflow-y:auto;font-size:0.85rem;border-radius:7px;&:focus-visible{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}"]),Au=({setFiles:e,className:t})=>{const i=d.useRef(null),s=a=>{var r,l;e(Array.from((l=(r=a==null?void 0:a.target)==null?void 0:r.files)!=null?l:[]))},o=()=>{var a;(a=i==null?void 0:i.current)==null||a.click()};return n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:i,type:"file",accept:".jpg, .jpeg, .doc, .docx, .xls, .pdf, .png, .rtf, .rar, .zip, .gz, .txt",style:{display:"none"},onChange:s}),n.jsx(S,{icon:n.jsx(kx,{}),width:"37px",height:"37px",isActive:!0,className:t,onClick:o})]})},VI=(e,t)=>P(void 0,null,function*(){return oe.get(`?getMessagesInDialogue=${e}&token=${re()}`,{signal:t})}),Du=t=>P(void 0,null,function*(){var e=lt(t,[]);var a;const i=new FormData;i.set("text",e.text),(a=e==null?void 0:e.files)!=null&&a.length&&e.files.forEach((r,l)=>i.append(`files[${l}]`,r));let s="";"chatId"in e&&(s=`to_dialogue=${e.chatId}`),"userId"in e&&(s=`to_id=${e.userId}`),"group"in e&&(s=`to_group=${e.group}`);const{data:o}=yield oe.post(`?newMessage=1&${s}&token=${re()}`,i,{headers:{"Content-Type":"multipart/form-data"}});return o}),Oo=Z({sid:"-vzr4vf",fn:()=>Ce({handler:Du}),name:"sendFirstMessageMutation",method:"createMutation"}),Ir=M(null,{name:"$lastAddedMessageChat",sid:"-rvr5j9"});y({and:[{clock:Oo.finished.finally,fn:e=>"result"in e&&e.status==="done"?e.result:null,target:Ir}],or:{sid:"-58spis"}});y({and:[{source:Oo.reset,target:Ir.reinit}],or:{sid:"-4rr34l"}});Z({sid:"-4pjwr5",fn:()=>Ra(an.chats,{on:Oo,by:{success:({query:e,mutation:t})=>{var i,s;if(e&&"result"in e){const{id:o,result:a}=t.result;return a==="ok"?{result:[{id:o,lastmessage:{datetime:Ji(Date.now()),html:t.params.text,readed:!0,readed_opponent:!1,files:(s=(i=t.params.files)==null?void 0:i.map(l=>({name:l.name,url:""})))!=null?s:[],from:"you",text:An(t.params.text,{allowedTags:[]})},subject:"group"in t.params?`Группе ${t.params.group}`:"",opponent:"userId"in t.params?{id:t.params.userId,name:t.params.fio,avatar:t.params.avatar,status:t.params.isEmployee?"сотрудник":"студент",data:t.params.isEmployee?"сотрудник":"студент"}:void 0},...e.result],refetch:!0,error:null}:{result:e.result,refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});const ws={sendFirstMessage:Oo},qI={lastAddedMessageChat:Ir},YI=e=>{const{close:t}=K(),[i,s]=d.useState(""),[o,a]=d.useState([]),[r,l,c]=H([ws.sendFirstMessage.$pending,ws.sendFirstMessage.$succeeded,qI.lastAddedMessageChat]),p=h=>{a(m=>[...h,...m])},f=()=>{ws.sendFirstMessage.start(b({text:i,files:o,localId:Date.now().toString()},e))},g=l?n.jsx(de,{to:Rn+`/${c==null?void 0:c.id}`,children:n.jsx(S,{icon:n.jsx(Ns,{}),onClick:()=>{ws.sendFirstMessage.reset(),t()},background:C.green.main,textColor:C.white.main,text:"Перейти в чат",width:"100%"})}):n.jsxs(JI,{children:[n.jsx(_e,{}),n.jsxs(QI,{children:[n.jsx(Au,{isActive:!r,setFiles:p}),n.jsx(Pu,{value:i,setValue:s,placeholder:"Введите сообщение..."}),n.jsx(S,{isActive:!!An(i,{allowedTags:[]}).trim()&&!r,icon:n.jsx(Bc,{}),onClick:f,background:"transparent"})]}),n.jsx(XI,{hideHeader:!0,files:o,setFiles:h=>{a(h)}})]});return"group"in e?n.jsxs(KI,{children:[n.jsxs($,{children:["Группе: ",e.group]}),g]}):n.jsxs(n.Fragment,{children:[n.jsx(Yr,b({type:e.status,name:e.fio},e)),g]})},QI=u.div.withConfig({componentId:"sc-65bk6o-0"})(["display:flex;align-items:flex-end;gap:8px;"]),JI=u.div.withConfig({componentId:"sc-65bk6o-1"})(["display:flex;flex-direction:column;background:var(--block);padding-right:14px;padding-bottom:12px;flex:1;gap:8px;max-width:100%;"]),KI=u.div.withConfig({componentId:"sc-65bk6o-2"})(["display:flex;flex-direction:column;min-width:30dvw;gap:4px;"]),XI=u(nr).withConfig({componentId:"sc-65bk6o-3"})(["padding:0 48px 0 46px;","{padding:0;}"],ee.isMobile),Lo=e=>{const{open:t,close:i}=K(),[s]=H([an.chats.$data]),o=()=>{t(n.jsx(YI,b({},e)))},a="userId"in e?s==null?void 0:s.find(r=>{var l;return((l=r.opponent)==null?void 0:l.id)===e.userId&&!r.subject}):"group"in e?s==null?void 0:s.find(r=>{const[l,c]=r.subject.split(" ");if(l==="Группе"&&c===e.group&&r.lastmessage.from==="you")return!0}):null;return!e.group&&!e.userId?null:a?n.jsx(de,{to:Rn+`/${a==null?void 0:a.id}`,children:n.jsx(S,{icon:n.jsx(Ns,{}),text:"Перейти к чату",onClick:()=>{i()},background:"var(--theme-4)",width:"100%"})}):n.jsx(S,{icon:n.jsx(Ns,{}),text:"Написать",onClick:o,width:"100%",background:"var(--theme-4)"})},ZI=u.div.withConfig({componentId:"sc-12wijn9-0"})(["width:",";height:",";position:absolute;background:",";z-index:-1;overflow:hidden;top:-16px;left:-16px;svg{position:absolute;left:50%;top:50%;transform:translateX(50%);filter:drop-shadow(0 0 34px #00000054);}& svg:nth-child(1){z-index:-3;transform:",";}& svg:nth-child(2){z-index:-2;transform:",";}& svg:nth-child(3){z-index:-1;transform:",";}&::before{content:'';width:100%;height:100%;background:linear-gradient(0deg,#00000024,transparent);display:block;position:absolute;left:0;bottom:0;}"],({width:e})=>e!=null?e:"100%",({height:e})=>e!=null?e:"100px",({color:e})=>e,({baseScaleDelta:e})=>`scale(${1+e*2})`,({baseScaleDelta:e})=>`scale(${1+e})`,({baseScale:e})=>`scale(${e})`),Nu=({fullName:e,width:t,height:i,baseScale:s=1,baseScaleDelta:o=1})=>n.jsx(ZI,{width:t,height:i,color:mt(e,"dark1"),color2:mt(e,"light1"),baseScale:s,baseScaleDelta:o,children:n.jsxs(n.Fragment,{children:[n.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:mt(e,"main")})}),n.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:mt(e,"light1")})}),n.jsx("svg",{width:"620",height:"570",viewBox:"0 0 620 570",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M333.676 1.93177C428.781 13.6788 480.842 107.607 535.05 186.629C582.329 255.551 636.893 330.791 614.509 411.318C592.853 489.225 508.9 525.549 433.05 553.571C368.009 577.6 301.213 573.07 235.35 551.397C151.615 523.841 56.0559 499.684 22.0945 418.336C-17.4711 323.565 -3.03744 209.993 58.4905 127.766C122.067 42.801 228.358 -11.0768 333.676 1.93177Z",fill:mt(e,"light2")})})]})}),eT=({title:e,children:t})=>t?n.jsxs(N,{d:"column",ai:"flex-start",jc:"flex-start",gap:"10px",children:[n.jsx(pe,{fontSize:"0.9rem",children:e}),n.jsx(tT,{children:t})]}):null,tT=u.p.withConfig({componentId:"sc-jyb8th-0"})(["padding-left:14px;"]),Tr=e=>[{attributes:[{id:"head",title:"Руководитель",text:e.head.fio},{title:"Корпоративная электронная почта подразделения",text:e.email},{id:"innerPhone",title:"Внутренний телефон",text:e.phone_inner},{id:"mobile",title:"Прямой телефон",text:e.phone_direct},{id:"address",title:"Адрес рабочего места",text:e.address},{title:"Номер кабинета",text:e.room}]}],Ou=(e,t)=>{const i=t.toLowerCase();if(e.length===0)return null;let s=null;return e.forEach(o=>{o.name.toLowerCase()===i&&(s=o);const a=Ou(o.subdivs,t);a&&(s=a)}),s};function Lu(e,t){const i=new Set;return e.filter(s=>{const o=s[t];return i.has(o)?!1:(i.add(o),!0)})}const zo=(e,t)=>{const i=t.toLowerCase();if(e.length===0)return[];const s=[];return e.forEach(o=>{var r,l;(l=(r=o.head)==null?void 0:r.fio)!=null&&l.toLowerCase().includes(i)&&s.push(o.head),o.staff.forEach(c=>{c.fio.toLowerCase().includes(i)&&s.push(c)});const a=zo(o.subdivs,i);s.push(...a)}),Lu(s,"guid_person")},wi=e=>e.job.map(t=>({subdivision:t.subdivision,post:t.post,attributes:[{id:"jobType",title:"Тип работы",text:t.jobType},{id:"email",title:"Корпоративная электронная почта",text:t.email},{id:"innerPhone",title:"Внутренний телефон",text:t.phone_inner},{id:"mobile",title:"Служебный мобильный телефон",text:t.phone_mobile},{id:"address",title:"Адрес рабочего места",text:t.address},{title:"Номер кабинета",text:t.room}]})),nT=({place:e})=>n.jsx(iT,{children:e==="ул. Большая Семёновская, 38"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/bolshaya_semyonovskaya_ulitsa_38/Z04YcQZhTEQPQFtvfXt5cH5qZQ==/?indoorLevel=1&ll=37.711518%2C55.781292&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Большая Семёновская улица, 38 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?indoorLevel=1&ll=37.711518%2C55.781292&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjczNzkxORJQ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCR0L7Qu9GM0YjQsNGPINCh0LXQvNGR0L3QvtCy0YHQutCw0Y8g0YPQu9C40YbQsCwgMzgiCg2Y2BZCFQsgX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Прянишникова, 2А"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pryanishnikova_2a/Z04YcwNjTkAPQFtvfXRycntjbA==/?ll=37.543757%2C55.833709&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Прянишникова, 2А — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.543757%2C55.833709&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NTQ0MhJE0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_RgNGP0L3QuNGI0L3QuNC60L7QstCwLCAy0JAiCg3QLBZCFbhVX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Автозаводская, 16"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/obshchezhitiye_10_moskovskogo_politekhnicheskogo_universiteta/1230540819/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Общежитие № 10 Московского политехнического университета"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/category/dormitory/184106316/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Общежитие в Москве"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.520728%2C55.809720&mode=search&oid=1230540819&ol=biz&z=17.56",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Павла Корчагина, 22"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pavla_korchagina_22/Z04YcAFjSkAGQFtvfXRweHhgbQ==/?ll=37.663350%2C55.819439&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Павла Корчагина, 22 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.663350%2C55.819439&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzgxOBJI0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_QsNCy0LvQsCDQmtC-0YDRh9Cw0LPQuNC90LAsIDIyIgoNRacWQhUbR19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Михалковская, 7"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/mikhalkovskaya_ulitsa_7/Z04YcwRjTUcAQFtvfXRydnhmbQ==/?ll=37.533427%2C55.837460&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Михалковская улица, 7 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.533427%2C55.837460&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NzM2NBJC0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LjRhdCw0LvQutC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCA3IgoNOyIWQhWPWV9C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Садовая-Спасская, 6"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/sadovaya_spasskaya_ulitsa_6s1/Z04YcARpT0UPQFtvfXt2cH1lYQ==/?ll=37.639608%2C55.771165&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Садовая-Спасская улица, 6с1 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.639608%2C55.771165&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjczMDczMxJM0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCh0LDQtNC-0LLQsNGPLdCh0L_QsNGB0YHQutCw0Y8g0YPQu9C40YbQsCwgNtGBMSIKDfaOFkIVrRVfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Малая Семеновская, 12"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/malaya_semyonovskaya_ulitsa_12/Z04YcQZhSUMHQFtvfXt5dX9lbQ==/?indoorLevel=1&ll=37.711060%2C55.784370&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Малая Семёновская улица, 12 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?indoorLevel=1&ll=37.711060%2C55.784370&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc0MDE3MRJM0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LDQu9Cw0Y8g0KHQtdC80ZHQvdC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCAxMiIKDSDYFkIVMSNfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Лефортовский вал, 26"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_lefortovskiy_val_26/Z04YcA5mSkEBQFtvfXt0dHtrZw==/?ll=37.696346%2C55.755783&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Лефортовский Вал, 26 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.696346%2C55.755783&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjcxNTk1OBJK0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0JvQtdGE0L7RgNGC0L7QstGB0LrQuNC5INCS0LDQuywgMjYiCg0QyRZCFesFX0I%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 1-я Дубровская, 16а"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/1_ya_dubrovskaya_ulitsa_16a/Z04YcABiSEYBQFtvfXtzc3VrbQ==/?ll=37.672136%2C55.722989&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"1-я Дубровская улица, 16А — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.672136%2C55.722989&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1NjY4OTcwMRJG0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDEt0Y8g0JTRg9Cx0YDQvtCy0YHQutCw0Y8g0YPQu9C40YbQsCwgMTbQkCIKDUSwFkIVV-ReQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 7-я Парковая, 9/26"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/7_ya_parkovaya_ulitsa_9_26/Z04YcQ5jTEwAQFtvfXt4d31jZQ==/?ll=37.793597%2C55.796102&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"7-я Парковая улица, 9/26 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.793597%2C55.796102&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc0OTA1NhJC0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDct0Y8g0J_QsNGA0LrQvtCy0LDRjyDRg9C70LjRhtCwLCA5LzI2IgoNpCwXQhU2L19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. 800-летия Москвы, 28 корп. 1"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_800_letiya_moskvy_28k1/Z04YcwFiQUABQFtvfXR2eHllZQ==/?ll=37.562856%2C55.879561&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица 800-летия Москвы, 28к1 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.562856%2C55.879561&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc5NjI4NhJJ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAgODAwLdC70LXRgtC40Y8g0JzQvtGB0LrQstGLLCAyONC6MSIKDV5AFkIVrIRfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Михалковская, 7, корп. 3"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/mikhalkovskaya_ulitsa_7k3/Z04YcwRkTUMHQFtvfXRydn1jYg==/?ll=37.534452%2C55.837175&utm_medium=mapframe&utm_source=maps&z=19.53",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Михалковская улица, 7к3 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.534452%2C55.837175&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3NzIxORJF0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCc0LjRhdCw0LvQutC-0LLRgdC60LDRjyDRg9C70LjRhtCwLCA30LozIgoNSSMWQhUzWV9C&z=19.53",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Бориса Галушкина, 9"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_borisa_galushkina_9/Z04YcAJlSEAPQFtvfXRzdXpgYw==/?ll=37.655158%2C55.824637&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Бориса Галушкина, 9 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.655158%2C55.824637&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc3MDA4MRJJ0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0JHQvtGA0LjRgdCwINCT0LDQu9GD0YjQutC40L3QsCwgOSIKDeGeFkIVbkxfQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="ул. Павла Корчагина, 20А, корп. 3"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pavla_korchagina_22/Z04YcAFjSkAGQFtvfXRweHhgbQ==/?ll=37.663350%2C55.819439&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Павла Корчагина, 22 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.663350%2C55.819439&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzgxOBJI0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINGD0LvQuNGG0LAg0J_QsNCy0LvQsCDQmtC-0YDRh9Cw0LPQuNC90LAsIDIyIgoNRacWQhUbR19C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Рижский проезд, 15, корп. 1"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/rizhskiy_proyezd_15k1/Z04YcAFkT0AEQFtvfXRweXRgYw==/?ll=37.664718%2C55.818864&utm_medium=mapframe&utm_source=maps&z=18.93",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Рижский проезд, 15к1 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.664718%2C55.818864&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2NzM0NBI-0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsINCg0LjQttGB0LrQuNC5INC_0YDQvtC10LfQtCwgMTXQujEiCg2aqBZCFX1GX0I%2C&z=18.93",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Рижский проезд, 15, корп. 2"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/rizhskiy_proyezd_15k2/Z04YcAFkS0wDQFtvfXRweX9kZg==/?ll=37.664464%2C55.818480&utm_medium=mapframe&utm_source=maps&z=18.53",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Рижский проезд, 15к2 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.664464%2C55.818480&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgoxNDkxOTU3MDUwEj7QoNC-0YHRgdC40Y8sINCc0L7RgdC60LLQsCwg0KDQuNC20YHQutC40Lkg0L_RgNC-0LXQt9C0LCAxNdC6MiIKDT2oFkIVA0ZfQg%2C%2C&z=18.53",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="1-й Балтийский переулок, 6/21, корп. 3"&&n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/1_y_baltiyskiy_pereulok_6_21k3/Z04YcwVgSkYHQFtvfXRxeHphYg==/?ll=37.520330%2C55.809626&utm_medium=mapframe&utm_source=maps&z=17.13",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"1-й Балтийский переулок, 6/21к3 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?ll=37.520330%2C55.809626&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg1Njc2MTUxMBJP0KDQvtGB0YHQuNGPLCDQnNC-0YHQutCy0LAsIDEt0Lkg0JHQsNC70YLQuNC50YHQutC40Lkg0L_QtdGA0LXRg9C70L7QuiwgNi8yMdC6MyIKDdIUFkIVDz1fQg%2C%2C&z=17.13",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]})}),iT=u.div.withConfig({componentId:"sc-2pay0g-0"})(["","{width:500px;}height:200px;margin:10px 0 10px 0;overflow:hidden;display:flex;align-items:center;border-radius:8px;background:var(--theme-2);"],ee.isNotMobile),Yt=({title:e,info:t,isEmployee:i,avatar:s,id:o})=>{const{open:a,close:r}=K(),{isMobile:l}=He(),c=H(vt.subdivisions);return n.jsxs(N,{d:"column",children:[n.jsxs(TI,{isEmployee:!!i,children:[n.jsx(Nu,{fullName:e,height:"200px",width:"100%",baseScale:1,baseScaleDelta:.5}),i&&n.jsx(OI,{children:n.jsx(Lt,{avatarModal:!0,border:!0,name:e,avatar:s,width:l?"110px":"150px",height:l?"110px":"150px",marginRight:"0"})}),n.jsx(AI,{children:e})]}),n.jsx(EI,{children:n.jsx(Be,{minWidth:"100%",direction:"horizontal",showPages:!0,gap:20,children:t.map(({subdivision:p,post:f,attributes:g})=>{const h=p&&f,m=g.find(v=>v.id==="jobType");return n.jsxs(PI,{isEmployee:!!i,children:[h&&n.jsx(sT,{onClick:()=>{if(r(),!c)return;const v=Ou(c,p);v&&a(n.jsx(Yt,{title:p,info:Tr(v)}))},children:p+" • "+f}),g.map(({title:v,text:w,id:x})=>n.jsx(eT,{title:v,children:w?x==="email"?n.jsx("a",{href:`mailto:${w}`,children:w}):x==="head"?n.jsx(Bl,{onClick:()=>{if(r(),!c)return;const j=zo(c,w)[0];j&&a(n.jsx(Yt,{title:j.fio,info:wi(j),avatar:j.avatar,isEmployee:!0}))},children:w}):x==="innerPhone"?w.split("; ").map((j,D,_)=>n.jsx("a",{href:`tel:+7(495) 223-05-23,${j}`,children:D===_.length-1?j:`${j}; `},j)):x==="mobile"?n.jsx("a",{href:`tel:${w}`,children:w}):x==="address"?n.jsx(Bl,{onClick:()=>{r(),a(n.jsx(nT,{place:w}),w)},children:w}):n.jsx(n.Fragment,{children:w}):"-"},v))]},h?e+h+(m==null?void 0:m.text):e)})},e)}),i?n.jsxs(NI,{children:[n.jsx(de,{to:cs(ci,{page:"current",filter:e}),children:n.jsx(S,{icon:n.jsx(sn,{}),text:"Расписание",onClick:()=>{r()},background:"var(--theme-4)",width:"100%"})}),n.jsx(Lo,{avatar:s,fio:e,status:"staff",userId:o==null?void 0:o.toString()})]}):l?n.jsx(LI,{to:`${hs}/${e}`,onClick:r,children:n.jsx(S,{icon:n.jsx(Ma,{}),width:"100%",text:"Список"})}):null]})},sT=u(DI).withConfig({componentId:"sc-1vnybhk-0"})(["cursor:pointer;"]),Bl=u.div.withConfig({componentId:"sc-1vnybhk-1"})(["cursor:pointer;"]),oT=()=>{var c;const e=Do(),t=e.get("fio")||"",i=e.get("subdivision")||"",{subdivisionPath:s,subdivisions:o}=H({subdivisionPath:vt.subdivisionPath,subdivisions:vt.subdivisions}),a=s==null?void 0:s[0],{open:r}=K(),l=d.useMemo(()=>t&&o?zo(a?[a]:o,t):[],[t,i,o]);return t&&o?n.jsx(xa,{d:"column",ai:"flex-start",jc:"flex-start",gap:"20px",children:n.jsx(ys,{title:"Сотрудники",items:l,action:p=>{r(n.jsx(Yt,{title:p.fio,info:wi(p),avatar:p.avatar,isEmployee:!0}))}})}):a?n.jsxs(xa,{d:"column",ai:"flex-start",jc:"flex-start",gap:"20px",children:[n.jsx(ys,{title:"Информация",items:[a],action:()=>{r(n.jsx(Yt,{title:a.name,info:Tr(a)}))}}),((c=a==null?void 0:a.head)==null?void 0:c.fio)&&n.jsx(ys,{title:"Руководитель",items:[a.head],action:p=>{r(n.jsx(Yt,{title:p.fio,info:wi(p),avatar:p.avatar,isEmployee:!0}))}}),a.staff.filter(p=>p.fio!==a.head.fio).length>0&&n.jsx(ys,{title:"Сотрудники",items:a.staff,action:p=>{r(n.jsx(Yt,{title:p.fio,info:wi(p),avatar:p.avatar,isEmployee:!0}))}})]}):null},Er=({value:e,placeholder:t,loading:i,hintIcon:s,leftIcon:o,focusOn:a,width:r,transformRequest:l,setValue:c,request:p,onValueEmpty:f,customMask:g,onHintClick:h,size:m})=>{const[v,w]=d.useState([]),[x,j]=d.useState(!1);return d.useEffect(()=>{e.length>0?(j(!0),p(e).then(D=>{w(D.data.items.map(_=>{const A=l?l(_):_;return{id:A,title:A,value:A,icon:s}})),j(!1)}).catch(()=>{j(!1),w([])})):(j(!1),w([]),f==null||f())},[e]),n.jsx(ii,{value:e,setValue:c,placeholder:t,hints:v,width:r!=null?r:"180px",focusOn:a,leftIcon:o,loading:x&&i,onHintClick:h,customMask:g,size:m})},Pr=(e,t)=>{if(t==="")return null;const i=[],s=e.find(o=>o.name===t);if(s)i.push(s);else{for(const o of e){const a=Pr(o.subdivs,t);a&&a.length>0&&i.push(...a,o)}return i}return i},Hl=(e,t)=>{const i=Pr(e,t)||null;Ao.setSubdivisionPath(i)},aT=()=>{const e=Do(),t=e.get("subdivision")||"",i=e.get("fio")||"",s=ut(),[o,a,r]=H([vt.subdivisions,vt.error,vt.pedningGetSubdividions]);d.useEffect(()=>{t&&(o!=null&&o.find)&&l({id:t,value:t,title:t})},[o]);const l=w=>{var x;o&&Hl(o,(x=w==null?void 0:w.value)!=null?x:"")},{isMobile:c}=He(),[p,f]=d.useState(""),g=w=>{s.push({search:new URLSearchParams({subdivision:t,fio:w}).toString()})},[h,m,v]=ho({onDebounce:g,delay:400,defaultValue:i,triggerDelay:200,triggerOn:w=>(f(w),p!==w),onClear:g});return c&&s.push(`${hs}/${t}`),n.jsx(mI,{children:n.jsx(Dt,{children:n.jsxs(N,{d:"column",gap:"15px",children:[n.jsxs(Di,{columns:c?"1fr":"4fr 7fr",rows:"1fr",columnGap:"20px",children:[n.jsx(Er,{width:"100%",value:t,setValue:w=>{s.push({search:new URLSearchParams({subdivision:w,fio:i}).toString()}),w===""&&o&&Hl(o,w)},onHintClick:l,placeholder:"Структура",request:ao}),!c&&n.jsx(ii,{value:h,setValue:m,loading:v,placeholder:"Сотрудник"})]}),n.jsx(wI,{data:o,error:a,load:()=>{Ao.getSubdivisions()},loading:r,couldBeReloaded:!0,children:n.jsxs(Di,{columns:c?"1fr":"4fr 7fr",rows:"1fr",columnGap:"20px",children:[n.jsx(zI,{}),!c&&n.jsx(oT,{})]})})]})})})},R="/applications",be="/hr-applications",Hs="/allowances",rT=Hs+"/:role",lT="/allowances-create",cn="/allowances-info",cT=cn+"/:id",Ul="/staff_orders",Wl="/staff_blanks",dT="/ad_logins",Ar="/doclist",pT="/doclist/:type",ba="/doclist/allowances",Gl="/pps_vote2020",uT="/children",zu="/pps_contest",hT="/electronic-statements",qe="/onboarding",fT="/structure-of-the-university",gT="/addresses-and-contacts",mT="/brandbook",xT="/wifi-at-the-university",vT="/health-care",bT="/psychological-help",yT="/social-environment",wT="/vacation",Xo="/kpi_pps",Zo="/kpi_admin",Vl="/sc_news",ql="/oop",Yl="/centers",jT="/helpful-information",_T="/download-agreements",Ql="/physical-education/main",Ru="/all-staff",kT="/open-publication",CT="/export-control",ST="/physical-education/student/:studentId",Mu=R+"/contact-info-actualization",Fu=R+"/data-verification",$u=R+"/issuance-of-licenses",Bu=R+"/getting-computer-equipment",Hu=R+"/connecting-computer",Uu=R+"/printer-maintenance",Wu=R+"/question-sed",Gu=R+"/question-personal-account",Vu=R+"/other-it-services",qu=R+"/certificate-from-the-place-of-work",Yu=R+"/visa-certificate",Qu=R+"/certificate-of-work-experience",Ju=R+"/number-of-unused-vacation-days",Ku=R+"/increase-antiplagiat-limits",Jl=R+"/contact-details",IT=R+"/contact-details/:guid",Xu=R+"/edit-phonebook-subdivision",Zu=R+"/edit-phonebook-inner-phone",eh=R+"/edit-phonebook-email",Dr=R+"/technical-maintenance",th=R+"/copy-of-the-employment-record",nh=R+"/copies-of-documents-from-the-personal-file",ih=R+"/work-on-the-terms-of-external-concurrency",sh=R+"/certificate-time-parental-leave",oh=R+"/arbitrary-request",ah=R+"/courier",rh=R+"/persona-income-tax-reference",lh=R+"/payment-of-child-birth-allowance",ch=R+"/payment-for-child-care",dh=be+"/part-time-employment/",TT=be+"/dismissal/:id",ET=be+"/work-transfer/:id",PT=be+"/extra-holiday-coll",AT=be+"/holiday-planning",DT=be+"/holiday-transfer/:id",NT=be+"/holiday-work/:id",OT=be+"/work-transfer-change-rate/:id",LT=be+"/medical-examination",ya=be+"/buffer-dismissal",wa=be+"/buffer-holiday-planning",ja=be+"/buffer-holiday-transfer",_a=be+"/buffer-holiday-work",ka=be+"/buffer-medical-examination",Ts=be+"/buffer-work-transfer",ph=R+"/living-in-residential-premises",uh=R+"/guests-accomodation-on-campus",hh=R+"/guests-passage-to-campus",fh=R+"/relocation",gh=R+"/termination-of-agreement",mh=R+"/issuance-of-pass",xh=R+"/guest-pass",vh=R+"/certification-and-issuance-of-docs",bh=R+"/deferment-from-conscription",yh=R+"/certified-copies-of-military-docs",le=()=>tt({oldVersionUrl:"/sprav"}),Kl=e=>{let{allowancesRoles:t}=e;return k(k({onboarding:{id:"onboarding",title:"Новому работнику",icon:n.jsx(ue,{}),path:qe,Component:AC,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big"}},Em),{},{"contact-details":{id:"contact-details",title:"Контактные данные",icon:n.jsx(F,{}),color:"blue",path:Jl,Component:B?()=>tt({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}):Lk,isTemplate:!1,group:"GENERAL",show:!B},"contact-details-form":{id:"contact-details-form",title:"Контактные данные",hiddenTitle:!0,icon:n.jsx(F,{}),color:"blue",path:IT,Component:B?()=>tt({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}):zk,isTemplate:!1,group:"GENERAL",isSubPage:!0,show:!1,backButtonText:"Назад",fallbackPrevPage:Jl},"download-agreements":{id:"download-agreements",title:"Админ панель",icon:n.jsx(Pc,{}),path:_T,Component:gI,color:"blue",isTemplate:!1,group:"GENERAL",isAdmin:!0},children:{id:"children",title:"Дети и внуки",icon:n.jsx(Ax,{}),path:uT,Component:DC,color:"green",isTemplate:!1,group:"GENERAL",hiddenTitle:!0},"electronic-statements":{id:"electronic-statements",title:"Электронные ведомости",icon:n.jsx(ue,{}),path:hT,Component:()=>(me.useEffect(()=>{window.location.replace("".concat(q,"/stats.php?m=items&act=st_list"))},[]),null),isOldLkPage:!0,color:"blue",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"project-activity":{id:"project-activity",title:"Проектная деятельность",icon:n.jsx(Hc,{}),path:_m,Component:()=>(me.useEffect(()=>{window.location.replace("".concat(q,"/?p=proj_main"))},[]),null),isOldLkPage:!0,color:"orange",isTemplate:!1,group:"LEARNING_ACTIVITIES"},payments:{id:"payments",title:"Оплата общежития",icon:n.jsx(Xt,{}),path:Yi,Component:eu,color:"green",isTemplate:!1,group:"FINANCES_DOCS",keywords:["оплата"]},"pps-contest":{id:"pps-contest",title:"Конкурс ППС",icon:n.jsx(ue,{}),path:zu,Component:()=>(me.useEffect(()=>{window.location.replace("https://mospolytech.ru/contest-pps/")},[]),null),isExternalPage:!0,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},"kpi-pps":{id:"kpi-pps",title:"Рейтинговая система ППС",icon:n.jsx(sa,{}),path:Xo,Component:()=>(me.useEffect(()=>{window.location.replace("".concat(q,"/?p=").concat(Xo.slice(1,Xo.length)))},[]),null),isOldLkPage:!0,color:"pink",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"kpi-admin":{id:"kpi-admin",title:"Экспертиза рейтинговой системы ППС",icon:n.jsx(Dx,{}),path:Zo,Component:()=>(me.useEffect(()=>{window.location.replace("".concat(q,"/?p=").concat(Zo.slice(1,Zo.length)))},[]),null),isOldLkPage:!0,color:"lightBlue",isTemplate:!1,group:"LEARNING_ACTIVITIES"},"sc-news":{id:"sc-news",title:"Анонсы научных мероприятий",icon:n.jsx(Nx,{}),path:Vl,isOldLkPage:!0,Component:()=>tt({oldVersionUrl:Vl}),color:"orange",isTemplate:!1,group:"SCIENCE",show:!1},orders:{id:"orders",title:"Приказы",icon:n.jsx(F,{}),path:Ul,isOldLkPage:!0,Component:()=>tt({oldVersionUrl:Ul}),color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!1},"document-blanks":{id:"document-blanks",title:"Бланки документов",icon:n.jsx(Un,{}),path:Wl,isOldLkPage:!0,Component:()=>tt({oldVersionUrl:Wl}),color:"blue",isTemplate:!1,show:!1,group:"FINANCES_DOCS"},doclist:{id:"doclist",title:"Ознакомление с документами",icon:n.jsx(F,{}),path:Ar,Component:nu,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},calendar:{id:"calendar",title:"График отпусков",icon:n.jsx(Lc,{}),path:wT,Component:vC,color:"purple",isTemplate:!1,group:"FINANCES_DOCS"},"physical-education":{id:"physical-education",title:"Физическая культура",icon:n.jsx(F,{}),color:"lightGreen",path:Ql,pageSize:"big",Component:Wk,getIsVisibleForCurrentUser:i=>{var s;return!!(i!=null&&(s=i.permissions)!==null&&s!==void 0&&s.length)},isTemplate:!1,group:"LEARNING_ACTIVITIES"},"physical-education-student":{id:"physical-education-student",title:"Физическая культура",icon:n.jsx(F,{}),color:"pink",show:!1,path:ST,Component:Gk,isTemplate:!1,fallbackPrevPage:Ql,backButtonText:"Физическая культура",isSubPage:!0,group:"LEARNING_ACTIVITIES"},oop:{id:"oop",title:"Образовательные программы",icon:n.jsx(Si,{}),path:ql,isOldLkPage:!0,Component:()=>tt({oldVersionUrl:ql}),color:"blue",isTemplate:!1,group:"GENERAL",show:!1},centers:{id:"centers",title:"Многофункциональный центр",icon:n.jsx(Si,{}),path:Yl,isOldLkPage:!0,Component:()=>tt({oldVersionUrl:Yl}),color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!1},info:{id:"info",title:"Полезная информация",icon:n.jsx(F,{}),path:jT,Component:jr,color:"blue",isTemplate:!1,group:"GENERAL"},applications:{id:"applications",title:"Цифровые сервисы",icon:n.jsx(F,{}),path:R,Component:Rk,color:"red",isTemplate:!1,pageSize:"big",group:"FINANCES_DOCS",keywords:["заявления","справки","заявление","справка"]},"hr-applications":{id:"hr-applications",title:"Кадровые заявления",icon:n.jsx(F,{}),path:be,Component:B?()=>tt({errorText:"Страница еще находится в разработке.",isRedirectButtonVisible:!1}):bC,color:"green",isTemplate:!1,group:"FINANCES_DOCS"},allowances:{id:"allowances",title:"Установление надбавок",icon:n.jsx(F,{}),path:Hs,Component:iu,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",isNew:!0,show:t.includes("Approver")||t.includes("Initiator")},"data-verification":{id:"data-verification",title:"Анкета для сверки данных",icon:n.jsx(F,{}),color:"blue",path:Fu,Component:tu,isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Назад к цифровым сервисам"},"all-staff":{id:"all-staff",title:"Сотрудники",icon:n.jsx(Os,{}),path:Ru,Component:aT,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"],pageSize:"big"},"open-publication":{id:"open-publication",title:"Открытое публикование",icon:n.jsx(Ox,{}),path:kT,isExternalPage:!0,Component:()=>(me.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=exp_concl")},[]),null),color:"purple",isTemplate:!1,group:"SCIENCE"},"export-control":{id:"export-control",title:"Экспортный контроль",icon:n.jsx(Lx,{}),path:CT,isExternalPage:!0,Component:()=>(me.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=export_control")},[]),null),color:"orange",isTemplate:!1,group:"SCIENCE"}})},Nr=e=>{let{allowancesRoles:t}=e;return k(k({},Pm),{},{"all-teachers":{id:"all-teachers",title:"Сотрудники",icon:n.jsx(Os,{}),path:hs,Component:Or,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"],show:!1},"doclist-type":{id:"doclist-type",title:"Ознакомление с документами",icon:n.jsx(F,{}),path:pT,Component:nu,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},"allowances-role":{id:"allowances-role",title:"Установление надбавок",icon:n.jsx(F,{}),path:rT,Component:iu,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",show:!1},"allowance-info":{id:"allowance-info",title:"Информация о надбавке",icon:n.jsx(F,{}),path:cT,Component:yC,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",fallbackPrevPage:Hs,isSubPage:!0,show:!1},"create-allowances":{id:"create-allowances",title:"Служебная записка об установлении ежемесячной надбавки",icon:n.jsx(F,{}),path:lT,Component:wC,color:"orange",isTemplate:!1,group:"FINANCES_DOCS",fallbackPrevPage:Hs,hiddenTitle:!0,isSubPage:!0,show:!B||t.includes("Initiator"),keywords:["запросить","установить","надбавку"]},"pps-vote":{id:"pps-vote",title:"Опрос для проверки уровня цифровой грамотности",icon:n.jsx(Os,{}),path:Gl,isOldLkPage:!0,Component:()=>tt({oldVersionUrl:Gl}),color:"blue",isTemplate:!1,group:"GENERAL",show:!1},"issuance-of-licenses-page":{id:"issuance-of-licenses-page",title:"Выдача лицензий",path:$u,icon:n.jsx(F,{}),color:"blue",Component:B?le:qk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"buffer-dismissal":{id:"buffer-dismissal",title:"Заявление на увольнение",path:ya,icon:n.jsx(F,{}),color:"blue",Component:B?le:ZC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:be,pageSize:"large"},"buffer-holiday-work":{id:"buffer-holiday-work",title:"Заявление о привлечении к работе в выходной день",path:_a,icon:n.jsx(F,{}),color:"blue",Component:B?le:fS,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:be,pageSize:"large"},"buffer-medical-examination":{id:"buffer-medical-examination",title:"Заявление о диспансеризации",path:ka,icon:n.jsx(F,{}),color:"blue",Component:B?le:qS,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",fallbackPrevPage:be,pageSize:"large"},"buffer-holiday-planning":{id:"buffer-holiday-planning",title:"Заявление о предоставлении отпуска",path:wa,icon:n.jsx(F,{}),color:"blue",Component:B?le:jS,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",fallbackPrevPage:be,pageSize:"large",subPageHeaderTitle:"Заявление на отпуск"},"buffer-holiday-transfer":{id:"buffer-holiday-transfer",title:"Заявление о переносе отпуска",path:ja,icon:n.jsx(F,{}),color:"blue",Component:B?le:OS,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:be,pageSize:"large"},"buffer-work-transfer":{id:"buffer-work-transfer",title:"Заявление на перевод",path:Ts,icon:n.jsx(F,{}),color:"blue",Component:B?le:aI,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:be,pageSize:"large"},"part-time-employment":{id:"part-time-employment",title:"Заявление на трудоустройство по совместительству",path:dh,icon:n.jsx(F,{}),color:"blue",Component:B?le:jC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к кадровым заявлениям",subPageHeaderTitle:"",fallbackPrevPage:be},"holiday-work":{id:"holiday-work",title:"Заявление о привлечении к работе в выходной день",path:NT,icon:n.jsx(F,{}),color:"blue",Component:B?le:CC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:_a},"medical-examination":{id:"medical-examination",title:"Заявление о диспансеризации",path:LT,icon:n.jsx(F,{}),color:"blue",Component:B?le:SC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:ka},"holiday-planning":{id:"holiday-planning",title:"Заявление о предоставлении отпуска",path:AT,icon:n.jsx(F,{}),color:"blue",Component:B?le:IC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:wa},"holiday-transfer":{id:"holiday-transfer",title:"Заявление о переносе отпуска",path:DT,icon:n.jsx(F,{}),color:"blue",Component:B?le:TC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:ja},"work-transfer":{id:"work-transfer",title:"Заявление на перевод",path:ET,icon:n.jsx(F,{}),color:"blue",Component:B?le:EC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Ts},"work-transfer-change-rate":{id:"work-transfer-change-rate",title:"Заявление на изменение ставки",path:OT,icon:n.jsx(F,{}),color:"blue",Component:B?le:PC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",fallbackPrevPage:Ts},"extra-holiday-coll":{id:"dismissal",title:"Заявление о предоставлении дополнительного отпуска по коллективному договору",path:PT,icon:n.jsx(F,{}),color:"blue",Component:B?le:kC,isTemplate:!1,group:"FINANCES_DOCS"},dismissal:{id:"dismissal",title:"Заявление на увольнение",path:TT,icon:n.jsx(F,{}),color:"blue",Component:B?le:_C,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад",subPageHeaderTitle:"",fallbackPrevPage:ya},"getting-computer-equipment":{id:"getting-computer-equipment",title:"Получение нового компьютерного оборудования",icon:n.jsx(F,{}),color:"blue",path:Bu,Component:Vk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"connecting-computer":{id:"connecting-computer",title:"Подключение компьютера, МФУ, телефона, WiFi",icon:n.jsx(F,{}),color:"blue",path:Hu,Component:Bk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"printer-maintenance":{id:"printer-maintenance",title:"Обслуживание принтеров, МФУ",icon:n.jsx(F,{}),color:"blue",path:Uu,Component:iC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"question-sed":{id:"question-sed",title:"Вопрос по СЭД Directum и 1С",icon:n.jsx(F,{}),color:"blue",path:Wu,Component:oC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"question-personal-account":{id:"question-personal-account",title:"Вопрос по Личному кабинету",icon:n.jsx(F,{}),color:"blue",path:Gu,Component:sC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"other-it-services":{id:"other-it-services",title:"Прочее ИТ-обслуживание",icon:n.jsx(F,{}),color:"blue",path:Vu,Component:Zk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"certificate-form-place-of-work":{id:"certificate-form-place-of-work",title:"Справка с места работы",icon:n.jsx(F,{}),color:"blue",path:qu,Component:Dk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"visa-certificate":{id:"visa-certificate",title:"Справка с места работы для предоставления в визовый центр",icon:n.jsx(F,{}),color:"blue",path:Yu,Component:aC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"certificate-of-work-experience":{id:"certificate-of-work-experience",title:"Справка о стаже работы",icon:n.jsx(F,{}),color:"blue",path:Qu,Component:B?le:Fk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"number-of-unused-vacation-days":{id:"number-of-unused-vacation-days",title:"Справка о количестве неиспользованных дней отпуска",icon:n.jsx(F,{}),color:"blue",path:Ju,Component:Yk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"increase-antiplagiat-limits":{id:"increase-antiplagiat-limits",title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»",hiddenTitle:!0,icon:n.jsx(F,{}),color:"blue",path:Ku,Component:B?()=>n.jsx(tt,{isRedirectButtonVisible:!1,errorText:"Сервис находится в разработке"}):Qk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R,show:!B},"edit-phonebook-subdivision":{id:"edit-phonebook-subdivision",title:"Внесение изменений данных подразделения в телефонном справочнике",hiddenTitle:!0,icon:n.jsx(F,{}),color:"blue",path:Xu,Component:Jk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R,keywords:["изменение данных подразделения в телефонном справочнике"]},"edit-phonebook-inner-phone":{id:"edit-phonebook-inner-phone",hiddenTitle:!0,title:"Запрос на изменение внутреннего телефона",icon:n.jsx(F,{}),color:"blue",path:Zu,Component:Kk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"edit-phonebook-email":{id:"edit-phonebook-email",hiddenTitle:!0,title:"Запрос на изменение корпоративной электронной почты",icon:n.jsx(F,{}),color:"blue",path:eh,Component:Xk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"copy-of-employment-record":{id:"copy-of-employment-record",title:"Копия трудовой книжки",icon:n.jsx(F,{}),color:"blue",path:th,Component:B?le:Hk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"copies-of-documents-from-personal-file":{id:"copies-of-documents-from-personal-file",title:"Копии документов из личного дела",icon:n.jsx(F,{}),color:"blue",path:nh,Component:B?le:Nk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"work-on-terms-of-external-concurrency":{id:"work-on-terms-of-external-concurrency",title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку",icon:n.jsx(F,{}),color:"blue",path:ih,Component:B?le:rC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"certificate-time-parental-leave":{id:"certificate-time-parental-leave",title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет",icon:n.jsx(F,{}),color:"blue",path:sh,Component:B?le:$k,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"arbitrary-request":{id:"arbitrary-request",title:"Произвольный запрос",icon:n.jsx(F,{}),color:"blue",path:oh,Component:B?le:Mk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},courier:{id:"courier",title:"Курьер",icon:n.jsx(F,{}),color:"blue",path:ah,Component:B?le:Uk,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"personal-income-tax-reference":{id:"personal-income-tax-reference",title:"Справка по форме 2-НДФЛ",icon:n.jsx(F,{}),color:"blue",path:rh,Component:B?le:nC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"payment-of-child-birth-allowance":{id:"payment-of-child-birth-allowance",title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка",icon:n.jsx(F,{}),color:"blue",path:lh,Component:B?le:tC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"payment-for-child-care":{id:"payment-for-child-care",title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)",icon:n.jsx(F,{}),color:"blue",path:ch,Component:B?le:eC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"contact-info-actualization":{id:"contact-info-actualization",title:"Актуализация контактных данных",icon:n.jsx(F,{}),color:"blue",path:Mu,Component:Ok,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,show:!1,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"data-verification":{id:"data-verification",title:"Анкета для сверки данных",icon:n.jsx(F,{}),color:"blue",path:Fu,Component:tu,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"living-in-residential-premises":{id:"living-in-residential-premises",title:"Предоставление права проживания в жилом помещении",icon:n.jsx(F,{}),color:"blue",path:ph,Component:B?le:lC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"guests-accomodation-on-campus":{id:"guests-accomodation-on-campus",title:"Временное размещение гостей в студгородке",icon:n.jsx(F,{}),color:"blue",path:uh,Component:B?le:cC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"guests-passage-to-campus":{id:"guests-passage-to-campus",title:"Проход гостей на территорию студенческого городка",icon:n.jsx(F,{}),color:"blue",path:hh,Component:B?le:dC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},relocation:{id:"relocation",title:"Переселение",icon:n.jsx(F,{}),color:"blue",path:fh,Component:B?le:pC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"termination-of-agreement":{id:"termination-of-agreement",title:"Расторжение договора найма жилого помещения",icon:n.jsx(F,{}),color:"blue",path:gh,Component:B?le:uC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"issuance-of-pass":{id:"issuance-of-pass",title:"Выдача пропуска (повторная)",icon:n.jsx(F,{}),color:"blue",path:mh,Component:B?le:hC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"guest-pass":{id:"guest-pass",title:"Заказ гостевого пропуска",icon:n.jsx(F,{}),color:"blue",path:xh,Component:B?le:fC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"certification-and-issuance-of-docs":{id:"certification-and-issuance-of-docs",title:"Заверение и выдача копий внутренних документов",icon:n.jsx(F,{}),color:"blue",path:vh,Component:B?le:gC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"deferment-from-conscription":{id:"deferment-from-conscription",title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу",icon:n.jsx(F,{}),color:"blue",path:bh,Component:B?le:mC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"certified-copies-of-military-docs":{id:"certified-copies-of-military-docs",title:"Заверенные копии документов по воинскому учету из личного дела",icon:n.jsx(F,{}),color:"blue",path:yh,Component:B?le:xC,isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:R},"social-environment":{id:"Социальная среда",title:"Социальная среда",color:"pink",Component:()=>(window.location.href="https://profkommospolytech.ru/",n.jsx(Ft,{to:qe})),icon:n.jsx(Un,{}),isTemplate:!1,path:yT,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0},"psychological-help":{id:"Психологическая помощь",title:"Психологическая помощь",color:"green",Component:()=>(window.location.href="https://mospolytech.ru/studencheskaya-zhizn/medical-help/slujba-psihologicheskoy-pomoschi/",n.jsx(Ft,{to:qe})),icon:n.jsx(Cx,{}),isTemplate:!1,path:bT,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0},"health-care":{id:"Медицинская помощь",title:"Медицинская помощь",color:"red",Component:()=>(window.location.href="https://mospolytech.ru/studencheskaya-zhizn/medical-help/medicinskaya-slujba/",n.jsx(Ft,{to:qe})),icon:n.jsx(Sx,{}),isTemplate:!1,path:vT,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0},"wifi-at-the-university":{id:"WI-FI  в университете",title:"WI-FI  в университете",color:"purple",Component:()=>(window.location.href="https://e.mospolytech.ru/old/storage/files/Instruktsiya_dostupa_k_internetu_v_auditoriyah.pdf",n.jsx(Ft,{to:qe})),icon:n.jsx(Ix,{}),isTemplate:!1,path:xT,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0},brandbook:{id:"Брендбук",title:"Брендбук",color:"orange",Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/brandbook/",n.jsx(Ft,{to:qe})),icon:n.jsx(Tx,{}),isTemplate:!1,path:mT,backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0},"addresses-and-contacts":{id:"addresses-and-contacts",title:"Адреса и контакты",icon:n.jsx(Ex,{}),path:gT,Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/adresa-i-kontakty/",n.jsx(Ft,{to:qe})),color:"darkBlue",isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0},"structure-of-the-university":{id:"structure-of-the-university",title:"Структура университета",icon:n.jsx(Px,{}),path:fT,Component:()=>(window.location.href="https://mospolytech.ru/ob-universitete/rukovodstvo-i-struktura/strukturnye-podrazdeleniya/",n.jsx(Ft,{to:qe})),color:"lightGreen",isTemplate:!1,group:"FINANCES_DOCS",backButtonText:"Новому работнику",isSubPage:!0,fallbackPrevPage:qe,isExternalPage:!0}})},zT=50;function wh(e){const{getFx:t,limit:i=zT,reset:s=[]}=e,o=I({name:"load",sid:"-7ge5z1"}),a=I({name:"next",sid:"-xmsv1g"}),r=M(null,{name:"$lastArgs",sid:"v5urfp"}),l=M(null,{name:"$items",sid:"-dzzfjz"});l.on(t.doneData,(h,m)=>[...h||[],...m.results||[]]),l.reset([o,...s]);const c=M(1,{name:"$page",sid:"g96ty"});c.on(t.doneData,h=>++h),c.reset([o,...s]);const p=t.pending,f=M(!1,{name:"$isLoaded",sid:"vnuvfd"});f.reset([o,...s]);const g=Oe({and:[l,f,(h,m)=>!!(h!=null&&h.length)&&!m],or:{name:"$hasNext",sid:"-ppdacy"}});return y({and:[{clock:o,fn:h=>{var m;return T(b({},h),{limit:h.limit||i,page:(m=h.page)!=null?m:1})},target:[t,r]}],or:{sid:"-16oopw"}}),y({and:[{clock:a,source:{lastArgs:r,page:c},fn:({lastArgs:h={},page:m})=>T(b({},h),{limit:i,page:m}),target:t}],or:{sid:"-q6ux2"}}),y({and:[{clock:t.doneData,source:r,fn:(h,m)=>!!h&&(m.results||[]).length<h.limit,target:f}],or:{sid:"-5ugyp"}}),{$items:l,$isPending:p,$hasNext:g,next:a,load:o}}const RT=J(e=>P(void 0,null,function*(){var l;const{search:t,page:i,limit:s,filter:o}=e,a=(o==null?void 0:o.title)==="Все"?"":(l=o==null?void 0:o.title)!=null?l:"",{data:r}=yield gd(t!=null?t:"",a,i,s);return{results:r.items}}),{name:"getFetchTeachersFx",sid:"-m2dii7"}),Us=wh({getFx:RT,limit:50}),MT=({setExternalValue:e,inputAppearance:t,placeholder:i,validationCheck:s,searchApi:o,triggerSearchOn:a,hints:r})=>{const l=h=>P(void 0,null,function*(){yield o(h)}),[c,p,f]=ho({onDebounce:l,onClear:l,delay:1e3,triggerDelay:0,deps:a}),g=h=>{p(h),e&&e(h)};return n.jsx(ii,{value:c!=null?c:"",setValue:g,inputAppearance:t,placeholder:i,validationCheck:s,loading:f,hints:r})},FT=u.div.withConfig({componentId:"sc-pughgk-0"})(["display:flex;flex-direction:column;align-items:center;overflow:auto;width:100%;max-height:100%;height:100%;.scrolable-content{width:100%;}.alpabet-letter{margin-top:10px;display:flex;align-items:center;.title-wrapper{width:fit-content;color:var(--theme-mild-opposite);}}"]),$T=50;function BT({items:e,renderItem:t,hasNext:i,isPending:s,handleNext:o,filter:a,showAlphabetLetters:r,noResultContent:l,offset:c=$T}){const{data:{user:p}}=Pe.useUser();let f="";const g=d.useCallback(h=>{const m=h.currentTarget.clientHeight,v=h.currentTarget.scrollHeight,w=h.currentTarget.scrollTop;v-c<w+m&&i&&!s&&(o==null||o(a!=null?a:null))},[o,i,s,a]);return!s&&(!e||(e==null?void 0:e.length)===0)?n.jsx(ke,{text:"Нет результатов",children:l}):n.jsxs(FT,{onScroll:g,children:[n.jsx("div",{className:"scrolable-content",children:(e||[]).map((h,m)=>{var w,x,j;const v=r?f!==((w=h.fio)==null?void 0:w.charAt(0)):!1;return v&&(f=(j=(x=h.fio)==null?void 0:x.charAt(0))!=null?j:"-"),n.jsxs(n.Fragment,{children:[v&&n.jsxs("div",{className:"alpabet-letter",children:[n.jsx($,{size:4,align:"left",children:f}),n.jsx(_e,{})]}),t(h,(p==null?void 0:p.id.toString())===h.id,m)]})})}),i&&s&&n.jsx(kt,{width:"40px",height:"40px"}),i&&!s&&n.jsx(S,{onClick:()=>o==null?void 0:o(a!=null?a:null),text:"Загрузить еще"})]})}const Xl=e=>{switch(e){case"small":return"0.65em";case"middle":return"0.77em";default:return"1em"}},jh=(e,t,i,s)=>{const o=[e?"Я":t==="staff"?"Сотрудник":"Студент"];return e||(i&&o.push(i),s&&o.push(`${s}`)),o},HT=e=>{switch(e){case"small":return"82px";case"middle":return"90px";default:return"100px"}},UT=u.div.withConfig({componentId:"sc-18jvlhl-0"})(["display:flex;align-items:center;flex-direction:",";padding:",";border-radius:var(--brLight);color:var(--text);cursor:pointer;width:",";.index{min-width:30px;display:flex;align-items:center;font-weight:500;font-size:0.85rem;color:var(--theme-mild-opposite);}&:hover{background:",";}.name-and-status{display:flex;flex-direction:column;text-align:",";margin-top:",";width:",";.name{font-size:",";width:",";white-space:",";overflow:",";text-overflow:",";font-weight:500;}.status{font-size:",";opacity:0.6;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:90%;font-weight:500;}}"],({orientation:e})=>e==="vertical"&&"column",({orientation:e})=>e==="vertical"?"10px":"8px",({orientation:e,size:t})=>e==="vertical"?HT(t):"100%",C.grey.transparent3,({orientation:e})=>e==="vertical"?"center":"left",({orientation:e})=>e==="vertical"?"5px":"0",({orientation:e})=>e==="vertical"?"100%":"calc(100% - 60px)",({size:e})=>Xl(e),({orientation:e})=>e==="vertical"&&"70px",({orientation:e})=>e==="vertical"&&"nowrap",({orientation:e})=>e==="vertical"&&"hidden",({orientation:e})=>e==="vertical"&&"ellipsis",({size:e})=>`calc(${Xl(e)} - 0.1em)`),ds=e=>{const{open:t}=K(),{type:i,avatar:s,name:o,checked:a,onClick:r,indexNumber:l,division:c,group:p,isMe:f=!1,loading:g=!1,orientation:h="horizontal",size:m="middle"}=e,v=jh(f,i,c,p);if(g)return n.jsx(JA,{});const w=x=>{r?r(x):f||(Ke.close(),t(i==="staff"?n.jsx($g,b({},e)):n.jsx(Fg,b({},e))))};return n.jsxs(UT,{orientation:h,size:m,onClick:w,children:[l&&n.jsx("div",{className:"index",children:l}),n.jsx(Lt,{name:o,avatar:s,width:Bs(h,m),height:Bs(h,m),marginRight:h==="horizontal"?"7px":"0px",checked:a}),n.jsxs("div",{className:"name-and-status",children:[n.jsx("span",{className:"name",children:o}),n.jsx("span",{className:"status",children:n.jsx(xt,{words:v})})]})]})},WT=({filter:e,paginationList:t,noResultContent:i})=>{const{$items:s,$isPending:o,$hasNext:a,next:r,load:l}=t,c=ye(o),p=ye(a),f=()=>{r({filter:e})},g=()=>{l({filter:e})};return n.jsx(BT,{items:s.getState(),renderItem:GT,handleNext:f,isPending:c,hasNext:p,filter:e,handleReload:g,showAlphabetLetters:!0,noResultContent:i})};function GT(e,t,i){return n.jsx(ds,{id:e.id,name:e.fio,type:e.division?"staff":"stud",avatar:e.avatar,faculty:e.faculty,group:e.group,isMe:t,division:e.division,indexNumber:(i!=null?i:0)+1},i)}const VT=u.div.withConfig({componentId:"sc-qy1vuw-0"})(["width:100%;height:100%;display:flex;flex-direction:column;.search-and-filter{display:flex;gap:0.5rem;width:100%;margin-bottom:0.5rem;}"]),Ca=({title:e,searchPlaceholder:t,paginationList:i,defaultFilter:s,noResultContent:o,filterPlaceholder:a,filterRequest:r,underSearchText:l,customMask:c,search:p=!0})=>{var _;const{load:f}=i,[g,h]=d.useState(s),[m,v]=d.useState({id:g,value:g,title:g}),w=l==null?void 0:l(m),x=A=>P(void 0,null,function*(){yield f({filter:m,search:A})}),j=A=>{v(A!=null?A:null)},D=()=>{v(null)};return n.jsxs(VT,{children:[e&&n.jsx($,{size:2,align:"left",bottomGap:!0,children:e}),n.jsxs("div",{className:"search-and-filter",children:[p&&n.jsx(MT,{triggerSearchOn:[(_=m==null?void 0:m.id)!=null?_:""],placeholder:t!=null?t:"Поиск",searchApi:x,validationCheck:!0}),r&&n.jsx(Er,{value:g,setValue:h,onHintClick:j,onValueEmpty:D,customMask:c,placeholder:a!=null?a:"Поиск",request:r})]}),n.jsx(pe,{visible:!!w,children:w}),n.jsx(WT,{paginationList:i,noResultContent:o,filter:m})]})},qT=u.div.withConfig({componentId:"sc-gqkyw-0"})(["width:100%;display:flex;justify-content:center;height:calc(100vh - var(--header-height) - 20px);@media (max-width:1000px){height:calc(100vh - 80px);}"]),Or=()=>{var g,h,m;const{data:{user:e}}=Pe.useUser(),{$isPending:t,$items:i}=Us,s=Dn(),o=ut(),a=ye(t),r=ye(i),l=(m=(h=s.params.filter)!=null?h:(g=e==null?void 0:e.subdivisions)==null?void 0:g[0].subdivision)!=null?m:"",c=v=>{var w;return v!=null&&v.title?`Кафедра: ${v==null?void 0:v.title} • Всего: ${(w=r==null?void 0:r.length)!=null?w:0}`:null},{isMobile:p}=He(),f=(e==null?void 0:e.user_status)==="staff";return!p&&f&&o.push(`${Ru}?subdivision=${l}`),n.jsx(at,{load:function(){},loading:a,error:null,data:r,children:n.jsx(qT,{children:n.jsx(Dt,{children:n.jsx(Ca,{searchPlaceholder:"Поиск сотрудников",paginationList:Us,filterRequest:ao,defaultFilter:l,filterPlaceholder:"Подразделения",underSearchText:c})})})})},YT=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"})),L="/applications",QT="/application-for-superior-room",JT="/acad-performance",KT="/dormitory",_h=L+"/clarification-of-passport-data",kh=L+"/arbitrary-request",Ch=L+"/student-employment",Sh=L+"/social-scollarship",Ih=L+"/certificate-of-attendance",Th=L+"/social-agencies",Eh=L+"/paper-call",Ph=L+"/regular-accommodation",Ah=L+"/full-time-part-time-form",Dh=L+"/accommodation-correspondence-form",Nh=L+"/academic-leave-accommodation",Oh=L+"/preferential-accommodation",Lh=L+"/family-room",zh=L+"/termination-of-employment-contract",Rh=L+"/relocation-inside-hostel",Mh=L+"/relocation-to-another-hostel",Fh=L+"/accommodation-for-graduates",Sa=L+"/payment-recipient",$h=L+"/restoring-the-magnetic-pass",Bh=L+"/retake-for-diploma",Hh=L+"/military-registration-documents",Uh=L+"/military-registration",Wh=L+"/military-form-4",Gh=L+"/military-form-5",Vh=L+"/military-copies",qh=L+"/financial-support",Yh=L+"/financial-assistance",Qh=L+"/increased-state-academic-scholarship",Jh=L+"/changing-personal-data",Kh=L+"/student-status",Xh=L+"/family-contacts",Zh=L+"/medical-certificates-086",ef=L+"/state-accreditation",tf=L+"/holidays-after-training",nf=L+"/provision-academic-leave",sf=L+"/exit-academic-leave",of=L+"/independently-deducted",af=L+"/extension-attestation",XT="/physical-education/student",js=()=>tt({oldVersionUrl:"/sprav"}),ji=()=>T(b({applications:{id:"applications",title:"Цифровые сервисы",icon:n.jsx(F,{}),path:L,Component:ek,color:"red",isTemplate:!1,group:"FINANCES_DOCS",pageSize:"big",keywords:["справки","справка","заявления","заявление"]}},Em),{payments:{id:"payments",title:"Договоры и оплаты",icon:n.jsx(Xt,{}),path:Yi,Component:eu,color:"green",isTemplate:!1,group:"FINANCES_DOCS",keywords:["оплата"]},dormitory:{id:"dormitory",title:"Список ожидания на заселение в общежитие",icon:n.jsx(pl,{}),path:KT,Component:V_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",show:!0},softskills:{id:"softskills",title:"Паспорт компетенций",icon:n.jsx(zx,{}),path:WN,Component:()=>(me.useEffect(()=>{window.location.replace("https://softskills.rsv.ru/")},[]),null),color:"orange",isTemplate:!0,show:!0,group:"LEARNING_ACTIVITIES",isExternalPage:!0,keywords:["рсв","россия страна возможностей","софтскиллс","навыки"],isNew:!0},"acad-performance":{id:"acad-performance",title:"Успеваемость",icon:n.jsx(Rx,{}),path:JT,Component:G_,color:"green",isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["оценки","экзамены","зачеты"]},"physical-education":{id:"physical-education",title:"Физическая культура",icon:n.jsx(F,{}),color:"lightGreen",path:XT,pageSize:"big",Component:Q_,isTemplate:!1,isNew:!0,group:"LEARNING_ACTIVITIES",keywords:["физра","физическая культура"]},"project-activity":{id:"project-activity",title:"Проектная деятельность",icon:n.jsx(Hc,{}),path:_m,Component:tk,color:"orange",isTemplate:!1,group:"LEARNING_ACTIVITIES",keywords:["пд"]},"helpful-information":{id:"helpful-information",title:"Полезная информация",icon:n.jsx(Uc,{}),path:Sm,Component:jr,color:"blue",isTemplate:!0,group:"GENERAL"},"application-for-superior-room":{id:"application-for-superior-room",title:"Заявка на комнату повышенной комфортности",icon:n.jsx(pl,{}),path:QT,Component:W_,color:"blue",isTemplate:!1,group:"GENERAL",show:B?!(new Date>new Date(Bd)):!0},"all-teachers":{id:"all-teachers",title:"Сотрудники",icon:n.jsx(Os,{}),path:hs,Component:Or,color:"orange",isTemplate:!1,group:"COMMUNICATION",keywords:["преподаватели","преподы"]}}),Lr=e=>{var t,i,s,o;return T(b({},Pm),{"clarification-of-passport-data":{id:"clarification-of-passport-data",title:"Уточнение паспортных данных",icon:n.jsx(xi,{}),path:_h,Component:q_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"arbitrary-request":{id:"arbitrary-request",title:"Произвольный запрос",icon:n.jsx(xi,{}),path:kh,Component:Pk,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"student-employment":{id:"student-employment",title:"Трудоустройство студентов",icon:n.jsx(xi,{}),path:Ch,Component:B?js:Ak,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"social-scollarship":{id:"social-scollarship",title:"Социальная стипендия",icon:n.jsx(ue,{}),path:Sh,Component:B?js:Y_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"certificate-of-attendance":{id:"certificate-of-attendance",title:"Сертификат об обучении",icon:n.jsx(ue,{}),path:Ih,Component:J_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"social-agencies":{id:"social-agencies",title:"Справка в социальные учреждения",icon:n.jsx(ue,{}),path:Th,Component:K_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"paper-call":{id:"paper-call",title:"Справка-вызов",icon:n.jsx(ue,{}),path:Eh,Component:X_,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"medical-certificate":{id:"medical-certificate",title:"Предоставление медицинских справок для проживающих в общежитии",icon:n.jsx(Wc,{}),path:xm,Component:RC,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"regular-accommodation":{id:"regular-accommodation",title:"Предоставление права проживания (очная форма)",icon:n.jsx(ue,{}),path:Ph,Component:Z_,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"full-time-part-time-form":{id:"full-time-part-time-form",title:"Предоставление права проживания (очно-заочная форма)",icon:n.jsx(ue,{}),path:Ah,Component:nw,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"accommodation-correspondence-form":{id:"accommodation-correspondence-form",title:"Предоставление права проживания (заочная форма)",icon:n.jsx(ue,{}),path:Dh,Component:Tk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"academic-leave-accommodation":{id:"academic-leave-accommodation",title:"Предоставление права проживания в период академического отпуска",icon:n.jsx(ue,{}),path:Nh,Component:nk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"preferential-accommodation":{id:"preferential-accommodation",title:"Предоставление права проживания льготной категории граждан",icon:n.jsx(ue,{}),path:Oh,Component:ik,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"family-room":{id:"family-room",title:"Предоставление права проживания в семейной комнате",icon:n.jsx(ue,{}),path:Lh,Component:Ek,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"termination-of-employment-contract":{id:"termination-of-employment-contract",title:"Расторжение договора найма",icon:n.jsx(ue,{}),path:zh,Component:sk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"relocation-inside-hostel":{id:"relocation-inside-hostel",title:"Переселение внутри общежития",icon:n.jsx(ue,{}),path:Rh,Component:ok,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"relocation-to-another-hostel":{id:"relocation-to-another-hostel",title:"Переселение в другое общежитие",icon:n.jsx(ue,{}),path:Mh,Component:rk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"accommodation-for-graduates":{id:"accommodation-for-graduates",title:"Предоставление права проживания в каникулярный период",icon:n.jsx(ue,{}),path:Fh,Component:["4","5","6"].includes((t=e==null?void 0:e.course)!=null?t:"")||(s=(i=e==null?void 0:e.status)==null?void 0:i.toLocaleLowerCase())!=null&&s.includes("окончил")||((o=e==null?void 0:e.degreeLevel)==null?void 0:o.toLocaleLowerCase())==="магистратура"&&(e==null?void 0:e.course)==="2"?ak:()=>n.jsx(tt,{isRedirectButtonVisible:!1,errorText:"Сервис доступен только выпускникам университета, проживающих в общежитии"}),color:"blue",isTemplate:!1,isSubPage:!0,hiddenTitle:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L,show:!0},"payment-recipient":{id:"payment-recipient",title:"Отправка квитанции об оплате",icon:n.jsx(ue,{}),path:Sa,Component:lk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"restoring-the-magnetic-pass":{id:"restoring-the-magnetic-pass",title:"Запрос на восстановление магнитного пропуска",icon:n.jsx(ue,{}),path:$h,Component:ck,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"military-registration-documents":{id:"military-registration-documents",title:"Отправить документы воинского учета",icon:n.jsx(ue,{}),path:Hh,Component:uk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L,isNew:!0,hiddenTitle:!0},"military-registration":{id:"military-registration",title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу (форма 10)",icon:n.jsx(ms,{}),path:Uh,Component:hk,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:L,isNew:!0,hiddenTitle:!0},"military-form-4":{id:"military-form-4",title:"Заказать справку об обучении для студентов в военкомат (форма 4)",icon:n.jsx(ms,{}),path:Wh,Component:fk,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:L,isNew:!0,hiddenTitle:!0},"military-form-5":{id:"military-form-5",title:"Заказать справку об обучении для аспирантов в военкомат (форма 5)",icon:n.jsx(ms,{}),path:Gh,Component:gk,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:L,isNew:!0,hiddenTitle:!0},"military-copies":{id:"military-copies",title:"Заверенные копии документов по воинскому учету из личного дела",icon:n.jsx(ms,{}),path:Vh,Component:mk,color:"red",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",fallbackPrevPage:L,isNew:!0,hiddenTitle:!0},"retake-for-diploma":{id:"retake-for-diploma",title:"Заявление на пересдачу для получения диплома с отличием",icon:n.jsx(ue,{}),path:Bh,Component:pk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"increased-state-academic-scholarship":{id:"increased-state-academic-scholarship",title:"Отправка документов на получение стипендии Московского Политеха",icon:n.jsx(ue,{}),path:Qh,Component:dk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L,hiddenTitle:!0},"financial-support":{id:"financial-support",title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)",icon:n.jsx(ue,{}),path:qh,Component:B?js:xk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"financial-assistance":{id:"financial-assistance",title:"Финансовая поддержка",icon:n.jsx(ue,{}),path:Yh,Component:B?js:vk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"changing-personal-data":{id:"changing-personal-data",title:"Запрос на изменение персональных данных",icon:n.jsx(ue,{}),path:Jh,Component:bk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"student-status":{id:"student-status",title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования",icon:n.jsx(ue,{}),path:Kh,Component:yk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"family-contacts":{id:"family-contacts",title:"Контактные данные родителей",icon:n.jsx(ue,{}),path:Xh,Component:wk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L,isNew:new Date>new Date("2024-09-08T00:00:00.000Z"),hiddenTitle:!0},"medical-certificates-086":{id:"medical-certificates-086",title:"Предоставление справок о группе здоровья",icon:n.jsx(ue,{}),path:Zh,Component:jk,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L,isNew:new Date>new Date("2024-09-08T00:00:00.000Z"),hiddenTitle:!0,keywords:["086/у","086 у"]},"state-accreditation":{id:"state-accreditation",title:"Выдача лицензий и свидетельств о государственной аккредитации",icon:n.jsx(ue,{}),path:ef,Component:_k,color:"blue",isTemplate:!1,isSubPage:!0,backButtonText:"Назад к заявлениям",subPageHeaderTitle:"",fallbackPrevPage:L},"holidays-after-training":{id:"holidays-after-training",title:"Предоставление каникул",icon:n.jsx(ue,{}),path:tf,Component:kk,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"provision-academic-leave":{id:"provision-academic-leave",title:"Предоставление академического отпуска",icon:n.jsx(ue,{}),path:nf,Component:Ck,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"exit-academic-leave":{id:"exit-academic-leave",title:"Выход из академического отпуска",icon:n.jsx(ue,{}),path:sf,Component:aw,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"independently-deducted":{id:"independently-deducted",title:"Отчисление по инициативе обучающегося",icon:n.jsx(ue,{}),path:of,Component:Sk,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L},"extension-attestation":{id:"extension-attestation",title:"Продление промежуточной аттестации ",icon:n.jsx(ue,{}),path:af,Component:Ik,color:"blue",isTemplate:!1,group:"FINANCES_DOCS",isSubPage:!0,backButtonText:"Назад к цифровым сервисам",subPageHeaderTitle:"",fallbackPrevPage:L}})},rf=(e,t)=>e.reduce((i,s)=>(i[s]=t[s],i),{}),T3={Approved:"Согласовано",Expired:"Просрочено",InProgress:"На рассмотрении",Declined:"Отклонено",Unknown:"-"},Zl={Completed:"Приказ готов",PreparingOrder:"Оформляется приказ",RecepientConfirm:"Ожидает подтверждения получателем",Approval:"На согласовании",Cancelled:"Отменено",Unknown:"Неизвестно"},E3={InProgress:"Приказ готовится",Ready:"Приказ готов"},ZT={RecepientDeclinedByZkgu:"Служебная записка отклонена в 1С",RecepientDeclinedByAppover:"Служебная записка отклонена согласующим",RecepientSelfDeclined:"Служебная записка отклонена сотрудником",RecepientSelfConfirmed:"Служебная записка согласована сотрудником",FullyCompleted:"Служебная записка полностью согласована",ToApprove:"Появились новые служебные записки для согласования",ToConfirm:"Рассмотрите служебные записки о надбавках",AllowanceOrderCompleted:"Служебная записка полностью согласована"},Mt={RecepientDeclinedByZkgu:cn,RecepientDeclinedByAppover:cn,RecepientSelfDeclined:cn,RecepientSelfConfirmed:cn,FullyCompleted:cn,ToApprove:cn,ToConfirm:ba,AllowanceOrderCompleted:ba};function eE(e){let{reset:t}=e;const i=I({name:"setStartDate",sid:"ynmubx"}),s=I({name:"setEndDate",sid:"-1lsjq1"}),o=M("",{name:"$startDate",sid:"-g3gm39"}).on(i,(r,l)=>l),a=M("",{name:"$endDate",sid:"g2dq9m"}).on(s,(r,l)=>l);return t&&(o.reset(t),a.reset(t)),y({and:[{clock:i,source:a,filter:(r,l)=>new Date(l)>new Date(r),fn:()=>"",target:a}],or:{sid:"-7hbgyb"}}),{startDate:o,endDate:a,setStartDate:i,setEndDate:s}}function tE(){let{reset:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=I({name:"setValue",sid:"z0dsf1"}),i=M([],{name:"$store",sid:"x0kp80"}).on(t,(s,o)=>o);return e&&(Array.isArray(e),i.reset(e)),{value:i,setValue:t}}const zr=function(){let{defaultValue:e,reset:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=I({name:"setValue",sid:"7mqusq"}),s=M(e!=null?e:null,{name:"$store",sid:"-jr9j7n"}).on(i,(o,a)=>a);return t&&(Array.isArray(t),s.reset(t)),{value:s,setValue:i}},nE=function(){let{defaultValue:e,reset:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=I({name:"setValue",sid:"-dtr6w4"}),s=M(e!=null?e:"",{name:"$store",sid:"-iu1id1"}).on(i,(o,a)=>a);return t&&(Array.isArray(t),s.reset(t)),{value:s,setValue:i}},Rr=I({name:"appStarted",sid:"-37f117"}),ft=I({name:"pageMounted",sid:"1i78v9"}),lf=I({name:"notificationRead",sid:"-f68hnd"}),cf=I({name:"personalAllowancesMounted",sid:"-cu9ltg"}),df=I({name:"fileAttached",sid:"gstlpm"}),Mr=I({name:"fileRemoved",sid:"-t2ddju"}),pf=I({name:"allFilesRemoved",sid:"g8tmhn"}),uf=I({name:"allowanceStatusChanged",sid:"cxvhni"}),hf=I({name:"infoPageMounted",sid:"-jwuc3c"}),ff=I({name:"getSubordinatesEvent",sid:"3lild7"}),gf=I({name:"createSupplement",sid:"-h7pci2"}),Fr=I({name:"setCompleted",sid:"3m4kit"}),mf=I({name:"approve",sid:"ggh3tm"}),xf=I({name:"reject",sid:"-5hfg1k"}),vf=I({name:"setCurrentRole",sid:"af6vuk"}),bf=I({name:"setCurrentJobId",sid:"-7lw322"}),iE=J(e=>P(void 0,null,function*(){yield Promise.all(e.map(t=>wf.start(t)))}),{name:"removeAllFilesFx",sid:"-iepmdj"}),zi=Z({sid:"-5dcppx",fn:()=>Et({handler:sb}),name:"notificationsQuery",method:"createQuery"}),Ri=Z({sid:"-v8kmu7",fn:()=>Et({handler:rb}),name:"personalAllowancesQuery",method:"createQuery"}),sE=Z({sid:"mcc2i9",fn:()=>Ce({handler:ob}),name:"viewNotificationMutation",method:"createMutation"}),yf=Z({sid:"-rsw5nb",fn:()=>Ce({handler:lb}),name:"confirmPersonalAllowanceMutation",method:"createMutation"}),ps=Z({sid:"-reqm8s",fn:()=>Ce({handler:nb}),name:"uploadFileMutation",method:"createMutation"}),wf=Z({sid:"pguplq",fn:()=>Ce({handler:ib}),name:"removeFileMutation",method:"createMutation"}),Ro=Z({sid:"geiluz",fn:()=>Ce({handler:Kv}),name:"createSupplementMutation",method:"createMutation"}),Ws=Z({sid:"-wye7op",fn:()=>Ce({handler:eb}),name:"veridctMutation",method:"createMutation"}),Gs=zr(),jf=zr({reset:ft}),Mi=zr({reset:ft}),_f=nE({reset:ft}),gn=uE(),vn=pE(ft),Bt=tE({reset:ft}),en=M({},{name:"$filesMap",sid:"x0ry6y"}),kf=en.map(e=>Object.values(e)),oE=M(null,{name:"$currentRole",sid:"-imsis7"}).on(vf,(e,t)=>t).reset(fe.logout),aE=M(null,{name:"$currentJobId",sid:"16crlb"}).on(bf,(e,t)=>t).reset(fe.logout),rE=Mi.value.map(e=>e==null?void 0:e.title.toLowerCase().includes("интенсивность труда")),Cf=M(!1,{name:"$completed",sid:"pd7c8x"}).reset(ft),Sf=M(null,{name:"$allowances",sid:"-dxwpn2"}),If=M(null,{name:"$subordinates",sid:"-duiwfx"}),lE=J(e=>P(void 0,null,function*(){return Jv(e)}),{name:"getAllowancesFx",sid:"5bybjc"}),Tf=J(e=>P(void 0,null,function*(){return Xv(e)}),{name:"getSubordinatesFx",sid:"-tasawu"});y({and:[{clock:ff,target:Tf}],or:{sid:"-vh7g4o"}});y({and:[{clock:Bt.setValue,source:en,filter:(e,t)=>t.length>Object.keys(e).length,fn:(e,t)=>t[t.length-1],target:df}],or:{sid:"-vf09r8"}});y({and:[{clock:Bt.setValue,source:{filesMap:en},filter:(e,t)=>{let{filesMap:i}=e;return t.length<Object.keys(i).length&&t.length>0},fn:(e,t)=>{let{filesMap:i}=e;return Object.keys(i).find(o=>!t.find(a=>a.name===o))},target:Mr}],or:{sid:"-uzm154"}});y({and:[{clock:Bt.setValue,filter:e=>e.length===0,target:pf}],or:{sid:"-dz6te3"}});y({and:[{clock:df,target:ps.start}],or:{sid:"-dwfufa"}});y({and:[{clock:pf,source:kf,target:iE}],or:{sid:"-du8o1u"}});y({and:[{clock:Mr,source:en,filter:Boolean,fn:(e,t)=>e[t],target:wf.start}],or:{sid:"-dfy0mg"}});y({and:[{clock:Mr,source:{newFiles:Bt.value,filesMap:en},filter:Boolean,fn:(e,t)=>{let{newFiles:i,filesMap:s}=e;if(i.length===0)return{};const o=k({},s);return delete o[t],o},target:en}],or:{sid:"-d0js0c"}});y({and:[{clock:ps.finished.success,source:en,fn:(e,t)=>{let{params:i,result:s}=t;return k(k({},e),{},{[i.name]:s.fileId})},target:en}],or:{sid:"-c1wqml"}});y({and:[{clock:ps.$failed,fn:()=>({message:"Не удалось прикрепить файл",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"-bjrj1o"}});y({and:[{clock:ps.finished.failure,source:Bt.value,fn:(e,t)=>{let{params:i}=t;return e.filter(s=>s.name!==i.name)},target:Bt.value}],or:{sid:"-b3thu7"}});y({and:[{clock:mf,fn:e=>{let{employeeId:t,allowanceId:i,approverEmployeeId:s}=e;return{employeeId:t,allowanceId:i,approverEmployeeId:s,approvalStatus:"Approved"}},target:Ws.start}],or:{sid:"-anvgmq"}});y({and:[{clock:xf,fn:e=>{let{employeeId:t,allowanceId:i,approverEmployeeId:s}=e;return{employeeId:t,allowanceId:i,approverEmployeeId:s,approvalStatus:"Declined"}},target:Ws.start}],or:{sid:"-a4mnv3"}});const Tn=Z({sid:"70540m",fn:()=>Et({handler:tb}),name:"roleQuery",method:"createQuery"}),cE=Tn.$data.map(e=>{var t;return(t=e==null?void 0:e.map(i=>i.roles).flat())!==null&&t!==void 0?t:[]}),$r=Z({sid:"x4xbyl",fn:()=>Et({handler:xd}),name:"paymentIdentifierQuery",method:"createQuery"}),Ef=Z({sid:"1zvfc5",fn:()=>Et({handler:xd}),name:"sourceOfFundingQuery",method:"createQuery"}),dE=$r.$data.map(e=>e?e.map(t=>({id:t.id,title:t.name})):[]),bn=Z({sid:"o3e7tq",fn:()=>Et({handler:Zv}),name:"allowanceQuery",method:"createQuery"}),Ia=M("",{name:"$errorMessage",sid:"-l0nxwx"});y({and:[{clock:[Gs.value,Mi.value,vn.value,vn.value,Bt.value],source:{job:Gs.value,paymentIdentifier:Mi.value,allowanceEmployees:vn.value,files:Bt.value,isPaymentForLaborIntensity:rE},fn:e=>{let{job:t,paymentIdentifier:i,allowanceEmployees:s,isPaymentForLaborIntensity:o,files:a}=e;return t?i?!o&&a.length===0?"Приложите файл":s.filter(r=>r!==null&&r.id!=="").length<=0?"Выберите сотрудников":s.some(r=>!r.startDate||!r.endDate)?"Выберите даты":s.some(r=>!r.sum)?"Укажите сумму":"":"Выберите вид надбавки":"Выберите должность"},target:Ia}],or:{sid:"1napmc"}});y({and:[{clock:gf,source:{job:Gs.value,sourceOfFunding:jf.value,paymentIdentifier:Mi.value,commentary:_f.value,allowanceEmployees:vn.value,files:kf},filter:e=>{let{job:t,paymentIdentifier:i,allowanceEmployees:s}=e;return!!(t!=null&&t.id)&&!!(i!=null&&i.id)&&s.filter(o=>o!==null).length>0},fn:e=>{let{job:t,sourceOfFunding:i,paymentIdentifier:s,commentary:o,allowanceEmployees:a,files:r}=e;return{initiatorId:(t==null?void 0:t.id.toString())||"",sourceOfFundingId:(i==null?void 0:i.id.toString())||null,paymentIdentifierId:(s==null?void 0:s.id.toString())||"",commentary:o,allowanceEmployees:a.filter(l=>l!==null),attachedFileIds:r}},target:Ro.start}],or:{sid:"33j5zn"}});y({and:[{clock:hf,fn:e=>{let{id:t,role:i,userId:s}=e;return{role:i,allowanceId:t,userId:s}},target:[bn.reset,bn.start]}],or:{sid:"4jrmcy"}});y({and:[{clock:Ro.$succeeded,fn:()=>!0,target:Fr}],or:{sid:"f0eotb"}});y({and:[{clock:Ro.$failed,fn:()=>({message:"Не удалось создать надбавку. Проверьте правильность заполненных полей и попробуйте еще раз",type:"failure"}),target:Y.evokePopUpMessage}],or:{sid:"fepc8p"}});Cf.on(Fr,(e,t)=>t);y({and:[{clock:Rr,target:Tn.start}],or:{sid:"fv761j"}});y({and:[{clock:Rr,target:zi.start}],or:{sid:"fxecez"}});y({and:[{clock:ft,fn:()=>"PaymentIdentifier",target:$r.start}],or:{sid:"fzlisf"}});y({and:[{clock:ft,fn:()=>"SourceOfFunding",target:Ef.start}],or:{sid:"gdw67t"}});const Pf=J(e=>P(void 0,null,function*(){const t=yield Promise.all(e.map(i=>P(void 0,null,function*(){const s=yield lE(i.employeeId);return{approverAllowances:s.approverAllowances.map(a=>k(k({},a),{},{allowanceStatus:Zl[a.allowanceStatus]})),initiatorAllowances:s.initiatorAllowances.map(a=>k(k({},a),{},{allowanceStatus:Zl[a.allowanceStatus]}))}})));return e.reduce((i,s,o)=>(i[s.employeeId]=t[o],i),{})}),{name:"getAllAllowances",sid:"-l4sryp"}),Af=J(e=>P(void 0,null,function*(){const t=yield Promise.all(e.map(i=>P(void 0,null,function*(){return yield Tf(i.employeeId)})));return e.reduce((i,s,o)=>(i[s.employeeId]=t[o],i),{})}),{name:"getAllEmployees",sid:"-ddkyre"});y({and:[{clock:Ws.$finished,source:Ws.__.$latestParams,fn:e=>({role:"Approver",allowanceId:(e==null?void 0:e.allowanceId)||"",userId:(e==null?void 0:e.approverEmployeeId)||""}),target:bn.start}],or:{sid:"hv87ru"}});y({and:[{clock:ft,source:Tn.$data,filter:e=>e!==null,fn:e=>e,target:Pf}],or:{sid:"ic9u61"}});y({and:[{clock:Pf.doneData,target:Sf}],or:{sid:"iro2s5"}});y({and:[{clock:ft,source:Tn.$data,filter:e=>e!==null,fn:e=>e,target:Af}],or:{sid:"itv95l"}});y({and:[{clock:Af.doneData,target:If}],or:{sid:"j99hrp"}});y({and:[{clock:gn.setStartDate,target:vn.setStartDate}],or:{sid:"tkyevt"}});y({and:[{clock:gn.setEndDate,target:vn.setEndDate}],or:{sid:"tn5l99"}});y({and:[{clock:cf,target:Ri.start}],or:{sid:"tpcrmp"}});y({and:[{clock:uf,source:se.userGuid,fn:(e,t)=>k({personalId:e},t),target:yf.start}],or:{sid:"u33mgq"}});y({and:[{clock:yf.$succeeded,target:Ri.start}],or:{sid:"ujlg9k"}});y({and:[{clock:fe.logout,target:[Tn.reset,Ef.reset,$r.reset,bn.reset,Ri.reset,zi.reset]}],or:{sid:"ulsmn0"}});y({and:[{clock:lf,source:zi.$data,filter:(e,t)=>{const i=e==null?void 0:e.find(s=>s.notificationId===t);return(i==null?void 0:i.notificationType)!=="ToConfirm"},fn:(e,t)=>t,target:sE.start}],or:{sid:"unzt0g"}});const Ye={pageMounted:ft,personalAllowancesMounted:cf,appStarted:Rr,createSupplement:gf,setCompleted:Fr,infoPageMounted:hf,approve:mf,reject:xf,allowanceStatusChanged:uf,getSubordinates:ff,notificationRead:lf,setCurrentRole:vf,setCurrentJobId:bf},us={jobRoles:Tn.$data,rolesPending:Tn.$pending,roles:cE,paymentIdentifiers:dE,allowances:Sf,fileUploading:ps.$pending,employees:If,completed:Cf,errorMessage:Ia,isActive:Ia.map(e=>!e),supplementCreating:Ro.$pending,allowance:{data:bn.$data,loading:bn.$pending,error:bn.$error,role:oE,jobId:aE},personalAllowances:{data:Ri.$data,loading:Ri.$pending},notifications:{data:zi.$data,loading:zi.$pending}},P3={job:Gs,sourceOfFunding:jf,paymentIdentifier:Mi,period:gn,commentary:_f,employees:vn,files:Bt};function pE(e){const t=I({name:"addEmployee",sid:"4zajon"}),i=I({name:"setEmployee",sid:"i4awcn"}),s=I({name:"setStartDate",sid:"nhd6ir"}),o=I({name:"setEndDate",sid:"-r3hqub"}),a=I({name:"selectAll",sid:"-hbpapx"}),r=I({name:"deselectAll",sid:"-20t5mx"}),l=I({name:"removeEmployee",sid:"k98f35"}),c=M(!1,{name:"allSelected",sid:"-2iw0yb"}).on(a,()=>!0).on(r,()=>!1).reset([e,l]),p=M([],{name:"$employees",sid:"8gyi4y"}).on(l,(f,g)=>f.filter(h=>h.id!==g)).on(i,(f,g)=>new Date(g.startDate)>new Date(g.endDate)?f.map(h=>h.id===g.id?k(k({},g),{},{endDate:""}):h):f.map(h=>h.id===g.id?g:h)).on(s,(f,g)=>f.map(h=>k(k({},h),{},{startDate:g}))).on(o,(f,g)=>f.map(h=>k(k({},h),{},{endDate:g}))).reset([e,r]);return y({and:[{clock:t,source:{employees:p,startDate:gn.startDate,endDate:gn.endDate},fn:(f,g)=>{let{employees:h,startDate:m,endDate:v}=f;return[...h,{id:g,startDate:m,endDate:v,sum:""}]},target:p}],or:{sid:"-q7yrgk"}}),y({and:[{clock:a,source:{employees:p,startDate:gn.startDate,endDate:gn.endDate},fn:(f,g)=>{let{employees:h,startDate:m,endDate:v}=f;const w=g.filter(x=>!h.some(j=>j.id===x));return[...h,...w.map(x=>({id:x,startDate:m,endDate:v,sum:""}))]},target:p}],or:{sid:"-pafb9j"}}),{value:p,setValue:i,addItem:t,removeItem:l,setStartDate:s,setEndDate:o,selectAll:a,deselectAll:r,allSelected:c}}function uE(){const e=new Date,t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),1)).toISOString().split("T")[0],i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),15,0)).toISOString().split("T")[0],s=eE({reset:ft}),o=M(new Date().getDate()>13?i:t,{name:"$minDate",sid:"-iilsca"});return k(k({},s),{},{minDate:o})}const hE=["settings","profile","chat","schedule","payments","project-activity","all-students"],fE=["home","schedule","acad-performance","all","profile"],gE=["home","schedule","alerts","all","profile"],mE=["home","doclist","alerts","all","profile"],xE=(e,t,i)=>{var r;if(!e)return[];const s=(r=t.customizeMenu.pages)!=null?r:Ua,o=Wa.filter(l=>!s.includes(l));return(e==null?void 0:e.user_status)==="staff"?Array.from(new Set([...o,...Object.values(i!=null?i:{}).some(l=>l.length)?["download-agreements"]:[],...s])):s},ec={allRoutes:null,visibleRoutes:null,currentPage:null,isOpen:!1},vE=()=>{const e=H(zf),t=H(Lf);return T(b({},e),{homeRoutes:t})},Df=I({name:"changeOpen",sid:"7q6fij"}),Nf=I({name:"clearStore",sid:"-f7ci6o"}),Br=I({name:"defineMenu",sid:"-s9esev"}),Of=I({name:"changeNotifications",sid:"-1lc8ix"}),bE=(e,t,i)=>{const s=b({},i);if(s[e])s[e].notifications=t;else return null;return s},_i=(e,t)=>{if(!e)return Kl({allowancesRoles:t});const{accepts:i,agreements:s,checkdata:o,studLogins:a}=e,r=!!i.length||!!s.length||!!o.length||!!(a!=null&&a.length),l="download-agreements",c=Object.entries(Kl({allowancesRoles:t})).filter(([p])=>p!==l||p===l&&r);return Object.fromEntries(c)},yE=Oe({and:[se.user,ve.userSettings,Ct.store,us.roles,(e,t,i,s)=>{var o;return!e||!t?null:rf(xE(e.currentUser,t,i.data),((o=e.currentUser)==null?void 0:o.user_status)==="staff"?b(b({},_i(i.data,s)),Nr({allowancesRoles:s})):b(b({},ji()),Lr(e.currentUser)))}],or:{name:"$leftSidebar",sid:"o0uyyw"}}),Lf=Oe({and:[se.user,ve.userSettings,Ct.store,us.roles,(e,t,i,s)=>{var o,a;return!e||!t?null:rf((o=t==null?void 0:t.homePage.pages)!=null?o:hE,((a=e.currentUser)==null?void 0:a.user_status)==="staff"?b(b({},_i(i.data,s)),Nr({allowancesRoles:s})):b(b({},ji()),Lr(e.currentUser)))}],or:{name:"$homeRoutes",sid:"-6l5pit"}});y({and:[{source:{userStore:se.user,settings:ve.userSettings,adminLinks:Ct.store,allowancesRoles:us.roles},filter:({settings:e,userStore:t})=>!!e&&!!t.currentUser,fn:({settings:e,adminLinks:t,userStore:i,allowancesRoles:s})=>({homeRoutes:e.homePage.pages,user:i.currentUser,adminLinks:t.data,allowancesRoles:s}),target:Br}],or:{sid:"vuf7sm"}});const zf=M(ec,{name:"$menu",sid:"4kyvww"}).on(Df,(e,{isOpen:t,currentPage:i})=>{var s;return T(b({},e),{currentPage:e.allRoutes&&i?(s=e.allRoutes)==null?void 0:s[i]:e.currentPage,isOpen:t})}).on(Nf,()=>b({},ec)).on(Br,(e,{user:t,adminLinks:i,allowancesRoles:s})=>T(b({},e),{currentPage:(t==null?void 0:t.user_status)==="staff"?_i(i,s)[window.location.hash.slice(2,window.location.hash.length)]:ji()[window.location.hash.slice(2,window.location.hash.length)],allRoutes:(t==null?void 0:t.user_status)==="staff"?b(b({},_i(i,s)),Nr({allowancesRoles:s})):b(b({},ji()),Lr(t)),visibleRoutes:(t==null?void 0:t.user_status)==="staff"?_i(i,s):ji()})).on(Of,(e,{page:t,notifications:i})=>{var s,o;return T(b({},e),{visibleRoutes:bE(t,typeof i=="number"?(e.allRoutes&&e.allRoutes[t].notifications||0)+i:i((o=(s=e.visibleRoutes)==null?void 0:s[t].notifications)!=null?o:0),e.visibleRoutes)})}),_t={useMenu:vE},Ht={changeOpen:Df,clearStore:Nf,defineMenu:Br,changeNotifications:Of},Fi={leftSidebar:yE,menu:zf,homeRoutes:Lf},Hr=(e,t,i,s,o,a)=>{var l;const r={alert:{id:t,title:i!=null?i:"Новости",text:"Вам пришло оповещение!",type:"alert",goTo:km,duration:1e4,pageId:"alerts"},schedule:{id:t,type:"schedule",title:i!=null?i:"Скоро начнется пара",text:s!=null?s:"",goTo:Mn,pageId:"schedule"},info:{id:t,title:i!=null?i:"Важная информация!",text:s!=null?s:"",type:"info"},"payment-dorm":{id:t,title:i!=null?i:"Долг по общежитию",text:s!=null?s:"Вам необходимо внести платеж ",type:"payment-dorm",goTo:Yi,canClose:!1,pageId:"payments"},"payment-ed":{id:t,title:i!=null?i:"Долг по образованию",text:s!=null?s:"Вам необходимо внести платеж",type:"payment-ed",goTo:Yi,canClose:!1,pageId:"payments"},message:{id:t,title:i!=null?i:"Сообщения",text:s!=null?s:"Посмотрите сообщения",type:"message",goTo:Rn,pageId:"chat",canClose:!1},"hr-applications":{id:t,title:i!=null?i:"",text:s!=null?s:"У вашей заявки изменился статус",type:"hr-applications",goTo:be,pageId:"hr-applications"},"kpi-pps":{id:t,title:i!=null?i:"",text:s!=null?s:"У вашей заявки изменился статус",type:"kpi-pps",goTo:zu,pageId:"kpi-pps"},"doc-for-review":{id:t,title:i!=null?i:"Документ для ознакомления",text:s!=null?s:"",type:"doc-for-review",goTo:Ar,pageId:"doclist"},"digital-services":{id:t,title:i!=null?i:"Статус заявки изменен",text:s!=null?s:"",type:"digital-services",goTo:L,pageId:"applications"},"version-update":{id:t,title:i!=null?i:"Вышла новая версия",text:"Посмотрите изменения",type:"version-update"},"electronic-interaction":{id:t,title:i!=null?i:"Документ для подписания",text:"Об электронном взаимодействии",type:"electronic-interaction",goTo:Tm,pageId:"electronic-interaction-agreement"},allowance:{id:t,title:i!=null?i:"Надбавки",text:s!=null?s:"",type:"allowance",goTo:o!=null?o:ba,onClick:()=>Ye.notificationRead(t),onClose:()=>Ye.notificationRead(t),canClose:a!=="ToConfirm"}};return(l=r[e])!=null?l:r.info},wE={message:"messages","doc-for-review":"doclist","version-update":"newVersion","digital-services":"applications",alert:"news",schedule:"schedule"},Rf=(e,t)=>t.filter(({type:i})=>e[wE[i]]),jE=e=>{const t=Mt[e.notificationType];switch(t){case Mt.RecepientDeclinedByZkgu:return Ye.setCurrentRole("Initiator"),Ye.setCurrentJobId(e.employeeId),`${t}/${e.allowanceId}`;case Mt.RecepientDeclinedByAppover:return Ye.setCurrentRole("Initiator"),Ye.setCurrentJobId(e.employeeId),`${t}/${e.allowanceId}`;case Mt.RecepientSelfDeclined:return Ye.setCurrentRole("Initiator"),Ye.setCurrentJobId(e.employeeId),`${t}/${e.allowanceId}`;case Mt.RecepientSelfConfirmed:return Ye.setCurrentRole("Initiator"),Ye.setCurrentJobId(e.employeeId),`${t}/${e.allowanceId}`;case Mt.FullyCompleted:return Ye.setCurrentRole("Initiator"),Ye.setCurrentJobId(e.employeeId),`${t}/${e.allowanceId}`;case Mt.ToApprove:return Ye.setCurrentRole("Approver"),Ye.setCurrentJobId(e.employeeId),`${t}/${e.allowanceId}`;case Mt.ToConfirm:return t;case Mt.AllowanceOrderCompleted:return t;default:return t}},_E={notifications:[],visibleNotifications:[],loading:!1,error:null,removeNotificationError:null,removeNotificationLoading:!1,clearAllLoading:!1,clearAllError:null,loaded:!1},Mo=J(t=>P(void 0,[t],function*({settings:e}){try{const{data:i}=yield cb();return Rf(e,i).map(({id:s,type:o,title:a,text:r})=>Hr(o,s,a,r))}catch(i){throw new Error(`Не удалось загрузить уведомления. Ошибка: ${i}`)}}),{name:"fetchNotifications",sid:"vs5bnd"}),kE=J(({notifications:e})=>{e.forEach(({pageId:t,text:i})=>{t&&(t==="chat"?Ht.changeNotifications({page:t,notifications:Number(i.split(" (")[1].split(")")[0])}):Ht.changeNotifications({page:t,notifications:1}))})},{name:"addNotificationsToPagesFx",sid:"1b9xt"}),CE=J(({notifications:e})=>{const{pageId:t}=e[0];t&&Ht.changeNotifications({page:t,notifications:1})},{name:"addNotificationToPageFx",sid:"-2jpxrp"}),Fo=J(i=>P(void 0,[i],function*({id:e,pageId:t}){try{return yield db(e),{id:e,pageId:t}}catch(s){throw new Error("Не удалось скрыть уведомление")}}),{name:"clearNotificationByIdFx",sid:"-v4rocq"}),$o=J(()=>P(void 0,null,function*(){try{yield ab(),yield pb()}catch(e){throw new Error("Не удалось скрыть все уведомления")}}),{name:"clearAllNotificationsFx",sid:"dcnyq1"}),SE=e=>{e&&Ht.changeNotifications({page:e,notifications:0})},Mf=I({name:"add",sid:"-eov218"}),Ff=I({name:"initialize",sid:"-j7l3mt"}),$f=I({name:"clearVisibleById",sid:"lf4j9i"}),Bf=I({name:"clearById",sid:"-i31gev"}),Hf=I({name:"clearAll",sid:"-hptkle"}),Uf=I({name:"clearAllVisible",sid:"-ve9fx1"}),xe=M(_E,{name:"$lkNotificationsStore",sid:"smdgrx"}).reset(se.userGuid),IE=us.notifications.data.map(e=>e?e.map(t=>Hr("allowance",t.notificationId,ZT[t.notificationType],t.message,jE(t),t.notificationType)):[]);Zn({and:{from:Ff,to:Mo},or:{sid:"-3ups9"}});y({and:[{clock:[Mo.pending,us.notifications.loading],source:xe,fn:(e,t)=>T(b({},e),{loading:t}),target:xe}],or:{sid:"-1njet"}});y({and:[{clock:Mo.failData,source:xe,fn:(e,t)=>T(b({},e),{error:t.message}),target:xe}],or:{sid:"euae1"}});y({and:[{clock:[Mo.doneData,IE],source:xe,fn:(e,t)=>T(b({},e),{notifications:[...t,...e.notifications],visibleNotifications:[...e.visibleNotifications,...t].slice(0,2),error:null,loaded:!0}),target:[xe,kE]}],or:{sid:"vc46v"}});y({and:[{clock:Mf,source:xe,fn:(e,t)=>({notifications:[...e.notifications,t],visibleNotifications:[...e.visibleNotifications,t]}),target:[xe,CE]}],or:{sid:"1dhbrs"}});Zn({and:{from:Bf,to:Fo},or:{sid:"1tz5km"}});y({and:[{clock:Fo.doneData,source:xe,fn:(a,{id:s,pageId:o})=>{var r=a,{notifications:e,visibleNotifications:t}=r,i=lt(r,["notifications","visibleNotifications"]);return SE(o),T(b({},i),{notifications:e.filter(l=>l.id!==s),visibleNotifications:t.filter(l=>l.id!==s)})},target:xe}],or:{sid:"27q0en"}});y({and:[{clock:Fo.failData,source:xe,fn:(e,t)=>T(b({},e),{removeNotificationError:t.message}),target:xe}],or:{sid:"35t971"}});y({and:[{clock:Fo.pending,source:xe,fn:(e,t)=>T(b({},e),{removeNotificationLoading:t}),target:xe}],or:{sid:"3areja"}});Zn({and:{from:Hf,to:$o},or:{sid:"3r98c4"}});y({and:[{clock:$o.pending,source:xe,fn:(e,t)=>T(b({},e),{clearAllLoading:t,clearAllError:null}),target:xe}],or:{sid:"e2y5g8"}});y({and:[{clock:$o.failData,source:xe,fn:(e,t)=>T(b({},e),{clearAllError:t.message}),target:xe}],or:{sid:"ejzruf"}});y({and:[{clock:$o.doneData,source:xe,fn:e=>T(b({},e),{notifications:[],visibleNotifications:[]}),target:xe}],or:{sid:"f0hln9"}});y({and:[{clock:$f,source:xe,fn:(o,s)=>{var a=o,{notifications:e,visibleNotifications:t}=a,i=lt(a,["notifications","visibleNotifications"]);return T(b({},i),{notifications:e,visibleNotifications:t.filter(r=>r.id!==s)})},target:xe}],or:{sid:"fhj81g"}});y({and:[{clock:Uf,source:xe,fn:i=>{var s=i,{notifications:e}=s,t=lt(s,["notifications"]);return T(b({},t),{notifications:e,visibleNotifications:[]})},target:xe}],or:{sid:"g0s0t3"}});const TE=()=>ye(xe),Jn={initialize:Ff,add:Mf,clearById:Bf,clearVisibleById:$f,clearAll:Hf,clearAllVisible:Uf},rn={useLkNotifications:TE},A3=u.header.withConfig({componentId:"sc-1u9gu2r-0"})(["width:100%;padding-top:100px;position:relative;margin:0 auto;display:flex;flex-direction:column;align-items:center;color:var(--text);svg{min-width:30px;}@media (max-width:1000px){padding:auto;display:flex;align-items:center;justify-content:center;& > .info{display:none;}}"]);u.div.withConfig({componentId:"sc-1u9gu2r-1"})(["width:",";height:",";border-radius:",";position:absolute;top:",";left:",";z-index:-1;box-shadow:0 0 10px #00000003;background-color:",";"],({width:e})=>e+"px",({height:e})=>e+"px",({borderRadius:e})=>e+"px",({top:e})=>e+"%",({left:e})=>e+"%",({color:e})=>e);const D3=u.div.withConfig({componentId:"sc-1u9gu2r-2"})(["width:100%;display:flex;gap:10px;flex-wrap:wrap;a{width:calc(50% - 5px);}button{font-size:0.7rem;span{margin-top:8px;margin-bottom:-8px;}}@media (max-width:1000px){flex-wrap:nowrap;button{height:42px;}}"]),EE=u.div.withConfig({componentId:"sc-1u9gu2r-3"})(["min-width:",";height:",";display:flex;align-items:center;justify-content:center;border-radius:100%;color:#fff;background:",";@media (max-width:1000px){background:none;color:var(--text);}"],({width:e})=>e!=null?e:"35px",({width:e})=>e!=null?e:"35px",({background:e})=>e!=null?e:"var(--almostTransparent)"),N3=u.div.withConfig({componentId:"sc-1u9gu2r-4"})(["margin-bottom:15px;height:fit-content;width:100%;text-align:center;display:flex;flex-direction:column;justify-content:flex-end;gap:4px;b{font-size:1.2rem;}@media (max-width:1000px){& > .info{display:none;}}"]),O3=u.div.withConfig({componentId:"sc-1u9gu2r-5"})(["margin-top:50px;width:100%;"]),L3=u.div.withConfig({componentId:"sc-1u9gu2r-6"})(["display:flex;gap:12px;align-items:center;width:100%;max-width:750px;@media (max-width:1000px){flex-direction:column;}"]),z3=u(Gt).withConfig({componentId:"sc-1u9gu2r-7"})(["padding:12px;position:relative;@media (max-width:1000px){max-width:100%;}"]),R3=u.div.withConfig({componentId:"sc-1u9gu2r-8"})(["position:absolute;left:50%;top:-30%;transform:translateX(-50%);"]),Vs=I({name:"switchTheme",sid:"ifl5mr"});y({and:[{clock:Vs,source:ve.userSettings,filter:e=>!!e,fn:(e,{isDark:t})=>({appearance:T(b({},e.appearance),{theme:t?Fe.Dark:Fe.Light})}),target:Qe.update}],or:{sid:"-bn10vc"}});const Wf=({type:e,onClick:t})=>{const i=H(ve.userSettings),o=(i==null?void 0:i.appearance.theme)===Fe.Light,a=o?n.jsx(Mx,{}):n.jsx(Fx,{}),l=`Тема: ${o?"Светлая":"Темная"}`,c=()=>{Vs({isDark:o}),t==null||t()};return e==="toggle"?n.jsx(We,{title:"Темная тема",state:!o,action:p=>Vs({isDark:p})}):e==="h-button"?n.jsx(S,{text:l,background:"var(--block)",icon:a,width:"100%",align:"left",onClick:c}):n.jsx(S,{padding:"0",background:C.white.transparent2,icon:n.jsx(EE,{width:"30px",background:C.green.main,children:a}),onClick:c,text:l,width:"calc(50% - 5px)",height:"73px",direction:"vertical",shrinkTextInMobile:!0})},PE=({quantity:e=1,avatarShape:t="circle"})=>n.jsx(N,{d:"column",gap:"20px",children:Array(e).fill(0).map((i,s)=>n.jsxs(N,{gap:"16px",ai:"center",children:[n.jsx(ne,{shape:t,size:{width:"40px",height:"40px"},margin:"0"}),n.jsxs(N,{gap:"8px",d:"column",ai:"flex-start",jc:"center",h:"100%",children:[n.jsx(ne,{shape:"rect",size:{width:"90%",height:"13px"},margin:"0"}),n.jsx(ne,{shape:"rect",size:{width:"70%",height:"10px"},margin:"0"})]})]},s))});function Ta(e,t){return e.length>t?`${e.substr(0,t)}...`:e}const AE="3.15.4",Gf=()=>n.jsx(ce,{icon:null,type:"info",title:AE,width:"38px",fontSize:"0.65rem",padding:"7px 0px",align:"center"}),ct=({color:e,children:t})=>n.jsx(Nt,{color:e,children:t}),DE=()=>({info:n.jsx(ct,{color:"grey",children:n.jsx(Tt,{})}),message:n.jsx(ct,{color:"red",children:n.jsx(Ns,{})}),alert:n.jsx(ct,{color:"purple",children:n.jsx(Gc,{})}),"payment-dorm":n.jsx(ct,{color:"green",children:n.jsx(Xt,{})}),"payment-ed":n.jsx(ct,{color:"green",children:n.jsx(Xt,{})}),"digital-services":n.jsx(ct,{color:"red",children:n.jsx(F,{})}),"doc-for-review":n.jsx(ct,{color:"blue",children:n.jsx(F,{})}),"hr-applications":n.jsx(ct,{color:"green",children:n.jsx(F,{})}),"kpi-pps":n.jsx(ct,{color:"pink",children:n.jsx(sa,{})}),schedule:n.jsx(ct,{color:"pink",children:n.jsx(sn,{})}),"version-update":n.jsx(Gf,{}),"electronic-interaction":n.jsx(ct,{color:"blue",children:n.jsx(Vc,{})}),allowance:n.jsx(ct,{color:"orange",children:n.jsx(sa,{})})}),NE=u(de).withConfig({componentId:"sc-d358r5-0"})(["width:100%;display:flex;align-items:center;padding:4px;border-radius:var(--brLight);color:var(--text);cursor:pointer;.left-icon{width:fit-content;margin-right:12px;}.content{display:flex;flex-direction:column;width:100%;.top-content{width:100%;margin-top:2px;display:flex;align-items:center;}}&:hover{background:var(--theme-1t);}"]),OE=u.div.withConfig({componentId:"sc-d358r5-1"})(["font-size:",";font-weight:500;"],({fontSize:e})=>e),LE={small:"0.8rem",middle:"0.83rem",large:"0.85rem",big:"0.86rem"},zE={small:"0.75rem",middle:"0.78rem",large:"0.79rem",big:"0.80rem"},RE={small:"0px",middle:"1px",large:"2px",big:"3px"},Vf=({id:e,title:t,text:i,time:s,date:o,onClick:a,type:r,pageId:l,goTo:c,onClose:p,bottomMargin:f,closeAnimation:g=!0,loadingRemove:h=!1,canClose:m=!0,fullText:v=!0,maxLetters:w=200,size:x="middle"})=>{const j=he(o,"short"),{close:D}=K(),[_,A]=d.useState(!1),O=z=>{z.stopPropagation(),z.preventDefault(),g?(A(!0),setTimeout(()=>{p==null||p()},300)):p==null||p()},X=()=>{a==null||a(),m&&Jn.clearById({id:e,pageId:l}),D()};return n.jsx(od,{forceState:!_,bottomMargin:f,children:n.jsxs(NE,{to:c!=null?c:"",onClick:X,children:[n.jsx("span",{className:"left-icon",children:DE()[r]}),n.jsxs("div",{className:"content",children:[n.jsx(pe,{fontSize:"0.7rem",children:n.jsx(xt,{words:[j!=null?j:"",s!=null?s:""]})}),n.jsxs(N,{d:"column",gap:RE[x],ai:"flex-start",children:[n.jsx(OE,{fontSize:LE[x],children:v?t:Ta(t,w)}),n.jsx(pe,{fontSize:zE[x],children:v?i:Ta(i,w)})]})]}),p&&n.jsx(S,{isActive:!(h&&_),icon:n.jsx(Ut,{}),background:"var(--theme-2)",onClick:O,style:{borderRadius:"20px"}})]})})},qf=({notifications:e,loadingRemove:t})=>{if(!e||e.length===0)return null;const i=(o,a,r)=>()=>{Jn.clearById({id:o,pageId:a}),r==null||r()},s=o=>o.canClose!==!1?i(o.id,o.pageId,o.onClose):void 0;return n.jsx(N,{d:"column",children:e.map((o,a)=>d.createElement(Vf,T(b({size:"big",loadingRemove:t,bottomMargin:a!==e.length-1},o),{key:o.id,onClose:s(o)})))})},ME=u.div.withConfig({componentId:"sc-dixzet-0"})(["display:flex;flex-direction:column;gap:8px;width:100%;height:100%;@media (min-width:1001px){width:100%;min-width:400px;}"]),FE=({maxNotificationsVisible:e})=>{const{error:t,loading:i,notifications:s,removeNotificationError:o,removeNotificationLoading:a}=rn.useLkNotifications();return d.useEffect(()=>{o&&Y.evokePopUpMessage({type:"failure",message:o,time:1e4})},[o]),d.useEffect(()=>{Jn.clearAllVisible()},[]),n.jsxs(ME,{children:[s.length===0&&!i&&n.jsx(ri,{height:"100%",children:n.jsx(ke,{text:t!=null?t:"Нет новых уведомлений",image:t?n.jsx(wn,{}):n.jsx($x,{}),size:"70px"})}),n.jsxs(N,{d:"column",gap:"16px",children:[n.jsx(ce,{lineHeight:"1.2rem",type:"tip",visible:s.length!==0,children:"Вы можете отключить получение каких-либо уведомлений в настройках"}),n.jsx(qf,{notifications:e?s.slice(0,e):s,loadingRemove:a})]}),i&&n.jsx(PE,{quantity:10})]})},$E=u.div.withConfig({componentId:"sc-8qysjk-0"})(["position:relative;min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--brLight);&:hover{background:var(--theme-1t);}svg{width:22px;height:22px;color:var(--text);}"]),Yf=()=>{const{close:e}=K(),{notifications:t}=rn.useLkNotifications(),i=3;return n.jsxs(N,{d:"column",gap:"30px",w:"100%",mw:"400px",children:[n.jsxs(N,{d:"column",gap:"16px",children:[n.jsx(FE,{maxNotificationsVisible:i}),n.jsxs(pe,{width:"100%",visible:t.length>i,children:["Еще ",t.length-i," ",Dp(t.length-i,{one:"уведомление",twoToFour:"уведомления",fiveToNine:"уведомлений",zero:"уведомлений"}),"..."]})]}),t.length>0&&n.jsx(de,{to:Cm,style:{width:"100%"},children:n.jsx(S,{width:"100%",text:"Показать все",onClick:e})})]})},BE=({forwardedRef:e})=>{const{notifications:t}=rn.useLkNotifications(),{open:i}=K(),s=()=>{i(n.jsx(Yf,{}),"Уведомления")};return n.jsxs($E,{ref:e,onClick:s,children:[n.jsx(Sn,{outline:"none","box-shadow":"0px 0px 0px 3px var(--block)",color:"red",top:"14px",left:"30px",visible:t.length>0,pulsing:!0,className:"notification-circle",shadow:!0,children:t.length>10?"10+":t.length}),n.jsx(no,{})]})},HE=u.div.withConfig({componentId:"sc-1vrx07f-0"})(["position:relative;"]),Qf=()=>{const{open:e}=K(),{notifications:t}=rn.useLkNotifications(),i=()=>Ke.close(),s=()=>{it.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:fe.logout}),i()},o=()=>{Ke.close(),e(n.jsx(Ig,{}),"Что нового")},a=()=>{e(n.jsx(Yf,{}),"Уведомления"),Ke.close()};return n.jsxs(n.Fragment,{children:[n.jsx(TA,{padding:"8px",size:"small"}),n.jsx(_e,{}),n.jsx(Wf,{type:"h-button"}),n.jsx(_e,{}),n.jsx(de,{to:Zr,children:n.jsx(S,{text:"Профиль",background:"var(--block)",icon:n.jsx(qc,{}),width:"100%",align:"left",onClick:i,padding:"10px"})}),n.jsxs(HE,{children:[n.jsx(S,{onClick:a,icon:n.jsx(no,{}),text:"Уведомления",width:"100%",background:"var(--block)",align:"left",padding:"10px"}),n.jsx(Sn,{visible:t.length>0,top:"50%",right:"0px",pulsing:!0,shadow:!0,children:t.length})]}),n.jsx(de,{to:Je,children:n.jsx(S,{text:"Настройки",background:"var(--block)",icon:n.jsx(Fa,{}),width:"100%",align:"left",onClick:i,padding:"10px"})}),n.jsx("a",{href:`${q}/index.php`,children:n.jsx(S,{text:"Старый дизайн",icon:n.jsx(eo,{}),width:"100%",background:"var(--block)",align:"left",padding:"10px"})}),n.jsx(_e,{}),n.jsx(S,{align:"left",icon:n.jsx(Yc,{}),onClick:s,text:"Выйти",width:"100%",background:"var(--block)",padding:"10px"}),n.jsx(_e,{}),n.jsx(S,{align:"left",icon:n.jsx(Gf,{}),onClick:o,text:"Что нового",width:"100%",background:"var(--block)",padding:"10px"})]})},UE=()=>{const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?"iOS":e.search("Mac")!==-1?"MacOS":e.search("X11")!==-1&&e.search("Linux")===-1?"UNIX":e.search("Linux")!==-1&&e.search("X11")!==-1?"Linux":/android/i.test(e)?"Android":"Windows"},ea=new Set,Jf=(e,t)=>{d.useEffect(()=>{const i=o=>{if(!e.length)return;ea.add(o.which),!e.slice(0,e.length-1).find(r=>!ea.has(r))&&e[e.length-1]===o.which&&(o.preventDefault(),t())},s=o=>{ea.delete(o.which)};return window.addEventListener("keydown",i),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",s)}},[])},Kf=(e,t)=>Object.values(t).reduce((i,s)=>{var o;return(Ge(s.title).includes(Ge(e))||(o=s==null?void 0:s.keywords)!=null&&o.find(a=>Ge(a).includes(Ge(e))))&&(i[s.id]=s),i},{}),WE=u.div.withConfig({componentId:"sc-176qinm-0"})(["display:flex;flex-direction:column;height:300px;@media (min-width:1001px){min-width:300px;width:300px;height:300px;}"]),GE=u(de).withConfig({componentId:"sc-176qinm-1"})(["width:100%;"]),tc=({division:e})=>{const{close:t}=K();return n.jsxs(WE,{children:[n.jsxs(N,{d:"column",gap:"12px",jc:"center",h:"100%",children:[n.jsx(Nt,{size:120,color:"purple",children:n.jsx(xi,{})}),n.jsx(pe,{fontSize:"1.2rem",align:"center",children:e})]}),n.jsx(GE,{to:`${hs}/${e}`,onClick:t,children:n.jsx(S,{icon:n.jsx(Ma,{}),width:"100%",text:"Список"})})]})},VE=({division:e})=>{const{data:{user:t}}=Pe.useUser(),i=(t==null?void 0:t.user_status)==="staff",{subdivisions:s}=H({subdivisions:vt.subdivisions});if(!i||!s)return n.jsx(tc,{division:e});const o=Pr(s,e),a=o&&o[0];return a?n.jsx(Yt,{title:a.name,info:Tr(a)}):n.jsx(tc,{division:e})},qE=u.div.withConfig({componentId:"sc-10ox46b-0"})(["width:100%;color:var(--text);padding:0px 16px;background:var(--theme-1t);border-radius:var(--brLight);cursor:pointer;svg{min-width:30px;}&:hover{background:var(--search);}"]),YE=({division:e})=>{const{open:t}=K(),i=()=>{t(n.jsx(VE,{division:e}),"Подразделение")};return n.jsx(qE,{onClick:i,children:n.jsxs(N,{gap:"8px",h:"50px",jc:"space-between",w:"100%",children:[n.jsxs(N,{gap:"8px",children:[n.jsx(xi,{}),n.jsx(pe,{fontSize:"1rem",children:e})]}),n.jsx(Pt,{})]})})},QE=({divisions:e})=>!e||e.length===0?null:n.jsx(N,{d:"column",gap:"4px",ai:"flex-start",children:e.map(t=>n.jsx(YE,{division:t},t))}),JE=u.div.withConfig({componentId:"sc-1lhycr1-0"})(["display:flex;flex-direction:column;height:300px;@media (min-width:1001px){min-width:300px;width:300px;height:300px;}"]),nc=u(de).withConfig({componentId:"sc-1lhycr1-1"})(["width:100%;"]),Ur=({group:e})=>{const{close:t}=K();return n.jsxs(JE,{children:[n.jsxs(N,{d:"column",gap:"12px",jc:"center",h:"100%",children:[n.jsx(Nt,{size:120,color:"lightBlue",children:n.jsx(io,{})}),n.jsx(pe,{fontSize:"1.2rem",children:e})]}),n.jsxs(N,{d:"column",gap:"8px",children:[n.jsxs(N,{gap:"8px",children:[n.jsx(nc,{to:cs(ci,{page:"current",filter:e}),children:n.jsx(S,{icon:n.jsx(sn,{}),width:"100%",text:"Расписание",background:"var(--theme-4)",onClick:t})}),n.jsx(nc,{to:`${vm}/${e}`,children:n.jsx(S,{icon:n.jsx(Ma,{}),width:"100%",text:"Список",background:"var(--theme-4)",onClick:t})})]}),n.jsx(Lo,{group:e})]})]})},KE=u.div.withConfig({componentId:"sc-9pglgy-0"})(["width:100%;color:var(--text);padding:0px 16px;background:var(--theme-1t);border-radius:var(--brLight);cursor:pointer;svg{min-width:30px;}&:hover{background:var(--search);}"]),XE=({group:e})=>{const{open:t}=K(),i=()=>{t(n.jsx(Ur,{group:e}),"Группа")};return n.jsx(KE,{onClick:i,children:n.jsxs(N,{gap:"8px",h:"50px",jc:"space-between",w:"100%",children:[n.jsxs(N,{gap:"8px",h:"50px",children:[n.jsx(io,{}),n.jsx(pe,{fontSize:"1rem",children:e})]}),n.jsx(Pt,{})]})})},ZE=({groups:e})=>e?n.jsx(N,{d:"column",gap:"4px",ai:"flex-start",children:e.map(t=>n.jsx(XE,{group:t},t))}):null,ta=[{title:"Инструкции",links:[{link:q+"/storage/files/instruction_business_trip_docs.docx",title:"Инструкция для командируемых работников",icon:""},{link:q+"/storage/files/Instruktsiya_po_podkljucheniju_k_VPN.pdf",title:"Как самостоятельно подключиться к VPN",icon:"https://icon-library.com/images/vpn-icon-png/vpn-icon-png-18.jpg"},{link:q+"/storage/files/Osnaschenie_auditorij_Wi-Fi_i_proektorami.pdf",title:"Сведения об оснащении аудиторий проекторами и WiFi",icon:"https://iconsplace.com/wp-content/uploads/_icons/fa8072/256/png/wifi-icon-15-256.png"},{link:q+"/storage/files/Instruktsiya_po_sozdaniju_videozapisi_ekzamenov__provodimyh_v_onlajn-formate_4.pdf",title:"КАК СДЕЛАТЬ ВИДЕОЗАПИСЬ ЭКЗАМЕНА (WEBEX, TEAMS)",icon:"https://lh3.googleusercontent.com/-fISFqYToaYY/YNMY2EpjZuI/AAAAAAAAAqI/vBY0kGYsLf0EuJPV-jv5TXMtxkAfdm0twCLcBGAsYHQ/s400/128x128%2BCisco%2BWebex.png"},{link:q+"/storage/files/Instruktsiya_po_ispolzovaniju_Servisa_Pechati.pdf",title:"Как использовать сервис печати",icon:"https://freeiconshop.com/wp-content/uploads/edd/print-flat.png"},{link:q+"/storage/files/Instruktsiya_dostupa_k_internetu_v_auditoriyah.pdf",title:"Как подключиться к WiFi в аудитории",icon:"https://iconsplace.com/wp-content/uploads/_icons/fa8072/256/png/wifi-icon-15-256.png"},{link:q+"/storage/files/Instruktsiya_dlya_podkljucheniya_k_proektoru_.pdf",title:"Как подключиться к проектору",icon:"https://freeiconshop.com/wp-content/uploads/edd/print-flat.png"},{link:q+"/storage/files/Instruktsiya_po_zapolneniju_sposoba_distantsionnogo_provedeniya_zanyatij_v3.pdf",title:"Как внести webinar в расписание",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya_po_obnovleniju_kontaktnyh_dannyh_prepodavatelej.pdf",title:"Как изменить контакты ППС в расписании",icon:"https://icons.iconarchive.com/icons/wikipedia/flags/256/RU-Russia-Flag-icon.png"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как пользоваться курсом в LMS",icon:"https://online.mospolytech.ru/theme/opentechnology/pix/favicon.ico"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как дать доступ студентам на курс в LMS",icon:"https://online.mospolytech.ru/theme/opentechnology/pix/favicon.ico"},{link:q+"/storage/files/Dostup_rabotnikov_k_oblachnym_servisam_Microsoft.pdf?1",title:"Доступ к облачным сервисам Microsoft",icon:"https://cdn.icon-icons.com/icons2/195/PNG/256/Microsoft_23401.png"},{link:q+"/storage/files/Rabota_PPS_v_Microsoft_Teams.pdf?1",title:"Как пользоваться Office365 и Teams для онлайн-траснляций и проектной работы",icon:"https://pcprogs.net/uploads/posts/2021-08/1627783088_microsoft-office-2021-icon.png"},{link:q+"/storage/files/Ispolzovanie_rabotnikami_Microsoft_OneDrive_v_Moskovskom_Politehe.pdf?1",title:"Доступ к Microsoft OneDrive для работников и обучающихся Московского Политеха",icon:"https://cdn.iconscout.com/icon/free/png-256/onedrive-9-1174819.png"},{link:"https://webinar.ru/blog/wp-content/uploads/2020/08/Metodichka_Webinar_na_200.pdf",title:"Как проводить вебинары",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:"https://www.youtube.com/watch?v=fcCS20ogo6E&feature=youtu.be&ab_channel=%D0%9C%D0%BE%D1%81%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9%D0%9F%D0%BE%D0%BB%D0%B8%D1%82%D0%B5%D1%85",title:"Как использовать вебинар на занятиях (краткая видеоинструкция)",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya_po_nastrojke_chata_vebinara.pdf",title:"Как настроить чат вебинара",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Gde_najti_kovorkingi_-_tam_est_WiFi__stoly__pufy_i_rozetki.pdf",title:"Практикумы Webinar - как проводить вебинары (видеоинструкции)",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya_po_polucheniju_videozapisi_provedennogo_Vebinara.pdf",title:"Как получить запись прошедшего webinar",icon:"https://webinar.ru/themes/webinar-main/assets2021/img/favicon.ico"},{link:q+"/storage/files/Instruktsiya__videozapis_lektsij.pdf",title:"Как записать видеолекцию",icon:"https://cdn.iconscout.com/icon/free/png-256/circle-geometric-red-round-37922.png"},{link:q+"/storage/files/Instruktsiya_po_sozdaniju_videozapisi_ekzamenov__provodimyh_v_onlajn-formate_4.pdf",title:"Как сделать видеозапись экзамена (Webex, Teams)",icon:"https://lh3.googleusercontent.com/-fISFqYToaYY/YNMY2EpjZuI/AAAAAAAAAqI/vBY0kGYsLf0EuJPV-jv5TXMtxkAfdm0twCLcBGAsYHQ/s400/128x128%2BCisco%2BWebex.png"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Как пользоваться внешними ЭБС",icon:"https://cdn-icons-png.flaticon.com/128/2232/2232688.png"},{link:q+"/storage/files/Dostup_k_sisteme_Antiplagiat.pdf",title:"Как получить доступ к системе Антиплагиат",icon:"https://www.antiplagiat.ru/favicon-1069bb8b8557d91de9974904a33270de.ico"},{link:"https://online.mospolytech.ru/enrol/index.php?id=44",title:"Инструкция по работе преподавателя с Антиплагиат (видео)",icon:"https://www.antiplagiat.ru/favicon-1069bb8b8557d91de9974904a33270de.ico"}]},{title:"Приказы",links:[{link:q+"/storage/files/orders_staff/Prikaz_o_sozdanii_ekspertnoj_komissii.pdf",title:"Приказ по основной деятельности от 29.04.2021 № 467-ОД «О создании экспертной комиссии»",icon:ge},{link:q+"/storage/files/Prikaz_po_osnovnoj_deyatelnosti_No_0793-OD_ot_02_09_2021_O_provedenii_obschih_sobranij_i_konferentsii_(2145965_v3).PDF",title:"Приказ от 02.09.2021 № 793-ОД «О проведении общих собраний и конференции»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_o_vnesenii_izmenenij_v_sostav_konkursnoj_komissii_ot_31_01_2020.PDF",title:"Приказ по основной деятельности от 31.01.2020 № 159-ОД «О внесении изменений в состав конкурсной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_ob_utverzhdenii_perechnya_dolzhnostej_rabotnikov_s_nenormirovannym_rabochim_dnem_No_0441-OD_ot_18_03_2020.pdf",title:"Приказ по основной деятельности от 18.03.2020 № 441-ОД «Об утверждении перечня должностей работников с ненормированным рабочим днем»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0157-OD_ot_31_01_2020_O_vnesenii_izmenenij_v_sostav_Attestatsionnoj_komissii_(1450119_v1).PDF",title:"Приказ по основной деятельности от 31.01.2020 № 157-ОД «О внесении изменений в состав аттестационной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0381-OD_ot_29_05_2019_O_vnesenii_izmenenij_v_sostav_Konkursnoj_komissii_(1216181_v2).PDF",title:"Приказ по основной деятельности от 29.05.2019 № 381-ОД «О внесении изменений в состав конкурсной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_Prikaz_po_tabelju_(1411371_v2).pdf",title:"Приказ по основной деятельности от 13.12.2019 № 1443-ОД «О своевременном предоставлении табеля учета использования рабочего времени»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0034-OD_ot_25_01_2018_o_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(710601_v2).pdf",title:"Приказ по основной деятельности от 25.01.2018 № 34-ОД «О внесении изменений в состав аттестационной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0381-OD_ot_20_06_2018_O_sozdanii_konkursnoj_komissii_(807541_v2).pdf",title:"Приказ по основной деятельности от 20.06.2018 № 381-ОД  «О внесении изменений в состав конкурсной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0507-OD_ot_14_06_2017_o_vnesenii_izmenenij_v_sostav_konkursnoj_komissii_(600355_v2).PDF",title:"Приказ по основной деятельности от 14.06.2017 № 507-ОД «О внесении изменений в состав конкурсной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_0625-OD_ot_13_08_2018_O_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(840701_v2).pdf",title:"Приказ по основной деятельности от 13.08.2018 № 625-ОД «О внесении изменений в состав аттестационной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_1129-OD_ot_22_11_2018_O_vnesenii_izmenenij_v_sostav_attestatsionnoj_komissii_(939494_v4).PDF",title:"Приказ по основной деятельности от 22.11.2018 № 1129-ОД «О внесении изменений в состав аттестационной комиссии»",icon:ge},{link:q+"/storage/files/orders_staff/Prikaz_po_osnovnoj_deyatelnosti_No_1210-OD_ot_17_12_2018_O_vnesenii_izmenenij_v_sostav_Konkursnoj_komissii_(950151_v2).pdf",title:"Приказ по основной деятельности от 17.12.2018 № 1210-ОД «О внесении изменений в состав конкурсной комиссии»",icon:ge}]},{title:"Положения",links:[{link:q+"/storage/files/Polozhenie_o_materialnoj_otvetstvennosti_rabotnikov_Moskovskogo_Politeha.pdf",title:"Положение о материальной ответственности работников Московского Политеха",icon:ge},{link:q+"/storage/files/stats/Polozhenie_o_poryadke_zamescheniya_dolzhnostej_PPS_(2005001_v1).pdf",title:"Положение о порядке замещения должностей ППС",icon:ge},{link:q+"/storage/files/stats/Polozhenie_o_sisteme_otbora_kandidatov__PPS.pdf",title:"Положение о системе отбора кандидатов ППС",icon:ge},{link:q+"/storage/files/stats/Kodeks_etiki_i_sluzhebnogo_povedeniya_(355118_v2).pdf",title:"Кодекс этики и служебного поведения работников",icon:ge},{link:q+"/storage/files/stats/polozhenie_o_dk_2017.pdf",title:"Положение о дисциплинарной комиссии по обучающимся",icon:ge},{link:q+"/storage/files/stats/Polozhenie_o_komissii_po_upravleniju_RID_(1242395_v2).pdf",title:"Положение о комиссии по управлению правами на результаты интеллектуальной деятельности",icon:ge},{link:q+"/storage/files/stats/Polozhenie_o_poryadke_provedeniya_attestatsii_rabotnikov__zanimajuschih_dolzhnosti_professorsko-prepodavatelskogo_sostava.pdf",title:"Положение о порядке проведения аттестации работников, занимающих должности профессорско-преподавательского состава",icon:ge},{link:q+"/storage/files/stats/Polozhenie_ob_antikorruptsionnoj_politike_No_0498-OD_ot_06042020.PDF",title:"Положение об антикоррупционной политике",icon:ge},{link:q+"/storage/files/stats/Polozhenie_ob_attestatsii_rabotnikov___(674754_v2).pdf",title:"Положение о порядке проведения аттестации работников",icon:ge},{link:q+"/storage/files/stats/Polozhenie_ob_otpuskah_(Novyj)_(686482_v1).pdf",title:"Положение о порядке предоставления отпусков работникам",icon:ge},{link:q+"/storage/files/stats/Polozhenie_v_otnoshenii_obrabotki_personalnyh_dannyh__(377893_v2_).pdf",title:"Положение об обработке и защите персональных данных",icon:ge},{link:q+"/storage/files/stats/Polozheniya_o_protsedure_izbraniya_vyborov_dekanov_fakultetov_i_zavedujuschih_kafedrami_(643622_v1).PDF",title:"Положение о процедуре избрания деканов факультетов и заведующих кафедрами",icon:ge},{link:q+"/storage/files/stats/Polozhenie_ob_Uchenom_sovete_Prikaz_No_0682-OD_ot_05_06_2020.PDF",title:"Положение об Ученом совете",icon:ge},{link:q+"/storage/files/stats/Prikaz_po_osnovnoj_deyatelnosti_No_2257-OD_ot_08_12_2020_Ob_utverzhdanii_LNA__regulirujuschie_sotsialno-trudovye_otn_(1830969_v4).pdf",title:"Локальные нормативные акты, регулирующие социально-трудовые отношения",icon:ge},{link:q+"/storage/files/stats/Poryadok_oformleniya_pochasovoj_oplaty.pdf",title:"Порядок оформления почасовой оплаты",icon:ge}]}];var et=(e=>(e.information="information",e.instructions="instructions",e.courses="courses",e.security="security",e.orders="orders",e.regulations="regulations",e))(et||{});const fi={information:"Общая",instructions:"Инструкции",courses:"Курсы",security:"Безопасность",orders:"Приказы",regulations:"Положения"},eP=[{id:et.information,title:fi[et.information],visible:"all",content:[{title:"Учёба",links:[{title:"Промежуточная аттестация",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Vremennoe_polozhenie_o_provedenii_tekuschego_kontrolya_uspevaemosti_i_promezhutochnoj_attestatsii_obuchajuschihsya_v_usloviyah_obespecheniya_rezhima_izolyatsii_v_tselyah_predotvrascheniya_rasprostraneniya_koronavirusnoj_infektsii.pdf"},{title:"Оплата обучения",visible:"student",href:"https://mospolytech.ru/obuchauschimsya/oplata-obucheniya/?sphrase_id=311027"},{title:"Программы дополнительного профессионального образования",visible:"all",href:"https://study.mospolytech.ru/dpo"},{title:"Международные программы",visible:"student",href:"https://mospolytech.ru/mejdunarodnaya-deyatelnost/mezhdunarodnye-stazhirovki/"},{title:"Дополнительное образование",visible:"student",href:"https://mospolytech.ru/dop-obrazovanie/povyshenie-kvalifikacii-i-professionalnaya-perepodgotovka/"},{title:"Электронная библиотека Московского Политеха",visible:"staff",href:"https://online.mospolytech.ru/course/view.php?id=7621"},{title:"Библиотечно-информационный центр",visible:"all",href:"https://new.mospolytech.ru/obuchauschimsya/biblioteka/"},{title:"Электронный каталог библиотеки Электростальского института",visible:"all",href:"http://lib.elpol.ru"},{title:"Образовательные программы",visible:"all",href:"https://mospolytech.ru/sveden/education/educationplan/"}]},{title:"Воинский учёт",visible:"student",links:[{title:"Военнообязанным и призывникам",visible:"student",href:"https://mospolytech.ru/obuchauschimsya/voennoobyazannym-i-prizyvnikam/"},{title:"Единый пункт призыва",visible:"student",href:"https://www.mos.ru/city/projects/prizyv/"}]},{title:"Общежития",links:[{title:"Правила внутреннего распорядка в студенческом городке",visible:"all",href:"https://mospolytech.ru/upload/medialibrary/c01/Pravila-vnutrennego-rasporyadka-v-studencheskom-gorodke-Moskovskogo-Polytecha-(23092022).pdf"}]},{title:"Наука",links:[{title:"Анонсы научных мероприятий",visible:"all",href:"https://mospolytech.ru/nauchnaya-deyatelnost/obyavleniya/"},{title:"Как получить патент",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Uvedomlenie_o_sozdanii_RID_(standartnoe).docx"},{title:"Рекомендации по использованию Scopus для подготовки отчетности о результатах публикационной активности организации",visible:"all",href:"https://www.elsevier.com"},{title:"Список низкорейтинговых журналов",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Discontinued-sources-from-Scopus.xlsx"},{title:"SciVal онлайн-платформа для мониторинга и анализа международных научных исследований",visible:"all",href:"https://www.scival.com/landing"},{title:"Студенческое научно-техническое общество",visible:"staff",href:"http://snto.mospolytech.ru"}]},{title:"Внеучебная деятельность",links:[{title:"Спортивная деятельность",visible:"student",href:"https://mospolytech.ru/studencheskaya-zhizn/sportivnaya-deyatelnost/"},{title:"Расписание спортивных секций",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Sportivnye_Sektsii_Mospoliteha.pdf"},{title:"Студенческая жизнь",visible:"student",href:"https://mospolytech.ru/studencheskaya-zhizn/o-studencheskoy-jizni/?sphrase_id=311039"},{title:"Профорганизация",visible:"all",href:"https://profkommospolytech.ru"},{title:"Студенческое научно-техническое общество",visible:"student",href:"http://snto.mospolytech.ru"},{title:"Формула Студент",visible:"all",href:"http://fdr.mospolytech.ru"},{title:"Медицинское обслуживание",visible:"all",href:"https://mospolytech.ru/studencheskaya-zhizn/medical-help/medicinskaya-slujba/"},{title:"Центр подготовки водителей (автошкола)",visible:"student",href:"https://mospolytech.ru/dop-obrazovanie/avtoshkola/"},{title:"Яхт-клуб",visible:"all",href:"https://mospolytech.ru/studencheskaya-zhizn/sportivnaya-deyatelnost/yaht-klub/"},{title:"Многофункциональный центр",visible:"all",href:"https://mospolytech.ru/obuchauschimsya/mnogofunkcionalnyy-centr/"}]}]},{id:et.instructions,title:fi[et.instructions],visible:"all",content:[{title:"Инструкции",links:[{title:"Инструкция по получению логина и пароля единой учётной записи студентов первого курса",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/stud_login_instruction.pdf?1"},{title:"Как подключиться к городскому WiFi",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_podkljuchitsya_k_gorodskomu_WiFi.pdf"},{title:"Мобильное приложение Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/MP_mobile_app_instruction.pdf"},{title:"График выбора общежития",visible:"student",href:"https://mospolytech.ru/upload/files/Dormitory_select_2022.docx"},{title:"Памятка по действия в экстремальных ситуациях",visible:"student",href:"https://mospolytech.ru/upload/files/Pamyatka_ekstr_sit.docx"},{title:"Как пользоваться Office365 и Teams для онлайн-траснляций и проектной работы",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Rabota_obuchajuschihsya_v_Microsoft_Teams.pdf?1"},{title:"Доступ к облачным сервисам Microsoft",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Dostup_studentov_k_oblachnym_servisam_Microsoft.pdf?1"},{title:"Доступ к Microsoft OneDrive для обучающихся Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Ispolzovanie_studentami_Microsoft_OneDrive_v_Moskovskom_Politehe.pdf?1"},{title:"Как студенту получить доступ к курсу в LMS",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_studentu_poluchit_dostup_k_kursu_v_LMS.pdf"},{title:"Инструкция по использованию платного Сервиса Печати Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Instruktsiya_po_ispolzovaniju_Servisa_Pechati_Moskovskogo_Politeha_dlya_studentov_(2).pdf"},{title:"Информация для старост групп. Как вести трансляцию очных занятий для тех, кого нет в аудитории",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_vesti_translyatsii_zanyatij_dlya_nahodyaschihsya_za_predelami_RF.pdf"},{title:"Как смотреть трансляции занятий, находясь за пределами РФ",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Kak_smotret_translyatsii_zanyatij__nahodyas_za_predelami_RF(1).pdf"},{title:"How to watch lectures online (for the students located outside the Russian Federation)",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/BROADCASTING.pdf"},{title:"Где найти коворкинги - там есть WiFi, столы, пуфы и розетки",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Gde_najti_kovorkingi_-_tam_est_WiFi__stoly__pufy_i_rozetki.pdf"},...ta[0].links.map(e=>T(b({},e),{href:e.link,visible:"staff"}))]}]},{id:et.instructions,title:"Положения",visible:"all",content:[{title:"Положения",links:[{title:"Порядок предоставления каникул после прохождения итоговой аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Poryadok_predostavleniya_kanikul_posle_prohozhdeniya_itogovoj_attestatsii.pdf"},{title:"Положение о проектной деятельности обучающихся",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_proektnoj_deyatelnosti_obuchajuschihsya_(s_prilozheniyami).pdf"},{title:"Положение о комиссии по противодействию коррупции Московского Политеха",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_komissii_po_protivodejstviju_korruptsii_Moskovskogo_Politeha.pdf"},{title:"Положение о проведении текущего контроля успеваемости и промежуточной аттестации обучающихся в условиях обеспечения режима изоляции в целях предотвращения распространения коронавирусной инфекции",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_provedenii_tekuschego_kontrolya_uspevaemosti_i_promezhutochnoj_attestatsii_obuchajuschihsya_v_usloviyah_obespecheniya_rezhima_izolyatsii_v_tselyah_predotvrascheniya_rasprostraneniya_koronavirusnoj_infektsii.pdf"},{title:"Положение о проведении государственной итоговой аттестации с применением электронного обучения и ДОТ",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_provedenii_gosudarstvennoj_itogovoj_attestatsii_s_primeneniem_elektronnogo_obucheniya_i_DO.pdf"},{title:"Положение о комиссии по урегулированию споров между участниками образовательных отношений",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_komissii_po_uregulirovaniju_sporov.pdf"},{title:"Положение об организации образовательного процесса",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_ob_organizacii_obrazovatelnogo_processa.pdf"},{title:"Положение о дисциплинарной комиссии",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_distsiplinarnoj_komissii.pdf"},{title:"Положение о заполнении вакантных мест",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_zapolnenii_vakantnyh_mest.pdf"},{title:"Положение о порядке зачета результатов освоения обучающимися учебных дисциплин и практик при переводе, восстановлении, получении последующего образования",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_O_poryadke_zacheta_2023.pdf"},{title:"Положение о порядке оказания материальной поддержки нуждающимся обучающимся",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_poryadke_okazaniya_materialnoj_podderzhki_nuzhdajuschimsya_obuchajuschimsya.pdf"},{title:"Положение о порядке проведения государственной итоговой аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_poryadke_provedeniya_gosudarstvennoj_itogovoj_attestatsii.pdf"},{title:"Положение о стипендиальном обеспечении и других формах материальной поддержки",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_stipendialnom_obespechenii_i_drugih_formah_materialnoj_podderzhki.pdf"},{title:"Положение об освоении факультативных и элективных дисциплин",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_ob_osvoenii_fakultativnyh_i_elektivnyh_distsiplin.pdf"},{title:"Положение об обучении по индивидуальному учебному плану, в том числе об ускоренном обучении",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_ob_obuchenii_po_individualnomu_uchebnomu_planu__v_tom_chisle_ob_uskorennom_obuchenii.pdf?1"},{title:"Порядок подачи и рассмотрения апелляции о нарушении процедуры проведения государственного аттестационного испытания или несогласии с его результатами",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Poryadok_podachi_i_rassmotreniya_apellyatsii_o_narushenii_protsedury_provedeniya_gosudarstvennogo_attestatsionnogo_ispytaniya_ili_nesoglasii_s_ego_rezultatami.pdf"},{title:"Положение о промежуточной аттестации аспирантов",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_promezhutochnoj_attestatsii_aspirantov.pdf"},{title:"Положение о порядке проведения государственной итоговой аттестации по аспирантуре",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Polozhenie_o_poryadke_provedeniya_gosudarstvennoj_itogovoj_attestatsii_po_aspiranture.pdf"}]}]},{id:et.instructions,title:"Правила",visible:"all",content:[{title:"Правила",links:[{title:"Правила внутреннего распорядка в студенческом городке",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Pravila_vnutrennego_rasporyadka_v_studencheskom_gorodke.pdf"},{title:"Правила внутреннего распорядка обучающихся",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Pravila_vnutrennego_rasporyadka_obuchajuschihsya.pdf"},{title:"Приказ от 25.01.2021 № 89-ОД «Об изменении  Правил внутреннего распорядка обучающихся»",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Prikaz_ot_25_01_2021_No_89-OD_Ob_izmenenii_Pravil_vnutrennego_rasporyadka_obuchajuschihsya.pdf"}]}]},{id:et.instructions,title:"Бланки заявлений",visible:"student",content:[{title:"МФЦ",links:[{title:"Заявление в комиссию по урегулированию споров",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_v_komissiju_po_sporam_2022.pdf"},{title:"Заявление на апелляцию по  результатам ГИА",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_apellyatsiju_po_rezultatam_GIA.pdf"},{title:"Заявление на апелляцию по результатам  промежуточной аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_apellyatsiju_po_rezultatam_promezhutochnoj_attestatsii.pdf"},{title:"Заявление на восстановление студенческого билета,  зачетной книжки, удостоверения аспиранта",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_vosstanovlenie_studencheskogo_bileta__zachetnoj_knizhki__udostovereniya_aspiranta.pdf"},{title:"Заявление на выдачу документов о предыдущем  образовании",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_vydachu_dokumentov_o_predyduschem_obrazovanii.pdf?1"},{title:"Заявление  на предоставление академического отпуска",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_predostavlenie_akademicheskogo_otpuska.pdf?2"},{title:"Заявление на выход из академического отпуска",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_vyhod_iz_akademicheskogo_otpuska.pdf?2"},{title:"Заявление  на изменение персональных данных",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_izmenenie_personalnyh_dannyh.pdf"},{title:"Заявление  на отчисление",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_otchislenie.pdf?1"},{title:"Заявление на получение выписки из приказа",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_poluchenie_vypiski_iz_prikaza.pdf"},{title:"Заявление на продление промежуточной аттестации или ГИА",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_na_prodlenie_promezhutochnoj_attestatsii_ili_GIA.pdf"},{title:"Заявление на продление сроков повторной промежуточной аттестации",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_na_prodlenie_srokov_povtornoj_promezhutochnoj_attestatsii.pdf"},{title:"Заявление о переводе из группы в группу без  изменения направления, формы и основы обучения",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_o_perevode_iz_gruppy_v_gruppu_bez_izmeneniya_napravleniya__formy_i_osnovy_obucheniya.pdf"},{title:"Заявление  о перезачете дисциплин",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_o_perezachete_distsiplin.pdf"},{title:"Заявление о предоставлении каникул в связи с  окончанием университета",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_stud/Zayavlenie_o_predostavlenii_kanikul_v_svyazi_s_okonchaniem_universiteta.pdf"},{title:"Заявление о переводе на индивидуальный учебный план",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_o_perevode_na_individualnyj_uchebnyj_plan.pdf?2"},{title:"Заявление на пересдачу для получения диплома с отличием",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/Zayavlenie_na_peresdachu_dlya_polucheniya_diploma_s_otlichiem.pdf?1"}]},{title:"Общежитие",links:[{title:"Форма 1 - заявление о предоставлении права проживания в студгородке для обучающихся университета",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_1_-_zayavlenie_o_predostavlenii_prava_prozhivaniya_v_studgorodke_dlya_obuchajuschihsya_universiteta.pdf"},{title:"Форма 3 - заявление о предоставлении права проживания в изолированном жилом помещении для обучающихся университета",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_3_-_zayavlenie_o_predostavlenii_prava_prozhivaniya_v_izolirovannom_zhilom_pomeschenii_dlya_obuchajuschihsya_universiteta.pdf"},{title:"Форма 5 - заявление о расторжении договора найма жилого помещения и отмене права проживания в студгородке",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_5_-_zayavlenie_o_rastorzhenii_dogovora_najma_zhilogo_pomescheniya_i_otmene_prava_prozhivaniya_v_studgorodke.pdf"},{title:"Форма 6 - заявление о переселении из одного жилого помещения в другое",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_6_-_zayavlenie_o_pereselenii_iz_odnogo_zhilogo_pomescheniya_v_drugoe.pdf"},{title:"Форма 7 - заявление о временном проживании гостей в студгородке",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_7_-_zayavlenie_o_vremennom_prozhivanii_gostej_v_studgorodke_(1).pdf"},{title:"Форма 8 - заявление о проходе гостей на территорию студгородка",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_8_-_zayavlenie_o_prohode_gostej_na_territoriju_studgorodka.pdf"},{title:"Форма 9 - заявление о предоставлении права пользования жилым помещением и коммунальными услугами в студгородке бесплатно",visible:"student",href:"https://e.mospolytech.ru/old/storage/files/blanks_hostel/Forma_9_-_zayavlenie_o_predostavlenii_prava_polzovaniya_zhilym_pomescheniem_i_kommunalnymi_uslugami_v_studgorodke_besplatno.pdf"}]}]},{id:et.regulations,title:fi[et.regulations],visible:"staff",content:[{title:"Положения",links:[...ta[2].links.map(e=>T(b({},e),{href:e.link,visible:"staff"}))]}]},{id:et.orders,title:fi[et.orders],visible:"staff",content:[{title:"Приказы",links:[...ta[1].links.map(e=>T(b({},e),{href:e.link,visible:"staff"}))]}]},{id:et.courses,title:fi[et.courses],visible:"student",content:[{title:"Курсы",links:[{title:"Современного курсостроения",visible:"student",href:"https://project.lektorium.tv/howtomooc"}]}]}],Ea=(e,t)=>t.reduce((i,s)=>{const o=s.links.filter(a=>Ge(a.title).includes(Ge(e)));return o.length&&i.push({title:s.title,links:o}),i},[]),tP=u.div.withConfig({componentId:"sc-12syjwk-0"})(["width:calc(100% - 2px);padding:16px;margin:1px;border-radius:var(--brLight);background:var(--block-content);box-shadow:var(--block-shadow);padding:16px;a{font-size:0.95rem;}"]),Pa=({blocks:e,isStaff:t})=>e?n.jsx(n.Fragment,{children:e.map(({title:i,links:s,visible:o},a)=>o==="staff"&&!t||o==="student"&&t?null:n.jsxs(tP,{children:[n.jsx($,{size:4,align:"left",bottomGap:"16px",children:i}),n.jsx(Be,{gap:16,children:s.map(({title:r,href:l,visible:c},p)=>c==="staff"&&!t||c==="student"&&t?null:n.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:r},r+p))})]},i+a))}):null,qs=e=>Array.isArray(e)?e==null?void 0:e.length:Object.keys(e!=null?e:{}).length,Xf=(e,t)=>{const i=t.toLowerCase();if(e.length===0)return[];const s=[];return e.forEach(o=>{var r,l,c,p;((l=(r=o.head)==null?void 0:r.post)!=null&&l.toLowerCase().includes(i)||(p=(c=o.head)==null?void 0:c.fio)!=null&&p.toLowerCase().includes(i))&&s.push(o.head),o.staff.forEach(f=>{var g,h;((g=f.post)!=null&&g.toLowerCase().includes(i)||(h=f.fio)!=null&&h.toLowerCase().includes(i))&&s.push(f)});const a=Xf(o.subdivs,i);s.push(...a)}),Lu(s,"guid_person")},nP=({title:e,blocks:t,isStaff:i})=>{const[s,o]=d.useState(null);return n.jsxs(Be,{children:[n.jsx(fo,{placeholder:`Поиск по ${e}`,whereToSearch:t,searchEngine:Ea,setResult:o,validationCheck:!0}),n.jsx(Pa,{blocks:s!=null?s:t,isStaff:i}),(s==null?void 0:s.length)===0&&n.jsx(ke,{text:"Ничего не найдено"})]})},iP=()=>n.jsx(ri,{padding:"10px",children:n.jsx(Dt,{children:n.jsx(nP,{blocks:Wr,title:"материалам",isStaff:!1})})}),Wr=[{title:"Полезные материалы",links:[{title:"Действия работников и обучающихся при вооруженном нападении на учебный корпус (антитеррористическая защищенность)",visible:"all",href:"https://youtu.be/cH7-sC7kRwc"},{title:"Если оказались на территории вуза в момент наступившей чрезвычайной ситуации",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_2_Esli_okazalis_na_territorii_vuza_v_moment_nastupivshej_chrezvychajnoj_situatsii.pdf"},{title:"Памятка «Подозрительный предмет»",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_3_Podozritelnyj_predmet.pdf"},{title:"Памятка студента по действиям в экстремальных ситуациях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/Metodicheskie_ukazaniya_i_pamyatki_4_Pamyatka_studenta_po_dejstviyam_v_ekstremalnyh_situatsiyah.pdf"},{title:"Алгоритм действий при возникновении паники в толпе или в месте массового пребывания людей",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_5_Algoritm_dejstvij_pri_vozniknovenii_paniki_v_tolpe_ili_v_meste_massovogo_prebyvaniya_ljudej.PDF"},{title:"Безопасность в экстремальных и чрезвычайных ситуациях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_6_Bezopasnost_v_ekstremalnyh_i_chrezvychajnyh_situatsiyah.PDF"},{title:"Как понять, что материал экстремистский, и что с этим делать",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_7_Kak_ponyat__chto_material_ekstremistskij__i_chto_s_etim_delat.PDF"},{title:"Последствия и ответственность за ложное сообщение об акте терроризма",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_8_Posledstviya_i_otvetstvennost_za_lozhnoe_soobschenie_ob_akte_terrorizma.PDF"},{title:"Последствия участия в несогласованных митингах и протестных акциях",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_9_Posledstviya_uchastiya_v_nesoglasovannyh_mitingah_i_protestnyh_aktsiyah.PDF"},{title:"Признаки вербовки в экстремистскую организацию и как с этим справиться",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_10_Priznaki_verbovki_v_ekstremistskuju_organizatsiju_i_kak_s_etim_spravitsya.PDF"},{title:"Что делать, если вы обнаружили бесхозный предмет",visible:"all",href:"https://e.mospolytech.ru/old/storage/files/notes/Metodicheskie_ukazaniya_i_pamyatki_11_Chto_delat__esli_vy_obnaruzhili_beshoznyj_predmet.PDF"}]}],sP=Object.freeze(Object.defineProperty({__proto__:null,default:iP,safetyPages:Wr},Symbol.toStringTag,{value:"Module"})),ic=({people:e,type:t})=>!e||e.length===0?null:n.jsx(N,{d:"column",children:e.map(i=>{var s;return d.createElement(ds,T(b({id:"guid_person"in i?i.guid_person:i.id,name:i.fio,type:t},i),{key:"id"in i?i.id:i.guid_person,division:"division"in i?i.division:"job"in i?(s=i.job.find(o=>o.post===i.post))==null?void 0:s.subdivision:""}))})}),oP=()=>{const{allRoutes:e}=_t.useMenu(),{notifications:t,removeNotificationLoading:i}=rn.useLkNotifications(),{data:{user:s}}=Pe.useUser(),o=H(vt.subdivisions),a=(s==null?void 0:s.user_status)==="staff",r=d.useMemo(()=>eP.flatMap(({visible:G,content:W})=>G==="staff"&&a||G==="student"&&!a||G==="all"?W.map(U=>T(b({},U),{links:U.links.filter(V=>V.visible==="all"||V.visible==="staff"&&a||V.visible==="student"&&!a)})):null).filter(G=>G!==null),[a]),[l,c]=d.useState(null),[p,f]=d.useState(null),[g,h]=d.useState(null),[m,v]=d.useState(null),[w,x]=d.useState(null),[j,D]=d.useState(null),[_,A]=d.useState(null),[O,X]=d.useState(null),z=[{title:"Разделы",content:n.jsx(Mw,{pages:w,showNotFound:!1}),clear:()=>{x(null)},search:G=>{if(e){const W=Kf(G,e);x(W)}},data:w},{title:"Студенты",content:n.jsx(ic,{people:m,type:"stud"}),data:m,clear:()=>{v(null)},search:G=>P(void 0,null,function*(){const{data:W}=yield md(G,"",1,20);v(W.items)})},{title:"Сотрудники",content:n.jsx(ic,{people:g,type:"staff"}),data:g,clear:()=>{h(null)},search:G=>P(void 0,null,function*(){if(a){if(!o)return;const W=Xf(o,G);h(W)}else{const{data:W}=yield gd(G,"",1,20);h(W.items)}})},{title:"Группы",content:n.jsx(ZE,{groups:l}),data:l,clear:()=>{c(null)},search:G=>P(void 0,null,function*(){const{data:W}=yield aa(G);c(W.items)})},{title:"Подразделения",content:n.jsx(QE,{divisions:p}),data:p,clear:()=>{f(null)},search:G=>P(void 0,null,function*(){const{data:W}=yield ao(G);f(W.items)})},{title:"Уведомления",content:n.jsx(qf,{notifications:j,loadingRemove:i}),clear:()=>{D(null)},search:G=>{const W=t.filter(U=>Ge(U.title).includes(G));D(W)},data:j},{title:"Полезная информация",content:n.jsx(Pa,{blocks:_,isStaff:a}),clear:()=>{A(null)},search:G=>{const W=Ea(G,r);A(W)},data:_},{title:"Безопасность",content:n.jsx(Pa,{blocks:O,isStaff:a}),clear:()=>{X(null)},search:G=>{const W=Ea(G,Wr);X(W)},data:O}];return[(()=>{const{content:G,clear:W,data:U}=z.reduce((V,ae,Ae)=>{const Le=Ae===z.length-1;return qs(ae.data)&&(V.data.push(ae.data),V.content.push(n.jsxs(N,{d:"column",gap:"8px",p:Le?"0 0 0.5rem 0":"0",children:[n.jsx($,{size:4,align:"left",children:ae.title}),ae.content,!Le&&n.jsx(_e,{})]}))),V.clear.push(ae.clear),V},{content:[],clear:[],data:[]});return{title:"Все",content:G,clear:()=>W.map(V=>V()),search:V=>P(void 0,null,function*(){z[0].search(V),V.length<=8&&/\d|[-]/g.test(V)?yield z[3].search(V):(z[5].search(V),z[6].search(V),z[7].search(V),qs(z[0].data)===0&&(yield z[1].search(V),yield z[2].search(V),yield z[4].search(V)))}),data:U}})(),...z]},aP=()=>{var e;return JSON.parse((e=localStorage.getItem(ie.SearchHistory))!=null?e:"[]")},rP=()=>{const e=oP(),[t,i]=d.useState(0),[s,o]=d.useState(""),a=d.useMemo(()=>aP(),[]),r=h=>P(void 0,null,function*(){e[t].clear();const m=qd(h)?Vd(h):h;yield e[t].search(m),m.length>0&&!a.includes(m)&&(a.unshift(m),a.length>8&&a.pop(),localStorage.setItem(ie.SearchHistory,JSON.stringify(a)))}),[l,c,p]=ho({onDebounce:r,delay:400,defaultValue:"",deps:[t.toString()],triggerDelay:200,triggerOn:h=>(o(h),h.length>0&&(s!==h||!e[t].data))}),f=!p&&!l.length,g=!!l.length&&!p&&!!qs(e[t].data);return{showMessage:f,showSearchResult:g,searchValue:l,setSearchValue:c,currentPage:t,setCurrentPage:i,config:e,loading:p,searchHistory:a}},lP=(e,t,i)=>t.length===0?i.map(s=>({id:s,title:s,value:s,icon:n.jsx(ul,{})})):e?i.filter(s=>Ge(s).includes(Ge(t))).map(s=>({id:s,title:s,value:s,icon:n.jsx(ul,{})})):[],cP=()=>n.jsxs(N,{gap:"8px",ai:"flex-start",children:[n.jsx(ne,{shape:"circle",size:{width:"40px",height:"40px"},margin:"0"}),n.jsxs(N,{gap:"6px",d:"column",ai:"flex-start",jc:"center",h:"100%",children:[n.jsx(ne,{shape:"rect",size:{width:"300px",height:"13px"},margin:"0"}),n.jsx(ne,{shape:"rect",size:{width:"220px",height:"10px"},margin:"0"})]})]}),dP=u.div.withConfig({componentId:"sc-e9aqhx-0"})(["@media (max-width:1000px){height:600px;}@media (min-width:1001px){width:600px;height:600px;}"]),pP=()=>{const{showMessage:e,showSearchResult:t,searchValue:i,setSearchValue:s,currentPage:o,setCurrentPage:a,loading:r,config:l,searchHistory:c}=rP(),p=lP(r,i,c),{isOpen:f}=K();return n.jsx(dP,{children:n.jsxs(N,{d:"column",gap:"8px",h:"100%",children:[n.jsx(ii,{value:i,setValue:s,loading:r,focusOn:f,hints:p}),n.jsx(Co,{pages:l.map(({title:g})=>({title:g})),currentPage:o,setCurrentPage:a}),n.jsx(Yd,{value:i,setValue:s}),e&&n.jsx(N,{h:"100%",children:n.jsx(ke,{size:"60px",text:'Введите что-нибудь. Например, "Цифровые сервисы"',image:n.jsx(Hn,{})})}),!r&&i.length!==0&&!e&&!qs(l[o].data)&&n.jsx(N,{h:"100%",children:n.jsx(ke,{size:"60px",text:"Ничего не было найдено",image:n.jsx(La,{})})}),r&&Array(10).fill(0).map((g,h)=>n.jsx(cP,{},h)),t&&n.jsx(n.Fragment,{children:l[o].content})]})})},uP=u(Gt).withConfig({componentId:"sc-mk3bac-0"})(["cursor:pointer;box-shadow:",";border-radius:17px;","{align-items:flex-start;}&:hover{filter:brightness(0.96);}"],({size:e})=>e==="small"&&"var(--block-shadow-1)",ee.isTablet),hP=u.div.withConfig({componentId:"sc-mk3bac-1"})(["background-color:var(--theme-1);width:23px;height:23px;display:flex;align-items:center;justify-content:center;font-size:0.73rem;font-weight:500;width:fit-content;padding:4px 6px;border-radius:4px;color:var(--theme-mild-opposite);"]),fP=u(N).withConfig({componentId:"sc-mk3bac-2"})(["@media (max-width:1000px){display:none;}"]),gP=()=>{const e=UE();return{Windows:[{title:"CTRL",key:17},{title:"K",key:75}],Linux:[{title:"CTRL",key:17},{title:"K",key:75}],UNIX:[{title:"CTRL",key:17},{title:"K",key:75}],MacOS:[{title:"CMD",key:91,icon:n.jsx(Qc,{})},{title:"K",key:75}],iOS:[],Android:[]}[e]},mP=({size:e="large",forwardedRef:t})=>{const i=gP(),{open:s}=K(),o=e==="large"?"16px":"8px",a=e==="large"?"100%":"92%",r=()=>s(n.jsx(pP,{}),"Глобальный поиск");return Jf(i.map(({key:l})=>l),r),e==="icon"?n.jsx(S,{direction:"vertical",icon:n.jsx(Hn,{}),width:"40px",minWidth:"40px",shrinkTextInMobile:!0,background:"transparent",onClick:r}):n.jsxs(uP,{ref:t,tabIndex:0,maxWidth:"750px",width:a,size:e,height:"fit-content",padding:o,justifyContent:"space-between",onClick:r,children:[n.jsx(pe,{align:"left",fontSize:"0.9rem",children:n.jsxs(N,{gap:"8px",children:[n.jsx(Hn,{}),"Поиск"]})}),n.jsx(fP,{w:"fit-content",gap:"4px",children:i.map(l=>{var c,p;return n.jsx(hP,{children:(p=(c=l==null?void 0:l.icon)!=null?c:l.title)!=null?p:""},l.key)})})]})},Zf=d.memo(mP),xP=Ze(BE),vP=u.div.withConfig({componentId:"sc-14deoyy-0"})(["padding:4px;border-radius:var(--brLight);display:flex;align-items:center;gap:12px;&:hover{background-color:var(--theme-1t);}"]),bP=({showSearch:e=!1})=>{const{data:{user:t}}=Pe.useUser();if(!t)return null;const i=s=>{s.preventDefault(),s.stopPropagation(),Ke.open({e:s,height:143,content:n.jsx(Qf,{})})};return n.jsxs(vP,{children:[e&&n.jsx(Zf,{size:"icon"}),n.jsx(xP,{tutorialModule:{id:"home",step:3,params:{position:"bottom"}}}),n.jsx(Lt,{onClick:i,width:"30px",height:"30px",avatar:t.avatar,name:t.fullName,marginRight:"0"})]})},yP=u.header.withConfig({componentId:"sc-1im86yp-0"})(["width:calc(100% - 15px);height:var(--header-height);box-shadow:",";background:",";z-index:12;align-items:center;position:absolute;justify-content:center;top:0;padding:0 15px;transition:0.1s background;color:var(--text);display:",";background-color:var(--theme);& .back-button-wrapper button{transform:translateX(",");}","{& .back-button-wrapper button{transform:translateX(",");}}","{padding:0 15px;width:100%;justify-content:flex-start;& .back-button-wrapper button{transform:none;}}"],({headerVisible:e})=>e?"var(--very-mild-shadow)":"none",({headerVisible:e})=>e?"var(--theme)":"transparent",({hidden:e=!1})=>e?"none":"flex",({headerVisible:e})=>e?"-35px":"0",ee.isTablet,({headerVisible:e})=>e?"-25px":"0",ee.isMobile),wP=({maxWidth:e})=>e==="100%"||e==="963px"?"calc(100% - 55px)":`calc(${e} - 40px)`,jP=({maxWidth:e})=>e==="100%"||e==="963px"?"calc(100% - 44px)":`calc(${e} - 40px)`,_P=u.div.withConfig({componentId:"sc-1im86yp-1"})(["max-width:",";width:100%;font-size:",";font-weight:600;transition:0.2s transform,0.2s font-size;position:absolute;white-space:",";overflow:hidden;text-overflow:ellipsis;pointer-events:none;will-change:transform;@media (max-width:1232px){max-width:",";}@media (min-width:1001px){transform:",";}","{max-width:",";transform:",";}","{transform:",";width:",";}"],({maxWidth:e})=>`calc(${e} - ${e==="100%"?"55":"40"}px)`,({headerVisible:e})=>e?"1.1rem":"1.4rem",({headerVisible:e})=>e?"nowrap":"normal",wP,({headerVisible:e})=>`translate(${e?"-20px, 0":"0px, 75px"})`,ee.isTablet,jP,({headerVisible:e})=>`translate(${e?"-14px, 0":"6px, 75px"})`,ee.isMobile,({headerVisible:e,noButton:t})=>`translate(${e?t?"0, 0":"25px, 0":"0px, 50px"})`,({headerVisible:e})=>e?"180px":"calc(100% - 30px)"),kP=()=>{const{pathname:e}=tn(),[t,i]=d.useState([e]),{action:s}=ut();return d.useEffect(()=>{switch(s){case"POP":i(t.length>1?t.slice(0,t.length-1):t);break;case"PUSH":i([...t,e]);break;case"REPLACE":i([...t.slice(0,t.length-1),e])}},[e,s]),t},CP=({visible:e=!0,text:t="Назад",fullWidth:i=!0})=>{if(!e)return null;const s=ut();return n.jsx(S,{text:t,onClick:()=>s.goBack(),icon:n.jsx(Cs,{}),textColor:"var(--blue)",background:"transparent",width:i?"100%":void 0,padding:"0",height:"20px",align:"left"})},SP=({headerVisible:e,currentPage:t})=>{const i=ut(),s=kP(),o=e||!!(t!=null&&t.planeHeader),a=Ep(t),r=(p=ki)=>()=>{Ht.changeOpen({isOpen:!1,currentPage:p.slice(1,p.length)}),i.push(p)},l=me.useMemo(()=>t?t.isSubPage&&t.subPageHeaderTitle||t.title:"",[t]);return{backButton:me.useMemo(()=>t!=null&&t.withoutBackButton?null:t!=null&&t.isSubPage?s.length>1?n.jsx(CP,{text:o?"":t==null?void 0:t.backButtonText,fullWidth:!1}):t.fallbackPrevPage?n.jsx(S,{direction:"vertical",icon:n.jsx(Cs,{}),onClick:r(t.fallbackPrevPage),background:"transparent"}):n.jsx(S,{direction:"vertical",icon:n.jsx(Cs,{}),onClick:r(),background:"transparent"}):n.jsx(S,{icon:n.jsx(Cs,{}),onClick:r(),background:"transparent",text:o?void 0:"Все разделы",padding:"0",textColor:"var(--blue)"}),[t,s,r]),headerTitle:l,maxWidth:a,currentPage:t,isHeaderVisible:o}},IP=e=>{var t;let{currentPage:i,headerVisible:s=!1}=e;const{isMobile:o,isTablet:a}=He(),{headerTitle:r,backButton:l,isHeaderVisible:c,maxWidth:p}=SP({currentPage:i,headerVisible:s});return i!=null&&i.withoutHeader?null:n.jsxs(yP,{headerVisible:c,hidden:(t=(i!=null,i))===null||t===void 0?void 0:t.withoutHeader,children:[n.jsx(_P,{maxWidth:p,noButton:i==null?void 0:i.withoutBackButton,headerVisible:c,children:r}),n.jsxs(N,{jc:"space-between",mw:p,children:[n.jsx("div",{className:"back-button-wrapper",children:l!=null?l:n.jsx("div",{})}),(o||a)&&n.jsx(bP,{showSearch:!0})]})]})},TP=me.memo(IP),EP=["isCurrent","color"],PP=u(de).withConfig({shouldForwardProp:e=>!EP.includes(e)}).withConfig({componentId:"sc-fv2sjn-0"})(["position:relative;display:flex;align-items:center;font-weight:600;width:100%;justify-content:flex-start;padding:10px 0;margin:3px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;border-radius:var(--brLight);color:",";& > button{opacity:0;position:absolute;top:50%;right:-10px;transform:translateY(-50%);}.title{opacity:",";width:100%;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}svg{opacity:",";min-width:22px;width:22px;height:22px;margin-right:12px;}&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}&:hover{padding-right:2rem;}&:hover > button{opacity:1;}&::before{content:'';width:8px;height:8px;display:block;position:absolute;top:50%;left:-15px;transform:translateY(-50%);background:",";border-radius:10px;transition:0.2s opacity;opacity:",";}","{margin:0;height:100%;font-weight:",";& > button{display:none;}justify-content:center;svg{margin-right:0px;transform:translateY(-5px);}&::before{display:none;top:-2px;left:50%;transform:translateX(-50%);}.notification{top:10px;right:0px;}.title{position:absolute;left:50%;transform:translate(-50%);bottom:8px;font-size:0.65em;width:100%;text-align:center;}}"],({color:e,isCurrent:t})=>e&&t?C[e].main:"var(--text)",({isCurrent:e})=>e?1:.8,({isCurrent:e})=>e?1:.8,({color:e})=>e?C[e].main:"var(--reallyBlue)",({isCurrent:e})=>e?1:0,ee.isTablet,({isCurrent:e})=>e?800:600),AP=u.div.withConfig({componentId:"sc-pybq4t-0"})(["min-width:235px;width:235px;height:",";box-shadow:var(--very-mild-shadow);border-radius:0 var(--brSemi) var(--brSemi) 0;background:var(--block);z-index:4;display:flex;flex-direction:column;justify-content:space-between;row-gap:20px;align-items:center;box-sizing:border-box;padding:20px 15px;transition:0.2s transform,width 0.3s,0.2s left,0.2 opacity;-webkit-tap-highlight-color:rgba(255,255,255,0);.top-wrapper{width:100%;display:flex;flex-direction:column;justify-content:space-between;row-gap:20px;align-items:center;max-height:100%;}@media (max-width:1000px){transition:0.2s left,0.2s opacity;position:absolute;left:",";opacity:",";width:100%;font-size:0.9em;.top-wrapper{max-height:calc(100% - 60px);img{width:200px;}}}"],({height:e})=>e+"px",({isOpen:e})=>e?"0":"-100%",({isOpen:e})=>e?"1":"0"),DP=u.div.withConfig({componentId:"sc-4k88a5-0"})(["overflow-y:auto;width:100%;display:flex;flex-direction:column;box-sizing:border-box;padding:0 15px;border-radius:12px;"]);u.button.withConfig({componentId:"sc-1imfnv0-0"})(["position:relative;display:flex;align-items:center;font-weight:700;width:100%;justify-content:flex-start;padding:10px 0;margin:10px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;border:none;background:transparent;color:var(--text);svg{width:22px;height:22px;margin-right:7px;}&::before{content:'';height:20px;width:0;display:block;position:absolute;top:50%;left:-15px;transform:translateY(-50%);background:var(--blue);border-radius:10px;transition:0.2s width;}&:hover::before{width:5px;background:var(--red);}"]);const NP=e=>{const{menuPath:t,path:i,icon:s,title:o,isCurrent:a,isAdmin:r,color:l,notifications:c}=e;return n.jsxs(PP,{to:t!=null?t:i,className:"leftside-bar-item",color:l,isCurrent:a,title:o,children:[n.jsx(Sn,{className:"notification",top:"50%",visible:r,right:"-20px",color:"pink",children:"A"}),n.jsx(Sn,{className:"notification",top:"50%",visible:!!c,right:r?"0px":"-20px",color:"red",children:c}),s,n.jsx("span",{className:"title",children:o}),n.jsx(Ap,{route:e})]})},eg=me.memo(NP),OP=()=>{const{isOpen:e}=_t.useMenu();return n.jsx(n.Fragment,{children:n.jsx(S,{icon:n.jsx(Ut,{}),onClick:()=>Ht.changeOpen({isOpen:!e}),text:"Закрыть меню",width:"100%"})})};u.section.withConfig({componentId:"sc-19vxgfm-0"})(["width:100%;max-width:270px;color:#383634;border-bottom:1px solid rgba(56,54,52,0.08);transition-property:padding-top,padding-bottom;transition:0.3s ease-in-out;"]);u.div.withConfig({componentId:"sc-19vxgfm-1"})(["height:0;opacity:0;overflow:hidden;transition:all 0.3s ease-in-out;&.show{height:180px;opacity:1;}"]);const LP=({forwardedRef:e})=>{const t=H(Fi.leftSidebar),i=tn();return t?n.jsx(DP,{ref:e,children:Object.values(t).filter(Boolean).map(s=>d.createElement(eg,T(b({},s),{key:s==null?void 0:s.id,isCurrent:i.pathname.includes(s.path)})))}):n.jsxs(N,{d:"column",children:[n.jsxs(N,{gap:"8px",children:[n.jsx(ne,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ne,{shape:"rect",size:{width:"160px",height:"18px"}})]}),n.jsxs(N,{gap:"8px",children:[n.jsx(ne,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ne,{shape:"rect",size:{width:"160px",height:"18px"}})]}),n.jsxs(N,{gap:"8px",children:[n.jsx(ne,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ne,{shape:"rect",size:{width:"160px",height:"18px"}})]}),n.jsxs(N,{gap:"8px",children:[n.jsx(ne,{shape:"rect",size:{width:"30px",height:"30px"}}),n.jsx(ne,{shape:"rect",size:{width:"160px",height:"18px"}})]})]})},zP=me.memo(LP),RP=Ze(Zf),MP=Ze(({forwardedRef:e,to:t,children:i})=>n.jsx(de,{ref:e,to:t,children:i})),FP=Ze(zP),$P=u(de).withConfig({componentId:"sc-djarn2-0"})(["display:flex;flex-direction:column;align-items:center;gap:10px;height:fit-content;border-radius:var(--brSemi);padding:20px;transition:0.2s;cursor:pointer;color:var(--text);position:relative;.more-button{top:0;right:0;position:absolute;}&:hover{background:var(--theme-1);}"]),BP=({name:e,avatar:t,loading:i,size:s,notifications:o,selected:a,forwardedRef:r})=>{if(i)return n.jsx(ne,{shape:"circle",size:{width:"40px",height:"40px"}});const l=c=>{c.preventDefault(),c.stopPropagation(),Ke.open({e:c,height:143,content:n.jsx(Qf,{})})};return n.jsxs($P,{to:Zr,ref:r,children:[n.jsx(S,{icon:n.jsx(Ec,{}),className:"more-button",background:"transparent",onClick:l}),n.jsx(Lt,{notifications:o,width:s!=null?s:"70px",height:s!=null?s:"70px",avatar:t,name:e,marginRight:"0",selected:a}),n.jsx($,{size:5,children:e})]})},HP=me.memo(BP),UP=Ze(HP),WP=({forwardedRef:e})=>{var l;const{isOpen:t}=_t.useMenu(),{width:i,height:s}=Xi(),{data:{user:o}}=Pe.useUser(),{visibleRoutes:a}=_t.useMenu(),r=tn();return n.jsxs(AP,{ref:e,isOpen:t,height:s,children:[n.jsxs("div",{className:"top-wrapper",children:[n.jsx(MP,{to:Xr,children:n.jsx(po,{width:"165px"})}),n.jsx(UP,{notifications:a==null?void 0:a.profile.notifications,avatar:o==null?void 0:o.avatar,name:(l=o==null?void 0:o.fullName)!=null?l:"",loading:!o,selected:r.pathname==="/profile"}),n.jsx(RP,{size:"small"}),n.jsx(FP,{})]}),n.jsx(Wf,{type:"toggle"}),i<1e3&&n.jsx(OP,{})]})},GP=u.div.withConfig({componentId:"sc-1h6ktrc-0"})(["width:300px;position:absolute;top:calc(var(--header-height) + 10px);right:20px;background:var(--theme);border-radius:var(--brLight);z-index:100;transition:0.2s transform,0.2s opacity,0.2s visibility;transform:translateY(",");opacity:",";visibility:",";font-weight:600;cursor:",";@media (max-width:1000px){top:20px;bottom:auto;left:50%;transform:translate(",");font-size:0.8em;}"],({isOpen:e})=>e?"0px":"-20px",({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isClickable:e})=>e?"pointer":"normal",({isOpen:e})=>e?"-50%, 0px":"-50%, -20px"),VP=()=>{const{isOpen:e,message:t,type:i,time:s,onClick:o}=kb.usePopUpMessage();d.useEffect(()=>{e&&setTimeout(()=>{Y.openPopUpMessage({isOpen:!e})},s)},[e]);const a=d.useCallback(()=>{o&&(o(),Y.openPopUpMessage({isOpen:!e}))},[o]);return n.jsx(GP,{isOpen:e,isClickable:!!o,color:_n[i].color,onClick:a,children:n.jsx(ce,{type:i,fontSize:"1em",lineHeight:"1.4rem",onClose:()=>Y.openPopUpMessage({isOpen:!1}),children:t})})},Bo=u.div.withConfig({componentId:"sc-nj31nr-0"})(["display:flex;justify-content:center;align-items:center;position:absolute;z-index:5;width:100%;height:100%;padding:0 30px;background-color:rgba(0,0,0,0.5);animation:",";@keyframes wrapperOpened{0%{opacity:0;visibility:hidden;display:none;}100%{opacity:1;visibility:visible;}}@keyframes wrapperClosed{0%{opacity:1;visibility:visible;}100%{opacity:0;visibility:hidden;display:none;}}@media (max-width:800px){padding:8px;align-items:flex-end;}"],({isOpen:e})=>e?"wrapperOpened 0.2s forwards":"wrapperClosed 0.2s forwards");u.div.withConfig({componentId:"sc-1hrawwq-0"})(["display:block;position:absolute;bottom:50%;left:50%;width:100%;max-width:390px;border-radius:var(--brLight);background:var(--block);box-shadow:0 0 40px #0000002f;color:var(--text);z-index:10000;white-space:pre-line;padding:15px;transition:0.2s;opacity:",";visibility:",";transform:translateY(",") translateX(-50%) scale(",");@media (max-width:1000px){bottom:10px;width:calc(100% - 20px);transform:translateY(0) translateX(-50%) scale(",");}"],({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isOpen:e})=>e?"50%":"51%",({isOpen:e})=>e?"1":"0.95",({isOpen:e})=>e?"1":"0.95");const qP=()=>{const{isOpen:e,component:t,canBack:i,back:s,close:o,title:a}=d.useContext(Ka);return{back:s,close:o,isOpen:e,canBack:i,component:t,title:a}},YP=u.div.withConfig({componentId:"sc-15qdo6c-0"})(["background:var(--block);color:var(--text);padding:20px;min-height:150px;max-height:90vh;border-radius:var(--brLight);transition:0.2s opacity,0.2s transform;overflow:auto;& > .title-wrapper{margin-left:",";padding-right:50px;white-space:break-spaces;max-width:600px;hyphens:auto;}.close-button,.back-button{position:absolute;top:14px;}.back-button{left:",";}.close-button{right:20px;z-index:100;padding:8px;border-radius:100%;}@media (max-width:1000px){font-size:0.9em;padding-top:15px;}@media (min-width:801px){transform:scale(",");}@media (max-width:800px){padding:15px;width:100%;max-height:80%;height:fit-content;bottom:0;border-radius:20px 20px 0 0;animation:",";border-radius:var(--brLight);@keyframes openAnimation{0%{transform:scale(1) translateY(150px);}100%{transform:scale(1) translateY(0px);}}@keyframes closeAnimation{0%{transform:scale(1) translateY(0px);}100%{transform:scale(1) translateY(150px);}}.close-button{right:15px;}h3{margin-top:7px;}}"],({hasBack:e})=>e?"15px":"0px",({hasTitle:e})=>e?"4px":"12px",({isOpen:e})=>e?1:.95,({isOpen:e})=>e?"openAnimation 0.2s forwards":"closeAnimation 0.2s forwards"),QP=u.div.withConfig({componentId:"sc-19qk8je-0"})(["padding-top:30px;"]),JP=()=>{const{isOpen:e,component:t,canBack:i,back:s,close:o,title:a}=qP(),r=d.useRef(null),l=d.useMemo(()=>e&&!!t,[e,t]);return Jf([27],o),ni(r,()=>{o()}),l?n.jsx(Bo,{isOpen:l,children:n.jsxs(YP,{isOpen:l,ref:r,hasBack:i,hasTitle:!!a,children:[i&&n.jsx(S,{onClick:s,icon:n.jsx(ei,{}),text:a?"":"Назад",background:"transparent",textColor:"var(--theme-opposite)",width:"fit-content",align:"left",padding:"8px",height:"fit-content",className:"back-button"}),a&&n.jsx($,{size:3,align:"left",children:a}),n.jsx(S,{onClick:o,icon:n.jsx(Ut,{}),className:"close-button",height:"35px",minWidth:"35px",width:"35px",background:"var(--almostTransparent)"}),n.jsx(QP,{children:t})]})}):null},KP=me.memo(JP),XP=u.div.withConfig({componentId:"sc-18woxeq-0"})(["position:absolute;bottom:50%;left:50%;width:100%;max-width:390px;border-radius:var(--brLight);background:var(--block);box-shadow:0 0 40px #0000002f;color:var(--text);z-index:10000;padding:20px;transition:0.2s;opacity:",";visibility:",";transform:translateY(",") translateX(-50%) scale(",");@media (max-width:1000px){bottom:10px;width:calc(100% - 20px);transform:translateY(0) translateX(-50%) scale(",");}"],({isOpen:e})=>e?"1":"0",({isOpen:e})=>e?"visible":"hidden",({isOpen:e})=>e?"50%":"51%",({isOpen:e})=>e?"1":"0.95",({isOpen:e})=>e?"1":"0.95"),ZP=()=>{const{isOpen:e,message:t,onConfirm:i,onReject:s,isSubmitSuccess:o}=zy.useConfirm(),a=d.useRef(null);ni(a,()=>it.closeConfirm());const r=()=>{i(),it.closeConfirm()},l=()=>{it.closeConfirm()};return n.jsx(Bo,{isOpen:e,children:n.jsxs(XP,{isOpen:e,ref:a,children:[n.jsx($,{size:3,align:"left",children:t!=null?t:"Хотите продолжить?"}),n.jsxs(Be,{width:"100%",scroll:!1,direction:"horizontal",gap:5,padding:"10px 0 0 0",horizontalAlign:"right",children:[n.jsx(S,{text:"Да",onClick:r,width:"90px",textColor:o?C.green.main:C.red.main,background:"transparent",hoverBackground:o?C.green.transparent3:C.red.transparent3}),n.jsx(S,{text:"Нет",onClick:s!=null?s:l,width:"90px",textColor:o?C.blue.light1:C.blue.main,background:"transparent",hoverBackground:C.blue.transparent3})]})]})})},e2=Ze(Co),t2=u.div.withConfig({componentId:"sc-fuzzlp-0"})(["display:flex;align-items:",";flex-direction:column;width:",";max-width:",";height:100%;& > .slider-content{display:flex;width:100%;max-width:",";overflow-x:auto;margin-top:10px;scroll-snap-type:x mandatory;&::-webkit-scrollbar{display:none;}& > * + *{margin-left:10px;}.slider-page{height:100%;min-width:100%;scroll-snap-align:center;}}@media (max-width:1000px){& > div{scroll-behavior:smooth;.slider-page{min-width:100%;scroll-snap-align:center;}}}"],({align:e})=>la(e),({width:e})=>e!=null?e:"100%",({maxWidth:e})=>e!=null?e:"100%",({maxWidth:e})=>e!=null?e:"100%"),Ho=({pages:e,currentPage:t=0,width:i,className:s,maxWidth:o,sliderWidth:a,onChangePage:r,align:l="center",appearance:c=!0})=>{const[p,f]=d.useState(t),{width:g}=Xi(),h=d.useRef(null),m=()=>{var x,j;h!=null&&h.current&&f(Math.round(((x=h.current)==null?void 0:x.scrollLeft)/((j=h.current)==null?void 0:j.clientWidth)))},v=x=>{var j;f(x),r==null||r((j=e[x])==null?void 0:j.id),h!=null&&h.current&&(h.current.scrollLeft=(h.current.clientWidth+10)*x)};d.useEffect(()=>{v(p)},[t,g]);const w=H(Me.roles);return n.jsxs(t2,{width:i,align:l,maxWidth:o,children:[n.jsx(e2,{pages:e.map(({title:x,condition:j})=>({title:x,condition:j})),currentPage:p,setCurrentPage:v,sliderWidth:a,appearance:c,tutorialModule:{id:"payments",step:w.includes("dormitory")&&w.includes("education")?0:-1,params:{position:"bottom",noScroll:!0}}}),n.jsx("div",{className:s!=null?s:"slider-content",ref:h,onScroll:m,children:e.map(x=>x.condition!==void 0&&x.condition||x.condition===void 0?n.jsx("div",{className:"slider-page",children:x.content},x.title):n.jsx("div",{className:"slider-page",children:n.jsx(ke,{text:"Нет данных"})},x.title))})]})},Ys=e=>{const t=Ge(e),s=[{keys:["распознаван"],icon:n.jsx(Hx,{})},{keys:["принт"],icon:n.jsx(Ux,{})},{keys:["химич"],icon:n.jsx(Wx,{})},{keys:["сервер"],icon:n.jsx(Gx,{})},{keys:["игр"],icon:n.jsx(Vx,{})},{keys:["жизнед"],icon:n.jsx(qx,{})},{keys:["web","веб"],icon:n.jsx(Yx,{})},{keys:["истор"],icon:n.jsx(Qx,{})},{keys:["информат"],icon:n.jsx(Jx,{})},{keys:["информации"],icon:n.jsx(Tt,{})},{keys:["мобильн"],icon:n.jsx(Kx,{})},{keys:["безопасн"],icon:n.jsx(Xx,{})},{keys:["автоматиз"],icon:n.jsx(Zx,{})},{keys:["линейн"],icon:n.jsx(e0,{})},{keys:["обработ"],icon:n.jsx(t0,{})},{keys:["презентац"],icon:n.jsx(n0,{})},{keys:["операционн"],icon:n.jsx(Qc,{})},{keys:["эконом"],icon:n.jsx(Xt,{})},{keys:["информацион","программир","сайт"],icon:n.jsx(i0,{})},{keys:["анализ"],icon:n.jsx(s0,{})},{keys:["компьют","алгоритм","электрон"],icon:n.jsx(o0,{})},{keys:["сети","сетей"],icon:n.jsx(a0,{})},{keys:["матем"],icon:n.jsx(r0,{})},{keys:["вероятн"],icon:n.jsx(l0,{})},{keys:["философ"],icon:n.jsx(Ic,{})},{keys:["данны"],icon:n.jsx(c0,{})},{keys:["язык"],icon:n.jsx(d0,{})},{keys:["спорт","физичес"],icon:n.jsx(p0,{})},{keys:["проектная"],icon:n.jsx(ia,{})},{keys:["интеллект"],icon:n.jsx(u0,{})},{keys:["научн"],icon:n.jsx(Jc,{})},{keys:["предприним"],icon:n.jsx(h0,{})},{keys:["коммуникац"],icon:n.jsx(f0,{})},{keys:["управлени"],icon:n.jsx($a,{})},{keys:["вкр","итоговая","аттестация"],icon:n.jsx(Kc,{})},{keys:["переработ"],icon:n.jsx(g0,{})},{keys:["машин","инжен"],icon:n.jsx(m0,{})},{keys:["проектир","расчет"],icon:n.jsx(x0,{})},{keys:["производ"],icon:n.jsx(Ac,{})},{keys:["эколог"],icon:n.jsx(v0,{})},{keys:["защит"],icon:n.jsx(b0,{})},{keys:["патент"],icon:n.jsx(y0,{})},{keys:["материал"],icon:n.jsx(w0,{})},{keys:["физик"],icon:n.jsx(j0,{})},{keys:["тайм"],icon:n.jsx(Xc,{})},{keys:["практика"],icon:n.jsx(Ba,{})}].find(o=>o.keys.find(a=>t.includes(a)));return s?s.icon:n.jsx(Bx,{})},Aa={"9:00 - 10:30":C.green,"10:40 - 12:10":C.lightGreen,"12:20 - 13:50":C.blue,"14:30 - 16:00":C.purple,"16:10 - 17:40":C.pink,"17:50 - 19:20":C.red,"18:20 - 19:40":C.orange,"19:30 - 21:00":C.orange,"19:50 - 21:10":C.orange},tg=({deps:e,getScrollTopValue:t,condition:i=!0})=>{const s=d.useRef(null);return d.useLayoutEffect(()=>{if(s.current&&i){const o=t(s.current);s.current.scrollTop=o}},[s,...e!=null?e:[]]),s},n2=u.div.withConfig({componentId:"sc-alup4q-0"})(["padding-left:var(--time-width);position:relative;width:100%;height:100%;overflow-y:auto;display:flex;&::-webkit-scrollbar{display:none;}"]),Uo=(e,t="minutes")=>{switch(t){case"minutes":const i=new Date,[s,o]=e.split(":");return+s*60+ +o-(i.getHours()*60+i.getMinutes());case"days":const a=new Date(e);return Math.ceil(Math.floor((a.getTime()-new Date().getTime())/1e3/60/60)/24)}},i2=e=>{if(!e)return 1/0;const t=e.reduce((i,s)=>{const o=Uo(s.startTime);return o>0&&i.push(o),i},[]);return Math.min(...t)},ng=(e,t,i)=>i2(e)===Uo(t.startTime)&&i,$i=e=>e<=9?"0"+e:e,s2=e=>`${$i(Math.floor(e/60))}:${$i(e%60)}`,o2=(e=new Date,t,i)=>{const s=e.getHours()*60+e.getMinutes();return t&&s<t?t:i&&s>i?i:s},a2=u.div.withConfig({componentId:"sc-1a1n8va-0"})(["background:",";position:absolute;width:calc(100% + 45px);height:calc(100% + 25px);left:",";top:",";z-index:-1;overflow:hidden;","{width:calc(100% + 40px);}"],({background:e})=>e,({noPadding:e})=>e?"-25px":0,({noPadding:e})=>e?"-55px":0,ee.isMobile),r2=u.div.withConfig({componentId:"sc-1a1n8va-1"})(["position:absolute;right:0;width:70%;top:0;height:100%;z-index:1;& > div{top:50%;left:50%;position:inherit;}& > div:nth-child(1){top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.04;svg{width:170px;height:170px;}}& > div:nth-child(2){opacity:0.03;transform:translate(100px,-90px);svg{width:100px;height:100px;}}& > div:nth-child(3){opacity:0.02;transform:translate(-175px,0px);svg{width:70px;height:70px;}}& > div:nth-child(4){opacity:0.01;transform:translate(90px,10px);svg{width:50px;height:50px;}}"]),l2=u(N).withConfig({componentId:"sc-1a1n8va-2"})(["font-size:",";cursor:",";&:hover{background:",";}","{font-size:",";}"],({shortInfo:e})=>`${e?.92:1}rem`,({onClick:e})=>e&&"pointer",({onClick:e})=>e&&"var(--theme-1t)",ee.isMobile,({shortInfo:e})=>`${e?.6:.95}rem`),sc=u.div.withConfig({componentId:"sc-1a1n8va-3"})(["opacity:0.7;width:fit-content;height:fit-content;display:flex;align-items:center;justify-content:center;svg{width:","px;height:","px;}","{svg{width:16px;height:16px;}}"],({shortInfo:e})=>e?16:18,({shortInfo:e})=>e?16:18,ee.isMobile),c2=u(pe).withConfig({componentId:"sc-1a1n8va-4"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:auto;"]),d2=u.div.withConfig({componentId:"sc-1a1n8va-5"})(["position:absolute;display:flex;align-items:center;width:100%;height:2px;z-index:-2;top:",";&::before{display:block;content:'';min-width:10px;height:10px;border-radius:12px;background:",";}&::after{content:'';display:block;width:100%;height:2px;background:",";}"],({currentTime:e})=>`${e}px`,C.red.main,C.red.main),p2=u.div.withConfig({componentId:"sc-1a1n8va-6"})(["color:",";font-weight:500;background:var(--block);position:absolute;font-size:0.82rem;width:var(--time-width);left:calc(var(--time-width) * -1);box-shadow:-26px 0 26px 26px var(--block);","{background:var(--theme);box-shadow:-26px 0 26px 26px var(--theme);font-size:0.7rem;}"],C.red.main,ee.isMobile),Gr=(e,t=[])=>{const[i,s]=d.useState(e),o=d.useRef(null);return d.useEffect(()=>(o.current=setInterval(()=>{s(e)},Ga.minute),()=>{o.current&&clearInterval(o.current)}),t),i>0?i:0},u2=({isVisible:e=!0,shift:t,scale:i,interval:s,showTime:o=!0})=>{const a=Gr(()=>o2(new Date,s[0]*60,s[1]*60),[e]);return n.jsx(d2,{currentTime:(a-t)*i,children:o&&n.jsx(p2,{children:s2(a)})})},ig=e=>{if(e.includes("https://")){const t=e.split(" "),i=t.findIndex(o=>o.includes("https")),s=t.splice(i,i+1)[0];return{name:t.join(" "),link:s}}return{name:e}},dt=({icon:e,text:t,onClick:i,rightIcon:s,shortInfo:o=!1})=>n.jsxs(l2,{onClick:i,shortInfo:o,gap:"7px",mw:"100%",w:"fit-content",children:[n.jsx(sc,{shortInfo:o,children:e}),n.jsx(c2,{width:"100%",className:"text",children:t}),n.jsx(sc,{shortInfo:o,children:s})]}),h2=u.div.withConfig({componentId:"sc-1897254-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:400px;height:400px;}"]),f2=u(de).withConfig({componentId:"sc-1897254-1"})(["padding:8px;width:100%;height:40px;display:flex;align-items:center;justify-content:space-between;gap:12px;border-radius:var(--brLight);.start{display:flex;align-items:center;gap:12px;svg{width:20px;height:20px;}}&:hover{background:var(--theme-1t);}"]),g2=({groups:e})=>{const{close:t}=K();return n.jsx(h2,{children:e.map(i=>n.jsxs(f2,{to:cs(ci,{page:"current",filter:i.trim()}),onClick:t,children:[n.jsxs("div",{className:"start",children:[n.jsx(Un,{}),i]}),n.jsx(Pt,{})]},i))})},m2=({icon:e,background:t,noPadding:i=!1})=>n.jsx(a2,{background:t,noPadding:i,children:n.jsxs(r2,{children:[n.jsx("div",{children:e}),n.jsx("div",{children:e}),n.jsx("div",{children:e}),n.jsx("div",{children:e})]})}),x2=({subjectName:e,color:t,noPadding:i})=>{const s=Ys(e),o=H(ve.userSettings),a=o==null?void 0:o.appearance.theme,r=a===Fe.Light?t.dark3:t.light3,l=a===Fe.Light?t.light3:t.dark3,c=a===Fe.Light?t.light3:t.dark3;return n.jsxs(v2,{noPadding:i,textColor:r,iconBackground:c,children:[n.jsx(m2,{noPadding:i,icon:s,background:l}),n.jsx(Nt,{color:t.main,size:70,borderRadius:"19px",children:s})]})},v2=u.div.withConfig({componentId:"sc-1bp7400-0"})(["width:100%;height:110px;position:relative;color:var(--text);margin-bottom:",";.icon{position:absolute;bottom:",";left:",";background:",";transition:0s;svg{color:",";}border:5px solid var(--block-content);}"],({noPadding:e})=>e?"0px":"40px",({noPadding:e})=>e?"-5px":"-50px",({noPadding:e})=>e?"-5px":"16px",({iconBackground:e})=>e,({textColor:e})=>e),b2=_0(['*{margin:0;padding:0;box-sizing:border-box;font-family:"Montserrat",sans-serif;line-height:130%;-webkit-tap-highlight-color:rgba(255,255,255,0);}h1,h2,h3,h4,h5,h6{font-weight:600;}#root{display:flex;height:100vh;height:100svh;height:100dvh;overflow:hidden;}html,body{-webkit-overflow-scrolling:touch;position:relative;height:100vh;height:100svh;height:100dvh;overflow:hidden;}@media (min-width:1001px){::-webkit-scrollbar{width:14px;}::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar-thumb{border-radius:100px;border:4px solid transparent;background-clip:content-box;background-color:var(--theme-mild-opposite);}::-webkit-scrollbar-thumb:hover{border:3px solid transparent;}}h1{color:var(--text-color);}a{text-decoration:none;color:var(--blue);&:focus{outline:4px solid var(--almostTransparentOpposite);}&:focus:not(:focus-visible){outline:none;}}@keyframes defaultFadeIn{0%{transform:translateY(20px);opacity:0;}100%{transform:translateY(0px);opacity:1;}}']),y2=e=>{let{color:t,start:i}=e;return`
&::before {
    content: '';
    background: `.concat(t,`;
    display: block;
    width: 10px;
    height: 10px;
    border-radius: 10px;
    position: absolute;
    inset: 0;
    animation: `).concat(i?"pulse-animation 1s infinite linear":"none",`;
}

@keyframes pulse-animation {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform:  scale(2.5);
        opacity: 0;
    }
}`)},sg=({timeInterval:e,color:t,isCurrentEvent:i})=>{const s=H(ve.userSettings),a=(s==null?void 0:s.appearance.theme)===Fe.Light?t.main:t.light2;return n.jsxs(j2,{children:[n.jsx(w2,{start:i,color:a}),e&&n.jsx(_2,{children:e})]})},w2=u.div.withConfig({componentId:"sc-1dbtqbf-0"})(["min-width:10px;height:10px;border-radius:10px;background:",";position:relative;",""],({color:e})=>e,y2),j2=u.div.withConfig({componentId:"sc-1dbtqbf-1"})(["display:flex;align-items:center;min-width:fit-content;gap:6px;"]),_2=u.span.withConfig({componentId:"sc-1dbtqbf-2"})(["font-weight:500;font-size:0.8rem;","{font-size:0.7rem;}"],ee.isMobile),k2=u.div.withConfig({componentId:"sc-or1lbw-0"})(["position:relative;height:100%;max-width:400px;@media (min-width:1001px){min-width:320px;width:100%;}.date-interval{opacity:0.6;font-size:0.7em;font-weight:600;}.time-and-next{display:flex;align-items:center;font-size:0.7em;font-weight:bold;margin:10px 0 5px 0;column-gap:3px;}.teachers{& > * + *{margin-top:5px;}}"]),C2=u(N).withConfig({componentId:"sc-or1lbw-1"})(["padding:",";hyphens:auto;height:calc(100% - 154px);"],({noPadding:e})=>e?"24px 0 0 0":"24px"),S2=e=>{var A;const{timeInterval:t,name:i,place:s,teachers:o,dateInterval:a,link:r,rooms:l,groups:c,color:p,weekday:f,isNextEvent:g,isCurrentEvent:h,noPadding:m=!1}=e,v=(A=c==null?void 0:c.split(","))!=null?A:[],{open:w}=K(),x=()=>{v.length===1?w(n.jsx(Ur,{group:v[0]})):w(n.jsx(g2,{groups:v}),"Группы")},j=()=>{w(n.jsx(T2,{place:s,link:r,name:i}))},D=ig(i),_=Gr(()=>Uo(t.split(" - ")[0],"minutes"));return n.jsxs(k2,{children:[n.jsx(x2,{subjectName:i,color:p,noPadding:m}),n.jsxs(C2,{noPadding:m,d:"column",gap:"20px",ai:"flex-start",children:[n.jsxs(N,{jc:"space-between",ai:"flex-start",d:"column",gap:"6px",children:[n.jsxs(N,{gap:"8px",children:[n.jsx(sg,{isCurrentEvent:h,color:p,timeInterval:t}),n.jsx(og,{timeLeft:_,isNext:g,color:p,isCurrentEvent:h})]}),n.jsx($,{size:3,align:"left",width:"fit-content",children:D.name})]}),n.jsx(_e,{margin:"0",width:"100%"}),n.jsx(dt,{icon:n.jsx(Ha,{}),text:n.jsx(xt,{words:[f!=null?f:"",a]})}),((r==null?void 0:r.length)||D.link)&&n.jsx("a",{href:r!=null?r:D.link,target:"_blank",rel:"noreferrer",children:n.jsx(dt,{icon:n.jsx(As,{}),text:r?s:"Ссылка"})}),!(r!=null&&r.length)&&n.jsx(dt,{icon:n.jsx(Ba,{}),text:s}),!!l.length&&n.jsx(dt,{icon:n.jsx(oa,{}),text:n.jsx(xt,{words:l})}),!!v.length&&n.jsx(dt,{onClick:x,icon:n.jsx($a,{}),text:n.jsx(xt,{words:v}),rightIcon:n.jsx(Pt,{})}),n.jsx(N,{d:"column",ai:"flex-start",children:!!o[0].length&&n.jsxs(n.Fragment,{children:[n.jsx($,{size:4,align:"left",bottomGap:!0,children:"Преподаватели"}),o.map(O=>n.jsx(ds,{id:void 0,type:"staff",name:O},O))]})}),!r&&n.jsx(_e,{margin:"0",width:"100%"}),!r&&n.jsx(S,{text:"Посмотреть на карте",width:"100%",onClick:j})]})]})};u.span.withConfig({componentId:"sc-16ge3ds-0"})(["padding:3px 10px;height:21px;display:flex;align-items:center;background:var(--search);background:",";border-radius:100px;color:#fff;white-space:nowrap;"],({isCurrent:e,darkColor:t,color2:i})=>e?t:i);const I2=u.a.withConfig({componentId:"sc-193y40x-0"})(["position:relative;width:100%;height:100%;color:#fff;text-decoration:none;img{width:100%;height:100%;object-fit:cover;object-position:center;filter:blur(3px);transform:scale(1.2);}h3{bottom:15px;left:15px;position:absolute;background:",";padding:5px 10px;border-radius:var(--brLight);}"],C.purple.main),_s=({title:e,link:t,image:i})=>t?n.jsxs(I2,{href:t,children:[n.jsx("img",{src:i,alt:"",loading:"lazy"}),n.jsx($,{size:3,children:e})]}):null,oc=u.div.withConfig({componentId:"sc-xn2wuz-0"})(["","{width:500px;}height:200px;margin:10px 0 10px 0;overflow:hidden;display:flex;align-items:center;border-radius:8px;background:var(--theme-2);"],ee.isNotMobile),T2=({place:e,link:t,name:i})=>{const[s,o]=d.useState(!1);return d.useEffect(()=>{o(!0),setTimeout(()=>o(!1),500)},[i]),s?n.jsx(oc,{children:n.jsx(N,{jc:"center",children:n.jsx(kt,{})})}):n.jsx(oc,{children:e==="Webex"?n.jsx(_s,{title:e,link:t,image:"https://lh3.googleusercontent.com/-IR3NTxu_EJY/YMB7bMtdDOI/AAAAAAAAAmA/57OhYSNULo0ICfc3Q4TWAoRM7ohUFLJmwCLcBGAsYHQ/s220-w220-h140-nd/220x140%2BCisco%2BWebex%25281%2529.png"}):e==="Zoom"?n.jsx(_s,{title:e,link:t,image:"https://yogaworks.ru/wp-content/uploads/2020/04/zoom-banner-600x300-600x300.jpg"}):e==="Обучение LMS"?n.jsx(_s,{title:e,link:t,image:"https://online.mospolytech.ru/pluginfile.php/1/theme_opentechnology/settings_setpolytech_header_backgroundimage/1638781183/01.jpg"}):e==="Webinar"?n.jsx(_s,{title:e,link:t,image:"https://apix-drive.com/ru/img/webinar_ru.png"}):e==="Прянишникова"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/ulitsa_pryanishnikova_2a/Z04YcwNjTkAPQFtvfXRycntjbA==/?ll=37.545032%2C55.833931&utm_medium=mapframe&utm_source=maps&z=17",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Улица Прянишникова, 2А на карте Москвы, ближайшее метро Коптево — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPA0PC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Автозаводская"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Москва"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/house/avtozavodskaya_ulitsa_16/Z04YcANlSEwBQFtvfXtxdX5hZA==/?ll=37.646696%2C55.704260&utm_medium=mapframe&utm_source=maps&z=18.17",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"Автозаводская улица, 16 — Яндекс Карты"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPsXDC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Павла Корчагина"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/moskovskiy_politekhnicheskiy_universitet/1743307891/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Московский Политехнический университет"}),n.jsx("a",{href:"https://yandex.ru/maps/213/moscow/category/university_college/184106140/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"14px"},children:"ВУЗ в Москве"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBAPtC9A",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Большая Семеновская"?n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/moskovskiy_politekhnicheskiy_universitet/1113152789/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Московский политехнический университет"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBATAEkC",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]}):e==="Михалковская "&&n.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[n.jsx("a",{href:"https://yandex.ru/maps/org/sportivny_klub_sektsiya/1699871922/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee",fontSize:"12px",position:"absolute",top:"0px"},children:"Спортивный клуб, секция"}),n.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/-/CCUBA-FspD",width:"560",height:"400",frameBorder:"1",allowFullScreen:!0,style:{position:"relative"}})]})})},ac=u.div.withConfig({componentId:"sc-1cdmqzs-0"})(["border-radius:var(--brSemi);background:",";color:",";padding:3px 8px;white-space:nowrap;font-size:0.65rem;font-weight:500;"],({background:e})=>e,({color:e})=>e),og=({timeLeft:e,isNext:t,color:i,isCurrentEvent:s})=>{const o=Math.floor(e/60),a=H(ve.userSettings),r=a==null?void 0:a.appearance.theme,l=r===Fe.Light?i.dark3:i.light3,c=r===Fe.Light?i.transparent1:i.transparent3;return!t&&!s?null:s?n.jsx(ac,{background:c,color:l,children:"Сейчас"}):n.jsxs(ac,{background:c,color:l,children:["через ",!!o&&o+"ч."," ",e%60,"мин."]})},E2=u.div.withConfig({componentId:"sc-1a1fxjj-0"})(["width:100%;background:var(--block);padding:20px 15px;border-radius:9px;scroll-snap-align:center;.horizontal{display:flex;align-items:center;}"]),M3=()=>n.jsxs(E2,{children:[n.jsxs("div",{className:"horizontal",children:[n.jsx(ne,{shape:"rect",size:{width:"86px",height:"20px"},margin:"0"}),n.jsx(ne,{shape:"rect",size:{width:"60px",height:"14px"},margin:"0 5px"})]}),n.jsx(ne,{shape:"rect",size:{width:"200px",height:"17px"},margin:"16px 0"}),n.jsxs("div",{className:"horizontal",children:[n.jsx(ne,{shape:"rect",size:{width:"120px",height:"13px"},margin:"0"}),n.jsx(ne,{shape:"rect",size:{width:"120px",height:"13px"},margin:"0 10px"})]}),n.jsx(ne,{shape:"rect",size:{width:"80px",height:"12px"},margin:"5px 0"})]}),ag="/assets/sleep-54d590c1.gif";var rg=(e=>(e[e.day=0]="day",e[e.week=1]="week",e[e.month=2]="month",e))(rg||{});const P2=[{title:"День",condition:!0},{title:"Неделя",condition:!0}],F3=[...P2,{title:"Месяц",condition:!0}],yn=Object.keys(hn).reduce((e,t)=>(e[t]=[],e),{}),A2={schedule:{today:[],week:b({},yn),semestr:{data:b({},yn),startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)},session:{data:b({},yn),startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)}},teachers:[]},D2=e=>{const t=new Date(e),i=t.getDay(),s=t.getDate()-i+(i==0?-6:1);return new Date(t.setDate(s))},Bi=e=>{const[t,i]=e.split(":");return+t*60+ +i};var Qs=(e=>(e[e.Янв=1]="Янв",e[e.Фев=2]="Фев",e[e.Мар=3]="Мар",e[e.Апр=4]="Апр",e[e.Май=5]="Май",e[e.Июн=6]="Июн",e[e.Июл=7]="Июл",e[e.Авг=8]="Авг",e[e.Сен=9]="Сен",e[e.Окт=10]="Окт",e[e.Ноя=11]="Ноя",e[e.Дек=12]="Дек",e))(Qs||{});const lg=e=>{const[t,i]=e.split(" "),s=Qs[i],o=new Date().getFullYear();return new Date(`${s}/${t}/${o}`)},cg=(e,t)=>{var l;const[i,s]=(l=e==null?void 0:e.split(" "))!=null?l:[null,null],o=t.split(" ")[1],a=Qs[o],r=Qs[s]||a;return i&&r?new Date(`${r}/${i}/${r>=a?new Date().getFullYear():new Date().getFullYear()+1}`):null},mi=(e,t)=>e?e==null?void 0:e.map(({place:s,name:o,teachers:a,timeInterval:r,link:l,dateInterval:c,rooms:p,groups:f})=>{const[g,h]=r.split(" - "),m=Bi(h)-Bi(g),[v,w]=c.split("-").map(D=>D.trim()),x=lg(v),j=cg(w,v);return{title:o,people:a,startTime:g,duration:m,startDate:x,endDate:j,placeIcon:n.jsx(k0,{}),dateInterval:c,color:Aa[r],place:s,link:l,groups:f,weekday:t,rooms:p,icon:Ys(o)}}):[],N2=e=>new Date(e.setHours(0,0,0,0)),rc=(e,t)=>(e!=null?e:[]).filter(i=>{const s=N2(t),[o,a]=i.dateInterval.split("-").map(c=>c.trim()),r=lg(o),l=cg(a,o);return s>=r&&s<=(l!=null?l:r)}),dg=e=>e.toLocaleDateString("en-US",{weekday:"long"}).toLocaleLowerCase(),Da=e=>e instanceof Date&&isFinite(+e),pg=e=>{const t=b({},yn),i=new Date(Object.keys(e)[0]),s=new Date(Object.keys(e)[Object.keys(e).length-1]);if(!Da(i)||!Da(s))return{schedule:t,startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const a=new Date(o),r=dg(a);if(r==="sunday")continue;t[r]=[...t[r],...mi(e[o].lessons,hn[r].short)]}return{schedule:t,startDate:i,endDate:s}},ug=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),hg=(e,t)=>{var l;if(typeof e=="object"&&"status"in e){const c=`Не удалось загрузить расписание. Причина: ${(l=e.message)!=null?l:"-"}`;return Y.evokePopUpMessage({message:c,type:"failure",time:Ga.ten_seconds}),{schedule:A2.schedule,errorInData:c}}const i=b({},yn),s=z2(e)?L2(e):O2(e,i),o=pg(t),a=new Date().toLocaleDateString("en-EN",{weekday:"long"}).toLocaleLowerCase();return{schedule:{today:i[a],week:i,semestr:s,session:{data:o.schedule,startDate:o.startDate,endDate:o.endDate}}}},O2=(e,t)=>{const i=new Date;let s=D2(i);i.getDay()===0&&(s=ug(i,1));let o=new Date(new Date().getFullYear(),new Date().getMonth(),1),a=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);const r=b({},yn);for(const l in e)if(l!=="Sunday"){const c=l.toLocaleLowerCase(),f=e[l];"lessons"in f?(t[c]=mi(rc(f.lessons,s),hn[c].short),r[c]=mi(f.lessons,hn[c].short)):(t[c]=mi(rc(f,s),hn[c].short),r[c]=mi(f,hn[c].short)),o=new Date(Math.min(...r[c].map(g=>g.startDate.getTime()),o.getTime())),a=new Date(Math.max(...r[c].map(g=>{var h;return((h=g.endDate)!=null?h:g.startDate).getTime()}),a.getTime())),s.setDate(s.getDate()+1)}return{data:r,startDate:o,endDate:a}},L2=e=>{const t=pg(e);return{data:t.schedule,startDate:t.startDate,endDate:t.endDate}};function z2(e){const t=[...Object.keys(hn),"sunday"];return!Object.keys(e).every(i=>t.includes(i.toLocaleLowerCase()))}const fg=e=>P(void 0,null,function*(){const t=yield kv(e),i=yield Sv();return hg(t.data,i.data)}),gg=e=>P(void 0,null,function*(){const t=yield Cv(e),i=yield Iv(e);return hg(t.data,i.data)}),lc={data:{schedule:null,externalSchedule:null,view:rg.day,filter:"",searchValue:"",hasNoSchedule:!1},loading:!1,error:null},R2=()=>Qt(Te),En=J(e=>P(void 0,null,function*(){try{if(!e)throw new Error("Невозможно получить расписание, так как не указан пользователь");const{group:t,fullName:i,user_status:s}=e;if(i&&s==="staff")return yield gg(i);if(t&&s==="stud")return yield fg(t);throw new Error("Невозможно получить расписание, так как не указан ни один из параметров")}catch(t){throw new Error(t.message)}}),{name:"getScheduleFx",sid:"m3fe6i"}),oi=J(t=>P(void 0,[t],function*({group:e}){try{if(!e)throw new Error("Невозможно получить расписание, так как не указана группа");return yield fg(e)}catch(i){throw new Error(i.message)}}),{name:"getGroupScheduleFx",sid:"rz7j9y"}),ai=J(t=>P(void 0,[t],function*({fullName:e}){try{if(!e)throw new Error("Невозможно получить расписание, так как не указано имя сотрудника");return yield gg(e)}catch(i){throw new Error(i.message)}}),{name:"getTeacherScheduleFx",sid:"g0t9td"}),M2=I({name:"changeCurrentModule",sid:"-ux633i"}),mg=I({name:"changeView",sid:"-64bkfl"}),xg=I({name:"changeCurrentChosenDay",sid:"fh8e6k"}),vg=I({name:"setFilter",sid:"jkaxxl"}),bg=I({name:"setSearchValue",sid:"-jt9nun"}),yg=I({name:"resetExternalSchedule",sid:"-fw6v5y"}),Te=M(lc,{name:"$schedule",sid:"qlf4jp"}).on(En,e=>T(b({},e),{data:T(b({},e.data),{schedule:null,hasNoSchedule:!1}),error:null})).on(En.failData,(e,t)=>T(b({},e),{error:`${t.cause}, ${t.message}, ${t.stack}, ${t.name}`})).on(mg,(e,t)=>T(b({},e),{data:T(b({},e.data),{view:t})})).on(xg,(e,t)=>T(b({},e),{currentChosenDay:t.day})).on(se.userGuid,()=>b({},lc));y({and:[{clock:En.doneData,source:Te,fn:(e,t)=>T(b({},e),{data:T(b(b({},e.data),t),{hasNoSchedule:t.errorInData?!1:JSON.stringify(t.schedule.semestr.data)===JSON.stringify(yn)})}),target:Te}],or:{sid:"e8qgs9"}});y({and:[{clock:vg,source:Te,fn:(e,t)=>T(b({},e),{data:T(b({},e.data),{filter:t})}),target:Te}],or:{sid:"-vee20a"}});y({and:[{clock:bg,source:Te,fn:(e,t)=>T(b({},e),{data:T(b({},e.data),{searchValue:t})}),target:Te}],or:{sid:"-uw8ufd"}});y({and:[{clock:ai.doneData,source:Te,fn:(e,t)=>T(b({},e),{data:T(b({},e.data),{externalSchedule:t.schedule,errorInData:t.errorInData})}),target:Te}],or:{sid:"-ue3mug"}});y({and:[{clock:oi.doneData,source:Te,fn:(e,t)=>T(b({},e),{data:T(b({},e.data),{externalSchedule:t.schedule,errorInData:t.errorInData})}),target:Te}],or:{sid:"-tjuy7l"}});y({and:[{clock:[oi,ai,En],source:Te,fn:e=>T(b({},e),{loading:!0}),target:Te}],or:{sid:"-t15y1b"}});y({and:[{clock:[oi,ai],source:Te,fn:e=>T(b({},e),{data:T(b({},e.data),{externalSchedule:null})}),target:Te}],or:{sid:"-sko48h"}});y({and:[{clock:[oi.doneData,ai.doneData,En.doneData],source:Te,fn:e=>({error:null,loading:!1,data:b({},e.data)}),target:Te}],or:{sid:"-s2iwnk"}});y({and:[{clock:[oi.failData,ai.failData,En.failData],source:Te,fn:(e,t)=>T(b({},e),{error:t.message,loading:!1}),target:Te}],or:{sid:"-rkdp2n"}});y({and:[{clock:yg,source:Te,fn:e=>T(b({},e),{data:T(b({},e.data),{externalSchedule:null,externalStartDate:null,externalEndDate:null})}),target:Te}],or:{sid:"-r3c2og"}});const wg={useSchedule:R2},$3={changeCurrentModule:M2,changeView:mg,changeCurrentChosenDay:xg,resetExternalSchedule:yg,setSearchValue:bg,setFilter:vg},B3={getScheduleFx:En,getGroupScheduleFx:oi,getTeacherScheduleFx:ai},F2=(e,t)=>{const[i,s]=e.split(":"),o=+i*60+ +s+t;return`${$i(Math.floor(o/60))}:${$i(o%60)}`},jg=(e,t)=>e?`${e} - ${F2(e,t)}`:"9:00",Na=e=>!e||!Da(e)?0:e.getHours()*60+e.getMinutes(),Vr=(e,t)=>Bi(e.startTime)<=Na(new Date)&&Na(new Date)<=Bi(e.startTime)+e.duration&&t,_g=()=>{const{open:e}=K();return i=>{var o;const s=jg(i.startTime,i.duration);e(n.jsx(S2,b({link:i.link,isNextEvent:!1,timeInterval:s,name:i.title,teachers:i.people,rooms:(o=i.rooms)!=null?o:[],groups:i.groups,isCurrentEvent:Vr(i,!0),noPadding:!0},i)))}},cc={isMiddleDesktop:1.35,isSmallDesktop:1.35,isTablet:1.5,isMobile:1.2},$2=()=>{const{currentDevice:e}=He(),[t,i]=d.useState(cc[e]);return d.useEffect(()=>{i(cc[e])},[e]),t},B2=u.div.withConfig({componentId:"sc-c4ipxs-0"})(["--time-width:55px;","{width:500px;height:500px;}","{--time-width:35px;height:400px;}position:relative;&{.calendar-wrapper{scroll-snap-align:center;min-width:100%;}}"],ee.isNotMobile,ee.isMobile),H2=({dayEvents:e,day:t,isCurrentDay:i})=>{const s=$2(),o=_g(),a=[9,22];return e!=null&&e.length?n.jsx(B2,{children:n.jsx(Sg,{events:e,interval:a,scale:s,weekday:0,isCurrentDay:i,currentDay:0,shift:a[0]*60,onEventClick:o})},t):n.jsx(ke,{text:"В этот день пар нет",image:ag})},kg=()=>{const{data:{schedule:e}}=wg.useSchedule(),{open:t}=K(),i=ug(new Date,1),s=Kp(i.toLocaleDateString("ru-RU",{weekday:"long",day:"2-digit",month:"long"})),o=dg(i),a=o==="sunday"?[]:e==null?void 0:e.week[o];if(!(e!=null&&e.week))return null;const r=()=>t(n.jsx(H2,{isCurrentDay:!1,dayEvents:a,day:s}),s);return n.jsx(S,{text:"Посмотреть следующий",onClick:r,textColor:"var(--blue)",background:"transparent"})},U2=u.div.withConfig({componentId:"sc-1i4lqzl-0"})(["width:100%;background:var(--block);padding:20px 15px;border-radius:9px;scroll-snap-align:center;height:144px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:6px;font-weight:500;text-align:center;img{width:60px;height:60px;}"]),H3=({errorInData:e})=>n.jsxs(U2,{children:[n.jsx("img",{src:ag}),n.jsx("span",{children:"В этот день пар нет"}),!e&&n.jsx(kg,{})]});u.div.withConfig({componentId:"sc-1tdaqxa-0"})(["border-radius:15px;overflow:hidden;padding:6px;background:var(--theme-2);display:flex;flex-direction:column;row-gap:6px;overflow-y:auto;scroll-snap-type:y proximity;height:100%;max-height:",";&::-webkit-scrollbar{width:0;}@media (max-width:1000px){max-height:",";}"],({height:e})=>`calc(${e}px - 325px)`,({height:e,isTeacherSchedule:t})=>`calc(${e}px - ${t?340:280}px)`);const W2=(e,t,i)=>t?e?1:.8:i?1:0,G2=e=>e?1:.9;u.div.withConfig({componentId:"sc-99u5r2-0"})(["display:flex;flex-direction:column;min-width:",";width:",";height:",";transition:0.2s;color:var(--text);opacity:",";transform:scale(",");overflow-y:auto;.day-title{display:flex;align-items:center;column-gap:10px;margin-bottom:5px;margin-left:10px;width:calc(100% - 20px);justify-content:space-between;h4{color:",";}span{font-weight:500;opacity:0.7;font-size:0.9em;width:90px;text-align:center;}}@media (max-width:1000px){transition:0.5s opacity;opacity:",";width:100%;min-width:100%;scroll-snap-align:start;transform:scale(1);}"],({width:e,isFull:t})=>e?e+"px":t?"calc(100% / 6 - 9px)":"400px",({width:e,isFull:t})=>e?e+"px":t?"calc(100% / 6)":"400px",({height:e})=>e?e+"px":"fit-content",({isCurrent:e,isFull:t,isVisible:i})=>W2(e,t,i),({isVisible:e})=>G2(e),({isCurrent:e})=>e?"var(--blue)":"var(--text)",({isVisible:e})=>e?"1":"0");const V2=u.div.withConfig({componentId:"sc-1sk6b7e-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:144px;background:var(--block);border-radius:var(--brLight);row-gap:10px;"]),U3=()=>n.jsxs(V2,{children:[n.jsx(Za,{size:"38px"}),n.jsx($,{size:4,children:"Учебный день завершился"}),n.jsx(kg,{})]});u.div.withConfig({componentId:"sc-ghf2g3-0"})(["display:flex;align-items:center;column-gap:5px;color:",";width:100%;overflow:hidden;position:relative;flex-wrap:",";gap:4px;&::after{content:'';display:",";width:30px;height:100%;position:absolute;top:0;right:0;background:",";}.room{width:fit-content;background:",";padding:0px 8px;height:21px;border-radius:4px;display:flex;align-items:center;white-space:nowrap;}"],({isCurrent:e})=>e?"#fff":"var(--text)",({inModal:e})=>e&&"wrap",({inModal:e})=>e&&"none",({isCurrent:e,color:t})=>`linear-gradient(90deg, transparent, ${e?t:"var(--block)"})`,({isCurrent:e})=>e?"var(--almostTransparent)":"var(--theme-2)");u.div.withConfig({componentId:"sc-10959ye-0"})(["display:flex;align-items:center;column-gap:5px;color:",";width:100%;overflow:hidden;position:relative;font-size:0.7em;font-weight:600;flex-wrap:",";gap:5px;&::after{content:'';display:",";width:30px;height:100%;position:absolute;top:0;right:0;background:",";}span{background:",";padding:0px 8px;height:21px;border-radius:4px;display:flex;align-items:center;white-space:nowrap;}"],({isCurrent:e})=>e?"#fff":"var(--text)",({inModal:e})=>e&&"wrap",({inModal:e})=>e&&"none",({isCurrent:e,color:t})=>`linear-gradient(90deg, transparent, ${e?t:"var(--block)"})`,({isCurrent:e})=>e?"var(--almostTransparent)":"var(--theme-2)");u.div.withConfig({componentId:"sc-1v1ypn-0"})(["display:flex;align-items:center;justify-content:center;border-radius:10px;background:var(--theme-1);border-radius:10px;min-width:80px;overflow:hidden;button{border-radius:0;}@media (max-width:1000px){display:none;}"]);const q2=e=>{const[t,i]=e.split(":");return+t*60+ +i},Cg=(e,t,i)=>e?(q2(e)-t)*i:0,Y2=u.div.withConfig({componentId:"sc-s25rwv-0"})(["background:",";width:",";height:",";border-radius:5px;padding:",";display:flex;overflow:hidden;color:",";cursor:pointer;position:",";transform:translateX(",");left:2px;top:",";a{color:",";text-decoration:underline;}&:hover{filter:brightness(0.98);}","{padding:",";}"],({background:e})=>e,({quantity:e,listView:t})=>t?"100%":`calc(${e}% - 2.5px)`,({duration:e,scale:t})=>`${e*t}px`,({shortInfo:e,scale:t})=>e?"8px":`${t*8}px`,({textColor:e})=>e,({listView:e})=>e?"static":"absolute",({leftShift:e})=>`calc(${e}% + ${1*(e/100)}px)`,({top:e})=>`${e}px`,({textColor:e})=>e,ee.isMobile,({shortInfo:e,scale:t})=>e?"4px":`${t*10}px`);u.div.withConfig({componentId:"sc-s25rwv-1"})(["min-width:35px;height:100%;svg{width:22px;height:22px;}","{min-width:28px;svg{width:18px;height:18px;}}"],ee.isMobile);const Q2=u(N).withConfig({componentId:"sc-s25rwv-2"})(["gap:",";height:100%;","{gap:",";}"],({shortInfo:e})=>e?"6px":"10px",ee.isMobile,({shortInfo:e})=>e?"6px":"8px"),J2=u.span.withConfig({componentId:"sc-s25rwv-3"})(["font-weight:500;font-size:",";padding-top:2px;white-space:",";text-overflow:",";overflow:",";hyphens:auto;width:100%;margin-bottom:2px;margin-top:",";","{word-break:break-all;font-size:",";}"],({shortInfo:e})=>e?"0.85rem":"0.93rem",({shortInfo:e,nameInOneRow:t})=>!e&&t&&"nowrap",({shortInfo:e})=>!e&&"ellipsis",({shortInfo:e})=>!e&&"hidden",({listView:e})=>e?"2px":"0",ee.isMobile,({shortInfo:e})=>e?"0.7rem":"0.8rem"),K2=u.div.withConfig({componentId:"sc-s25rwv-4"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:none;width:100%;justify-content:center;align-items:center;svg{width:40%;height:auto;}"]),X2=u(N).withConfig({componentId:"sc-s25rwv-5"})(["height:100%;z-index:1;position:relative;margin-top:10px;margin-left:0px;margin-right:0px;"]),Z2=e=>{var Rt;const{title:t,duration:i,icon:s,startTime:o,place:a,people:r,shift:l,color:c,scale:p,onClick:f,link:g,rooms:h,dateInterval:m,leftShift:v,quantity:w,groups:x,isCurrentEvent:j=!1,nameInOneRow:D=!0,isNextEvent:_=!1,listView:A=!1,shortInfo:O=!1}=e,X=H(ve.userSettings),{isMobile:z}=He(),Q=(X==null?void 0:X.appearance.theme)===Fe.Light?c.dark3:c.light3,G=(X==null?void 0:X.appearance.theme)===Fe.Light?c.transparent1:c.transparent2,W=()=>f(e),U=(z||w>1)&&O,V=z&&w>=2&&O,ae=r&&!!r.length&&!!r[0],Ae=d.useMemo(()=>ae?r.map(di=>{var fs,te,we,Ue,ze;const pi=di.split(" ");return`${(fs=pi[0])!=null?fs:""} ${(we=(te=pi[1])==null?void 0:te[0])!=null?we:""}.${(ze=(Ue=pi[2])==null?void 0:Ue[0])!=null?ze:""}.`}):[],[r]),Le=Cg(o,l,p),je=ig(t),De=V?t.split(" ").map(di=>di[0].toUpperCase()):Ta(je.name,O?U?43:35:D?300:64),rt=(Rt=x==null?void 0:x.split(","))!=null?Rt:[],zt=Gr(()=>Uo(o,"minutes"));return n.jsxs(Y2,{background:G,textColor:Q,listView:A,leftShift:100*v,quantity:100/w,duration:i,scale:p,top:Le,onClick:W,shortInfo:O,children:[n.jsx(K2,{children:s}),n.jsx(N,{className:"event-body",gap:"0px",ai:"flex-start",h:ae?void 0:"100%",mh:ae?void 0:"100px",children:n.jsxs(Q2,{scale:p,d:"column",ai:"flex-start",shortInfo:O,jc:ae?void 0:"space-between",children:[n.jsxs(N,{d:"column",gap:"2px",children:[!O&&n.jsxs(N,{gap:"8px",children:[n.jsx(sg,{timeInterval:jg(o,i),color:c,isCurrentEvent:j}),n.jsx(og,{timeLeft:zt,isNext:_,color:c,isCurrentEvent:j}),!!(h!=null&&h.length)&&n.jsx(dt,{shortInfo:O,icon:z&&w>1?void 0:n.jsx(oa,{}),text:n.jsx(xt,{words:h})}),(!!g||je.link)&&n.jsx("a",{href:g!=null?g:je.link,target:"_blank",rel:"noreferrer",children:n.jsx(dt,{shortInfo:O,icon:n.jsx(As,{}),text:g?a:"Cсылка"})}),!!rt.length&&n.jsx(dt,{icon:n.jsx($a,{}),text:n.jsx(xt,{words:rt})})]}),n.jsx(J2,{listView:A,nameInOneRow:D,scale:p,shortInfo:O,children:De})]}),ae&&!U&&n.jsx(dt,{shortInfo:O,text:n.jsx(xt,{words:O?[Ae[0]]:Ae}),icon:n.jsx(C0,{})}),!!(h!=null&&h.length)&&O&&!U&&n.jsx(dt,{shortInfo:O,icon:n.jsx(oa,{}),text:n.jsx(xt,{words:h})}),!!g&&O&&!U&&n.jsx("a",{href:g,target:"_blank",rel:"noreferrer",children:n.jsx(dt,{shortInfo:O,icon:n.jsx(As,{}),text:a})}),!!m&&!U&&n.jsx(N,{gap:"5px",children:n.jsx(dt,{shortInfo:O,icon:n.jsx(Ha,{}),text:m})})]})})]})},eA=d.memo(Z2),tA=e=>{const t={};if(!e)return t;for(let i=0;i<e.length;i++){const s=e[i];t[s.startTime]||(t[s.startTime]=[]),s.startTime==="18:20"?(t["17:50"]||(t["17:50"]=[]),t["17:50"].push(s)):s.startTime==="19:50"&&t["19:30"]?(t["19:30"]||(t["19:30"]=[]),t["19:30"].push(s)):s.startTime==="19:30"&&t["19:50"]?(t["19:50"]||(t["19:50"]=[]),t["19:50"].push(s)):t[s.startTime].push(s)}return t},nA=({events:e,shift:t,scale:i,shortInfo:s,weekDay:o,interval:a,showTime:r,onClick:l,currentDay:c,isCurrentDay:p})=>{const f=tA(e),g=p!=null?p:new Date().getDay()===o,h=c!==void 0?c+1===o:void 0;return n.jsxs(X2,{h:"100%",d:"column",children:[g&&n.jsx(u2,{isVisible:h,showTime:r,scale:i,shift:t,interval:a}),Object.keys(f).map((m,v)=>f[m].map((w,x)=>d.createElement(eA,T(b({leftShift:x,quantity:f[m].length,scale:i,isCurrentEvent:Vr(w,g),isNextEvent:ng(e,w,g)},w),{onClick:l,shift:t,key:w.startTime+w.title+v+x,shortInfo:s}))))]})},iA=u(N).withConfig({componentId:"sc-1527zd0-0"})(["position:absolute;left:0;z-index:0;height:",";"],({scale:e,timesLen:t})=>`${t*e*60+20}px`),sA=u.div.withConfig({componentId:"sc-1527zd0-1"})(["width:100%;pointer-events:none;position:relative;"]),oA=u.div.withConfig({componentId:"sc-1527zd0-2"})(["position:absolute;width:calc(100% - var(--time-width));left:var(--time-width);top:50%;transform:translateY(-50%);background:var(--theme-4);height:1px;"]),aA=u(pe).withConfig({componentId:"sc-1527zd0-3"})(["font-size:0.82rem;opacity:0.5;","{font-size:0.65rem;}"],ee.isMobile),rA=Array(24).fill(0).map((e,t)=>`${$i(t)}:00`),lA=({interval:e,scale:t,shortTimes:i=!1})=>{const s=i?Array(24).fill(0).map((o,a)=>`${a}`).slice(e[0],e[1]+1):rA.slice(e[0],e[1]+1);return n.jsx(iA,{timesLen:s.length-1,scale:t,d:"column",w:"100%",h:"100%",jc:"space-between",ai:"flex-end",children:s.map(o=>n.jsxs(sA,{children:[n.jsx(aA,{children:o}),n.jsx(oA,{})]},o))})},Sg=({interval:e,events:t,scale:i,weekday:s,shift:o,onEventClick:a,currentDay:r,isCurrentDay:l})=>{const c=tg({deps:[t==null?void 0:t.length],getScrollTopValue:()=>{var p;return Cg((p=t==null?void 0:t[0])==null?void 0:p.startTime,o,i)}});return n.jsxs(n2,{className:"calendar-wrapper",ref:c,children:[n.jsx(lA,{interval:e,scale:i}),n.jsx(nA,{currentDay:r,weekDay:s,isCurrentDay:l,events:t!=null?t:[],shift:o,currentEvent:null,scale:i,onClick:a,interval:e})]})},cA=u.div.withConfig({componentId:"sc-1wg26e1-0"})(["display:flex;align-items:center;flex-direction:column;padding:15px 20px;width:calc(50% - 5px);gap:10px;text-align:center;color:",";border-radius:var(--brLight);.title{height:40px;font-weight:700;color:var(--text);}a{text-decoration:none;color:var(--text);width:100%;}.icon{color:",";width:45px;height:45px;display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:100%;background:var(--almostTransparent);svg{width:20px;height:20px;}}"],({color:e})=>e?C[e].main:"var(--text)",({color:e})=>e?C[e].main:"var(--text)"),dA=({icon:e,title:t,color:i,goTo:s,visible:o=!0})=>{const{close:a}=K();return o?n.jsxs(cA,{color:i,children:[n.jsx("div",{className:"icon",children:e}),n.jsx("span",{className:"title",children:t}),!!s&&n.jsx(de,{to:s,children:n.jsx(S,{text:"Перейти",onClick:a,background:"var(--almostTransparent)",width:"100%"})})]}):null},pA=u.div.withConfig({componentId:"sc-l3fl0i-0"})(["width:100%;height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center;.image{height:fit-content;width:100%;display:flex;justify-content:center;align-items:center;margin:20px;img{width:100%;object-fit:cover;object-position:center;}}@media (max-width:1000px){img{width:100%;object-fit:scale-down;}}"]),uA=u.div.withConfig({componentId:"sc-l3fl0i-1"})(["display:flex;flex-wrap:wrap;justify-content:center;gap:5px;"]),hA=u(pe).withConfig({componentId:"sc-l3fl0i-2"})(["margin-bottom:20px;"]),fA=({image:e,list:t,text:i})=>{var o;const{isMobile:s}=He();return n.jsxs(pA,{children:[!!e&&n.jsxs(n.Fragment,{children:[n.jsx($,{size:3,align:"center",bottomGap:!0,children:e.title}),n.jsx("div",{className:"image",children:(o=e.component)!=null?o:n.jsx("img",{src:s&&e.mobile?e.mobile:e.desktop,alt:""})})]}),n.jsx(hA,{lineHeight:"1.6rem",width:"100%",align:"center",fontSize:"1rem",visible:!!i,children:i}),!!t&&n.jsx(uA,{children:t==null?void 0:t.map(a=>d.createElement(dA,T(b({},a),{key:a.title})))})]})},gA=u.div.withConfig({componentId:"sc-p7mmoa-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;@media (min-width:1001px){width:400px;min-height:350px;}.content{height:100%;}.buttons{display:flex;align-items:center;width:100%;margin-top:10px;& > * + *{margin-left:10px;}}"]),mA=u.div.withConfig({componentId:"sc-p7mmoa-1"})(["--time-width:55px;height:300px;width:100%;"]),xA=()=>n.jsx(mA,{children:n.jsx(Sg,{scale:1.35,weekday:1,events:[{title:"Нечеткое моделирование",duration:90,startTime:"16:10",startDate:new Date("September 1, 2023"),endDate:null,color:Aa["16:10 - 17:40"],icon:Ys("Нечеткое моделирование"),place:"Прянишникова",rooms:["Пр2202"],weekday:"Ср",people:["Норин Владимир Павлович"],dateInterval:"1 сен - 30 окт"},{title:"Математика",duration:90,startTime:"17:50",startDate:new Date("September 1, 2023"),endDate:null,color:Aa["17:50 - 19:20"],icon:Ys("Математика"),place:"Прянишникова",rooms:["Пр2202"],weekday:"Ср",people:["Норин Владимир Павлович"],dateInterval:"1 сен - 30 окт"}],interval:[16,19],currentDay:0,shift:16*60,onEventClick:()=>null})}),Ig=()=>{const[e,t]=d.useState(0),{close:i}=K(),s=[n.jsx(fA,{text:"Стало проще видеть свое расписание целиком",image:{title:"Новое расписание! В виде календаря",component:n.jsx(xA,{})}},"schedule")];return n.jsxs(gA,{children:[n.jsx("div",{className:"content",children:s[e]}),n.jsx(Jd,{amount:s.length,current:e}),n.jsxs("div",{className:"buttons",children:[n.jsx(S,{onClick:()=>t(o=>Zt(o-1,s.length-1)),text:"Назад",width:"100%",isActive:e!==0}),e===s.length-1?n.jsx(S,{onClick:i,text:"Готово",width:"100%",background:C.blue.light1,textColor:"#fff"}):n.jsx(S,{onClick:()=>t(o=>Zt(o+1,s.length-1)),text:"Далее",width:"100%"})]})]})},vA=e=>{if(e&&e[e.length-1]){const t=e[e.length-1];return Bi(t.startTime)+t.duration<Na(new Date)}},bA=()=>{var p,f,g;const{data:{schedule:e,hasNoSchedule:t,errorInData:i},loading:s}=wg.useSchedule(),o=_g(),a=((p=e==null?void 0:e.today)==null?void 0:p.length)===0||!(e!=null&&e.today),r=vA(e==null?void 0:e.today),l=tg({deps:[e==null?void 0:e.today],condition:((g=(f=e==null?void 0:e.today)==null?void 0:f.length)!=null?g:0)>1,getScrollTopValue:h=>{var m,v,w,x;return h.clientHeight*(r?(v=(m=e==null?void 0:e.today)==null?void 0:m.length)!=null?v:0:(x=(w=e==null?void 0:e.today)==null?void 0:w.findIndex(j=>Vr(j,!0)||ng(e.today,j,!0)))!=null?x:0)}}),c=()=>Y.evokePopUpMessage({message:i!=null?i:"",type:"failure",time:Ga.ten_seconds});return{listRef:l,noSchedule:a,loading:s,schedule:e==null?void 0:e.today,isEnded:r,hasNoSchedule:t,errorInData:i,handleOpenModal:o,handleErrorClick:c}},dc=u(lo).withConfig({componentId:"sc-1jgb5fm-0"})(["position:fixed;bottom:0;left:0;right:0;will-change:transform;transform:translateZ(0);display:flex;height:var(--mobile-bottom-menu-height);width:100%;background:var(--block);border-top:1px solid var(--theme-2);padding:0px 10px;display:none;","{display:flex;}"],ee.isTablet),gi=()=>n.jsxs(N,{d:"column",gap:"8px",children:[n.jsx(ne,{shape:"circle",size:{width:"20px",height:"20px"},margin:"0"}),n.jsx(ne,{shape:"rect",size:{width:"35px",height:"10px"},margin:"0"})]}),yA=()=>{const{allRoutes:e}=_t.useMenu(),{data:{user:t}}=Pe.useUser(),{hasNoSchedule:i,loading:s}=bA(),o=tn();if(!e||!t||s)return n.jsxs(dc,{direction:"horizontal",horizontalAlign:"evenly",verticalAlign:"center",children:[n.jsx(gi,{}),n.jsx(gi,{}),n.jsx(gi,{}),n.jsx(gi,{}),n.jsx(gi,{})]});const a=(t==null?void 0:t.user_status)==="stud"?fE:i?mE:gE;return n.jsx(dc,{direction:"horizontal",horizontalAlign:"evenly",children:a.map(r=>{const l=e[r]?o.pathname.includes(e[r].path):!1;return n.jsx(eg,T(b({},e[r]),{isCurrent:l}),r)})})},wA=(e,t,i)=>({isOpen:t,message:e,position:i}),pc={hints:[]},jA=()=>Qt(_A),Tg=I({name:"evoke",sid:"-dmu4v9"}),Eg=I({name:"close",sid:"-ryhxvq"}),Pg=I({name:"clearStore",sid:"2hrryw"}),_A=M(pc,{name:"$hint",sid:"-r91nob"}).on(Tg,(e,{message:t,position:i})=>({hints:[...e.hints,wA(t,e.hints.length===0,i)]})).on(Eg,e=>({hints:e.hints.splice(1,e.hints.length)})).on(Pg,()=>b({},pc)),kA={useHint:jA},CA={evoke:Tg,close:Eg,clearStore:Pg},SA=u.div.withConfig({componentId:"sc-rmnpx-0"})(["left:",";top:",";background:var(--reallyBlue);color:#fff;border-radius:var(--brLight);font-weight:500;display:flex;align-items:flex-end;flex-direction:column;max-width:300px;box-shadow:0 0 30px ",";transition:0.2s;opacity:",";visibility:",";transform:",";position:absolute;z-index:5;min-width:150px;.message{&::before{content:'';width:15px;height:15px;transform:rotate(45deg);background:var(--reallyBlue);position:absolute;top:15px;left:-5px;border-radius:3px;z-index:-1;}}"],({left:e})=>e+"px",({top:e})=>e+"px",C.blue.transparent3,({open:e})=>e?1:0,({open:e})=>e?"visible":"hidden",({open:e})=>e?"translateY(0)":"translateY(20px)"),IA=()=>{const{hints:e}=kA.useHint(),t=e[0];return t?n.jsx(SA,{open:t.isOpen,left:t.position.x,top:t.position.y,children:n.jsx(ce,{type:"hint",title:t.message,onClose:()=>CA.close(),width:"100%",icon:null})}):null};u.div.withConfig({componentId:"sc-rcekyr-0"})(["display:flex;flex-direction:column;height:100%;@media (min-width:1001px){width:600px;height:600px;}"]);const TA=({padding:e,size:t="middle"})=>{var s,o;const{data:{user:i}}=Pe.useUser();return K(),n.jsxs(Be,{visible:!!(i!=null&&i.accounts),padding:e,title:"Аккаунты",direction:"horizontal",gap:0,showPages:!0,horizontalAlign:"left",onAdd:void 0,children:[!((s=i==null?void 0:i.accounts)!=null&&s.length)&&n.jsx(pe,{children:"Нет доступных аккаунтов"}),(o=i==null?void 0:i.accounts)==null?void 0:o.map(a=>{var r;return n.jsx(ds,{id:void 0,type:a.user_status,size:t,name:(r=a.fio)!=null?r:i.fullName,token:a.token,division:a.work_place,group:a.group,degreeLevel:a.degreeLevel,orientation:"vertical"},a.fio)})]})};function EA(e){switch(e){case"up":return"translate(0, -30px)";case"down":return"translate(0, 30px)";case"left":return"translate(-30px, 0)";case"right":return"translate(135px, 0)"}}const PA=u.div.withConfig({componentId:"sc-amccvs-0"})(["position:relative;width:fit-content;height:fit-content;display:flex;align-items:center;flex-direction:",";&:hover > div{transform:",";opacity:1;}"],({direction:e})=>e==="left"?"row-reverse":"row",({direction:e})=>EA(e)),AA=u.div.withConfig({componentId:"sc-amccvs-1"})(["pointer-events:none;padding:6px 10px;border-radius:var(--brLight);background:#000000b9;color:#fff;font-weight:400;position:absolute;transform:translate(0,0);transition:0.2s;opacity:0;font-size:0.8em;text-align:center;max-width:",";"],({width:e})=>e!=null?e:"fit-content");function Js({children:e,direction:t,text:i,width:s}){return n.jsxs(PA,{direction:t,children:[n.jsx(AA,{width:s,children:i}),e]})}const Ag=(e,t)=>t.reduce((i,s)=>{const o=s.links.filter(a=>Ge(a.title).includes(Ge(e)));return o.length&&i.push({title:s.title,links:o}),i},[]),DA=()=>[{title:"Многофункциональный центр",links:[{link:Ih,title:"Справка о прослушанных дисциплинах за период обучения (справка об обучении)"},{link:Kh,title:"Справка о прохождении обучения в университете (о статусе обучающегося) по месту требования"},{link:Th,title:"Справка в социальные учреждения (Пенсионный фонд, УСЗН и пр.)"},{link:Eh,title:"Справка-вызов"},{link:Bh,title:"Заявление на пересдачу для получения диплома с отличием"},{link:Jh,title:"Запрос на изменение персональных данных"},{link:$h,title:"Запрос на восстановление магнитного пропуска"},{link:_h,title:"Уточнение паспортных данных"},{link:ef,title:"Выдача лицензий и свидетельств о государственной аккредитации"},{link:tf,title:"Предоставление каникул в связи с окончанием университета"},{link:nf,title:"Предоставление академического отпуска"},{link:sf,title:"Выход из академического отпуска"},{link:of,title:"Отчисление по инициативе обучающегося"},{link:af,title:"Продление промежуточной аттестации или ГИА"}]},{title:"Управление студенческим городком",links:[{link:xm,title:"Предоставление медицинских справок для проживающих в общежитии"},{link:Ph,title:"Предоставление права проживания (очная форма)",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:Ah,title:"Предоставление права проживания (очно-заочная форма)",exceptionalFormEducationList:["Очная","Заочная"]},{link:Dh,title:"Предоставление права проживания (заочная форма)",exceptionalFormEducationList:["Очная","Очно-заочная"]},{link:Oh,title:"Предоставление права проживания льготной категории граждан"},{link:Nh,title:"Предоставление права проживания в период академического отпуска",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:Lh,title:"Предоставление права проживания в семейной комнате",exceptionalFormEducationList:["Очно-заочная","Заочная"]},{link:Rh,title:"Переселение внутри общежития",exceptionalFormEducationList:["Заочная"]},{link:Mh,title:"Переселение в другое общежитие",exceptionalFormEducationList:["Заочная"]},{link:zh,title:"Расторжение договора найма"},{link:Fh,title:"Предоставление права проживания в период каникул"}]},{title:"Профсоюзная организация",links:[{link:ld,title:"Вступить в Профсоюз",isExternalLink:!0,isOpenInNewWindow:!0},{link:qh,title:"Оформить материальную поддержку остронуждающимся студентам (Дотацию)"},{link:Yh,title:"Заявка на материальную помощь"},{link:Sh,title:"Оформить социальную стипендию"},{link:Qh,title:"Отправка документов на получение стипендии Московского Политеха",exceptionalFormEducationList:["Очно-заочная","Заочная"],exceptionalDegreeLevelList:["Аспирантура"]}]},{title:"Мобилизационный отдел",links:[{link:Hh,title:"Отправить документы воинского учета"},{link:Uh,title:"Заполнить личную карточку обучающегося по воинскому учету для получения отсрочки от призыва на военную службу (форма 10)"},{link:Wh,title:"Заказать справку об обучении для студентов в военкомат (форма 4)",description:"Доступна после заполнения формы № 10"},{link:Gh,title:"Заказать справку об обучении для аспирантов в военкомат (форма 5)",description:"Доступна после заполнения формы № 10"},{link:Vh,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Отдел платных образовательных услуг"+(B?" (Сервис временно недоступен)":""),disabled:B,links:[{link:Sa,title:"Оформить дополнительное соглашение к договору об обучении"},{link:Sa,title:"Отправить квитанцию об оплате обучения или пени"}]},{title:"Приемная комиссия",links:[{link:tv,isExternalLink:!0,title:"Изменение условий обучения (направление подготовки (специальность), форма), в том числе перевод с платного обучения на бесплатное"}]},{title:"Прочее",links:[{link:Zh,title:"Предоставление справок о группе здоровья"},{link:Xh,title:"Контактные данные родителей"},{link:Dr,title:"Техническая эксплуатация"},{link:kh,title:"Произвольный запрос"}]},{title:"Прочее (в разработке)",disabled:B,links:[{link:Ch,title:"Трудоустройство студентов"}]}],NA=e=>[{title:"Цифровые сервисы",links:[{link:qu,title:"Справка с места работы"},{link:Yu,title:"Справка с места работы для предоставления в визовый центр"},{link:Ju,title:"Справка о количестве неиспользованных дней отпуска"},{disabled:B,link:Ku,title:"Запрос на увеличение лимита проверок в системе «Антиплагиат»"}]},{title:"Телефонный справочник",links:[...zA(e),{link:Zu,title:"Запрос на изменение внутреннего телефона"},{link:eh,title:"Запрос на изменение корпоративной электронной почты"}]},...OA(),{title:"Прочее",links:[{link:Dr,title:"Техническая эксплуатация"}]}],OA=()=>[{title:"Цифровые сервисы (в разработке)",disabled:B,links:[{link:Qu,title:"Справка о стаже работы"},{link:th,title:"Копия трудовой книжки"},{link:nh,title:"Копии документов из личного дела"},{link:ih,title:"Справка о работе на условиях внешнего совместительства для внесения стажа в трудовую книжку"}]},{disabled:B,title:"Общее",links:[{link:Mu,title:"Актуализация контактных данных"}]},{title:"ИТ-обслуживание",links:[{link:Bu,title:"Получение нового компьютерного оборудования"},{link:Hu,title:"Подключение компьютера, МФУ, телефона, WiFi"},{link:Uu,title:"Обслуживание принтеров, МФУ"},{link:Wu,title:"Вопрос по СЭД Directum и 1С"},{link:Gu,title:"Вопрос по Личному кабинету"},{link:Vu,title:"Прочее ИТ-обслуживание"}]},{title:"Бухгалтерия",disabled:B,links:[{link:rh,title:"Справка по форме 2-НДФЛ"},{link:lh,title:"Справка о выплате (не выплате) единовременного пособия на рождение ребенка"},{link:sh,title:"Справка об отпуске по уходу за ребенком до 1,5 и 3 лет"},{link:ch,title:"Справка о ежемесячных выплатах сотрудника, находящегося в отпуске по уходу за ребенком (декрет)"}]},{title:"Управление студенческого городка",disabled:B,links:[{link:ph,title:"Предоставление права проживания в жилом помещении"},{link:uh,title:"Временное размещение гостей в студгородке"},{link:hh,title:"Проход гостей на территорию студенческого городка"},{link:fh,title:"Переселение"},{link:gh,title:"Расторжение договора найма жилого помещения"}]},{title:"Бюро пропусков",disabled:B,links:[{link:mh,title:"Выдача пропуска (повторная)"},{link:xh,title:"Заказ гостевого пропуска"}]},{title:"Отдел контроля и делопроизводства",disabled:B,links:[{link:vh,title:"Заверение и выдача копий внутренних документов"}]},{title:"Многофункциональный центр",disabled:B,links:[{link:$u,title:"Выдача лицензий и свидетельств о государственной аккредитации"}]},{title:"Экспедиция отдела контроля и делопроизводства",disabled:B,links:[{link:ah,title:"Курьер"}]},{title:"Мобилизационный отдел",disabled:B,links:[{link:bh,title:"Заполнить личную карточку по воинскому учету для получения отсрочки от призыва на военную службу"},{link:yh,title:"Заверенные копии документов по воинскому учету из личного дела"}]},{title:"Прочее",disabled:B,links:[{link:oh,title:"Произвольный запрос"},{link:ld,title:"Вступить в Профсоюз",isExternalLink:!0}]}],LA=()=>[{title:"",links:[{link:dh,title:"Заявление на трудоустройство по совместительству"},{link:ya,title:"Заявление на увольнение"},{link:_a,title:"Заявление о привлечении к работе в выходной день"},{link:wa,title:"Заявление о предоставлении отпуска"},{link:ja,title:"Заявление о переносе отпуска"},{link:ka,title:"Заявление о диспансеризации"},{link:Ts,title:"Заявление на перевод"}]}],zA=e=>e.head_div&&e.head_div.length>0?[{link:Xu,title:"Внесение изменений данных подразделения в телефонном справочнике"}]:[],RA=(e,t)=>!(t!=null&&t.length)||!e?!0:!(t!=null&&t.includes(e)),MA=(e,t)=>!(t!=null&&t.length)||!e?!0:!(t!=null&&t.includes(e)),FA=u.div.withConfig({componentId:"sc-1i4ujt1-0"})(["@media (min-width:1001px){width:100%;max-width:900px;min-width:900px;max-height:600px;}display:flex;flex-direction:column;height:70vh;.list{padding:5px;margin-top:10px;overflow-y:auto;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:calc(50% - 5px);background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]),W3=({isTeachers:e=!1,currentFormEducation:t,currentDegreeLevel:i})=>{const{close:s}=K(),{data:{user:o}}=Pe.useUser(),a=(e&&o?NA(o):DA()).map(f=>{const g=f.links.filter(h=>!h.disabled);return T(b({},f),{links:g})}),[r,l]=d.useState(""),[c,p]=d.useState(a);return n.jsxs(FA,{children:[n.jsx(fo,{whereToSearch:a,searchEngine:Ag,setResult:p,placeholder:"Поиск заявок",setExternalValue:l}),n.jsx("div",{className:"list",children:n.jsxs("div",{className:"links-wrapper",children:[(c!=null?c:a).map(f=>{if(!f.disabled)return n.jsxs("div",{className:"link-list",children:[n.jsx($,{size:4,align:"left",bottomGap:!0,children:f.title}),n.jsx("div",{className:"links",children:f.links.map((g,h)=>{if(!(g.disabled||!RA(t,g.exceptionalFormEducationList)||!MA(i,g.exceptionalDegreeLevelList)))return g.isExternalLink?n.jsx("a",{href:g.link,target:g.isOpenInNewWindow?"_blank":"_self",rel:"noreferrer",children:g.title},g.link+h):n.jsxs(N,{d:"column",ai:"flex-start",children:[n.jsx(de,{to:g.link,onClick:s,children:g.title},g.link+h),g.description&&n.jsx(pe,{children:g.description})]})})})]},f.title)}),!(c!=null&&c.length)&&!!r.length&&n.jsx(ke,{text:`По запросу ${r} ничего не найдено`})]})})]})},$A=u.div.withConfig({componentId:"sc-vnhc1t-0"})(["display:flex;flex-direction:column;height:100%;width:100%;.list{margin-top:10px;height:100%;.links-wrapper{display:flex;flex-wrap:wrap;gap:10px;.link-list{display:flex;flex-direction:column;width:100%;background:var(--block);box-shadow:var(--block-shadow);padding:10px;border-radius:var(--brLight);.links{display:flex;flex-direction:column;gap:10px;font-size:0.9em;& a{text-decoration:none;color:var(--blue);}.disabled-link{cursor:not-allowed;opacity:0.5;text-decoration:none;pointer-events:none;}}}}}@media (min-width:1001px){.list{.links-wrapper{.link-list{padding:5px;}}}}@media (max-width:800px){.list{.links-wrapper{.link-list{width:100%;}}}}"]),BA=u.div.withConfig({componentId:"sc-vnhc1t-1"})(["padding:12px;box-shadow:var(--block-shadow);border-radius:8px;margin:10px 0;.links{display:flex;flex-direction:column;gap:16px;}"]),G3=({})=>{const{data:{listApplication:e},error:t}=st.useApplications(),{close:i}=K(),s=LA(),[o,a]=d.useState(""),[r,l]=d.useState(s);return n.jsx(at,{load:()=>$t.getApplicationsFx(),loading:!e,error:t,data:e,children:n.jsxs(Dt,{children:[n.jsx(ce,{type:"info",title:"Информация",icon:n.jsx(Tt,{}),children:"Данный сервис создан для упрощения оборота кадровых документов внутри Университета."}),n.jsxs($A,{children:[n.jsx($,{size:3,align:"left",bottomGap:!0,children:"Создать заявление"}),n.jsx(fo,{whereToSearch:s,searchEngine:Ag,setResult:l,placeholder:"Поиск заявления",setExternalValue:a}),n.jsxs(BA,{children:[(r!=null?r:s).map(c=>n.jsx("div",{className:"link-list",children:!c.disabled&&n.jsx("div",{className:"links",children:c.links.map(p=>p.isExternalLink?n.jsx("a",{href:p.link,target:p.isOpenInNewWindow?"_blank":"_self",rel:"noreferrer",children:p.title},p.title):n.jsx(de,{to:p.link,onClick:i,children:p.title},p.link))})},c.title)),!(r!=null&&r.length)&&!!o.length&&n.jsx(ke,{text:`По запросу ${o} ничего не найдено`})]})]})]})})},uc={isOpen:!1,pages:[],currentPage:0},HA=()=>Qt(UA),Dg=I({name:"open",sid:"2bs4br"}),Ng=I({name:"close",sid:"um67v7"}),Og=I({name:"changeCurrentPage",sid:"-wbcenj"}),Lg=I({name:"clearStore",sid:"-xjcfg8"}),UA=M(uc,{name:"$story",sid:"-upbqag"}).on(Dg,(e,{pages:t})=>({isOpen:!0,pages:t,currentPage:0})).on(Ng,e=>({pages:e.pages,currentPage:e.currentPage,isOpen:!1})).on(Og,(e,{value:t})=>T(b({},e),{currentPage:t})).on(Lg,()=>b({},uc)),qr={useStory:HA},un={open:Dg,close:Ng,clearStore:Lg,changeCurrentPage:Og};u(Gt).withConfig({componentId:"sc-127k6fw-0"})(["overflow:hidden;position:relative;background:",";cursor:pointer;border-radius:var(--brLight);width:",";height:",";.title{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);font-size:0.8rem;font-weight:500;color:",";}"],({background:e})=>e!=null?e:"var(--block)",({width:e})=>e,({height:e})=>e,({color:e})=>e!=null?e:"var(--text)");const WA=Ii(["@supports not (aspect-ratio:1/1){height:0;padding-top:100%;position:relative;overflow:hidden;}"]),zg=Ii(["@supports not (aspect-ratio:1/1){max-width:100%;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%;}"]),GA=u.div.withConfig({componentId:"sc-1esmg0s-0"})(["border-radius:",";display:flex;align-items:center;justify-content:center;background:",";color:var(--text);border:",";outline:",";position:relative;width:",";min-width:",";height:",";margin-right:",";box-shadow:",";.icon{position:absolute;bottom:-2px;right:-5px;background:var(--theme);color:var(--text);padding:2px;border-radius:100%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;svg{width:12px;height:12px;}}.checkbox{position:absolute;bottom:-9px;right:-9px;}.name{display:flex;height:100%;width:100%;color:#fff;font-size:",";align-items:center;justify-content:center;font-weight:600;","}@media (max-width:1000px){width:",";min-width:",";height:",";margin-right:",";.name{font-size:",";}}.notification{min-width:30%;height:30%;}"," ",""],({borderRadius:e})=>e?`${e}px`:"50%",({background:e})=>e!=null?e:"var(--almostTransparent)",({selected:e,border:t})=>(e||t)&&"5px solid var(--theme)",({selected:e})=>e&&"4px solid var(--reallyBlue)",({width:e})=>e!=null?e:"160px",({width:e})=>e!=null?e:"160px",({height:e})=>e!=null?e:"160px",({marginRight:e})=>e!=null?e:"32px",({boxShadow:e})=>e!=null?e:"0",({width:e})=>e?parseInt(e)/50+"em":"3em",zg,({width:e})=>e!=null?e:"75px",({width:e})=>e!=null?e:"75px",({height:e})=>e!=null?e:"75px",({marginRight:e})=>e!=null?e:"15px",({width:e})=>e?parseInt(e)/50+"em":"1.5em",({centerHorizontally:e})=>e&&Ii(["position:relative;left:50%;transform:translate3d(-50%,0,0);"]),({adaptive:e})=>e&&Ii(["@media (max-width:450px){width:100%;height:100%;min-width:75px;aspect-ratio:1/1;","}"],WA)),VA=u.img.withConfig({componentId:"sc-1esmg0s-1"})(["width:100%;height:100%;border-radius:",";object-fit:cover;object-position:center;",""],({round:e})=>e&&"100%",({adaptive:e})=>e&&Ii(["@media (max-width:450px){","}"],zg));function Lt({selected:e,name:t,avatar:i,width:s,height:o,marginRight:a,notifications:r,checked:l,boxShadow:c,border:p,icon:f,avatarModal:g,onClick:h,borderRadius:m,background:v,adaptive:w,centerHorizontally:x}){var X;const[j,D]=d.useState(!0),_=da(t)[0]+((X=da(t)[1])!=null?X:""),{open:A}=K(),O=z=>{g?A(n.jsx(Lt,{name:t,width:"400px",height:"400px",marginRight:"0",avatar:i,adaptive:!0,centerHorizontally:!0})):h==null||h(z)};return n.jsxs(GA,{selected:e,width:s,height:o,marginRight:a,background:v!=null?v:mt(t),boxShadow:c,border:p,onClick:O,borderRadius:m,adaptive:w,centerHorizontally:x,children:[i&&j?n.jsx(VA,{loading:"lazy",round:!0,onLoadedData:()=>D(!0),onError:()=>D(!1),src:i,adaptive:w}):n.jsx("div",{className:"name",children:_}),f&&n.jsx("span",{className:"icon",children:f}),n.jsx(wt,{invisibleOnFalse:!0,checked:l!=null?l:!1,visible:l!==void 0,setChecked:()=>null}),n.jsx(Sn,{className:"notification",left:"80%",top:"90%",outline:"4px solid var(--block)",visible:!!r,children:(r||0)>1?r:null})]})}const qA=u.div.withConfig({componentId:"sc-1x49vrf-0"})(["display:flex;justify-content:center;width:100%;.info{display:flex;flex-direction:column;margin-left:10px;margin-top:20px;width:100%;b{margin-bottom:15px;color:#fff;display:flex;align-items:flex-end;height:42px;}}"]),Yr=({avatar:e,name:t,type:i,division:s,group:o,finance:a,educationForm:r,faculty:l,degreeLevel:c,course:p,isMe:f=!1,noInfo:g=!1})=>{const h=g?"140px":"110px",m=jh(f,i,s,o);return n.jsxs(qA,{children:[n.jsx(Nu,{fullName:t,height:"136px",width:"calc(100% + 16px)",baseScale:1,baseScaleDelta:.5}),n.jsx(Lt,{avatarModal:!0,border:!0,name:t,avatar:e,width:h,height:h,marginRight:"0"}),!g&&n.jsxs("div",{className:"info",children:[n.jsx("b",{children:t}),n.jsx(pe,{fontSize:"0.9rem",children:n.jsx(xt,{words:m})}),n.jsx(pn,{fontSize:"0.9rem",visible:!!a,keyStr:"Уровень финансирование",value:a}),n.jsx(pn,{fontSize:"0.9rem",visible:!!l,keyStr:"Факультет",value:l}),n.jsx(pn,{fontSize:"0.9rem",visible:!!c,keyStr:"Уровень образования",value:c}),n.jsx(pn,{fontSize:"0.9rem",visible:!!p,keyStr:"Курс",value:p}),n.jsx(pn,{fontSize:"0.9rem",visible:!!r,keyStr:"Форма образования",value:r})]})]})},YA=u.div.withConfig({componentId:"sc-x4ldkl-0"})(["@media (min-width:1001px){width:330px;height:fit-content;min-height:120px;}display:flex;align-items:center;height:inherit;min-height:inherit;flex-direction:column;.buttons{margin-top:20px;display:flex;align-items:center;justify-content:center;width:100%;gap:8px;a{width:100%;}button{width:100%;}}","{.user{.info b{width:90%;height:35px;}&::before{height:110px;}}}"],ee.isMobile),Rg=e=>{const{children:t}=e;return n.jsxs(YA,{children:[n.jsx(Yr,b({},e)),n.jsx("div",{className:"buttons",children:t})]})},QA=u.div.withConfig({componentId:"sc-1vhy699-0"})(["display:flex;align-items:center;justify-content:flex-start;width:100%;.name-and-status{display:flex;flex-direction:column;}"]),JA=()=>n.jsxs(QA,{children:[n.jsx(ne,{shape:"circle",size:{width:"30px",height:""},margin:"8px 0px 8px 0 "}),n.jsxs("div",{className:"name-and-status",children:[n.jsx(ne,{shape:"rect",size:{width:"130px",height:"10px"},margin:"1px 10px"}),n.jsx(ne,{shape:"rect",size:{width:"70px",height:"8px"},margin:"0px 10px"})]})]}),Mg=e=>{if(e)return()=>{it.evokeConfirm({message:"Вы уверены, что хотите сменить аккаунт?",onConfirm:()=>{localStorage.setItem(ie.Token,e),location.reload()}})}},Fg=e=>{var r,l;const{close:t}=K(),{token:i,name:s,group:o}=e,a=`linear-gradient(45deg, ${mt(s,"main")}, ${mt(s,"dark1")})`;return n.jsxs(Rg,T(b({},e),{type:"stud",children:[!i&&n.jsxs(n.Fragment,{children:[o&&n.jsx(de,{to:cs(ci,{page:"current",filter:o}),children:n.jsx(S,{icon:n.jsx(sn,{}),text:"Расписание",onClick:()=>t(),width:"100%",background:"var(--theme-4)"})}),n.jsx(Lo,{avatar:e.avatar,userId:(l=(r=e.id)==null?void 0:r.toString())!=null?l:"",status:"stud",fio:s})]}),i&&n.jsx(S,{text:"Войти в аккаунт",width:"100%",textColor:"#fff",background:a,onClick:Mg(i)})]}))},KA=e=>{var a,r;const{close:t}=K(),{token:i,name:s}=e,o=`linear-gradient(45deg, ${mt(s,"dark1")}, ${mt(s,"main")})`;return n.jsxs(Rg,T(b({type:"staff"},e),{children:[!i&&n.jsxs(n.Fragment,{children:[n.jsx(de,{to:cs(ci,{page:"current",filter:s}),children:n.jsx(S,{icon:n.jsx(sn,{}),text:"Расписание",onClick:()=>{t()},background:"var(--theme-4)",width:"100%"})}),n.jsx(Lo,{avatar:e.avatar,userId:(r=(a=e.id)==null?void 0:a.toString())!=null?r:"",status:"staff",fio:s})]}),i&&n.jsx(S,{text:"Войти в аккаунт",width:"100%",textColor:"#fff",background:o,onClick:Mg(i)})]}))},$g=i=>{var s=i,{name:e}=s,t=lt(s,["name"]);const{data:{user:o}}=Pe.useUser(),a=(o==null?void 0:o.user_status)==="staff",{subdivisions:r}=H({subdivisions:vt.subdivisions});if(!a||!r)return n.jsx(KA,b({name:e},t));const l=zo(r,e)[0];return n.jsx(Yt,{id:t.id,title:l.fio,info:wi(l),avatar:l.avatar,isEmployee:!0})};u.strong.withConfig({componentId:"sc-eyta43-0"})(["&:hover{text-decoration:underline;cursor:pointer;}"]);const ri=u.div.withConfig({componentId:"sc-1sdtuzg-0"})(["display:flex;align-items:",";justify-content:center;height:",";min-height:",";color:var(--text);background:",";padding:",";width:100%;"],({alignItems:e})=>e!=null?e:"center",({height:e})=>e!=null?e:"auto",({minHeight:e})=>e,({background:e})=>e,({padding:e})=>e),XA=()=>n.jsx("div",{className:"left",children:n.jsxs(Be,{scroll:!1,height:"100%",verticalAlign:"space-between",position:"static",children:[n.jsx(po,{width:"50px",short:!0,className:"logo first"}),n.jsxs(Be,{gap:12,scroll:!1,height:"100%",verticalAlign:"center",children:[n.jsx(de,{to:tl,tabIndex:-1,children:n.jsx(S,{padding:"0",icon:n.jsx(Si,{}),text:"Обратная связь",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(de,{to:wm,tabIndex:-1,children:n.jsx(S,{padding:"0",icon:n.jsx(S0,{}),text:"Узнать свой логин ЕУЗ",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(de,{to:ym,tabIndex:-1,children:n.jsx(S,{padding:"0",icon:n.jsx(Ci,{}),text:"Вниманию студентов 1 курса!",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(de,{to:jm,tabIndex:-1,children:n.jsx(S,{padding:"0",icon:n.jsx(Ci,{}),text:"Вниманию сотрудников!",height:"25px",background:"transparent",textColor:"var(--theme-mild-opposite)"})}),n.jsx(_e,{}),n.jsx(de,{to:bm,tabIndex:-1,children:n.jsx(S,{padding:"0",icon:n.jsx(I0,{}),text:"Не получается войти",height:"25px",align:"left",background:"transparent",textColor:"var(--red)"})})]}),n.jsx(Cn,{text:"Перейти к старому дизайну",onClick:()=>{localStorage.setItem("useOldVersion","true")},background:"transparent",textColor:"var(--reallyBlue)",icon:n.jsx(eo,{}),align:"left",padding:"0",width:"100%",href:`${q}/index.php`})]})}),ZA=()=>{const e=Do(),t=e.get("login"),i=e.get("password"),[s,o]=d.useState(t!=null?t:""),[a,r]=d.useState(i!=null?i:""),[l,c]=d.useState(!1),p=!!a&&!!s,f=fe.login,g=new Date().getMonth()>=6&&new Date().getMonth()<=8,h=w=>{c(w.getModifierState("CapsLock")),w.key==="Enter"&&f({login:s,password:a})},m=w=>{fe.changeSavePassword({savePassword:w})},v=()=>f({login:s,password:a});return d.useEffect(()=>{t&&i&&f({login:t,password:i})},[t,i]),{isSubmitActive:p,password:a,capsLock:l,login:s,showAbiturientMessage:g,handleSavePassword:m,handleKeyPress:h,handleLogin:v,setPassword:r,setLogin:o}},e5=()=>{var m;const{loading:e,error:t,data:i}=Pe.useUser(),{isSubmitActive:s,password:o,capsLock:a,login:r,showAbiturientMessage:l,handleKeyPress:c,handleSavePassword:p,handleLogin:f,setPassword:g,setLogin:h}=ZA();return n.jsx("div",{className:"right",onKeyDown:c,children:n.jsxs(Be,{gap:16,horizontalAlign:"center",position:"static",verticalAlign:"space-between",height:"100%",scroll:!1,children:[n.jsx(po,{width:"50px",short:!0,className:"logo second"}),n.jsx(N,{jc:"space-between",children:n.jsx($,{size:3,align:"left",children:"Личный кабинет"})}),l&&n.jsx(ce,{type:"info",title:"Уважаемые абитуриенты!",children:n.jsxs("p",{children:["Личный кабинет абитуриента находится по ссылке"," ",n.jsx("a",{href:"https://lk.mospolytech.ru/",target:"_blank",rel:"noreferrer",children:n.jsx("strong",{children:"lk.mospolytech.ru"})})]})}),n.jsxs(Be,{gap:16,scroll:!1,children:[n.jsx($,{size:4,align:"left",children:"Вход"}),n.jsx(pe,{children:"Вход в личный кабинет происходит через единую учетную запись (ЕУЗ)"}),n.jsx(ce,{type:"failure",visible:!!t,children:t}),n.jsx(ce,{type:"success",visible:(m=i==null?void 0:i.isAuthenticated)!=null?m:!1,children:"Вы вошли в аккаунт"}),n.jsx(Ne,{value:r,setValue:h,title:"Логин",placeholder:"Введите логин"}),n.jsx(Ne,{value:o,setValue:g,title:"Пароль",placeholder:"Введите пароль",type:"password",alertMessage:a?"Включен Capslock":void 0}),n.jsx(wt,{text:"Оставаться в системе",checked:i.savePassword,setChecked:p})]}),n.jsx(yt,{text:"Вход",action:f,isLoading:e,completed:!1,setCompleted:()=>null,isActive:s})]})})},t5=u(Gt).withConfig({componentId:"sc-1o25f9n-0"})(["overflow:hidden;min-height:480px;transition:0.2s box-shadow;position:relative;background:",";.left,.right{height:100%;padding:22px;}.right{min-width:350px;width:350px;opacity:",";}.left{min-width:320px;width:320px;transition:0.2s background,0.2s opacity;background:",";padding-top:",";& > * > * > *:not(.logo){opacity:",";}}.logo{transform-origin:left;}.logo.first{z-index:100;animation:",";@keyframes logoMove{0%{position:absolute;top:22px;left:22px;transform:scale(1) translateY(0%) translateX(0%);}100%{position:absolute;top:50%;left:50%;transform:scale(2) translateY(-25%) translateX(-50%);}}}.logo.second{display:none;}@media (max-width:675px){max-width:400px;max-height:90%;flex-direction:column-reverse;overflow-y:auto;justify-content:flex-start;.right{opacity:1;& > * > * > *:not(.logo):not(button){opacity:",";}button{opacity:",";}}.left{padding-top:22px;}.logo.first{display:none;}.logo.second{display:block;z-index:100;animation:",";@keyframes logoMoveMobile{0%{position:absolute;top:22px;left:50%;transform:scale(1) translateY(0%) translateX(-50%);}100%{position:absolute;top:50%;left:50%;transform:scale(2) translateY(-25%) translateX(-50%);}}}.left,.right{width:100%;}}@media (max-width:400px){box-shadow:none;border-radius:0px;height:100%;max-height:100%;}"],({isAuthenticated:e})=>e?"var(--theme)":"var(--block)",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e?"var(--theme)":"var(--theme-1t)",({isAuthenticated:e})=>e?"60px":"22px",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e&&"logoMove 0.8s forwards ease-in-out",({isAuthenticated:e})=>+!e,({isAuthenticated:e})=>e&&"0",({isAuthenticated:e})=>e&&"logoMoveMobile 0.8s forwards ease-in-out"),n5=()=>{const{data:{isAuthenticated:e}}=Pe.useUser();return n.jsxs(t5,{isAuthenticated:e!=null?e:!1,height:"fit-content",orientation:"horizontal",gap:"4px",maxWidth:"fit-content",padding:"0",children:[n.jsx(XA,{}),n.jsx(e5,{})]})},i5=u.div.withConfig({componentId:"sc-1p41lbf-0"})(["width:100%;display:flex;justify-content:center;align-items:center;background:var(--theme);flex-direction:column;"]),s5=()=>n.jsx(i5,{children:n.jsx(n5,{})}),o5=d.lazy(()=>E(()=>import("./index-2342d6b3.js"),["assets/index-2342d6b3.js","assets/vendor-0c8c29fe.js"])),Bg=d.lazy(()=>E(()=>import("./index-20270c52.js"),["assets/index-20270c52.js","assets/vendor-0c8c29fe.js"])),a5=d.lazy(()=>E(()=>Promise.resolve().then(()=>YT),void 0)),r5=d.lazy(()=>E(()=>import("./index-af0e47cd.js"),["assets/index-af0e47cd.js","assets/vendor-0c8c29fe.js"])),l5=d.lazy(()=>E(()=>import("./index-dc6c33c2.js"),["assets/index-dc6c33c2.js","assets/vendor-0c8c29fe.js"])),Hg=d.lazy(()=>E(()=>import("./index-c509ee23.js"),["assets/index-c509ee23.js","assets/vendor-0c8c29fe.js","assets/help-links-79bb2253.js","assets/create-form-store-cb7f3bfa.js"])),c5=d.lazy(()=>E(()=>import("./index-e01a41cb.js"),["assets/index-e01a41cb.js","assets/vendor-0c8c29fe.js"])),d5=d.lazy(()=>E(()=>import("./index-31394246.js"),["assets/index-31394246.js","assets/vendor-0c8c29fe.js","assets/alert-item-a14c9ac1.js","assets/is-valid-url-08a91344.js"])),p5=d.lazy(()=>E(()=>import("./index-a8483df3.js"),["assets/index-a8483df3.js","assets/vendor-0c8c29fe.js","assets/index-3984d732.js","assets/alert-item-a14c9ac1.js","assets/is-valid-url-08a91344.js"])),u5=d.lazy(()=>E(()=>import("./index-59930bd3.js"),["assets/index-59930bd3.js","assets/vendor-0c8c29fe.js"])),h5=d.lazy(()=>E(()=>Promise.resolve().then(()=>sP),void 0)),f5=d.lazy(()=>E(()=>import("./index-63f54a36.js"),["assets/index-63f54a36.js","assets/vendor-0c8c29fe.js"])),Ug=d.lazy(()=>E(()=>import("./index-5154aaf3.js"),["assets/index-5154aaf3.js","assets/vendor-0c8c29fe.js","assets/index-3984d732.js"])),g5=d.lazy(()=>E(()=>import("./index-eb8cb932.js"),["assets/index-eb8cb932.js","assets/vendor-0c8c29fe.js","assets/index-396f8f03.js"])),m5=d.lazy(()=>E(()=>import("./index-6383f4a0.js"),["assets/index-6383f4a0.js","assets/vendor-0c8c29fe.js","assets/index-396f8f03.js"])),x5=d.lazy(()=>E(()=>import("./index-1d325e5b.js"),["assets/index-1d325e5b.js","assets/vendor-0c8c29fe.js","assets/index-396f8f03.js"])),v5=d.lazy(()=>E(()=>import("./index-9d997792.js"),["assets/index-9d997792.js","assets/vendor-0c8c29fe.js"])),b5=d.lazy(()=>E(()=>import("./index-3139bfed.js"),["assets/index-3139bfed.js","assets/vendor-0c8c29fe.js","assets/index-3fbd5a97.js","assets/dev-mode-message-0aa0e975.js"])),y5=d.lazy(()=>E(()=>import("./index-56701546.js"),["assets/index-56701546.js","assets/vendor-0c8c29fe.js"])),w5=d.lazy(()=>E(()=>import("./index-b41a3a38.js"),["assets/index-b41a3a38.js","assets/vendor-0c8c29fe.js","assets/help-links-79bb2253.js"])),j5=d.lazy(()=>E(()=>import("./index-be9c868b.js"),["assets/index-be9c868b.js","assets/vendor-0c8c29fe.js","assets/help-links-79bb2253.js"])),_5=d.lazy(()=>E(()=>import("./index-0027f48e.js"),["assets/index-0027f48e.js","assets/vendor-0c8c29fe.js"])),k5=d.lazy(()=>E(()=>import("./index-7a439e43.js"),["assets/index-7a439e43.js","assets/vendor-0c8c29fe.js"])),C5=u.div.withConfig({componentId:"sc-1iy5q58-0"})(["position:relative;display:flex;justify-content:space-between;position:relative;display:flex;align-items:center;font-weight:700;width:100%;padding:10px 0;cursor:pointer;position:relative;user-select:none;text-decoration:none;.icon-and-title{display:flex;align-items:center;gap:15px;}svg{width:22px;height:22px;}.buttons{display:flex;align-items:center;column-gap:5px;svg{margin:0;}}&:hover::before{width:5px;background:var(--red);}"]),S5=({chosen:e,onClick:t})=>n.jsx(S,{minWidth:"35px",background:"transparent",icon:e?n.jsx(T0,{style:{color:"var(--blue)"}}):n.jsx(Zc,{}),onClick:t}),I5=e=>{const{id:t,chosen:i,switchMenuItem:s}=e;return n.jsxs(C5,{chosen:i,onClick:()=>s(t),children:[n.jsx(fa,b({background:"transparent",maxWordLength:100,orientation:"horizontal",shadow:!1},e)),n.jsx("div",{className:"buttons",children:n.jsx(S5,{chosen:i,onClick:()=>{s(t)}})})]})},T5=u.div.withConfig({componentId:"sc-121iwyr-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:600px;height:600px;}"]),Wg=({enabledListStore:e,add:t,remove:i,requiredListStore:s})=>{const[o,a]=H([e,s]),{visibleRoutes:r}=_t.useMenu(),[l,c]=d.useState(null);if(!o||!r)return null;const p=f=>{o[f]?i(f):t(f)};return n.jsxs(T5,{children:[n.jsx(fo,{placeholder:"Поиск",whereToSearch:r,searchEngine:Kf,setResult:c}),Object.values(l!=null?l:r).filter(f=>!a.includes(f.id)).map((f,g)=>d.createElement(I5,T(b({},f),{key:g,chosen:!!o[f.id],switchMenuItem:p})))]})},bt={size:4,align:"left",bottomGap:"12px",style:{marginLeft:"8px"}},Es=I({name:"setHomePageWidgetView",sid:"mzjw46"});y({and:[{clock:Es,source:ve.userSettings,fn:(e,t)=>({homePage:b(b({},e.homePage),t)}),target:Qe.update}],or:{sid:"-koqolk"}});const Hi=u.div.withConfig({componentId:"sc-mr5xj1-0"})(["display:flex;flex-direction:column;gap:24px;"]),E5=()=>{const[e,t]=H([ve.userSettings,Fi.menu]),{open:i}=K(),s=e==null?void 0:e.homePage.pages.reduce((o,a)=>{var r;return k(k({},o),{},{[a]:(r=t.allRoutes)===null||r===void 0?void 0:r[a]})},{});return n.jsxs(Hi,{children:[n.jsxs("div",{children:[n.jsx($,k(k({},bt),{},{children:"Разделы домашней страницы"})),n.jsx(yr,{padding:"0 10px 10px 10px",list:s,onRemoveOne:o=>{Ai({pageId:o})},onAddElement:()=>{i(n.jsx(Wg,{enabledListStore:Fi.homeRoutes,requiredListStore:M([],{name:"requiredListStore",sid:"-d98k08"}),remove:o=>Ai({pageId:o}),add:o=>vo({pageId:o})}),"Разделы домашней страницы")}})]}),n.jsxs("div",{children:[n.jsx($,k(k({},bt),{},{bottomGap:"4px",children:"Виджеты"})),n.jsx(We,{title:"Новости",action:o=>{Es({hasNews:o})},state:!!(e!=null&&e.homePage.hasNews)}),n.jsx(We,{title:"Оплаты",action:o=>Es({hasPayment:o}),state:!!(e!=null&&e.homePage.hasPayment)}),n.jsx(We,{title:"Расписание",action:o=>{Es({hasSchedule:o})},state:!!(e!=null&&e.homePage.hasSchedule)})]})]})},P5=()=>{const[e,t,i]=H([ve.userSettings,Fi.menu,Yn]),{open:s}=K(),o=e==null?void 0:e.customizeMenu.pages.filter(a=>!i.includes(a)).reduce((a,r)=>{var l;return k(k({},a),{},{[r]:(l=t.allRoutes)===null||l===void 0?void 0:l[r]})},{});return n.jsxs(n.Fragment,{children:[n.jsx($,k(k({},bt),{},{children:"Разделы меню"})),n.jsx(yr,{padding:"0 10px 10px 10px",list:o,onRemoveOne:a=>{Rs({pageId:a})},onAddElement:()=>{s(n.jsx(Wg,{enabledListStore:Fi.leftSidebar,requiredListStore:Yn,remove:a=>Rs({pageId:a}),add:a=>bo({pageId:a})}),"Настройка меню")}})]})},Gg=I({name:"turnOnAllNotifications",sid:"1wmi06"}),Vg=I({name:"turnOffAllNotifications",sid:"a0jir2"});y({and:[{clock:Gg,fn:()=>({notifications:{all:!0,messages:!0,newVersion:!0,schedule:!0,news:!0,applications:!0,doclist:!0}}),target:Qe.update}],or:{sid:"-n783b6"}});y({and:[{clock:Vg,fn:()=>({notifications:{all:!1,messages:!1,newVersion:!1,schedule:!1,news:!1,applications:!1,doclist:!1}}),target:Qe.update}],or:{sid:"-a9kop5"}});const A5=u.div.withConfig({componentId:"sc-1phin2z-0"})(["display:flex;position:relative;flex-direction:column;height:100%;margin-left:8px;padding-left:6px;&::before{content:'';position:absolute;display:block;width:3px;background-color:var(--blue);height:100%;border-radius:2px;}"]),D5=()=>{const e=H(ve.userSettings);if(!e)return null;const t=e.notifications,i=Object.values(t).every(Boolean);return n.jsxs(Hi,{style:{gap:"0"},children:[n.jsx($,k(k({},bt),{},{bottomGap:"4px",children:"Уведомления"})),n.jsxs("div",{children:[n.jsx(We,{title:"Все",state:i,action:s=>{s?Gg():Vg()}}),n.jsxs(A5,{children:[n.jsx(We,{title:"Сообщения",state:t.messages,action:s=>{Qe.update({notifications:k(k({},t),{},{messages:s})})}}),n.jsx(We,{title:"Новая версия",state:t.newVersion,action:s=>{Qe.update({notifications:k(k({},t),{},{newVersion:s})})}}),n.jsx(We,{title:"Расписание",state:t.schedule,action:s=>{Qe.update({notifications:k(k({},t),{},{schedule:s})})}}),n.jsx(We,{title:"Новости",state:t.news,action:s=>{Qe.update({notifications:k(k({},t),{},{news:s})})}}),n.jsx(We,{title:"Цифровые сервисы",state:t.applications,action:s=>{Qe.update({notifications:k(k({},t),{},{applications:s})})}}),n.jsx(We,{title:"Документы для ознакомления",state:t.doclist,action:s=>{Qe.update({notifications:k(k({},t),{},{doclist:s})})}})]})]})]})},li=({title:e,description:t,onClick:i,icon:s,rightIcon:o,editable:a=!0,completed:r,fancyBG:l})=>n.jsxs(N5,{onClick:i,completed:r,fancyBG:l,children:[s&&n.jsx("div",{className:"icon",children:s}),n.jsxs(qg,{completed:r,children:[n.jsx("b",{children:e}),n.jsx("span",{children:t})]}),n.jsx(Oa,{completed:r,children:o!=null?o:a?n.jsx(E0,{}):null})]}),Oa=u.div.withConfig({componentId:"sc-m7xit9-0"})(["color:",";z-index:2;display:flex;align-items:center;justify-content:center;transition:0.2s transform;"],({completed:e})=>e?"var(--greenMain)":""),qg=u.div.withConfig({componentId:"sc-m7xit9-1"})(["z-index:2;width:100%;display:flex;flex-direction:column;color:",";b{opacity:",";font-weight:500;font-size:0.85rem;}span{opacity:0.6;font-size:0.8rem;margin-top:2px;}"],({completed:e})=>e?"var(--greenMain)":"var(--text)",({completed:e})=>e?1:.8),N5=u.div.withConfig({componentId:"sc-m7xit9-2"})(["width:100%;display:flex;align-items:center;justify-content:space-between;position:relative;cursor:pointer;padding:0px 12px;min-height:45px;border-radius:var(--brLight);background:",";&:hover{background:",";",",",",.icon > svg{color:var(--text);}","{","}}.icon{z-index:2;width:22px;height:22px;margin-right:10px;display:flex;justify-content:center;align-items:center;svg{width:22px;height:22px;opacity:0.4;color:",";}}span{opacity:0.8;}"],({fancyBG:e})=>e?"linear-gradient(90deg, var(--bgLink1) 0%, var(--block) 50%)":"",({completed:e,fancyBG:t})=>t?e?"linear-gradient(270deg, rgba(60, 210, 136, 0) 0%, rgba(60, 210, 136, 0.4) 100%)":"linear-gradient(270deg, var(--bgLink2) 0%, var(--bgLink3) 100%)":"var(--theme-4)",Oa,qg,Oa,({fancyBG:e})=>e&&"transform: translateX(-10px);",({completed:e})=>e?"var(--greenMain)":"var(--text)"),Yg=I({name:"changeStaffPhone",sid:"izwok9"}),Kn=Z({sid:"rjfr38",fn:()=>Ce({handler:wv}),name:"changeStaffPhoneParamsMutation",method:"createMutation"});y({and:[{clock:Yg,target:Kn.start}],or:{sid:"-lrn0rd"}});y({and:[{clock:Kn.$succeeded,source:Kn.__.$latestParams,filter:Boolean,target:fe.updateBulk}],or:{sid:"-lpfudx"}});y({and:[{clock:Kn.$succeeded,fn:()=>({message:"Данные о служебном мобильном телефоне успешно изменены",type:"success",time:3e3}),target:Y.evokePopUpMessage}],or:{sid:"-laled6"}});y({and:[{clock:Kn.$failed,fn:()=>({message:"Не удалось изменить данные о служебном мобильном телефоне",type:"failure",time:3e3}),target:Y.evokePopUpMessage}],or:{sid:"-l5n90x"}});const O5=u.div.withConfig({componentId:"sc-svm75i-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){min-width:350px;}"]),L5=u.div.withConfig({componentId:"sc-svm75i-1"})(["display:flex;align-items:center;justify-content:flex-end;gap:8px;"]),z5=()=>{var g,h,m;const{close:e,isOpen:t}=K(),{loading:i,user:{currentUser:s}}=H({loading:Kn.$pending,user:se.user}),[o,a]=d.useState((g=s==null?void 0:s.phone_staff)!=null?g:""),[r,l]=d.useState((h=s==null?void 0:s.allow_mobphone_in)!=null?h:!1),[c,p]=d.useState((m=s==null?void 0:s.allow_mobphone_out)!=null?m:!1),f=()=>{Yg({phone_staff:o,allow_mobphone_in:r,allow_mobphone_out:c})};return d.useEffect(()=>{var v,w,x;t&&(a((v=s==null?void 0:s.phone_staff)!=null?v:""),l((w=s==null?void 0:s.allow_mobphone_in)!=null?w:!1),p((x=s==null?void 0:s.allow_mobphone_out)!=null?x:!1))},[t]),n.jsxs(O5,{children:[n.jsx(Ne,{value:o,setValue:a,type:"tel",mask:!0}),n.jsx(We,{title:"Показывать мобильный телефон внутри Личного кабинета",state:r,action:l}),n.jsx(We,{title:"Показывать мобильный телефон на сайте",state:c,action:p}),n.jsx(_e,{}),n.jsxs(L5,{children:[n.jsx(S,{text:"Отменить",onClick:e}),n.jsx(S,{height:"38px",text:i?void 0:"Обновить",onClick:f,loading:i,background:C.blue.main,minWidth:"10ch",textColor:C.white.main})]})]})},R5=()=>{const{user:{currentUser:e}}=H({user:se.user}),{open:t}=K();if(!e)return null;const i=()=>{t(n.jsx(z5,{}),"Служебный мобильный телефон")};return n.jsx(li,{icon:n.jsx(ed,{}),title:"Служебный мобильный телефон",description:e.phone_staff,onClick:i})},Qg=I({name:"changeStaffAddress",sid:"oilgm9"}),Pn=Z({sid:"-wa42cm",fn:()=>Ce({handler:jv}),name:"changeStaffAddressMutation",method:"createMutation"});y({and:[{clock:Qg,target:Pn.start}],or:{sid:"-9un4ct"}});y({and:[{clock:Pn.$succeeded,source:{user:se.user,mutationParams:Pn.__.$latestParams},fn:({user:{currentUser:e},mutationParams:t})=>{var i;return{subdivisions:(i=e==null?void 0:e.subdivisions)==null?void 0:i.map(s=>s.guid_staff===(t==null?void 0:t.guid_staff)?b(b({},s),t):s)}},target:fe.updateBulk}],or:{sid:"-9sfxzd"}});y({and:[{clock:Pn.$succeeded,source:{user:se.user,mutationParams:Pn.__.$latestParams},fn:({user:{currentUser:e},mutationParams:t})=>{var i,s;return{message:`Данные об адресе рабочего места (${(s=(i=e==null?void 0:e.subdivisions)==null?void 0:i.find(o=>o.guid_staff===(t==null?void 0:t.guid_staff)))==null?void 0:s.post}) успешно изменены`,type:"success",time:3e3}},target:Y.evokePopUpMessage}],or:{sid:"-8rlq86"}});y({and:[{clock:Pn.$failed,fn:()=>({message:"Не удалось изменить данные об адресе рабочего места",type:"failure",time:3e3}),target:Y.evokePopUpMessage}],or:{sid:"-7um2mi"}});const M5=u.div.withConfig({componentId:"sc-1d66gwv-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){min-width:350px;}"]),F5=u.div.withConfig({componentId:"sc-1d66gwv-1"})(["display:flex;align-items:center;justify-content:flex-end;gap:8px;"]),$5=({subDivisionGuidStaff:e})=>{var w,x,j,D;const{close:t,isOpen:i}=K(),{loading:s,user:{currentUser:o}}=H({loading:Pn.$pending,user:se.user}),[a,r]=d.useState(()=>{var _,A,O;return e||((O=(A=(_=o==null?void 0:o.subdivisions)==null?void 0:_[0])==null?void 0:A.guid_staff)!=null?O:"")}),l=(w=o==null?void 0:o.subdivisions)==null?void 0:w.find(_=>_.guid_staff===a),c=((x=o==null?void 0:o.subdivisions)==null?void 0:x.length)||0,[p,f]=d.useState(()=>{var _;return Ss(Se,(_=l==null?void 0:l.address)!=null?_:"")}),[g,h]=d.useState(l==null?void 0:l.room),m=()=>{var _;Qg({guid_staff:a,address:p==null?void 0:p.title,room:g!=null?g:"",post:(_=l==null?void 0:l.post)!=null?_:""})};d.useEffect(()=>{var _;f(Ss(Se,(_=l==null?void 0:l.address)!=null?_:"")),h(l==null?void 0:l.room)},[l]),d.useEffect(()=>{if((p==null?void 0:p.title)!==(l==null?void 0:l.address)){h(mn.cabinetMask("",ca((p==null?void 0:p.title)||"")));return}h(l==null?void 0:l.room)},[p]);const v=(D=(j=o==null?void 0:o.subdivisions)==null?void 0:j.map(_=>{var A;return{id:_.guid_staff,title:(A=_.post)!=null?A:"",content:n.jsx(n.Fragment,{})}}))!=null?D:[];return d.useEffect(()=>{var _;i&&(f(Ss(Se,(_=l==null?void 0:l.address)!=null?_:"")),h(l==null?void 0:l.room))},[i]),n.jsxs(M5,{children:[(e||c===1)&&n.jsx($,{size:4,align:"left",children:l==null?void 0:l.post}),!e&&c>1&&n.jsx(Ho,{pages:v,onChangePage:_=>r(_||""),appearance:!1,currentPage:v.findIndex(({id:_})=>_===a)||0}),n.jsx(sr,{width:"99%",title:"Адрес рабочего места",items:Se,setSelected:f,selected:p}),n.jsx(Ne,{title:"Кабинет",value:g!=null?g:"",type:"cabinet",setValue:_=>h(mn.cabinetMask(_,ca((p==null?void 0:p.title)||""))),mask:!0}),n.jsx(_e,{}),n.jsxs(F5,{children:[n.jsx(S,{text:"Отменить",onClick:t}),n.jsx(S,{height:"38px",text:s?void 0:"Обновить",onClick:m,loading:s,background:C.blue.main,minWidth:"10ch",textColor:C.white.main})]})]})},B5=({subDivisionGuidStaff:e})=>{var o;const{user:{currentUser:t}}=H({user:se.user}),{open:i}=K();if(!t)return null;const s=()=>{i(n.jsx($5,{subDivisionGuidStaff:e}),"Адрес места работы")};return n.jsx(li,{icon:n.jsx(Ba,{}),title:"Адрес места работы",description:(o=t.subdivisions)==null?void 0:o.map(a=>a.room).join(", "),onClick:s})},hc=e=>!e||e.length===0?"Не указан":e,Jg=(e,t)=>{const i=e.find(({test:a})=>!a(...t)),s=!i,o=!t.find(a=>a.length===0)&&s;return{allChecked:s,isActive:o,validationError:i}},H5=u.div.withConfig({componentId:"sc-1xa1yjn-0"})(["display:flex;flex-direction:column;gap:8px;@media (min-width:1001px){width:350px;}"]),U5=u.div.withConfig({componentId:"sc-1xa1yjn-1"})(["display:flex;align-items:center;gap:8px;"]),W5=[{text:"Необходимо изменить строку",test:(e,t)=>e!==t}],G5=e=>{var _;const{value:t,message:i,action:s,type:o,title:a,additionalActions:r}=e,[l,c]=d.useState(t),[p,f]=d.useState(!1),[g,h]=d.useState(""),[m,v]=d.useState(!1),{close:w}=K(),{isActive:x,validationError:j}=Jg(W5,[l,t]),D=()=>P(void 0,null,function*(){var A;try{f(!0),yield s==null?void 0:s(l),(A=r==null?void 0:r.onSuccess)==null||A.call(r,l),f(!1),v(!0)}catch(O){h("Возникла ошибка: "+O.message),f(!1)}});return d.useEffect(()=>{c(t),h(null)},[a]),n.jsxs(H5,{children:[n.jsx($,{size:3,align:"left",children:a}),i&&n.jsx(ce,{type:(_=i.type)!=null?_:"",title:i.title,children:i.body}),n.jsx(ce,{type:"failure",visible:!!g,children:g}),n.jsx(Ne,{value:l,setValue:c,type:o,mask:!0}),n.jsx(_e,{}),n.jsxs(U5,{children:[n.jsx(S,{text:"Отменить",width:"100%",onClick:w}),n.jsx(yt,{isLoading:p,completed:m,isActive:x,text:"Обновить",action:D,setCompleted:v,popUpFailureMessage:j==null?void 0:j.text,height:"38px"})]})]},a)},fc=e=>{const{open:t}=K(),i=()=>{e.disabled||t(n.jsx(G5,b({},e)))};return n.jsx(li,T(b({},e),{onClick:i}))},gc=e=>{const t=d.useState(!1),i=d.useState(!1),s=d.useState(null);return{loading:t,error:s,completed:i,isActive:e}},V5=u.div.withConfig({componentId:"sc-1y5ksaz-0"})(["display:flex;flex-direction:column;align-items:center;gap:12px;@media (min-width:1001px){width:400px;}"]),q5=()=>{var X;const{data:{user:e}}=Pe.useUser();if(!e)return null;const[t,i]=d.useState([]),[s,o]=d.useState(null),{completed:[a,r],loading:[l,c],error:[p,f],isActive:g}=gc(!!(e!=null&&e.avatar)),{completed:[h,m],loading:[v,w],error:[x,j],isActive:D}=gc(t.length===1);d.useEffect(()=>{const z=new FileReader;z.onloadend=()=>{o(z.result)},t[0]?z.readAsDataURL(t[0]):o(null)},[t]);const _=()=>P(void 0,null,function*(){try{w(!0),m(!1);const z=yield ml(t[0]);if(z.data.result!=="ok")throw new Error(z.data.errors);m(!0),w(!1),i([]),fe.update({key:"avatar",value:s})}catch(z){j("Ошибка: "+z.message)}}),A=()=>P(void 0,null,function*(){try{c(!0),r(!1);const z=yield ml();if(z.data.result!=="ok")throw new Error(z.data.errors);r(!0),c(!1),fe.update({key:"avatar",value:""})}catch(z){f("Ошибка: "+z.message)}}),O=()=>it.evokeConfirm({message:"Вы уверены, что хотите удалить фото профиля?",onConfirm:A});return n.jsxs(V5,{children:[n.jsx(Yr,{avatar:s!=null?s:e==null?void 0:e.avatar,name:(X=e==null?void 0:e.fullName)!=null?X:"",isMe:!1,type:e==null?void 0:e.user_status,noInfo:!0}),n.jsx(ce,{type:"failure",visible:!!x||!!p,children:x||p}),n.jsx(ir,{files:t,maxFiles:1,formats:["jpeg"],setFiles:i,isActive:!0}),n.jsxs(Be,{direction:"horizontal",children:[(e==null?void 0:e.avatar)&&n.jsx(yt,{isLoading:l,background:C.red.main,completed:a,isActive:g,text:"Удалить фото профиля",action:O,setCompleted:r}),n.jsx(yt,{isLoading:v,completed:h,isActive:D,text:"Обновить",popUpSuccessMessage:"Фото профиля успешно обновлено!",popUpFailureMessage:"Фото не загружено",action:_,setCompleted:m})]})]})},Y5=e=>{const{open:t}=K(),i=()=>{t(n.jsx(q5,{}))};return n.jsx(li,T(b({},e),{onClick:i}))},Kg=e=>e===0?"grey":e<=40?"red":e<=60?"orange":e<=80?"blue":"green",Xg={small:4,middle:9,large:12,big:14},Q5=u.div.withConfig({componentId:"sc-2e6plf-0"})(["width:100%;h5{color:",";}"],({coloring:e,value:t})=>e?C[Kg(t)].main:"var(--text)"),J5=u.div.withConfig({componentId:"sc-2e6plf-1"})(["width:",";border-radius:var(--brLight);height:","px;transition:0.2s;background:",";"],({value:e})=>e+"%",({size:e})=>Xg[e],({coloring:e,value:t,color:i})=>e?C[Kg(t)].main:!e&&i?C[i].main:"var(--block)"),K5=u.div.withConfig({componentId:"sc-2e6plf-2"})(["width:100%;border-radius:var(--brLight);background-color:var(--theme-2);height:","px;overflow:hidden;"],({size:e})=>Xg[e]),Zg=({title:e,value:t,size:i="middle",coloring:s=!0,color:o})=>n.jsxs(Q5,{value:t,coloring:s,children:[n.jsx($,{size:5,align:"left",visible:!!e,bottomGap:!0,children:e}),n.jsx(K5,{size:i,children:n.jsx(J5,{size:i,coloring:s,value:t,color:o})})]}),Xn=7,em=new RegExp(`(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{${Xn+3},})`),tm=new RegExp(`((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{${Xn},}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{${Xn+3},}))`),mc=[{text:`Минимальная длина ${Xn} знаков`,test:e=>e.length>=Xn},{text:"Не повторяет старый пароль",test:(e,t,i)=>i.length>0&&e.length>0&&e!==i},{text:"Состоит из латинских заглавных, строчных букв, цифр",test:e=>tm.test(e)},{text:"Пароли совпадают",visible:!1,test:(e,t)=>e.length>0&&t.length>0&&e===t}],X5=[{text:"Содержит спец. знаки (например, !, $, #, %)",test:e=>em.test(e)}],xc="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",Z5=e=>{let t="";for(let i=0;i<e;i++)t+=xc.charAt(Math.floor(Math.random()*xc.length));return t},eD=e=>em.test(e)?{title:"надежный",value:100}:tm.test(e)?{title:"средний",value:60}:e.length===0?{title:"нет",value:0}:e.length<Xn?{title:"очень слабый",value:10}:{title:"слабый",value:20},tD=u.div.withConfig({componentId:"sc-1r0k6mt-0"})(["display:flex;gap:20px;align-items:center;flex-direction:column;@media (min-width:1001px){flex-direction:row;width:620px;height:400px;}"]),nD=u.form.attrs({autocomplete:!1}).withConfig({componentId:"sc-1r0k6mt-1"})(["display:flex;flex-direction:column;justify-content:space-between;gap:10px;min-height:100%;max-width:280px;width:100%;"]),iD=u.div.withConfig({componentId:"sc-1r0k6mt-2"})(["height:100%;background:var(--theme-1t);border-radius:var(--brLight);padding:16px;display:flex;flex-direction:column;justify-content:space-between;"]),sD=u.div.withConfig({componentId:"sc-1r0k6mt-3"})(["height:100%;gap:8px;display:flex;flex-direction:column;align-items:center;"]),oD=u.div.withConfig({componentId:"sc-1r0k6mt-4"})(["display:flex;align-items:center;gap:8px;"]),aD=u.div.withConfig({componentId:"sc-1r0k6mt-5"})(["display:flex;flex-direction:column;align-items:center;gap:8px;transform:scale(0.9);"]),rD=u.div.withConfig({componentId:"sc-1r0k6mt-6"})(["height:350px;display:flex;flex-direction:column;gap:12px;justify-content:center;align-items:center;@media (max-width:1001px){height:fit-content;}"]),lD=()=>{const[e,t]=d.useState(""),[i,s]=d.useState(""),[o,a]=d.useState(""),[r,l]=d.useState(null),[c,p]=d.useState(!1),[f,g]=d.useState(!1),{isActive:h,validationError:m}=Jg(mc,[i,o,e]),v=eD(i),{close:w}=K(),x=()=>{const D=Z5(12);s(D),a(D)},j=()=>P(void 0,null,function*(){var D;try{p(!0);const _=yield vv(e,i);if(_.data.result!=="ok")throw new Error(_.data.errors);g(!0),p(!1),s(""),a(""),t("")}catch(_){const A=(D=_.message)!=null?D:_;l("Возникла ошибка: "+A),p(!1)}});return n.jsxs(tD,{children:[n.jsxs(iD,{children:[n.jsxs(sD,{children:[n.jsx($,{size:3,align:"left",children:"Смена пароля"}),n.jsx(pe,{width:"100%",align:"left",fontSize:"0.9rem",children:"Обязательные требования"}),n.jsx(Be,{gap:8,direction:"vertical",children:mc.map(D=>n.jsx(wt,{fontSize:"0.85rem",setChecked:()=>null,text:D.text,checked:D.test(i,o,e)},D.text))}),n.jsx(pe,{width:"100%",align:"left",fontSize:"0.9rem",children:"Необязательные требования"}),n.jsx(Be,{gap:8,direction:"vertical",children:X5.map(D=>n.jsx(wt,{fontSize:"0.85rem",setChecked:()=>null,text:D.text,checked:D.test(i,o,e)},D.text))})]}),!h&&n.jsx(S,{width:"100%",text:"Сгенерировать пароль",onClick:x,background:"var(--theme-2)"}),h&&n.jsxs(aD,{children:[n.jsx(Za,{size:"40px"}),n.jsx($,{size:5,children:"Отличный пароль!"})]})]}),n.jsxs(nD,{children:[n.jsxs(rD,{children:[n.jsx(ce,{title:"Ошибка",type:"failure",visible:!!r,children:r}),n.jsx(Ne,{type:"password",title:"Введите старый пароль",placeholder:"Введите пароль",value:e,setValue:t,required:!0}),n.jsx(Ne,{type:"password",title:"Придумайте пароль",placeholder:"Введите новый пароль",value:i,setValue:s,required:!0}),n.jsx(Ne,{type:"password",title:"Повторите пароль",placeholder:"Введите тот же пароль",value:o,setValue:a,required:!0}),n.jsx(Zg,{value:v.value,size:"small",title:`Сложность пароля: ${v.title}`})]}),n.jsxs(oD,{children:[n.jsx(S,{text:"Отменить",width:"100%",onClick:w}),n.jsx(yt,{isLoading:c,completed:f,text:"Обновить",popUpFailureMessage:`Требование к паролю: ${m==null?void 0:m.text}`,action:j,setCompleted:g,height:"38px",isActive:h})]})]})]})},cD=e=>{const{open:t}=K(),i=()=>t(n.jsx(lD,{}));return n.jsx(li,T(b({},e),{onClick:i}))},dD=()=>{var e;const{user:{currentUser:t},settings:i}=H({user:se.user,settings:ve.userSettings});if(!i)return null;const s=i.syncAcrossAllDevices;return n.jsxs(Hi,{children:[n.jsxs("div",{children:[n.jsx($,k(k({},bt),{},{children:"Данные"})),n.jsx(Y5,{title:"Фото профиля",value:t==null?void 0:t.avatar,icon:n.jsx(Lt,{avatar:t==null?void 0:t.avatar,name:(e=t==null?void 0:t.fullName)!==null&&e!==void 0?e:"",width:"22px",height:"22px",marginRight:"0"}),description:"Смена аватара"}),n.jsx(fc,{icon:n.jsx(P0,{}),type:"text",title:"Email",description:hc(t==null?void 0:t.email),value:t==null?void 0:t.email,action:o=>bv(o!=null?o:""),additionalActions:{onSuccess:o=>{fe.update({key:"email",value:o})}}}),n.jsx(fc,{icon:n.jsx(ed,{}),type:"tel",title:"Телефон",description:hc(t==null?void 0:t.phone),value:t==null?void 0:t.phone,action:o=>yv(o!=null?o:""),additionalActions:{onSuccess:o=>{fe.update({key:"phone",value:o})}}}),(t==null?void 0:t.user_status)==="staff"&&n.jsxs(n.Fragment,{children:[n.jsx(R5,{}),n.jsx(B5,{})]}),n.jsx(cD,{icon:n.jsx(A0,{}),type:"password",title:"Пароль",description:"Смена пароля"})]}),n.jsxs("div",{children:[n.jsx($,k(k({},bt),{},{children:"Синхронизация"})),n.jsx(We,{title:"Сохранить для всех устройств",state:s,action:o=>{const a=o?"Вы точно хотите синхронизировать настройки? Текущие настройки будут использоваться на всех устройствах.":"Вы точно хотите отключить синхронизацию настроек на всех устройствах? Настройки на текущем устройстве не изменятся.";it.evokeConfirm({message:a,isSubmitSuccess:o,onConfirm:()=>{Qe.update({syncAcrossAllDevices:o}),it.closeConfirm()}})}})]})]})},pD=()=>{const e=H(ve.userSettings),i=(e==null?void 0:e.appearance.theme)===Fe.Light;return n.jsxs(n.Fragment,{children:[n.jsx($,k(k({},bt),{},{children:"Вид"})),n.jsx(We,{title:"Темная тема",state:!i,action:s=>Vs({isDark:s})})]})},nm=["settings-personal","settings-customize-menu","settings-appearance","settings-home-page","settings-notifications","settings-tutorial"],uD=()=>{var i;const{allRoutes:e}=_t.useMenu(),t=(i=Dn(nl))==null?void 0:i.params;return e?n.jsx(hD,{"data-is-base-settings-page":!(t!=null&&t.id),children:n.jsx(fD,{children:n.jsxs(so,{children:[nm.map(s=>n.jsx(Ti,{path:e[s].path,component:e[s].Component},s)),n.jsx(Ti,{path:"/",children:n.jsx(ri,{height:"100%",children:n.jsx(ke,{text:"Ничего не выбрано",image:n.jsx(Nt,{color:"grey",size:50,children:n.jsx(Fa,{})})})})})]})})}):null},hD=u.div.withConfig({componentId:"sc-10mblme-0"})(["width:100%;height:100%;overflow:hidden;flex-direction:column;display:flex;","{&[data-is-base-settings-page='false']{flex:1;}&[data-is-base-settings-page='true']{display:none;}}"],ee.isMobile),fD=u.div.withConfig({componentId:"sc-10mblme-1"})(["width:100%;height:100%;overflow-y:auto;overflow:hidden;padding:0 32px;","{padding:0;}"],ee.isMobile),gD=Ze(Op),mD=()=>{var i;const{allRoutes:e}=_t.useMenu(),t=(i=Dn(nl))==null?void 0:i.params;return e?n.jsx(vD,{"data-is-base-settings-page":!(t!=null&&t.id),tutorialModule:{id:"settings",step:0},children:nm.map((s,o)=>d.createElement(gD,T(b({},e[s]),{title:e[s].title.slice(11,e[s].title.length),key:s,orientation:"horizontal",shadow:!1,isActive:s===(t==null?void 0:t.id),tutorialModule:{id:"settings",step:o+1}})))}):null},xD=u.div.withConfig({componentId:"sc-1a9mljr-0"})(["display:flex;flex-direction:column;gap:6px;","{&[data-is-base-settings-page='false']{display:none;}&[data-is-base-settings-page='true']{flex:1;}}"],ee.isMobile),vD=Ze(({children:e,forwardedRef:t})=>{var s;const i=(s=Dn(nl))==null?void 0:s.params;return n.jsx(xD,{ref:t,"data-is-base-settings-page":!(i!=null&&i.id),children:e})}),bD=()=>n.jsx(ri,{padding:"10px",children:n.jsx(Dt,{topRightCornerElement:n.jsx(yD,{icon:n.jsx(Yc,{}),text:"Выйти из аккаунта",onClick:()=>{it.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:fe.logout})},textColor:"var(--red)",background:"var(--block)"}),children:n.jsxs(N,{ai:"flex-start",children:[n.jsx(mD,{}),n.jsx(uD,{})]})})}),yD=u(S).withConfig({componentId:"sc-cqv4z9-0"})(["","{.text{display:none;}.icon{margin-right:0;}}"],ee.isMobile),wD=({chats:e,search:t})=>e.filter(i=>{var s;return Ge(((s=i.opponent)==null?void 0:s.name)+i.lastmessage.text+i.lastmessage.datetime+i.subject).includes(Ge(t))}),im=I({name:"setSearch",sid:"-3oydq8"}),sm=M("",{name:"$search",sid:"-rqcw3l"}).on(im,(e,t)=>t),jD=Oe({and:[an.chats.$data,sm,(e,t)=>!t||!e?e:wD({search:t,chats:e})],or:{name:"$foundChats",sid:"-w695fw"}}),_D={setSearch:im},om={search:sm,foundChats:jD},Qr=e=>e?`${e.name} ${e.surname}`:"",Jr=I({name:"resendErrorMessage",sid:"-j6vf9f"}),am=Xs({and:{source:Ve.selectedChatId,effect:e=>P(void 0,null,function*(){if(!e)throw new Error("Чат не выбран");const t=new AbortController;Z({sid:"-ag8f97",fn:()=>$c(()=>{t.abort()}),name:"none",method:"onAbort"});let i=0;for(;i<3;){const{data:s}=yield VI(e,t.signal),o=!(s!=null&&s.map);if(s&&!o)return s.reverse();i++}throw new Error("Не удалось загрузить сообщения")})},or:{name:"getChatMessagesFx",sid:"-vtascx"}}),kD=Xs({and:{source:[Ve.selectedChatId,se.user],effect:(s,o)=>P(void 0,[s,o],function*([e,t],i){if(!e)throw new Error("Чат не выбран");const a=t.currentUser,r=yield Du(T(b({},i),{chatId:e}));return T(b({},r),{currentUser:a})})},or:{name:"addChatMessageFx",sid:"-8xd7jw"}}),Ln=Z({sid:"4jrlxz",fn:()=>Ce({handler:kD}),name:"addMessageMutation",method:"createMutation"}),zn=Z({sid:"vwkfuy",fn:()=>Et({handler:am,enabled:ku.$visible}),name:"chatMessagesQuery",method:"createQuery"});Z({sid:"-8klqd8",fn:()=>zc(zn,{strategy:"TAKE_LATEST"}),name:"none",method:"concurrency"});Z({sid:"-87eo4k",fn:()=>Rc(zn,{adapter:Z({sid:"53m8po",fn:()=>Mc({maxEntries:10,maxAge:"60sec"}),name:"adapter",method:"sessionStorageCache"}),purge:fe.logout}),name:"none",method:"cache"});y({and:[{clock:Ve.selectedChatId,target:zn.reset}],or:{sid:"-83k3z1"}});const{tick:CD}=Z({sid:"-eto2mu",fn:()=>Fc({timeout:6e4,start:va.set,stop:fe.logout}),name:"none",method:"interval"});y({and:[{clock:CD,target:zn.start}],or:{sid:"-7lyozh"}});const Ui=M({},{name:"$inProgressChatsMessages",sid:"t11gzj"}),Wi=M({},{name:"$errorChatsMessages",sid:"6cq9m2"}),SD=Oe({and:[Ui,Ve.selectedChatId,(e,t)=>{var i;return(i=e[t!=null?t:""])!=null?i:[]}],or:{name:"$inProgressChatMessages",sid:"-uvi455"}}),rm=Oe({and:[Wi,Ve.selectedChatId,(e,t)=>{var i;return(i=e[t!=null?t:""])!=null?i:[]}],or:{name:"$errorChatMessages",sid:"-pm9xmc"}}),Kr=M({},{name:"$isFirstFetchedChats",sid:"7ddxse"}).on(am.done,(e,{params:t})=>{const i=t;return e[i.id]?e:T(b({},e),{[i.id]:!0})}),ID=Oe({and:[Kr,Ve.selectedChatId,(e,t)=>{var i;return(i=e[t!=null?t:""])!=null?i:!1}],or:{name:"$isFirstFetched",sid:"-kgmmld"}});y({and:[{clock:se.user,target:Kr.reinit}],or:{sid:"rijqk5"}});y({and:[{clock:Ln.started,source:{inProgressChatsMessages:Ui,user:se.user},fn:({inProgressChatsMessages:e,user:t},{params:i})=>{var s,o,a,r;return T(b({},e),{[i.chatId]:[...(s=e[i.chatId])!=null?s:[],{datetime:Ji(Date.now()),html:i.text,readed:!1,readed_opponent:!1,files:(o=i.files)!=null?o:[],author_id:(r=(a=t.currentUser)==null?void 0:a.id.toString())!=null?r:"",author_name:Qr(t.currentUser),msg_id:i.localId}]})},target:Ui}],or:{sid:"rkqwxl"}});y({and:[{clock:Ln.finished.finally,source:Ui,fn:(e,{params:t})=>T(b({},e),{[t.chatId]:e[t.chatId].filter(({msg_id:i})=>i!==t.localId)}),target:Ui}],or:{sid:"sys6xg"}});y({and:[{clock:Ln.finished.failure,source:{errorChatsMessages:Wi,user:se.user},fn:({errorChatsMessages:e,user:t},{params:i})=>{var s,o,a,r;return T(b({},e),{[i.chatId]:[...(s=e[i.chatId])!=null?s:[],{datetime:Ji(Date.now()),html:i.text,readed_opponent:!1,readed:!0,files:(o=i.files)!=null?o:[],author_id:(r=(a=t.currentUser)==null?void 0:a.id.toString())!=null?r:"",author_name:Qr(t.currentUser),msg_id:i.localId}]})},target:Wi}],or:{sid:"tu4gr1"}});y({and:[{clock:Jr,source:{errorChatMessages:rm,chatId:Ve.selectedChatId},filter:({errorChatMessages:e},{msg_id:t})=>!!e.some(({msg_id:i})=>i===t),fn:({errorChatMessages:e,chatId:t},{msg_id:i})=>{var o,a;const s=e.find(({msg_id:r})=>r===i);return{chatId:t,localId:i,text:(o=s==null?void 0:s.html)!=null?o:"",files:(a=s==null?void 0:s.files)!=null?a:[]}},target:Ln.start}],or:{sid:"uwm2ab"}});y({and:[{clock:Jr,source:{errorChatsMessages:Wi,chatId:Ve.selectedChatId},filter:({chatId:e})=>!!e,fn:({chatId:e,errorChatsMessages:t},{msg_id:i})=>T(b({},t),{[e]:t[e].filter(({msg_id:s})=>s!==i)}),target:Wi}],or:{sid:"-sfbl67"}});Z({sid:"-rf160d",fn:()=>Ra(zn,{on:Ln,by:{success:({query:e,mutation:t})=>{var i,s,o;if(e&&"result"in e){const{currentUser:a}=t.result,r={datetime:Ji(Date.now()),html:t.params.text,readed:!0,readed_opponent:!1,files:(s=(i=t.params.files)==null?void 0:i.map(l=>({name:l.name,url:""})))!=null?s:[],author_id:(o=a==null?void 0:a.id.toString())!=null?o:"",author_name:Qr(a),msg_id:t.params.localId};return{result:[...e.result,r],refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});Z({sid:"-pjy9mb",fn:()=>Ra(an.chats,{on:Ln,by:{success:({query:e,mutation:t})=>{var i,s;if(e&&"result"in e){const o={datetime:Ji(Date.now()),html:t.params.text,readed:!0,readed_opponent:!0,files:(s=(i=t.params.files)==null?void 0:i.map(a=>({name:a.name,url:""})))!=null?s:[],from:"you",text:An(t.params.text,{allowedTags:[]})};return{result:e.result.map(a=>a.id===t.params.chatId?T(b({},a),{lastmessage:o}):a),refetch:!0,error:null}}return{result:null,refetch:!0,error:null}}}}),name:"none",method:"update"});y({and:[{clock:Ve.selectedChat,filter:Boolean,target:zn.refresh}],or:{sid:"-dqdict"}});const Ks={chatMessages:zn},lm={addMessage:Ln},Gi={errorChatMessages:rm,inProgressChatMessages:SD,isFirstFetched:ID,isFirstFetchedChats:Kr},TD={resendErrorMessage:Jr},cm=I({name:"changed",sid:"y46nz0"}),dm=I({name:"sended",sid:"-67181"}),Vi=M({},{name:"$chatsMessage",sid:"wydyrf"});y({and:[{clock:cm,source:{selectedChatId:Ve.selectedChatId,chatsMessage:Vi},filter:({selectedChatId:e})=>!!e,fn:({chatsMessage:e,selectedChatId:t},i)=>T(b({},e),{[t]:i}),target:Vi}],or:{sid:"59yzc0"}});const pm=Oe({and:[Vi,Ve.selectedChatId,(e,t)=>{var i;return t?(i=e[t])!=null?i:{text:"",files:[]}:{text:"",files:[]}}],or:{name:"$currentMessage",sid:"-y9pnxk"}});y({and:[{clock:dm,source:{message:pm,chatId:Ve.selectedChatId},fn:({chatId:e,message:t})=>T(b({chatId:e},t),{localId:new Date().getTime().toString()}),target:lm.addMessage.start}],or:{sid:"jtinwe"}});y({and:[{clock:lm.addMessage.started,source:{selectedChatId:Ve.selectedChatId,chatsMessage:Vi},filter:({selectedChatId:e})=>!!e,fn:({chatsMessage:e,selectedChatId:t})=>T(b({},e),{[t]:{text:"",files:[]}}),target:Vi}],or:{sid:"kr243f"}});const ED={currentMessage:pm},ks={changed:cm,sended:dm},PD=Oe({and:[Ks.chatMessages.$data,Gi.errorChatMessages,Gi.inProgressChatMessages,(e,t,i)=>[...e!=null?e:[],...t.map(s=>T(b({},s),{status:"error"})),...i.map(s=>T(b({},s),{status:"inProgress"}))]],or:{name:"$allChatMessages",sid:"-9487ro"}}),AD={messages:PD},DD=J(e=>P(void 0,null,function*(){var r;const{search:t="",page:i,limit:s,filter:o}=e,{data:a}=yield md(t,(r=o==null?void 0:o.id.toString())!=null?r:"",i,s);return{results:a.items}}),{name:"getFetchStudentsFx",sid:"-93w3z"}),vc=wh({getFx:DD,limit:50}),um=I({name:"setSearchMode",sid:"-4x5h57"}),ND=M(null,{name:"$searchMode",sid:"-gp6rgs"}).on(um,(e,t)=>t),OD={searchMode:ND},bc={setSearchMode:um},na=[{title:"Сотрудники",id:"employee"},{title:"Студенты",id:"student"},{title:"Группа",id:"group"}],LD=()=>{const[e,t]=H([se.user,OD.searchMode]),{open:i}=K(),[s,o]=d.useState(""),{$items:a,$isPending:r}=H(Us),{$items:l,$isPending:c}=H(vc);return d.useEffect(()=>{e.currentUser&&bc.setSearchMode(e.currentUser.user_status==="stud"?"employee":"student")},[e.currentUser]),d.useEffect(()=>{o("")},[t]),e.currentUser?n.jsxs(zD,{children:[n.jsx(Co,{pages:na,currentPage:na.findIndex(({id:p})=>p===t),setCurrentPage:p=>bc.setSearchMode(na[p].id),appearance:!1}),t=="student"&&n.jsx(at,{load:function(){},loading:c,error:null,data:l,children:n.jsx(Ca,{searchPlaceholder:"Поиск студентов",paginationList:vc,filterRequest:aa,filterPlaceholder:"Группа",defaultFilter:"",customMask:mn.groupMask})}),t=="employee"&&n.jsx(at,{load:function(){},loading:r,error:null,data:a,children:n.jsx(Ca,{searchPlaceholder:"Поиск сотрудников",paginationList:Us,filterRequest:ao,defaultFilter:"",filterPlaceholder:"Подразделения"})}),t=="group"&&n.jsx(Er,{width:"100%",leftIcon:n.jsx(io,{}),placeholder:"Номер группы",value:s,setValue:o,customMask:mn.groupMask,onHintClick:p=>{i(n.jsx(Ur,{group:p.id}),"Группа")},request:aa,size:"big"})]}):null},zD=u.div.withConfig({componentId:"sc-1d1vs0j-0"})(["display:flex;flex-direction:column;gap:8px;min-height:700px;min-width:50dvw;"]),RD=u.button.withConfig({componentId:"sc-dpors2-0"})(["width:fit-content;padding:0 12px;height:36px;background:var(--search);border-radius:var(--brLight);display:flex;align-items:center;gap:8px;border:none;font-weight:500;cursor:pointer;color:var(--text);svg{width:18px;height:18px;}&:hover{filter:brightness(0.98);}"]),MD=({forwardedRef:e})=>{const{open:t}=K(),i=()=>{t(n.jsx(LD,{}),"Новое сообщение")};return n.jsxs(RD,{ref:e,onClick:i,children:[n.jsx(D0,{}),"Написать"]})},FD=Ze(MD),$D=u.div.withConfig({componentId:"sc-ldtz4l-0"})(["display:",";padding:8px;border-radius:6px;background:",";color:#fff;font-weight:600;align-items:center;justify-content:center;font-size:0.7rem;"],({visible:e})=>e?"flex":"none",C.red.light1),hm=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"numeric",minute:"numeric"}),BD=({lastMessage:e})=>e.from==="you"?e.readed_opponent?n.jsx(Js,{direction:"left",text:"Прочитано",children:n.jsx(td,{})}):n.jsx(Js,{direction:"left",text:"Отправлено",children:n.jsx(nd,{})}):null,HD=u(de).withConfig({componentId:"sc-1319ptr-0"})(["text-decoration:none;.chat-item-content{display:flex;align-items:center;justify-content:center;width:100%;height:76px;color:",";padding:0 20px;background:",";overflow:hidden;position:relative;&:hover{filter:brightness(0.95);}.name-and-message{display:flex;flex-direction:column;justify-content:center;width:100%;min-width:250px;.subject{font-size:0.67em;opacity:0.85;background:var(--almostTransparent);padding:2px 4px;border-radius:4px;font-weight:600;width:fit-content;}& b{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:0.85em;font-weight:500;}.last-message{width:100%;font-size:0.75em;opacity:0.7;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}.sent-time{min-height:30px;width:100%;display:flex;align-items:flex-start;justify-content:flex-end;font-size:0.8em;opacity:0.6;font-weight:500;}}"],({isChosen:e})=>e?"#fff":"var(--text)",({isChosen:e})=>e?C.blue.main:"var(--block-content)");function fm({size:e,marginRight:t}){return n.jsx(Nt,{marginRight:t,borderRadius:"100%",size:e!=null?e:25,color:"lightBlue",children:n.jsx(io,{})})}const UD=u($D).withConfig({componentId:"sc-2lmu2t-0"})(["min-width:20px;width:20px;height:20px;border-radius:100%;"]),WD=e=>{const t=new Date(e);return new Date().getTime()-t.getTime()>36e5*24?t.toLocaleDateString("ru-RU"):hm(t)},GD=e=>{var c,p,f,g,h,m;const t=(c=Dn(qi))==null?void 0:c.params,i=H(Gi.isFirstFetchedChats),s={name:(f=(p=e.opponent)==null?void 0:p.name)!=null?f:"",avatar:(h=(g=e.opponent)==null?void 0:g.avatar)!=null?h:"",width:"40px",height:"40px",marginRight:"12px",notifications:void 0},o=e.lastmessage.from==="you"?"Вы: "+e.lastmessage.text:e.lastmessage.text,a=e.subject.split(" ")[0]==="Группе"&&e.lastmessage.from==="you",r=WD(e.lastmessage.datetime),l=!!i[e.id];return n.jsx(HD,{to:Rn+`/${e.id}`,isChosen:(t==null?void 0:t.chatId)===e.id,isOpen:!0,children:n.jsxs("div",{className:"chat-item-content",children:[a?n.jsx(fm,{size:40,marginRight:"7px"}):n.jsx(Lt,b({},s)),n.jsx(n.Fragment,{children:n.jsxs("div",{className:"name-and-message",children:[e.subject&&n.jsx("span",{className:"subject",children:e.subject}),((m=e.opponent)==null?void 0:m.name)&&n.jsxs(N,{jc:"space-between",w:"100%",gap:"8px",children:[n.jsx("b",{children:e.opponent.name}),n.jsxs(N,{gap:"4px",w:"fit-content",children:[n.jsx(BD,{lastMessage:e.lastmessage}),n.jsx(pe,{fontSize:"0.7rem",children:r})]})]}),n.jsxs(N,{gap:"6px",children:[n.jsx("div",{className:"last-message",children:o}),n.jsx(UD,{visible:!e.lastmessage.readed&&!l,children:"1"})]})]})})]})})},VD=u.div.withConfig({componentId:"sc-1nhr3r-0"})(["display:flex;align-items:center;padding:10px;.name-and-message{display:flex;flex-direction:column;justify-content:center;}"]),St=()=>n.jsxs(VD,{children:[n.jsx(ne,{shape:"circle",size:{width:"40px",height:"40px"},margin:"0 7px 0 0"}),n.jsxs("div",{className:"name-and-message",children:[n.jsx(ne,{shape:"rect",size:{width:"150px",height:"12px"},margin:"2px 0"}),n.jsx(ne,{shape:"rect",size:{width:"70px",height:"10px"},margin:"0"})]})]}),qD=e=>P(void 0,null,function*(){const t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.href=t,i.setAttribute("download",e.name),document.body.appendChild(i),i.click()}),YD={pdf:n.jsx(N0,{color:"#c54646"}),docx:n.jsx(Ps,{}),doc:n.jsx(Ps,{}),jpeg:n.jsx(Vo,{}),jpg:n.jsx(Vo,{}),png:n.jsx(Vo,{})},QD=({file:e,isYourMessage:t})=>{var o,a;const i=(o=e.name.split(".").pop())!=null?o:"doc",s=r=>{r.stopPropagation(),"url"in e&&e.url&&window.open(e.url,"_blank"),e instanceof File&&qD(e)};return n.jsx(JD,{onClick:s,children:n.jsxs("div",{className:"file-body",children:[n.jsx("div",{className:"image-container",children:(a=YD[i])!=null?a:n.jsx(Ps,{})}),n.jsx("div",{className:"name-and-size",children:n.jsx("b",{className:"file-name",style:{color:t?C.white.main:"var(--text)"},children:e.name})})]})})},JD=u.div.withConfig({componentId:"sc-zdi5bn-0"})(["width:100%;padding:6px;display:flex;justify-content:space-between;align-items:center;background:",";border-radius:var(--brLight);overflow:hidden;cursor:pointer;&:hover{filter:brightness(0.95);}.file-body{display:flex;gap:8px;align-items:center;cursor:pointer;.name-and-size{display:flex;flex-direction:column;.file-name{font-size:0.8em;word-break:break-all;font-weight:500;}}.image-container{padding:8px;display:flex;align-items:center;justify-content:center;background:var(--theme);border-radius:var(--brLight);svg{width:20px;height:20px;}}}"],C.grey.transparent2),KD=({message:e})=>n.jsxs(N,{gap:"8px",d:"column",children:[n.jsx(S,{text:"Копировать",icon:n.jsx(O0,{}),width:"100%",align:"left",background:"transparent",onClick:()=>{var t;navigator.clipboard.writeText((t=An(e.html,{allowedTags:[]}))!=null?t:""),Ke.close(),Y.evokePopUpMessage({message:"Сообщение скопировано",type:"info"})}}),e.status==="error"&&n.jsx(S,{text:"Повторить",icon:n.jsx(L0,{}),width:"100%",align:"left",background:"transparent",onClick:()=>{TD.resendErrorMessage(e),Ke.close()}})]}),XD=({message:e})=>{var i,s;const[t]=H([se.user]);return e.status==="inProgress"?n.jsx(Xc,{className:"icon"}):e.status==="error"?n.jsx(za,{className:"icon red"}):e.author_id===((i=t==null?void 0:t.currentUser)==null?void 0:i.id.toString())&&e.readed_opponent||e.author_id!==((s=t==null?void 0:t.currentUser)==null?void 0:s.id.toString())?n.jsx(Js,{text:"Прочитано",direction:"left",children:n.jsx(td,{className:"icon"})}):n.jsx(Js,{text:"Отправлено",direction:"left",children:n.jsx(nd,{className:"icon"})})};function ZD(e){return e.replace(/(https?:\/\/[^\s|)|<]+)/g,'<a href="$1">$1</a>')}const eN=({name:e,message:t,isLast:i})=>{var c;const[s]=H([se.user]),o=hm(t.datetime),{isMobile:a}=He(),r=t.author_id===((c=s.currentUser)==null?void 0:c.id.toString()),l=p=>{"tagName"in p.target&&p.target.tagName==="A"||Ke.open({e:p,content:n.jsx(KD,{message:t}),height:70})};return n.jsx(tN,{onClick:a?l:void 0,isYourMessage:r,isLast:i,onContextMenu:l,children:n.jsxs("div",{className:"name-and-message",children:[n.jsx("div",{className:"name-and-time",children:n.jsx("b",{children:e})}),n.jsx("span",{className:"message",dangerouslySetInnerHTML:{__html:An(ZD(t.html))}}),!!t.files.length&&n.jsx(N,{d:"column",className:"files",gap:"4px",children:t.files.map(p=>n.jsx(QD,{isYourMessage:r,file:p},p.name))}),n.jsxs(N,{jc:"flex-end",gap:"4px",h:"2px",children:[n.jsx(pe,{fontSize:"0.65rem",children:o}),n.jsx(XD,{message:t})]})]})})},tN=u.div.withConfig({componentId:"sc-1wk8wcw-0"})(["display:flex;align-items:flex-end;padding:",";.message-avatar{width:32px;height:32px;position:sticky;bottom:0px;top:0px;}.name-and-message{display:flex;flex-direction:column;gap:8px;background:",";color:",";padding:12px;border-radius:",";margin-left:16px;max-width:430px;width:100%;position:relative;&::before{content:'';display:",";position:absolute;width:12px;height:17px;bottom:0px;left:-12px;background:",";}&::after{content:'';display:",";position:absolute;width:16px;height:25px;bottom:0px;left:-16px;border-radius:0 0 30px;background:var(--block);}a{text-decoration:underline;color:",";}.name-and-time{b{color:",";font-size:0.8em;margin-bottom:5px;margin-right:10px;font-weight:600;}span{font-size:0.7em;opacity:0.8;}}.message{font-size:0.85em;word-break:break-word;line-height:1.3rem;ul,li{margin-left:1em;}& p{line-height:1.4rem;}}.red{color:",";}}@media (max-width:1000px){.name-and-message{max-width:80%;}}"],({isLast:e})=>e?"4px 0 4px 0":"4px 0",({isYourMessage:e})=>e?"var(--reallyBlue)":"var(--message-item)",({isYourMessage:e})=>e?"#fff":"var(--text)",({isLast:e})=>e?"10px 10px 10px 0":"10px",({isLast:e})=>e?"block":"none",({isYourMessage:e})=>e?"var(--reallyBlue)":"var(--message-item)",({isLast:e})=>e?"block":"none",({isYourMessage:e})=>e?"#fff":"",({isYourMessage:e})=>e?"#fff":"var(--text)",C.red.main),nN=({forwardedRef:e})=>{const[t,i,s]=H([an.chats.$pending,om.foundChats,Su.isFirstFetched]);return t&&!s?n.jsxs(yc,{children:[n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{}),n.jsx(St,{})]}):n.jsxs(yc,{ref:e,children:[!(i!=null&&i.length)&&n.jsx($,{size:3,children:"Нет чатов"}),i==null?void 0:i.map(o=>d.createElement(GD,T(b({},o),{key:o.id})))]})},yc=u.div.withConfig({componentId:"sc-1eual6l-0"})(["overflow-y:auto;height:100%;"]),iN=()=>{var c,p,f,g,h,m,v;const[e,t,i]=H([Ve.selectedChat,an.chats.$pending,Su.isFirstFetched]),s=d.useRef(null),o=ut(),a=()=>{o.push(Rn)},r=((c=e==null?void 0:e.opponent)==null?void 0:c.status)==="сотрудник",l=t&&!i;return n.jsxs(sN,{ref:s,children:[n.jsx(S,{icon:n.jsx(z0,{}),onClick:a,background:"transparent"}),(((p=e==null?void 0:e.opponent)==null?void 0:p.id)||l)&&n.jsx(ds,{id:(f=e==null?void 0:e.opponent)==null?void 0:f.id,type:r?"staff":"stud",avatar:(g=e==null?void 0:e.opponent)==null?void 0:g.avatar,name:(m=(h=e==null?void 0:e.opponent)==null?void 0:h.name)!=null?m:"",loading:l,group:r||(v=e==null?void 0:e.opponent)==null?void 0:v.data}),!l&&!!(e!=null&&e.subject.length)&&n.jsxs(N,{gap:"8px",w:"fit-content",children:[n.jsx(fm,{}),n.jsx(pe,{style:{color:"var(--text)",whiteSpace:"nowrap"},children:e==null?void 0:e.subject})]})]})},sN=u.div.withConfig({componentId:"sc-n06mxd-0"})(["width:100%;height:50px;display:flex;align-items:center;padding:8px 10px;position:relative;border-bottom:1px solid #00000024;background:var(--block-content);"]),wc=e=>{e!=null&&e.current&&e.current.scrollTo({top:e.current.scrollHeight,behavior:"auto"})},oN=()=>{const e=d.useRef(null),t=d.useRef(!1),[i,s,o,a,r]=H([Ks.chatMessages.$data,Ks.chatMessages.$pending,Gi.isFirstFetched,Gi.inProgressChatMessages,Ve.selectedChatId]),l=s&&!o;return d.useLayoutEffect(()=>{if(!e.current)return;const c=e.current.scrollTop+e.current.clientHeight>=e.current.scrollHeight;i&&(!t.current||c)&&!l&&wc(e)},[i]),d.useEffect(()=>{t.current=!1},[r]),d.useEffect(()=>{if(e.current){const c=()=>{t.current||(t.current=!0)};return e.current.addEventListener("scroll",c),()=>{var p;(p=e.current)==null||p.removeEventListener("scroll",c)}}},[]),d.useEffect(()=>{wc(e)},[a,i==null?void 0:i.length]),n.jsx(aN,{"data-is-loading":l,ref:e,children:l?n.jsx(kt,{}):n.jsx(pN,{})})},aN=u.div.withConfig({componentId:"sc-1pr0rlx-0"})(["width:100%;position:relative;overflow-y:auto;flex:1;padding:10px;.loading-circle{max-height:40px;}&[data-is-loading='true']{display:flex;justify-content:center;align-items:center;}@media (max-width:1000px){button{position:fixed;right:20px;bottom:70px;border-radius:100%;}}"]),rN=({chat:e,currentUser:t,messages:i})=>{const s={};let o=0,a="";return i.forEach((r,l,c)=>{var p,f;(((p=c[l-1])==null?void 0:p.author_name)!==r.author_name||he(c[l-1].datetime)!==he(r.datetime)||!c[l-1])&&o++,s[o]?s[o].messages.push(r):(s[o]={messages:[r],avatar:((f=e.opponent)==null?void 0:f.id)!==r.author_id.toString()?t.avatar:e.opponent.avatar,date:he(r.datetime)!==a?he(r.datetime):null},a=he(r.datetime))}),s},lN=u.div.withConfig({componentId:"sc-14w8ekg-0"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;color:var(--text);opacity:0.5;font-weight:500;font-size:0.86em;gap:4px;svg{width:100px;height:100px;}"]),gm=({message:e="Выберите чат"})=>n.jsxs(lN,{children:[n.jsx(R0,{}),n.jsx("span",{children:e})]}),cN=u.div.withConfig({componentId:"sc-1qy6g0w-0"})(["margin-top:30px;margin-bottom:10px;color:var(--text);position:sticky;top:10px;z-index:10;display:flex;align-items:center;justify-content:center;span{background:var(--theme);padding:6px 12px;border-radius:var(--brSemi);display:inline-block;font-weight:500;font-size:0.8rem;color:var(--theme-mild-opposite);}"]),dN=({date:e})=>e?n.jsx(cN,{children:n.jsx("span",{children:e})}):null,pN=()=>{const{open:e}=K(),[t,i,s,o]=H([AD.messages,Ve.selectedChat,Ks.chatMessages.$pending,se.user]),a=r=>{var l,c,p,f,g;!i||r.author_id===((l=o==null?void 0:o.currentUser)==null?void 0:l.id.toString())||e(((c=i==null?void 0:i.opponent)==null?void 0:c.status)==="сотрудник"?n.jsx($g,b({},i.opponent)):n.jsx(Fg,T(b({},i==null?void 0:i.opponent),{id:(p=i.opponent)==null?void 0:p.id,name:(g=(f=i.opponent)==null?void 0:f.name)!=null?g:""})))};return!i||!o||!t?null:n.jsxs(uN,{children:[(t==null?void 0:t.length)===0&&!s&&n.jsx(gm,{message:"Нет сообщений"}),Object.values(rN({chat:i,messages:t,currentUser:o.currentUser})).map(r=>n.jsxs(me.Fragment,{children:[n.jsx(dN,{date:r.date}),n.jsxs("div",{className:"messages-section",children:[n.jsx("div",{className:"message-avatar",children:n.jsx(Lt,{name:r.messages[0].author_name.split(" ").reverse().join(" "),avatar:r.avatar,width:"32px",height:"32px",marginRight:"0",onClick:()=>a(r.messages[0])})}),n.jsx("div",{className:"messages",children:r.messages.map((l,c)=>n.jsx(eN,{name:l.author_name,message:l,isLast:c===r.messages.length-1},l.msg_id))})]})]},r.date+i.id+r.messages[0].msg_id))]})},uN=u.div.withConfig({componentId:"sc-90i0cx-0"})(["padding:20px 5px;min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;.messages-section{position:relative;display:flex;align-items:flex-end;width:100%;.messages{width:100%;}}.message-avatar{width:32px;height:32px;position:sticky;bottom:7px;margin-bottom:10px;cursor:pointer;}@media (max-width:1000px){padding:10px 0px;}"]);u.div.withConfig({componentId:"sc-93e00n-0"})(["@media (min-width:1001px){width:500px;height:500px;}"]);const hN=Ze(nN),fN=Ze(s=>{var o=s,{forwardedRef:e,children:t}=o,i=lt(o,["forwardedRef","children"]);return n.jsx(N,T(b({ref:e},i),{children:t}))}),gN=()=>{var i;const e=(i=Dn(qi))==null?void 0:i.params,{search:t}=H(om);return n.jsxs(mN,{isOpen:!0,chatId:e==null?void 0:e.chatId,children:[n.jsxs(xN,{children:[n.jsx($,{size:3,align:"left",children:"Чаты"}),n.jsx(FD,{tutorialModule:{id:"chat",step:1}})]}),n.jsx(fN,{gap:"4px",p:"0 14px",d:"column",tutorialModule:{id:"chat",step:2},children:n.jsx(ii,{value:t,setValue:_D.setSearch,placeholder:"Поиск чатов"})}),n.jsx(_e,{margin:"10px auto"}),n.jsx(hN,{tutorialModule:{id:"chat",step:0}})]})},mN=u.div.withConfig({componentId:"sc-csffye-0"})(["min-width:",";width:",";transition:0.2s width,0.2s min-width,0.2s padding,0.2s opacity;height:100%;color:var(--text);border-radius:20px 0 0 20px;overflow:hidden;border-right:1px solid #00000018;display:flex;flex-direction:column;background:var(--block-content);","{padding:0;border-radius:0;width:",";min-width:",";opacity:",";}"],({isOpen:e})=>e?"350px":"115px",({isOpen:e})=>e?"350px":"115px",ee.isTablet,({chatId:e})=>e?"0":"100%",({chatId:e})=>e?"0":"100%",({chatId:e})=>e?"0":"1"),xN=u.div.withConfig({componentId:"sc-csffye-1"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;padding:14px;.collapse-button{min-width:30px;height:30px;padding:2px;background:transparent;svg{width:17px;height:17px;}}@media (max-width:1000px){.collapse-button{display:none;}}"]);u.div.withConfig({componentId:"sc-csffye-2"})(["display:flex;flex-direction:row;gap:8px;"]);const vN=()=>{const[e,t]=H([ED.currentMessage,Ve.selectedChat]),i=s=>{ks.changed(T(b({},e),{files:[...e.files,...s]}))};return t!=null&&t.subject&&t.lastmessage.from==="opponent"?null:n.jsxs(bN,{children:[n.jsxs(yN,{children:[n.jsx(Au,{setFiles:i}),n.jsx(Pu,{value:e.text,setValue:s=>ks.changed(T(b({},e),{text:s})),placeholder:"Введите сообщение..."},t==null?void 0:t.id),n.jsx(S,{icon:n.jsx(Bc,{}),onClick:()=>ks.sended(),background:"transparent",isActive:!!An(e.text,{allowedTags:[]}).trim()})]}),n.jsx(wN,{hideHeader:!0,files:e.files,setFiles:s=>{ks.changed(T(b({},e),{files:s}))}})]})},bN=u.div.withConfig({componentId:"sc-1wrnb99-0"})(["display:flex;flex-direction:column;background:var(--block-content);padding:8px 16px;border-top:1px solid #00000018;gap:8px;max-width:100%;"]),yN=u.div.withConfig({componentId:"sc-1wrnb99-1"})(["display:flex;align-items:flex-end;gap:8px;"]),wN=u(nr).withConfig({componentId:"sc-1wrnb99-2"})(["padding:0 48px 0 46px;","{padding:0;}"],ee.isMobile),jN=()=>n.jsxs(_N,{children:[n.jsx(iN,{}),n.jsx(oN,{}),n.jsx(vN,{})]}),_N=u.div.withConfig({componentId:"sc-1xn0ric-0"})(["width:100%;display:flex;flex-direction:column;position:relative;border-radius:20px;& > img{position:absolute;width:200px;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.4;}"]),jc=()=>{var e;const t=(e=Dn(qi))===null||e===void 0?void 0:e.params,{data:i}=H(an.chats);return d.useEffect(()=>{$I.load()},[]),d.useEffect(()=>{if(!(t!=null&&t.chatId)){va.reset();return}va.set(t.chatId)},[t==null?void 0:t.chatId,i]),n.jsxs(kN,{children:[n.jsx(gN,{}),!(t!=null&&t.chatId)&&n.jsx(gm,{}),n.jsx(so,{children:n.jsx(Ti,{path:qi,children:n.jsx(jN,{})})})]})},kN=u.div.withConfig({componentId:"sc-182b33p-0"})(["display:flex;height:90%;max-width:1100px;margin:40px auto;background:var(--block);box-shadow:var(--very-mild-shadow);border-radius:12px;overflow:hidden;","{margin:0;height:100%;border-radius:0;max-width:100%;}"],ee.isSmallTesktop),CN=()=>{const[e,t]=H([Me.tutorials,se.user]);if(!e)return null;const i=Object.values(e).filter(r=>{var l;return r.roles.includes(((l=t==null?void 0:t.currentUser)==null?void 0:l.user_status)||"")}).filter(r=>r.name),s=Object.keys(i).length,o=Object.values(i).reduce((r,l)=>l.completed?r+1:r,0),a=Math.round(o/s*100);return n.jsx(Zg,{value:a,size:"small",title:`Пройдено: ${o}/${s}`,coloring:!1,color:"green"})},SN=i=>{var s=i,{action:e}=s,t=lt(s,["action"]);const{isMobile:o,isTablet:a}=He();return n.jsx(li,T(b({},t),{onClick:e,icon:t.completed?n.jsx(M0,{}):n.jsx(Zc,{}),rightIcon:n.jsx(Pt,{}),fancyBG:!o&&!a}))},IN=e=>Object.entries(e),TN=()=>{const e=ut(),[t,i,s,o,a]=H([Me.tutorials,Me.tutorialState,Ie.tutorialEnabled,Ie.moduleRestarted,se.user]);return t?n.jsxs("div",{children:[n.jsx($,T(b({},bt),{bottomGap:"8px",children:"Запустить программу обучения"})),n.jsx(EN,{children:IN(t).sort((r,l)=>r[1].index-l[1].index).filter(([,r])=>{var l;return r.roles.includes(((l=a==null?void 0:a.currentUser)==null?void 0:l.user_status)||"")}).map(([r,l])=>{if(l.name)return n.jsx(SN,{completed:l.completed,action:()=>{l.completed&&o(r),i||s(!0),e.push(l.path)},title:l.name,type:"link"},r)})})]}):null},EN=u.div.withConfig({componentId:"sc-146j841-0"})(["display:flex;flex-direction:column;gap:4px;"]),PN=()=>{const[e,t,i,s,o,a,r]=H([Me.tutorialState,Ie.tutorialEnabled,Ie.clearProgress,Ie.getTutorialData,Ie.sync,Ij.syncMutation.$pending,Ie.clearAll]);d.useEffect(()=>{s()},[]);const l=H(it.evokeConfirm),[c,p]=d.useState(navigator.onLine),[f,g]=d.useState(!1),h=()=>{g(!0),p(navigator.onLine),navigator.onLine&&o(JSON.parse(localStorage.getItem(Wn)||""))};return d.useEffect(()=>(window.addEventListener("online",h),window.addEventListener("offline",h),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",h)}),[]),e===null?n.jsxs(Hi,{children:[n.jsx($,k(k({},bt),{},{bottomGap:"4px",children:"Общее"})),n.jsx(We,{title:"Обучение",state:!!e,action:m=>t(m)})]}):n.jsxs(Hi,{children:[f&&(c?a?n.jsx($,{icon:n.jsx(DN,{}),size:4,align:"left",iconColor:C.orange.main,style:{color:C.orange.main},children:"Синхронизация"}):n.jsx($,{icon:n.jsx($0,{}),iconColor:"var(--greenMain)",size:4,align:"left",style:{color:"var(--greenMain)"},children:"Синхронизировано"}):n.jsx($,{size:4,align:"left",style:{color:C.red.main},children:"Нет подключения к интернету"})),n.jsxs("div",{children:[n.jsx($,k(k({},bt),{},{bottomGap:"4px",children:"Общее"})),n.jsx(We,{title:"Обучение",state:!!e,action:m=>t(m)}),n.jsx(CN,{})]}),n.jsx(TN,{}),n.jsxs("div",{children:[n.jsx($,k(k({},bt),{},{bottomGap:"4px",children:"Необратимые действия"})),n.jsx(_c,{onClick:()=>{l({message:"Прогресс обучения будет сброшен. Вы хотите продолжить?",onConfirm:()=>{i(),it.closeConfirm()}})},text:"Сбросить прогресс",background:C.red.main,textColor:"white"}),!B&&n.jsx(_c,{onClick:()=>{l({message:"Ваш аккаунт будет удален из базы обучния. Продолжить?",onConfirm:()=>{r(),it.closeConfirm()}})},text:"Сбросить все (для теста)",background:C.red.main,textColor:"white"})]})]})},_c=u(S).withConfig({componentId:"sc-1fx8h7l-0"})(["margin:8px;"]),AN=to(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),DN=u(F0).withConfig({componentId:"sc-1fx8h7l-1"})(["animation:"," 1s infinite linear;"],AN),mm="/login",NN="/forgot-password",xm="/medical-certificate",ON="/vaccination",ki="/all",Xr="/home",Zr="/profile",Rn="/chat",qi=Rn+"/:chatId",el="/electronic-interaction-agreement",Yi="/payments",Mn="/schedule",vm="/all-students",LN="/all-students/:filter",hs="/all-teachers",zN="/all-teachers/:filter",tl="/feedback",bm="/cant-access",ym="/memo-freshmen",wm="/get-your-login",jm="/memo-teacher",Je="/configurations",nl=Je+"/:id",RN=Je+"/settings-appearance",MN=Je+"/settings-personal",FN=Je+"/settings-home-page",$N=Je+"/settings-customize-menu",BN=Je+"/settings-notifications",HN=Je+"/settings-tutorial",UN="/instructions",_m="/project-activity",WN="/softskills",km="/alerts",Cm="/lk-notifications",Sm="/helpful-information",GN="/safety-information",ci=Mn+"/:page/:filter",Im=Mn+"/current",VN=Mn+"/semestr",qN=Mn+"/session",YN=Mn+"/retake",QN=Sm+"/:infoType",JN=el+"/:type",Tm=el+"/personal",KN=el+"/third-party";var XN=(e=>(e.GENERAL="Основное",e.FINANCES_DOCS="Кадровая среда",e.LEARNING_ACTIVITIES="Учебная деятельность",e.OTHER="Находится в разработке",e.COMMUNICATION="Коммуникация",e.SCIENCE="Научная деятельность",e))(XN||{});const ZN=[{id:0,title:"",icon:"",path:mm,Component:s5},{id:1,title:"",icon:"",path:NN,Component:c5},{id:2,title:"Обратная связь",icon:n.jsx(Si,{}),path:tl,Component:Hg},{id:3,title:"Не получается войти в Личный кабинет",icon:n.jsx(wn,{}),path:bm,Component:r5},{id:4,title:"Узнать свой логин ЕУЗ",icon:"",path:wm,Component:y5},{id:5,title:"Вниманию студентов 1 курса!",icon:"",path:ym,Component:w5},{id:6,title:"Вниманию сотрудников!",icon:"",path:jm,Component:j5}],Em={all:{id:"all",title:"Все разделы",icon:n.jsx(B0,{}),path:ki,Component:o5,color:"lightGreen",isTemplate:!1,show:!1,group:"GENERAL",withoutBackButton:!0,pageSize:"big"},doclist:{id:"doclist",title:"Ознакомление с документами",icon:n.jsx(F,{}),path:Ar,Component:b5,color:"blue",isTemplate:!1,group:"FINANCES_DOCS"},alerts:{id:"alerts",title:"Новости",icon:n.jsx(Gc,{}),path:km,Component:d5,color:"purple",isTemplate:!1,group:"COMMUNICATION",keywords:["Оповещения"]},home:{id:"home",title:"Главная",icon:n.jsx(id,{}),path:Xr,Component:p5,color:"blue",isTemplate:!1,group:"GENERAL",keywords:["домой"],withoutHeader:!0},settings:{id:"settings",title:"Настройки",icon:n.jsx(Fa,{}),path:Je,Component:bD,color:"lightGreen",isTemplate:!0,show:!0,group:"GENERAL"},profile:{id:"profile",title:"Профиль",icon:n.jsx(qc,{}),path:Zr,Component:f5,color:"purple",isTemplate:!1,group:"GENERAL",withoutHeader:!0},"lk-notifications":{id:"lk-notifications",title:"Уведомления",icon:n.jsx(no,{}),path:Cm,Component:_5,color:"orange",isTemplate:!1,group:"GENERAL",keywords:["Оповещения"]},"electronic-interaction-agreement":{id:"electronic-interaction-agreement",title:"Соглашение об электронном взаимодействии",shortTitle:"Соглашение об электр...",icon:n.jsx(Vc,{}),path:JN,Component:l5,color:"blue",isTemplate:!1,group:"GENERAL",pageSize:"small",menuPath:Tm},chat:{id:"chat",title:"Сообщения",icon:n.jsx(hl,{}),path:Rn,Component:jc,color:"red",group:"COMMUNICATION",keywords:["чат","сообщения","написать"],pageSize:"big",isTemplate:!1,planeHeader:!1,hiddenTitle:!0},"specific-chat":{id:"specific-chat",title:"Сообщения",icon:n.jsx(hl,{}),path:qi,Component:jc,color:"red",pageSize:"big",isTemplate:!1,planeHeader:!1,hiddenTitle:!0,group:"COMMUNICATION",isSubPage:!0,show:!1},schedule:{id:"schedule",title:"Расписание",icon:n.jsx(sn,{}),path:Mn,menuPath:Im,Component:Ug,color:"pink",isTemplate:!0,show:!0,group:"LEARNING_ACTIVITIES",pageSize:"large"},"all-students":{id:"all-students",title:"Студенты",icon:n.jsx(Un,{}),path:vm,Component:Bg,color:"lightBlue",isTemplate:!1,group:"COMMUNICATION",keywords:["одногруппники","ученики"]},feedback:{id:"feedback",title:"Обратная связь",icon:n.jsx(Si,{}),path:tl,Component:Hg,color:"blue",isTemplate:!1,group:"COMMUNICATION"},instructions:{id:"instructions",title:"Полезная информация",icon:n.jsx(H0,{}),path:UN,Component:u5,color:"blue",isTemplate:!1,group:"GENERAL",show:!1},vaccination:{id:"vaccination",title:"Вакцинация",icon:n.jsx(Wc,{}),path:ON,Component:()=>(me.useEffect(()=>{window.location.replace("https://e.mospolytech.ru/old/index.php?p=vaccination")},[]),null),color:"blue",isTemplate:!1,group:"GENERAL",keywords:["медицинская","справка","грипп","dfrwbyfwbz"],isOldLkPage:!0,show:!B},"safety-information":{id:"safety-information",title:"Безопасность",icon:n.jsx(Uc,{}),path:GN,Component:h5,color:"red",isTemplate:!0,group:"GENERAL"},"technical-maintenance":{id:"technical-maintenance",hiddenTitle:!0,title:"КСУТО",icon:n.jsx(F,{}),color:"blue",path:Dr,Component:k5,isTemplate:!1,group:"GENERAL",isSubPage:!0}},eO={"schedule-current":{id:"schedule-current",title:"Текущее расписание",shortTitle:"Текущее",icon:n.jsx(sn,{}),path:Im,Component:g5,color:"pink",isTemplate:!1,show:!1,group:"OTHER",pageSize:"large"},"schedule-semestr":{id:"schedule-semestr",title:"Расписание на семестр",shortTitle:"Семестр",icon:n.jsx(Ha,{}),path:VN,Component:m5,color:"orange",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"},"schedule-session":{id:"schedule-session",title:"Расписание сессии",shortTitle:"Сессия",icon:n.jsx(Kc,{}),path:qN,Component:x5,color:"red",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"},"schedule-retake":{id:"schedule-retake",title:"Пересдачи",icon:n.jsx(Zs,{}),path:YN,Component:v5,color:"red",isTemplate:!1,show:!0,group:"OTHER",pageSize:"large"}},Pm=k(k({"schedule-filter":{id:"schedule-filter",title:"Расписание",icon:n.jsx(sn,{}),path:ci,Component:Ug,color:"pink",isTemplate:!1,show:!1,group:"OTHER",pageSize:"large"}},eO),{},{"filtered-all-students":{id:"filtered-all-students",title:"Все студенты",icon:n.jsx(Un,{}),path:LN,Component:Bg,color:"blue",isTemplate:!1,show:!1,group:"OTHER"},"filtered-all-teachers":{id:"filtered-all-teachers",title:"Все сотрудники",icon:n.jsx(Un,{}),path:zN,Component:a5,color:"blue",isTemplate:!1,show:!1,group:"OTHER"},"settings-appearance":{id:"settings-appearance",title:"Настройки. Внешний вид",icon:n.jsx(U0,{}),path:RN,Component:pD,color:"purple",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Внешний вид",fallbackPrevPage:Je,backButtonText:"Настройки"},"settings-personal":{id:"settings-personal",title:"Настройки. Аккаунт",icon:n.jsx(W0,{}),path:MN,Component:dD,color:"pink",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Аккаунт",fallbackPrevPage:Je,backButtonText:"Настройки"},"settings-home-page":{id:"settings-home-page",title:"Настройки. Главная страница",icon:n.jsx(id,{}),path:FN,Component:E5,color:"blue",isTemplate:!0,show:!0,group:"OTHER",isSubPage:!0,subPageHeaderTitle:"Главная страница",fallbackPrevPage:Je,backButtonText:"Настройки"},"settings-customize-menu":{id:"settings-customize-menu",title:"Настройки. Меню",icon:n.jsx(G0,{}),path:$N,Component:P5,color:"red",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Меню",fallbackPrevPage:Je,backButtonText:"Настройки"},"settings-notifications":{id:"settings-notifications",title:"Настройки. Уведомления",icon:n.jsx(no,{}),path:BN,Component:D5,color:"orange",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Уведомления",fallbackPrevPage:Je,backButtonText:"Настройки"},"settings-tutorial":{id:"settings-tutorial",title:"Настройки. Обучение",icon:n.jsx(Jc,{}),path:HN,Component:PN,color:"green",isTemplate:!0,show:!0,isSubPage:!0,subPageHeaderTitle:"Обучение",fallbackPrevPage:Je,backButtonText:"Настройки"},"useful-info-template":{id:"useful-info-template",title:"Полезная информация",icon:"",path:QN,Component:jr,color:"grey",isTemplate:!0,show:!1}}),Am=I({name:"load",sid:"-j15bef"}),il=Xs({and:{effect:e=>P(void 0,null,function*(){var t,i;let{currentUser:s}=e;const{data:o}=yield mb((t=s==null?void 0:s.guid)!==null&&t!==void 0?t:"");return k(k({},o.data),{},{id:(i=s==null?void 0:s.guid)!==null&&i!==void 0?i:""})}),source:se.user},or:{name:"loadFx",sid:"-eig4dk"}}),tO=Nc(il,null,{name:"$peTeacher",sid:"-re5m8w"});y({and:[{clock:Am,target:il}],or:{sid:"1dijsf"}});const nO=il.pending,iO={load:Am},V3={peTeacher:tO,isLoading:nO},Dm=I({name:"loadDivisions",sid:"geqed"}),Nm=J(Fv,{name:"loadDivisionsFx",sid:"r8zouz"});y({and:[{clock:Dm,target:Nm}],or:{sid:"-bth0w0"}});const Om=M([],{name:"$hrDivisions",sid:"ity2yg"}),q3=Oe({and:[Om,e=>e.map(t=>t.divisionName)],or:{name:"$hrDivisionsSuggestions",sid:"-kfuh61"}});y({and:[{clock:Nm.doneData,target:Om}],or:{sid:"-d0844n"}});function Lm(e){const{pathname:t}=tn();d.useEffect(()=>{e==null||e.scrollTo(0,0)},[t])}const sO=()=>{const{allRoutes:e}=_t.useMenu();return e?n.jsxs(so,{children:[Object.values(e).map(t=>{let{path:i,Component:s,isTemplate:o}=t;return n.jsx(Ti,{path:i,component:s,exact:!o},i)}),n.jsx(Ft,{exact:!0,to:Xr})]}):null},oO=me.memo(sO),aO=u.div.withConfig({componentId:"sc-1onvp4g-0"})(["height:fit-content;opacity:",";visibility:",";transform:",";position:absolute;width:220px;left:",";top:",";background:var(--block);border-radius:var(--brLight);box-shadow:var(--very-mild-shadow);transition:0.2s transform,0.2s opacity,0.2s visibility;z-index:4;padding:8px;color:var(--text);@media (max-width:500px){width:calc(100vw - 20px);left:50%;transform:",";bottom:10px;top:auto;padding:16px;}"],e=>{let{isVisible:t}=e;return t?1:0},e=>{let{isVisible:t}=e;return t?"visible":"hidden"},e=>{let{isVisible:t}=e;return t?"translateY(0)":"translateY(20px)"},e=>{let{left:t}=e;return t+"px"},e=>{let{top:t}=e;return t+"px"},e=>{let{isVisible:t}=e;return t?"translateY(0) translateX(-50%)":"translateY(20px) translateX(-50%)"}),rO=()=>{const{open:e,content:t,position:i}=Ny.useContextMenu(),s=d.useRef(null);return ni(s,()=>Ke.close()),n.jsx(Bo,{isOpen:e,children:n.jsx(aO,{isVisible:e,ref:s,left:i.x,top:i.y,onClick:o=>{o.stopPropagation()},children:t})})},zm=200,lO=5e3,cO=()=>{const{visibleNotifications:e}=rn.useLkNotifications(),[t,i]=d.useState(null),s=d.useRef(),o=a=>(s.current=void 0,()=>{i(a),setTimeout(()=>{Jn.clearVisibleById(a)},zm)});return d.useEffect(()=>{var a,r,l;e.length&&s.current===void 0&&(s.current=setTimeout(o((a=e[0])==null?void 0:a.id),(l=(r=e[0])==null?void 0:r.duration)!=null?l:lO))},[e]),{handleClose:o,closing:t}},dO=u.div.withConfig({componentId:"sc-bpx6y2-0"})(["position:absolute;width:320px;max-width:500px;bottom:10px;right:10px;z-index:100;display:flex;flex-direction:column-reverse;padding:10px;padding-top:0;@media (max-width:1000px){width:90%;flex-direction:column;left:50%;transform:translateX(-50%);top:10px;bottom:auto;}"]),pO=u.div.withConfig({componentId:"sc-bpx6y2-1"})(["border-radius:var(--brLight);background:var(--block);color:var(--text);display:flex;flex-direction:column;justify-content:center;box-shadow:0 0 50px #00000521;transition:0.2s;animation:"," ","s forwards;@keyframes open{0%{padding:0px;height:0px;margin-top:0px;opacity:0;transform:scale(0.9);}100%{padding:8px;height:65px;margin-top:8px;opacity:1;transform:scale(1);}}@keyframes close{0%{height:65px;padding:8px;opacity:1;margin-top:8px;transform:scale(1);}100%{height:0px;opacity:0;padding:0px;margin-top:0px;transform:scale(0.9);}}"],({open:e})=>e?"open":"close",zm/1e3);u.div.withConfig({componentId:"sc-bpx6y2-2"})(["height:4px;border-radius:3px;background:",";animation:",";@keyframes decrease{0%{width:100%;}100%{width:0%;}}"],C.blue.main,({started:e,duration:t})=>e&&`decrease ${t/1e3}s linear forwards`);const uO=()=>{const{visibleNotifications:e}=rn.useLkNotifications(),{closing:t,handleClose:i}=cO();return n.jsx(dO,{children:e.map(s=>n.jsx(pO,{onClick:()=>{var o;i(s.id)(),(o=s.onClick)===null||o===void 0||o.call(s)},open:t!==s.id,children:n.jsx(Vf,k(k({},s),{},{fullText:!1,maxLetters:19,closeAnimation:!1,onClose:()=>{var o;i(s.id)(),(o=s.onClose)===null||o===void 0||o.call(s)}}))},s.id))})},kc=u.div.withConfig({componentId:"sc-13zg4xi-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;background:",";z-index:100;display:flex;justify-content:center;align-items:center;animation:",";animation-delay:0.8s;background-size:100% 10000%;flex-direction:column;.loading-circle{width:40px;height:40px;bottom:40px;position:absolute;opacity:0.7;}@keyframes logo{0%{transform:translateY(0px);opacity:1;}30%{transform:translateY(5px);opacity:1;}100%{opacity:0;transform:translateY(-10px);}}@keyframes load_finished{0%{background-size:10% 100%;opacity:0;visibility:hidden;}50%{background-size:10% 1000%;opacity:1;visibility:visible;}100%{background-size:100% 10000%;opacity:1;visibility:visible;}}img{animation:",";animation-delay:",";width:100px;}"],e=>{let{color:t}=e;return"linear-gradient(360deg, ".concat(t," 50%, var(--theme))")},e=>{let{$loading:t}=e;return!t&&"load_finished 1.2s forwards ease-in-out reverse"},e=>{let{$loading:t}=e;return!t&&"logo 0.7s forwards ease-in-out"},e=>{let{$loading:t}=e;return t?"0s":"1s"}),hO=e=>{let{loading:t}=e;const{data:{user:i},error:s}=Pe.useUser(),o=i?mt(i==null?void 0:i.fullName):C.blue.main,a=()=>{var l;return wb.getUserFx(JSON.parse((l=localStorage.getItem(ie.Token))!==null&&l!==void 0?l:""))},r=()=>fe.logout();return s?n.jsx(kc,{$loading:!0,color:o,children:n.jsx(ke,{text:s,children:n.jsxs(N,{d:"column",gap:"8px",children:[n.jsx(S,{onClick:a,text:"Попробовать снова",icon:n.jsx(Zs,{}),width:"200px"}),n.jsx(S,{onClick:r,textColor:"var(--theme-mild-opposite)",text:"Выйти",width:"200px",background:"var(--theme)"})]})})}):n.jsxs(kc,{color:o,$loading:t,children:[n.jsx(po,{short:!0,width:"100px"}),t&&n.jsx(kt,{})]})},fO=u.div.withConfig({componentId:"sc-7gkguq-0"})(["width:100%;height:5px;background:var(--almostTransparentOpposite);border-radius:10px;overflow:hidden;.inner-line{height:5px;transition:0.2s;width:",";background:var(--reallyBlue);animation:",";animation-play-state:",";@keyframes filling{0%{width:0%;}100%{width:100%;}}}"],({filled:e})=>e!=null?e:"0%",({playing:e})=>e!==null&&"10s filling linear forwards",({playing:e})=>e?"running":"paused"),gO=({filled:e,playing:t,isLast:i,onClose:s})=>{const{currentPage:o}=qr.useStory();return n.jsx(fO,{filled:e,playing:t,children:n.jsx("div",{className:"inner-line",onAnimationEnd:()=>i?s():un.changeCurrentPage({value:o+1})})})},mO=u(lo).withConfig({componentId:"sc-vzuuz1-0"})(["position:absolute;top:30px;left:0;padding:0px 30px;z-index:2;svg{min-width:20px;height:20px;}"]),xO=({playing:e,pages:t,onClose:i})=>{const{currentPage:s}=qr.useStory();return n.jsxs(mO,{height:"10px",verticalAlign:"center",direction:"horizontal",width:"100%",children:[Array(t).fill(0).map((o,a)=>n.jsx(gO,{onClose:i,isLast:a+1===t,playing:s===a?e:null,filled:s>a?100:s===a?void 0:0},a)),e?n.jsx(q0,{}):n.jsx(V0,{}),n.jsx(S,{minWidth:"25px",width:"25px",height:"25px",icon:n.jsx(Ut,{}),onClick:i})]})},vO=e=>`translate(${e.horizontal==="center"?"-50%":"0px"}, ${e.vertical==="center"?"-50%":"0px"})})`,bO=u(Gt).withConfig({componentId:"sc-11839ai-0"})(["overflow:hidden;position:relative;background:",";display:flex;justify-content:",";align-items:center;user-select:none;@media (max-width:700px){border-radius:0px;}"],({background:e})=>e,({imageAlign:e})=>(e==null?void 0:e.horizontal)==="left"?"flex-start":(e==null?void 0:e.horizontal)==="right"?"flex-end":"center"),yO=u.div.withConfig({componentId:"sc-11839ai-1"})(["width:80%;height:fit-content;position:absolute;left:",";right:",";bottom:",";top:",";display:flex;flex-direction:column;gap:7px;color:",";transform:",";text-align:",";"],({align:e})=>e.horizontal==="left"?"30px":e.horizontal==="center"?"50%":"auto",({align:e})=>e.horizontal==="right"?"30px":e.horizontal==="center"?"50%":"auto",({align:e})=>e.vertical==="bottom"?"30px":e.vertical==="center"?"50%":"auto",({align:e})=>e.vertical==="top"?"30px":e.vertical==="center"?"50%":"auto",({color:e})=>e!=null?e:"var(--text)",({align:e})=>vO(e),({textAlign:e})=>e!=null?e:"left"),wO=({background:e,align:t,image:i,color:s,title:o,text:a,children:r,setPlaying:l,link:c,imageAlign:p,imageSize:f={width:"auto",height:"100%"},textAlign:g="left"})=>{const h=ut();return n.jsxs(bO,{imageAlign:p,onClick:()=>l(m=>!m),background:e,align:t,padding:"0",height:"100%",color:s,children:[i&&n.jsx(Xa,{src:i,loading:!1,width:f.width,height:f.height}),n.jsxs(yO,{imageAlign:p,onClick:()=>l(m=>!m),background:e,align:t,color:s,children:[n.jsx($,{size:2,align:g,children:o}),n.jsx(pe,{fontSize:"1.1em",align:g,children:a}),!!(c!=null&&c.text)&&n.jsx(S,{onClick:()=>{h.push(c.to),un.close()},text:c.text}),r&&n.jsx("div",{className:"content-children",children:r})]})]})},jO=u.div.withConfig({componentId:"sc-tnji4s-0"})(["padding:15px;width:100%;max-width:400px;height:100%;max-height:750px;transition:0.2s;transform:scale(",");opacity:",";visibility:",";position:relative;display:flex;@media (max-width:700px){padding:0;}"],e=>{let{isOpen:t}=e;return t?1:.95},e=>{let{isOpen:t}=e;return t?"1":"0"},e=>{let{isOpen:t}=e;return t?"visible":"hidden"}),Cc=u.div.withConfig({componentId:"sc-tnji4s-1"})(["position:absolute;top:50px;left:",";right:",";height:calc(100% - 65px);display:flex;justify-content:center;align-items:center;width:25%;z-index:3;opacity:0;svg{width:30px;height:30px;color:var(--text);background:var(--almostTransparentOpposite);border-radius:var(--brLight);}@media (min-width:1001px){&:hover{opacity:1;background:",";}}@media (max-width:1000px){left:",";right:",";&:active{opacity:1;background:",";}}"],e=>{let{left:t}=e;return t!=null?t:"auto"},e=>{let{right:t}=e;return t!=null?t:"auto"},e=>{let{left:t}=e;return t?"linear-gradient(90deg, var(--almostTransparentOpposite), transparent)":"linear-gradient(90deg, transparent, var(--almostTransparentOpposite))"},e=>{let{left:t}=e;return"calc(".concat(t," - 15px)")},e=>{let{right:t}=e;return"calc(".concat(t," - 15px)")},e=>{let{left:t}=e;return t?"linear-gradient(90deg, var(--almostTransparentOpposite), transparent)":"linear-gradient(90deg, transparent, var(--almostTransparentOpposite))"}),_O=()=>{const{pages:e,isOpen:t,currentPage:i}=qr.useStory(),s=d.useRef(null);ni(s,()=>un.close());const[o,a]=d.useState(!0),r=e[i];return e.length===0?null:n.jsx(Bo,{isOpen:t,children:n.jsx(jO,{isOpen:t,ref:s,children:e.length!==0&&n.jsxs(n.Fragment,{children:[n.jsx(xO,{pages:e.length,onClose:()=>un.close(),playing:o}),n.jsx(Cc,{left:"15px",onClick:()=>{i!==0&&un.changeCurrentPage({value:i-1}),a(!0)},children:n.jsx(ei,{})}),n.jsx(wO,k({setPlaying:a,currentPage:i},r)),n.jsx(Cc,{right:"15px",onClick:()=>{i!==e.length-1?un.changeCurrentPage({value:i+1}):un.close(),a(!0)},children:n.jsx(Pt,{})})]})})})},kO=()=>{const{data:{user:e}}=Pe.useUser(),{notifications:t,loading:i,loaded:s}=rn.useLkNotifications(),o=H(ve.userSettings),[a]=H([kp.$electronicInteractionStore]),r=o==null?void 0:o.notifications;d.useEffect(()=>{ha.getElectronicInteraction(),a&&!a.status&&Jn.add(Hr("electronic-interaction","electronic-interaction"))},[a==null?void 0:a.status]),d.useEffect(()=>{a||ha.getElectronicInteraction()},[a]),d.useEffect(()=>{e&&r&&Object.values(r).some(Boolean)&&!s&&!i&&(Rf(r,[{id:"schedule",type:"schedule",title:"Скоро пара!",text:"Осталось меньше 15 мин."}]).length,Jn.initialize({settings:r}))},[e,r,i,s]),d.useEffect(()=>{Ht.changeNotifications({page:"lk-notifications",notifications:t.length})},[t])},CO=()=>{const{data:{user:e}}=Pe.useUser(),[t,i]=H([Me.heroVisited,Me.tutorialState]),[s,o]=d.useState(!1),a=r=>{const l=localStorage.getItem("lastLocalAccess")||r,c=new Date(nv);new Date(r)<c&&new Date(l)<c&&(t||i)&&(localStorage.setItem("lastLocalAccess",new Date().toISOString()),o(!0))};return d.useEffect(()=>{e&&a(e.lastaccess)},[e]),s},SO=()=>{const e=Tp(),{open:t}=K(),i=CO();return kO(),d.useEffect(()=>{i&&i&&t(n.jsx(Ig,{}),"Что нового")},[i]),{currentPage:e}},IO=u.div.withConfig({componentId:"sc-5qiuwq-0"})(["display:flex;width:100%;max-height:100%;flex:1;z-index:3;background:var(--theme);overflow:hidden;position:relative;@media (max-width:1000px){font-size:0.9em;}"]),TO=u.div.withConfig({componentId:"sc-5qiuwq-1"})(["position:relative;overflow-x:hidden;overflow-y:scroll;scrollbar-gutter:stable;padding-top:",";width:100%;flex:1;@media (max-width:1000px){margin-bottom:var(--mobile-bottom-menu-height);}"],e=>{let{withHeader:t}=e;return t?"var(--header-height)":"0"}),EO="/assets/tutorial-picture-652f946f.jpg",PO=u.div.withConfig({componentId:"sc-12ow9dl-0"})(["position:fixed;width:100%;height:100%;z-index:5;background-color:rgba(0,0,0,0.4);display:flex;justify-content:center;align-items:end;padding:8px;@media (min-width:1000px){justify-content:center;align-items:center;}"]),AO=u.div.withConfig({componentId:"sc-12ow9dl-1"})(["display:flex;flex-direction:column;gap:20px;@media (min-width:1000px){width:60ch;max-width:600px;padding:40px 40px 40px 60px;}"]),DO=u.div.withConfig({componentId:"sc-12ow9dl-2"})(["min-width:100%;position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:15px;backdrop-filter:blur(6.8px);background:rgba(95,109,236,0.7);padding:16px;@media (min-width:1000px){padding:0;bottom:auto;min-width:0;max-width:90%;flex-direction:row;}animation:"," 150ms ease-in forwards;"],({deleted:e})=>e?br:""),NO=u.h2.withConfig({componentId:"sc-12ow9dl-3"})(["margin-top:32px;margin-bottom:16px;color:#f4f4f4;font-size:20px;font-weight:600;line-height:normal;@media (min-width:1000px){margin-bottom:40px;}"]),Fn=u.p.withConfig({componentId:"sc-12ow9dl-4"})(["font-weight:600;font-size:16px;line-height:139%;color:#f4f4f4;margin-bottom:20px;"]),OO=u.div.withConfig({componentId:"sc-12ow9dl-5"})(["margin:auto 0 0 0;display:flex;justify-content:space-between;"]),LO=()=>{const[e,t]=d.useState(!1),[i,s,o,a]=H([Me.heroVisited,Me.tutorialState,Ie.tutorialEnabled,Ie.setHeroVisited]),{data:{user:r}}=Pe.useUser(),{isMobile:l,isTablet:c}=He();return s!==null||i&&!e?null:n.jsx(PO,{onMouseUp:()=>a(!0),children:n.jsxs(DO,{onMouseUp:p=>p.stopPropagation(),deleted:e,children:[n.jsx(zO,{src:EO}),n.jsxs(AO,{children:[(r==null?void 0:r.user_status)==="staff"?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{children:"В Личном кабинете есть обучение, которое знакомит с основными разделами и рассказывает о возможностях Личного кабинета."}),n.jsx(Fn,{children:"Следить за прогрессом прохождения можно в настройках Личного кабинета. Также в настройках можно напрямую запусить обучение по разделу."}),!l&&!c&&n.jsx(Fn,{children:"Связь со студентами и сотрудниками, доступ к корпоративным контактным данным, цифровые сервисы - все в одном месте."})]}):n.jsxs(n.Fragment,{children:[n.jsx(NO,{children:"Привет!"}),n.jsx(Fn,{children:"В Личном кабинете есть обучение. Пройдя его, ты познакомишься с основными разделами и возможностями Личного кабинета, которые сделают твое обучение удобнее."}),n.jsx(Fn,{children:"Следить за прогрессом прохождения можно в настройках Личного кабинета. Также в настройках можно напрямую запустить обучение по разделу."}),!l&&!c&&n.jsx(Fn,{children:"Отслеживай расписание, заказывай справки, проводи оплаты, общайся с сотрудниками, преподавателями и студентами - все в одном месте."})]}),n.jsxs(OO,{children:[n.jsx(S,{padding:"16px 24px",background:"none",height:"52px",fontSize:"16px",textColor:"#B5BDFF",hoverTextColor:"#9EA8F8",text:"Отказаться",onClick:()=>{o(!1),a(!0),t(!0),setTimeout(()=>{t(!1)},150)}}),n.jsx(S,{padding:"16px 36px",text:"Поехали!",fontSize:"16px",height:"52px",background:C.blue.light1,hoverBackground:"#6E7AE0",textColor:"white",onClick:()=>{o(!0),a(!0),t(!0),setTimeout(()=>{t(!1)},150)}})]})]})]})})},zO=u.img.withConfig({componentId:"sc-10jbk67-0"})(["object-fit:cover;aspect-ratio:1;position:absolute;width:72px;border-radius:50%;right:24px;top:24px;background-size:20%;@media (min-width:1000px){scale:1;position:relative;width:50%;max-width:500px;border-radius:0;height:auto;top:0;right:0;}"]),RO=Ze(WP),MO=()=>{const{data:{user:e}}=Pe.useUser(),t=d.useRef(null),{allRoutes:i}=_t.useMenu(),{currentPage:s}=SO(),[o,a]=d.useState(!1),r=l=>{a(l.currentTarget.scrollTop>0)};return Lm(t.current),n.jsxs(n.Fragment,{children:[n.jsx(hO,{loading:!e||!i}),n.jsx(_O,{}),n.jsx(RO,{}),n.jsxs(IO,{children:[n.jsx(TP,{headerVisible:(s==null?void 0:s.hiddenTitle)||o,currentPage:s}),n.jsx(TO,{ref:t,onScroll:r,withHeader:!(s!=null&&s.withoutHeader),children:n.jsx(Nd,{children:n.jsx(d.Suspense,{fallback:null,children:n.jsx(oO,{})})})}),n.jsx(yA,{})]}),n.jsx(KP,{}),n.jsx(VP,{}),n.jsx(ZP,{}),n.jsx(rO,{}),n.jsx(IA,{}),n.jsx(LO,{}),n.jsx(uO,{})]})},FO=me.memo(MO),$O=()=>{const e=zp(JSON.stringify(Al));Ie.setRoles([]);const t=localStorage.getItem(Va);return e!==Number(t)?Ie.initialized([...Al]):Ie.getTutorialData()},BO=()=>{const t=tn().pathname,[i,s,o,a]=H([Me.tutorials,Me.currentModule,Ie.setCurrentTutorial,Ie.resetStep]);d.useEffect(()=>{if(i){const r=Object.values(i).find(l=>l.path===t);if(!r){o(null);return}(s==null?void 0:s.id)!==r.id&&(o(r.id),a())}},[i,t])},HO=()=>{const{data:{isAuthenticated:e,user:t}}=Pe.useUser();return Lm(window),d.useEffect(()=>{window.location.href==="https://e.mospolytech.ru/?p=children#/home"&&window.location.replace("https://e.mospolytech.ru/old/index.php?p=children")},[window.location.href]),d.useEffect(()=>{e&&($t.getUserDataApplicationsFx(),t!=null&&t.guid&&$O(),(t==null?void 0:t.user_status)==="staff"&&(Ct.effects.getFx(),$t.getWorkerPosts(),Ao.getSubdivisions(),Ye.appStarted(),Dm()),iO.load())},[e,t]),BO(),e?n.jsx(FO,{}):n.jsx(d.Suspense,{fallback:null,children:n.jsxs(so,{children:[ZN.map((i,s)=>{let{path:o,Component:a}=i;return n.jsx(Ti,{path:o,component:a,exact:!0},s)}),n.jsx(Ft,{exact:!0,to:mm})]})})},UO=()=>(d.useEffect(()=>{sd()},[]),n.jsx(ey,{children:n.jsx(Y0,{basename:"/",children:n.jsx(Nd,{children:n.jsx(HO,{})})})}));Dc.render(n.jsxs(me.StrictMode,{children:[n.jsx(b2,{}),n.jsx(UO,{})]}),document.getElementById("root"));export{oe as $,X1 as A,ar as B,Jl as C,a3 as D,ee as E,er as F,N as G,_e as H,dn as I,ST as J,pn as K,C as L,ce as M,ii as N,j_ as O,Dt as P,fb as Q,r3 as R,yt as S,li as T,QO as U,kt as V,at as W,pe as X,it as Y,V3 as Z,ri as _,d3 as a,h1 as a$,Co as a0,cy as a1,ke as a2,S3 as a3,I3 as a4,KO as a5,XO as a6,e3 as a7,ZO as a8,n3 as a9,Ar as aA,Js as aB,v3 as aC,Ze as aD,W3 as aE,Pp as aF,Gt as aG,Ta as aH,Be as aI,nP as aJ,_t as aK,QN as aL,eP as aM,Sm as aN,G3 as aO,Zl as aP,cn as aQ,Hs as aR,lT as aS,Xr as aT,od as aU,d1 as aV,Qv as aW,Wt as aX,l1 as aY,wI as aZ,P3 as a_,t3 as aa,c3 as ab,l3 as ac,JO as ad,o3 as ae,s3 as af,Se as ag,p3 as ah,Pe as ai,or as aj,CP as ak,Q1 as al,y3 as am,k as an,Cn as ao,Jn as ap,Dp as aq,Ye as ar,ve as as,N3 as at,E3 as au,T3 as av,Fe as aw,Da as ax,us as ay,Ho as az,se as b,A3 as b$,F1 as b0,ir as b1,$e as b2,ti as b3,on as b4,w3 as b5,q3 as b6,$y as b7,Sl as b8,sS as b9,kp as bA,m3 as bB,Ge as bC,xt as bD,$D as bE,mt as bF,Me as bG,Ie as bH,bA as bI,H3 as bJ,M3 as bK,eA as bL,ng as bM,Vr as bN,U3 as bO,B_ as bP,km as bQ,PE as bR,Nt as bS,Re as bT,wg as bU,ua as bV,B3 as bW,RP as bX,bP as bY,q as bZ,ta as b_,HS as ba,k3 as bb,US as bc,j3 as bd,vS as be,_3 as bf,Sr as bg,JS as bh,Om as bi,C3 as bj,Op as bk,be as bl,kh as bm,Yi as bn,XN as bo,x3 as bp,fo as bq,Kf as br,Mw as bs,Ca as bt,vc as bu,Ot as bv,ha as bw,g3 as bx,He as by,el as bz,nt as c,Sy as c$,Nu as c0,L3 as c1,z3 as c2,R3 as c3,Lt as c4,O3 as c5,D3 as c6,Je as c7,EE as c8,Wf as c9,_g as cA,F2 as cB,Sg as cC,S2 as cD,n2 as cE,lA as cF,nA as cG,sg as cH,dg as cI,Kp as cJ,$i as cK,H2 as cL,Np as cM,wb as cN,rn as cO,BN as cP,FE as cQ,h3 as cR,My as cS,u3 as cT,VO as cU,qO as cV,Ys as cW,x2 as cX,ds as cY,ne as cZ,Xa as c_,MN as ca,fe as cb,eh as cc,Zu as cd,R5 as ce,B5 as cf,Do as cg,TA as ch,gd as ci,eO as cj,YN as ck,qN as cl,VN as cm,rg as cn,$3 as co,cs as cp,ci as cq,Ga as cr,F3 as cs,P2 as ct,Im as cu,A2 as cv,D2 as cw,ug as cx,hn as cy,$2 as cz,Y as d,b3 as d0,Z1 as d1,xs as d2,q1 as d3,Y1 as d4,V1 as d5,G1 as d6,_j as d7,nE as d8,zr as d9,tE as da,$v as db,A1 as dc,f3 as dd,J1 as de,qt as df,$t as e,Ss as f,re as g,$ as h,wt as i,go as j,B as k,he as l,i3 as m,YO as n,yl as o,Ne as p,S as q,Vt as r,st as s,Er as t,K as u,mn as v,aa as w,sr as x,We as y,iO as z};
