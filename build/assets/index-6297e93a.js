import{s as m,r as P,j as e,W as N,X as O,cx as B,d3 as k,cw as H,Y as I,bu as q,cv as U,bv as $}from"./vendor-33947725.js";import{R as W,Q as z,K as _,ai as A,_ as R,bA as L,J as w,M as K,h as T,T as S,c3 as G,c4 as J,c5 as Q,c6 as Y,c7 as V,c8 as X,c9 as Z,ca as E,cb as ee,cc as se,cd as te,aq as ie,bH as ne,a0 as ae,ce as re,cf as oe,q as y,H as p,cg as b,ch as ce,ci as le,N as de,cj as xe,ck as he,aJ as ue,a2 as pe,W as ge,cl as je}from"./index-958ef795.js";const ve=s=>s==="Male"?"Мужской":"Женский",C=P.memo(fe),me=m.div.withConfig({componentId:"sc-p4s4cd-0"})(["width:100%;"]);function fe({user:s}){const{status:t,sex:n,birthday:r,code:a,faculty:g,course:j,group:c,specialty:o,specialization:h,degreeLength:v,educationForm:f,finance:l,degreeLevel:M,enterYear:D,subdivisions:d,authorIDs:x}=s,F=[{key:"Статус",value:t},{key:"Пол",value:ve(n)},{key:"Дата рождения",value:r},{key:"Код студента",value:a},{key:"Факультет",value:g},{key:"Курс",value:j},{key:"Группа",value:c},{key:"Направление",value:o},{key:"Специализация",value:h},{key:"Срок обучения",value:v},{key:"Форма обучения",value:f},{key:"Вид финансирования",value:l},{key:"Сведения о трудоустройстве",value:!!(d!=null&&d.length)&&(d==null?void 0:d.map((i,u)=>e.jsxs(N.Fragment,{children:[e.jsxs("div",{style:{width:"100%",marginTop:"5px",lineHeight:"1.8rem"},children:[i.subdivision&&e.jsxs("div",{children:["Подразделение: ",i.subdivision]}),i.post&&e.jsxs("div",{children:["Должность: ",i.post]}),i.wage&&i.jobType&&e.jsxs("div",{children:["Ставка: ",i.wage,"; ",i.jobType]})]}),u<d.length-1&&e.jsx(W,{margin:"16px 0",width:"100%"})]},u)))},{key:"Уровень образования",value:M},{key:"Год набора",value:D},{key:"Авторские идентификаторы",value:!!x&&e.jsxs("div",{style:{width:"100%",marginTop:"5px",lineHeight:"1.8rem"},children:[x.wosReasearcher&&e.jsxs("div",{children:["Web of Science Researcher ID: ",x.wosReasearcher]}),x.scopus&&e.jsxs("div",{children:["Scopus Author ID: ",x.scopus]}),x.eLibrary&&e.jsxs("div",{children:["eLibrary Author ID: ",x.eLibrary]})]})}];return e.jsx(me,{children:F.map(({key:i,value:u})=>!!u&&e.jsx(z,{keyStr:i,value:u,direction:typeof u=="object"?"vertical":"horizontal"},i))})}const ye=m.div.withConfig({componentId:"sc-guqxj3-0"})(["display:flex;flex-direction:column;gap:16px;"]),be=m.div.withConfig({componentId:"sc-guqxj3-1"})([""]),ke=({orders:s})=>e.jsxs(ye,{children:[!(s!=null&&s.length)&&e.jsx(_,{children:"Нет приказов"}),s==null?void 0:s.map(t=>e.jsx(be,{children:t},t))]}),Ie=P.memo(ke),we=({pages:s,currentPage:t})=>{const{data:{user:n}}=A.useUser();return n?e.jsx(R,{padding:"0 0 10px 0",children:e.jsx(L,{height:"100%",noAppearanceInMobile:!0,maxWidth:"750px",children:s[t]})}):null},Te=({user:s})=>{var t;const n=O();return e.jsxs(w,{d:"column",gap:"1rem",children:[e.jsx(K,{type:"info",children:"Корпоративную электронную почту и внутренний телефон можно изменить, отправив запрос в техническую поддержку."}),(t=s.subdivisions)===null||t===void 0?void 0:t.map((r,a)=>e.jsxs(w,{d:"column",gap:"8px",ai:"flex-start",children:[e.jsx(T,{align:"left",size:3,children:r.subdivision}),e.jsx(T,{align:"left",size:4,children:r.post}),e.jsx(S,{title:"Корпоративная электронная почта",icon:e.jsx(B,{}),description:s==null?void 0:s.email_staff,rightIcon:e.jsx(k,{}),onClick:()=>n.push(G)}),e.jsx(S,{title:"Внутренний телефон",icon:e.jsx(H,{}),description:r.phone_inner,rightIcon:e.jsx(k,{}),onClick:()=>n.push(J)}),e.jsx(Q,{}),e.jsx(Y,{subDivisionGuidStaff:r.guid_staff}),a<s.subdivisions.length-1&&e.jsx(W,{margin:"16px 0",width:"100%"})]},a))]})},Se=({pages:s,user:t,currentPage:n,setCurrentPage:r})=>{const{fullName:a,avatar:g,user_status:j,degreeLevel:c}=t,o=j==="stud"?"Студент":"Сотрудник",h=()=>{de.evokeConfirm({message:"Вы точно хотите выйти из аккаунта?",onConfirm:xe.logout})};return e.jsxs(V,{children:[e.jsx(X,{fullName:a,width:"calc(100% + 32px)",height:"210px",baseScale:1.5}),e.jsxs(Z,{children:[e.jsxs(E,{maxWidth:"530px",height:"180px",orientation:"vertical",children:[e.jsx(ee,{children:e.jsx(se,{name:a,avatar:g,width:"110px",height:"110px",marginRight:"0",border:!0,avatarModal:!0})}),e.jsxs(te,{children:[e.jsxs(ie,{children:[e.jsx("b",{children:a}),e.jsx(_,{maxWidth:"100%",width:"100%",align:"center",fontSize:"0.9rem",children:e.jsx(ne,{words:[o,c!=null?c:""]})})]}),e.jsx(ae,{sliderWidth:"100%",pages:s,currentPage:n,setCurrentPage:r,appearance:!1})]})]}),e.jsx(E,{maxWidth:"250px",height:"fit-content",children:e.jsxs(re,{children:[e.jsx(I,{to:oe,children:e.jsx(y,{background:p.white.transparent2,icon:e.jsx(b,{width:"30px",background:p.grey.main,children:e.jsx(q,{})}),width:"100%",height:"73px",text:"Настройки",direction:"vertical",shrinkTextInMobile:!0})}),e.jsx(ce,{type:"v-button"}),e.jsx(I,{to:le,children:e.jsx(y,{background:p.white.transparent2,icon:e.jsx(b,{width:"30px",background:p.purple.main,children:e.jsx(U,{})}),text:"Изменить",width:"100%",height:"73px",direction:"vertical",shrinkTextInMobile:!0})}),e.jsx(y,{background:p.white.transparent2,icon:e.jsx(b,{width:"30px",background:p.red.main,children:e.jsx($,{})}),text:"Выйти",height:"73px",onClick:h,width:"calc(50% - 5px)",direction:"vertical",shrinkTextInMobile:!0})]})})]})]})},Ee=m.div.withConfig({componentId:"sc-1aqajbb-0"})(["display:flex;flex-direction:column;gap:12px;width:100%;align-items:center;"]),Oe=()=>{const{data:{user:s},error:t}=A.useUser(),n=O(),a=he().get("page"),{allRoutes:g}=ue.useMenu();if(!s||!g)return null;if(t)return e.jsx(pe,{text:t});const j=[{title:"Учетная карточка",content:e.jsx(C,{user:s}),id:"userCard"},{title:"Приказы",content:e.jsx(Ie,{orders:s.orders}),id:"orders"}],c=[{title:"Учетная карточка",content:e.jsx(C,{user:s}),id:"userCard"},{title:"Контактные данные",content:e.jsx(Te,{user:s}),id:"contactDetails"}],o=s.user_status==="stud"?j:c,h=o.findIndex(l=>l.id===a)||0,v=h===-1?0:h,f=l=>{n.push({search:`?page=${o[l].id}`})};return e.jsx(ge,{load:function(){},loading:!1,data:[],error:null,children:e.jsxs(Ee,{children:[e.jsx(Se,{user:s,currentPage:v,setCurrentPage:f,pages:o}),e.jsx(R,{children:e.jsx(L,{height:"100%",maxWidth:"750px",children:e.jsx(je,{})})}),e.jsx(we,{currentPage:v,pages:o.map(l=>l.content)})]})})};export{Oe as default};
